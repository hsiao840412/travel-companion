(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Vd={exports:{}},_l={};var z_;function Db(){if(z_)return _l;z_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var B_;function Ob(){return B_||(B_=1,Vd.exports=Db()),Vd.exports}var S=Ob(),kd={exports:{}},wt={};var q_;function Mb(){if(q_)return wt;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function lt(O,Y,st){this.props=O,this.context=Y,this.refs=J,this.updater=st||W}lt.prototype.isReactComponent={},lt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},lt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function dt(){}dt.prototype=lt.prototype;function ut(O,Y,st){this.props=O,this.context=Y,this.refs=J,this.updater=st||W}var ht=ut.prototype=new dt;ht.constructor=ut,$(ht,lt.prototype),ht.isPureReactComponent=!0;var Ht=Array.isArray;function Nt(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,Y,st){var rt=st.ref;return{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:st}}function V(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var R=/\/+/g;function $t(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Nt,Nt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,st,rt,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Dt=!1;if(O===null)Dt=!0;else switch(bt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(O.$$typeof){case s:case t:Dt=!0;break;case T:return Dt=O._init,H(Dt(O._payload),Y,st,rt,_t)}}if(Dt)return _t=_t(O),Dt=rt===""?"."+$t(O,0):rt,Ht(_t)?(st="",Dt!=null&&(st=Dt.replace(R,"$&/")+"/"),H(_t,Y,st,"",function(gt){return gt})):_t!=null&&(D(_t)&&(_t=V(_t,st+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Dt)),Y.push(_t)),1;Dt=0;var tt=rt===""?".":rt+":";if(Ht(O))for(var it=0;it<O.length;it++)rt=O[it],bt=tt+$t(rt,it),Dt+=H(rt,Y,st,bt,_t);else if(it=F(O),typeof it=="function")for(O=it.call(O),it=0;!(rt=O.next()).done;)rt=rt.value,bt=tt+$t(rt,it++),Dt+=H(rt,Y,st,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return H(pe(O),Y,st,rt,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function nt(O,Y,st){if(O==null)return O;var rt=[],_t=0;return H(O,rt,"","",function(bt){return Y.call(st,bt,_t++)}),rt}function mt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Yt={map:nt,forEach:function(O,Y,st){nt(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=A,wt.Children=Yt,wt.Component=lt,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=ut,wt.StrictMode=r,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=$({},O.props),_t=O.key;if(Y!=null)for(bt in Y.key!==void 0&&(_t=""+Y.key),Y)!w.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(rt[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)rt.children=st;else if(1<bt){for(var Dt=Array(bt),tt=0;tt<bt;tt++)Dt[tt]=arguments[tt+2];rt.children=Dt}return C(O.type,_t,rt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,Y,st){var rt,_t={},bt=null;if(Y!=null)for(rt in Y.key!==void 0&&(bt=""+Y.key),Y)w.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=Y[rt]);var Dt=arguments.length-2;if(Dt===1)_t.children=st;else if(1<Dt){for(var tt=Array(Dt),it=0;it<Dt;it++)tt[it]=arguments[it+2];_t.children=tt}if(O&&O.defaultProps)for(rt in Dt=O.defaultProps,Dt)_t[rt]===void 0&&(_t[rt]=Dt[rt]);return C(O,bt,_t)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:p,render:O}},wt.isValidElement=D,wt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:mt}},wt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},wt.startTransition=function(O){var Y=x.T,st={};x.T=st;try{var rt=O(),_t=x.S;_t!==null&&_t(st,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Nt,zt)}catch(bt){zt(bt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),x.T=Y}},wt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},wt.use=function(O){return x.H.use(O)},wt.useActionState=function(O,Y,st){return x.H.useActionState(O,Y,st)},wt.useCallback=function(O,Y){return x.H.useCallback(O,Y)},wt.useContext=function(O){return x.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},wt.useEffect=function(O,Y){return x.H.useEffect(O,Y)},wt.useEffectEvent=function(O){return x.H.useEffectEvent(O)},wt.useId=function(){return x.H.useId()},wt.useImperativeHandle=function(O,Y,st){return x.H.useImperativeHandle(O,Y,st)},wt.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},wt.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},wt.useMemo=function(O,Y){return x.H.useMemo(O,Y)},wt.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},wt.useReducer=function(O,Y,st){return x.H.useReducer(O,Y,st)},wt.useRef=function(O){return x.H.useRef(O)},wt.useState=function(O){return x.H.useState(O)},wt.useSyncExternalStore=function(O,Y,st){return x.H.useSyncExternalStore(O,Y,st)},wt.useTransition=function(){return x.H.useTransition()},wt.version="19.2.0",wt}var H_;function Rm(){return H_||(H_=1,kd.exports=Mb()),kd.exports}var St=Rm(),Ld={exports:{}},vl={},Pd={exports:{}},Ud={};var F_;function Vb(){return F_||(F_=1,(function(s){function t(H,nt){var mt=H.length;H.push(nt);t:for(;0<mt;){var zt=mt-1>>>1,Yt=H[zt];if(0<l(Yt,nt))H[zt]=nt,H[mt]=Yt,mt=zt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],mt=H.pop();if(mt!==nt){H[0]=mt;t:for(var zt=0,Yt=H.length,O=Yt>>>1;zt<O;){var Y=2*(zt+1)-1,st=H[Y],rt=Y+1,_t=H[rt];if(0>l(st,mt))rt<Yt&&0>l(_t,st)?(H[zt]=_t,H[rt]=mt,zt=rt):(H[zt]=st,H[Y]=mt,zt=Y);else if(rt<Yt&&0>l(_t,mt))H[zt]=_t,H[rt]=mt,zt=rt;else break t}}return nt}function l(H,nt){var mt=H.sortIndex-nt.sortIndex;return mt!==0?mt:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,A=null,M=3,F=!1,W=!1,$=!1,J=!1,lt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function ht(H){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=H)r(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function Ht(H){if($=!1,ht(H),!W)if(i(_)!==null)W=!0,Nt||(Nt=!0,k());else{var nt=i(y);nt!==null&&pe(Ht,nt.startTime-H)}}var Nt=!1,x=-1,w=5,C=-1;function V(){return J?!0:!(s.unstable_now()-C<w)}function D(){if(J=!1,Nt){var H=s.unstable_now();C=H;var nt=!0;try{t:{W=!1,$&&($=!1,dt(x),x=-1),F=!0;var mt=M;try{e:{for(ht(H),A=i(_);A!==null&&!(A.expirationTime>H&&V());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,M=A.priorityLevel;var Yt=zt(A.expirationTime<=H);if(H=s.unstable_now(),typeof Yt=="function"){A.callback=Yt,ht(H),nt=!0;break e}A===i(_)&&r(_),ht(H)}else r(_);A=i(_)}if(A!==null)nt=!0;else{var O=i(y);O!==null&&pe(Ht,O.startTime-H),nt=!1}}break t}finally{A=null,M=mt,F=!1}nt=void 0}}finally{nt?k():Nt=!1}}}var k;if(typeof ut=="function")k=function(){ut(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$t=R.port2;R.port1.onmessage=D,k=function(){$t.postMessage(null)}}else k=function(){lt(D,0)};function pe(H,nt){x=lt(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var mt=M;M=nt;try{return H()}finally{M=mt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=M;M=H;try{return nt()}finally{M=mt}},s.unstable_scheduleCallback=function(H,nt,mt){var zt=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,H){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=mt+Yt,H={id:T++,callback:nt,priorityLevel:H,startTime:mt,expirationTime:Yt,sortIndex:-1},mt>zt?(H.sortIndex=mt,t(y,H),i(_)===null&&H===i(y)&&($?(dt(x),x=-1):$=!0,pe(Ht,mt-zt))):(H.sortIndex=Yt,t(_,H),W||F||(W=!0,Nt||(Nt=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var nt=M;return function(){var mt=M;M=nt;try{return H.apply(this,arguments)}finally{M=mt}}}})(Ud)),Ud}var G_;function kb(){return G_||(G_=1,Pd.exports=Vb()),Pd.exports}var jd={exports:{}},Je={};var Y_;function Lb(){if(Y_)return Je;Y_=1;var s=Rm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Je.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Je.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},Je.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Je.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Je.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):T==="script"&&r.d.X(_,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Je.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Je.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Je.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Je.requestFormReset=function(_){r.d.r(_)},Je.unstable_batchedUpdates=function(_,y){return _(y)},Je.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Je.useFormStatus=function(){return d.H.useHostTransitionStatus()},Je.version="19.2.0",Je}var Q_;function Pb(){if(Q_)return jd.exports;Q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jd.exports=Lb(),jd.exports}var K_;function Ub(){if(K_)return vl;K_=1;var s=kb(),t=Rm(),i=Pb();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),Ht=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case lt:return"Profiler";case J:return"StrictMode";case Ht:return"Suspense";case Nt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ut:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:$t(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return $t(e(n))}catch{}}return null}var pe=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],Yt=-1;function O(e){return{current:e}}function Y(e){0>Yt||(e.current=zt[Yt],zt[Yt]=null,Yt--)}function st(e,n){Yt++,zt[Yt]=e.current,e.current=n}var rt=O(null),_t=O(null),bt=O(null),Dt=O(null);function tt(e,n){switch(st(bt,n),st(_t,e),st(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?u_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=u_(n),e=c_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),st(rt,e)}function it(){Y(rt),Y(_t),Y(bt)}function gt(e){e.memoizedState!==null&&st(Dt,e);var n=rt.current,a=c_(n,e.type);n!==a&&(st(_t,e),st(rt,a))}function ue(e){_t.current===e&&(Y(rt),Y(_t)),Dt.current===e&&(Y(Dt),ml._currentValue=mt)}var Ze,ln;function _n(e){if(Ze===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ze=n&&n[1]||"",ln=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+e+ln}var dr=!1;function Li(e,n){if(!e||dr)return"";dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{dr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_n(a):""}function hs(e,n){switch(e.tag){case 26:case 27:case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return e.child!==n&&n!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return Li(e.type,!1);case 11:return Li(e.type.render,!1);case 1:return Li(e.type,!0);case 31:return _n("Activity");default:return""}}function Pi(e){try{var n="",a=null;do n+=hs(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,kh=s.unstable_shouldYield,eu=s.unstable_requestPaint,rn=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,_o=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Lh=s.unstable_LowPriority,nu=s.unstable_IdlePriority,iu=s.log,su=s.unstable_setDisableYieldValue,Hn=null,qe=null;function xn(e){if(typeof iu=="function"&&su(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Hn,e)}catch{}}var ge=Math.clz32?Math.clz32:au,ru=Math.log,na=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/na|0)|0}var ai=256,pr=262144,be=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(g&=E,g!==0?h=oi(g):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):g!==0?h=oi(g):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ui(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(a=g&~a;0<a;){var G=31-ge(a),K=1<<G;E[G]=0,I[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&yr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function yr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function vo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Eo(e,n){var a=n&-n;return a=(a&42)!==0?1:_r(a),(a&(e.suspendedLanes|n))!==0?0:a}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:M_(e.type))}function Gn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Yn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Yn,Pe="__reactProps$"+Yn,ci="__reactContainer$"+Yn,ia="__reactEvents$"+Yn,jh="__reactListeners$"+Yn,uu="__reactHandles$"+Yn,cu="__reactResources$"+Yn,hi="__reactMarker$"+Yn;function sa(e){delete e[Se],delete e[Pe],delete e[ia],delete e[jh],delete e[uu]}function fi(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ci]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=y_(e);e!==null;){if(a=e[Se])return a;e=y_(e)}return n}e=a,a=e.parentNode}return null}function Nn(e){if(e=e[Se]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function di(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[hi]=!0}var To=new Set,bo={};function mi(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},wo={};function hu(e){return Te.call(wo,e)?!0:Te.call(Ao,e)?!1:So.test(e)?wo[e]=!0:(Ao[e]=!0,!1)}function ra(e,n,a){if(hu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function En(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function we(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ms(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function un(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Ue(n)):a!=null?Co(e,g,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function fu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function Co(e,n,a){n==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ps(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function gs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(pe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Zt(e)}function cn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||mu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function xo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var No=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,yi=null;function Tr(e){var n=Nn(e);if(n&&(e=n.stateNode)){var a=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(r(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&vr(o)}break t;case"textarea":du(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ps(e,!!a.multiple,n,!1)}}}var ua=!1;function vs(e,n,a){if(ua)return e(n,a);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(_s!==null||yi!==null)&&(lc(),_s&&(n=_s,e=yi,yi=_s=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function Kn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Pe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(On)try{var te={};Object.defineProperty(te,"passive",{get:function(){br=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{br=!1}var _i=null,Do=null,Sr=null;function Oo(){if(Sr)return Sr;var e,n=Do,a=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function Ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function Xn(){return!1}function He(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ji:Xn,this.isPropagationStopped=Xn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=He(zi),Es=A({},zi,{view:0,detail:0}),Mo=He(Es),Ts,ca,Ei,ha=A({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Ts=e.screenX-Ei.screenX,ca=e.screenY-Ei.screenY):ca=Ts=0,Ei=e),Ts)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),Vo=He(ha),wr=A({},ha,{dataTransfer:0}),gu=He(wr),yu=A({},Es,{relatedTarget:0}),Rr=He(yu),ko=A({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=He(ko),fa=A({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=He(fa),Eu=A({},zi,{data:0}),Ti=He(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function bs(){return Au}var an=A({},Es,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=He(an),Ru=A({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=He(Ru),u=A({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=He(u),v=A({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(v),P=A({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=He(P),et=A({},zi,{newState:0,oldState:0}),Ct=He(et),ye=[9,13,27,32],Qt=On&&"CompositionEvent"in window,ce=null;On&&"documentMode"in document&&(ce=document.documentMode);var Mn=On&&"TextEvent"in window&&!ce,bi=On&&(!Qt||ce&&8<ce&&11>=ce),$n=" ",Zn=!1;function Cr(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function eT(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:(Zn=!0,$n);case"textInput":return e=n.data,e===$n&&Zn?null:e;default:return null}}function nT(e,n){if(ma)return e==="compositionend"||!Qt&&Cr(e,n)?(e=Oo(),Sr=Do=_i=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var iT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!iT[e.type]:n==="textarea"}function Tp(e,n,a,o){_s?yi?yi.push(o):yi=[o]:_s=o,n=pc(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Lo=null,Po=null;function sT(e){i_(e,0)}function Cu(e){var n=vn(e);if(vr(n))return e}function bp(e,n){if(e==="change")return n}var Sp=!1;if(On){var zh;if(On){var Bh="oninput"in document;if(!Bh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Bh=typeof Ap.oninput=="function"}zh=Bh}else zh=!1;Sp=zh&&(!document.documentMode||9<document.documentMode)}function wp(){Lo&&(Lo.detachEvent("onpropertychange",Rp),Po=Lo=null)}function Rp(e){if(e.propertyName==="value"&&Cu(Po)){var n=[];Tp(n,Po,e,Dn(e)),vs(sT,n)}}function rT(e,n,a){e==="focusin"?(wp(),Lo=n,Po=a,Lo.attachEvent("onpropertychange",Rp)):e==="focusout"&&wp()}function aT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Po)}function oT(e,n){if(e==="click")return Cu(n)}function lT(e,n){if(e==="input"||e==="change")return Cu(n)}function uT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:uT;function Uo(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function Cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ip(e,n){var a=Cp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cp(a)}}function xp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=gi(e.document)}return n}function qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var cT=On&&"documentMode"in document&&11>=document.documentMode,pa=null,Hh=null,jo=null,Fh=!1;function Dp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||pa==null||pa!==gi(o)||(o=pa,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&Uo(jo,o)||(jo=o,o=pc(Hh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function Ir(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Gh={},Op={};On&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function xr(e){if(Gh[e])return Gh[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Op)return Gh[e]=n[a];return e}var Mp=xr("animationend"),Vp=xr("animationiteration"),kp=xr("animationstart"),hT=xr("transitionrun"),fT=xr("transitionstart"),dT=xr("transitioncancel"),Lp=xr("transitionend"),Pp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Jn(e,n){Pp.set(e,n),mi(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],ya=0,Qh=0;function xu(){for(var e=ya,n=Qh=ya=0;n<e;){var a=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Up(a,h,f)}}function Nu(e,n,a,o){Vn[ya++]=e,Vn[ya++]=n,Vn[ya++]=a,Vn[ya++]=o,Qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,a,o){return Nu(e,n,a,o),Du(e)}function Nr(e,n){return Nu(e,null,null,n),Du(e)}function Up(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Du(e){if(50<ol)throw ol=0,sd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function mT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,a,o){return new mT(e,n,a,o)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var a=e.alternate;return a===null?(a=bn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Xh(e)&&(g=1);else if(typeof e=="string")g=vb(e,a,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=bn(31,a,n,h),e.elementType=C,e.lanes=f,e;case $:return Dr(a.children,h,f,n);case J:g=8,h|=24;break;case lt:return e=bn(12,a,n,h|2),e.elementType=lt,e.lanes=f,e;case Ht:return e=bn(13,a,n,h),e.elementType=Ht,e.lanes=f,e;case Nt:return e=bn(19,a,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:g=10;break t;case dt:g=9;break t;case ht:g=11;break t;case x:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=bn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Dr(e,n,a,o){return e=bn(7,e,o,n),e.lanes=a,e}function $h(e,n,a){return e=bn(6,e,null,n),e.lanes=a,e}function zp(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,a){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bp=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var a=Bp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Pi(n)},Bp.set(e,n),n)}return{value:e,source:n,stack:Pi(n)}}var va=[],Ea=0,Mu=null,zo=0,Ln=[],Pn=0,Ss=null,Si=1,Ai="";function Hi(e,n){va[Ea++]=zo,va[Ea++]=Mu,Mu=e,zo=n}function qp(e,n,a){Ln[Pn++]=Si,Ln[Pn++]=Ai,Ln[Pn++]=Ss,Ss=e;var o=Si;e=Ai;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var f=32-ge(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Si=1<<32-ge(n)+h|a<<h|o,Ai=f+e}else Si=1<<f|a<<h|o,Ai=e}function Jh(e){e.return!==null&&(Hi(e,1),qp(e,1,0))}function Wh(e){for(;e===Mu;)Mu=va[--Ea],va[Ea]=null,zo=va[--Ea],va[Ea]=null;for(;e===Ss;)Ss=Ln[--Pn],Ln[Pn]=null,Ai=Ln[--Pn],Ln[Pn]=null,Si=Ln[--Pn],Ln[Pn]=null}function Hp(e,n){Ln[Pn++]=Si,Ln[Pn++]=Ai,Ln[Pn++]=Ss,Si=n.id,Ai=n.overflow,Ss=e}var Fe=null,re=null,Bt=!1,As=null,Un=!1,tf=Error(r(519));function ws(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(kn(n,e)),tf}function Fp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Se]=e,n[Pe]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<ul.length;a++)Vt(ul[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),gs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||o_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||ws(e,!0)}function Gp(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Fe=Fe.return}}function Ta(e){if(e!==Fe)return!1;if(!Bt)return Gp(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vd(e.type,e.memoizedProps)),a=!a),a&&re&&ws(e),Gp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));re=g_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));re=g_(e)}else n===27?(n=re,js(e.type)?(e=Ad,Ad=null,re=e):re=n):re=Fe?zn(e.stateNode.nextSibling):null;return!0}function Or(){re=Fe=null,Bt=!1}function ef(){var e=As;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),As=null),e}function Bo(e){As===null?As=[e]:As.push(e)}var nf=O(null),Mr=null,Fi=null;function Rs(e,n,a){st(nf,n._currentValue),n._currentValue=a}function Gi(e){e._currentValue=nf.current,Y(nf)}function sf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function rf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sf(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),sf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ba(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Dt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&rf(n,e,a,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Yp(Mr,e)}function ku(e,n){return Mr===null&&Vr(e),Yp(e,n)}function Yp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(r(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return a}var pT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},gT=s.unstable_scheduleCallback,yT=s.unstable_NormalPriority,Re={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new pT,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&gT(yT,function(){e.controller.abort()})}var Ho=null,of=0,Sa=0,Aa=null;function _T(e,n){if(Ho===null){var a=Ho=[];of=0,Sa=cd(),Aa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return of++,n.then(Qp,Qp),n}function Qp(){if(--of===0&&Ho!==null){Aa!==null&&(Aa.status="fulfilled");var e=Ho;Ho=null,Sa=0,Aa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function vT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Kp=H.S;H.S=function(e,n){Dy=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_T(e,n),Kp!==null&&Kp(e,n)};var kr=O(null);function lf(){var e=kr.current;return e!==null?e:se.pooledCache}function Lu(e,n){n===null?st(kr,kr.current):st(kr,n.pool)}function Xp(){var e=lf();return e===null?null:{parent:Re._currentValue,pool:e}}var wa=Error(r(460)),uf=Error(r(474)),Pu=Error(r(542)),Uu={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Qn,Qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e}throw Pr=n,wa}}function Lr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pr=a,wa):a}}var Pr=null;function Jp(){if(Pr===null)throw Error(r(459));var e=Pr;return Pr=null,e}function Wp(e){if(e===wa||e===Pu)throw Error(r(483))}var Ra=null,Fo=0;function ju(e){var n=Fo;return Fo+=1,Ra===null&&(Ra=[]),Zp(Ra,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tg(e){function n(L,N){if(e){var U=L.deletions;U===null?(L.deletions=[N],L.flags|=16):U.push(N)}}function a(L,N){if(!e)return null;for(;N!==null;)n(L,N),N=N.sibling;return null}function o(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=qi(L,N),L.index=0,L.sibling=null,L}function f(L,N,U){return L.index=U,e?(U=L.alternate,U!==null?(U=U.index,U<N?(L.flags|=67108866,N):U):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,N,U,Q){return N===null||N.tag!==6?(N=$h(U,L.mode,Q),N.return=L,N):(N=h(N,U),N.return=L,N)}function I(L,N,U,Q){var pt=U.type;return pt===$?G(L,N,U.props.children,Q,U.key):N!==null&&(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Lr(pt)===N.type)?(N=h(N,U.props),Go(N,U),N.return=L,N):(N=Ou(U.type,U.key,U.props,null,L.mode,Q),Go(N,U),N.return=L,N)}function j(L,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Zh(U,L.mode,Q),N.return=L,N):(N=h(N,U.children||[]),N.return=L,N)}function G(L,N,U,Q,pt){return N===null||N.tag!==7?(N=Dr(U,L.mode,Q,pt),N.return=L,N):(N=h(N,U),N.return=L,N)}function K(L,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$h(""+N,L.mode,U),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return U=Ou(N.type,N.key,N.props,null,L.mode,U),Go(U,N),U.return=L,U;case W:return N=Zh(N,L.mode,U),N.return=L,N;case w:return N=Lr(N),K(L,N,U)}if(pe(N)||k(N))return N=Dr(N,L.mode,U,null),N.return=L,N;if(typeof N.then=="function")return K(L,ju(N),U);if(N.$$typeof===ut)return K(L,ku(L,N),U);zu(L,N)}return null}function z(L,N,U,Q){var pt=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pt!==null?null:E(L,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===pt?I(L,N,U,Q):null;case W:return U.key===pt?j(L,N,U,Q):null;case w:return U=Lr(U),z(L,N,U,Q)}if(pe(U)||k(U))return pt!==null?null:G(L,N,U,Q,null);if(typeof U.then=="function")return z(L,N,ju(U),Q);if(U.$$typeof===ut)return z(L,N,ku(L,U),Q);zu(L,U)}return null}function q(L,N,U,Q,pt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(U)||null,E(N,L,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return L=L.get(Q.key===null?U:Q.key)||null,I(N,L,Q,pt);case W:return L=L.get(Q.key===null?U:Q.key)||null,j(N,L,Q,pt);case w:return Q=Lr(Q),q(L,N,U,Q,pt)}if(pe(Q)||k(Q))return L=L.get(U)||null,G(N,L,Q,pt,null);if(typeof Q.then=="function")return q(L,N,U,ju(Q),pt);if(Q.$$typeof===ut)return q(L,N,U,ku(N,Q),pt);zu(N,Q)}return null}function ot(L,N,U,Q){for(var pt=null,Ft=null,ct=N,xt=N=0,Lt=null;ct!==null&&xt<U.length;xt++){ct.index>xt?(Lt=ct,ct=null):Lt=ct.sibling;var Gt=z(L,ct,U[xt],Q);if(Gt===null){ct===null&&(ct=Lt);break}e&&ct&&Gt.alternate===null&&n(L,ct),N=f(Gt,N,xt),Ft===null?pt=Gt:Ft.sibling=Gt,Ft=Gt,ct=Lt}if(xt===U.length)return a(L,ct),Bt&&Hi(L,xt),pt;if(ct===null){for(;xt<U.length;xt++)ct=K(L,U[xt],Q),ct!==null&&(N=f(ct,N,xt),Ft===null?pt=ct:Ft.sibling=ct,Ft=ct);return Bt&&Hi(L,xt),pt}for(ct=o(ct);xt<U.length;xt++)Lt=q(ct,L,xt,U[xt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ct.delete(Lt.key===null?xt:Lt.key),N=f(Lt,N,xt),Ft===null?pt=Lt:Ft.sibling=Lt,Ft=Lt);return e&&ct.forEach(function(Fs){return n(L,Fs)}),Bt&&Hi(L,xt),pt}function vt(L,N,U,Q){if(U==null)throw Error(r(151));for(var pt=null,Ft=null,ct=N,xt=N=0,Lt=null,Gt=U.next();ct!==null&&!Gt.done;xt++,Gt=U.next()){ct.index>xt?(Lt=ct,ct=null):Lt=ct.sibling;var Fs=z(L,ct,Gt.value,Q);if(Fs===null){ct===null&&(ct=Lt);break}e&&ct&&Fs.alternate===null&&n(L,ct),N=f(Fs,N,xt),Ft===null?pt=Fs:Ft.sibling=Fs,Ft=Fs,ct=Lt}if(Gt.done)return a(L,ct),Bt&&Hi(L,xt),pt;if(ct===null){for(;!Gt.done;xt++,Gt=U.next())Gt=K(L,Gt.value,Q),Gt!==null&&(N=f(Gt,N,xt),Ft===null?pt=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&Hi(L,xt),pt}for(ct=o(ct);!Gt.done;xt++,Gt=U.next())Gt=q(ct,L,xt,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?xt:Gt.key),N=f(Gt,N,xt),Ft===null?pt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ct.forEach(function(Nb){return n(L,Nb)}),Bt&&Hi(L,xt),pt}function ie(L,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:t:{for(var pt=U.key;N!==null;){if(N.key===pt){if(pt=U.type,pt===$){if(N.tag===7){a(L,N.sibling),Q=h(N,U.props.children),Q.return=L,L=Q;break t}}else if(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Lr(pt)===N.type){a(L,N.sibling),Q=h(N,U.props),Go(Q,U),Q.return=L,L=Q;break t}a(L,N);break}else n(L,N);N=N.sibling}U.type===$?(Q=Dr(U.props.children,L.mode,Q,U.key),Q.return=L,L=Q):(Q=Ou(U.type,U.key,U.props,null,L.mode,Q),Go(Q,U),Q.return=L,L=Q)}return g(L);case W:t:{for(pt=U.key;N!==null;){if(N.key===pt)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(L,N.sibling),Q=h(N,U.children||[]),Q.return=L,L=Q;break t}else{a(L,N);break}else n(L,N);N=N.sibling}Q=Zh(U,L.mode,Q),Q.return=L,L=Q}return g(L);case w:return U=Lr(U),ie(L,N,U,Q)}if(pe(U))return ot(L,N,U,Q);if(k(U)){if(pt=k(U),typeof pt!="function")throw Error(r(150));return U=pt.call(U),vt(L,N,U,Q)}if(typeof U.then=="function")return ie(L,N,ju(U),Q);if(U.$$typeof===ut)return ie(L,N,ku(L,U),Q);zu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(L,N.sibling),Q=h(N,U),Q.return=L,L=Q):(a(L,N),Q=$h(U,L.mode,Q),Q.return=L,L=Q),g(L)):a(L,N)}return function(L,N,U,Q){try{Fo=0;var pt=ie(L,N,U,Q);return Ra=null,pt}catch(ct){if(ct===wa||ct===Pu)throw ct;var Ft=bn(29,ct,null,L.mode);return Ft.lanes=Q,Ft.return=L,Ft}finally{}}}var Ur=tg(!0),eg=tg(!1),Cs=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),Up(e,null,a),n}return Nu(e,o,n,a),Du(e)}function Yo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}function ff(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var df=!1;function Qo(){if(df){var e=Aa;if(e!==null)throw e}}function Ko(e,n,a,o){df=!1;var h=e.updateQueue;Cs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,g===null?f=j:g.next=j,g=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,G=j=I=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(kt&z)===z:(o&z)===z){z!==0&&z===Sa&&(df=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,vt=E;z=n;var ie=a;switch(vt.tag){case 1:if(ot=vt.payload,typeof ot=="function"){K=ot.call(ie,K,z);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=vt.payload,z=typeof ot=="function"?ot.call(ie,K,z):ot,z==null)break t;K=A({},K,z);break t;case 2:Cs=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,I=K):G=G.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Vs|=g,e.lanes=g,e.memoizedState=K}}function ng(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function ig(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ng(a[e],n)}var Ca=O(null),Bu=O(0);function sg(e,n){e=ts,st(Bu,e),st(Ca,n),ts=e|n.baseLanes}function mf(){st(Bu,ts),st(Ca,Ca.current)}function pf(){ts=Bu.current,Y(Ca),Y(Bu)}var Sn=O(null),jn=null;function Ns(e){var n=e.alternate;st(_e,_e.current&1),st(Sn,e),jn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(jn=e)}function gf(e){st(_e,_e.current),st(Sn,e),jn===null&&(jn=e)}function rg(e){e.tag===22?(st(_e,_e.current),st(Sn,e),jn===null&&(jn=e)):Ds()}function Ds(){st(_e,_e.current),st(Sn,Sn.current)}function An(e){Y(Sn),jn===e&&(jn=null),Y(_e)}var _e=O(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||Sd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,It=null,ee=null,Ce=null,Hu=!1,Ia=!1,jr=!1,Fu=0,Xo=0,xa=null,ET=0;function de(){throw Error(r(321))}function yf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Tn(e[a],n[a]))return!1;return!0}function _f(e,n,a,o,h,f){return Yi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?qg:Mf,jr=!1,f=a(o,h),jr=!1,Ia&&(f=og(n,a,o,h)),ag(e),f}function ag(e){H.H=Jo;var n=ee!==null&&ee.next!==null;if(Yi=0,Ce=ee=It=null,Hu=!1,Xo=0,xa=null,n)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Vu(e)&&(Ie=!0))}function og(e,n,a,o){It=e;var h=0;do{if(Ia&&(xa=null),Xo=0,Ia=!1,25<=h)throw Error(r(301));if(h+=1,Ce=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Hg,f=n(a,o)}while(Ia);return f}function TT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(It.flags|=1024),n}function vf(){var e=Fu!==0;return Fu=0,e}function Ef(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Tf(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}Yi=0,Ce=ee=It=null,Ia=!1,Xo=Fu=0,xa=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?It.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ve(){if(ee===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ce===null?It.memoizedState:Ce.next;if(n!==null)Ce=n,ee=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ce===null?It.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,xa===null&&(xa=[]),e=Zp(xa,e,n),n=It,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?qg:Mf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===ut)return Ge(e)}throw Error(r(438,String(e)))}function bf(e){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gu(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Qi(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=ve();return Sf(n,ee,e)}function Sf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,j=n,G=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(kt&K)===K:(Yi&K)===K){var z=j.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Sa&&(G=!0);else if((Yi&z)===z){j=j.next,z===Sa&&(G=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=K,g=f):I=I.next=K,It.lanes|=z,Vs|=z;K=j.action,jr&&a(f,K),f=j.hasEagerState?j.eagerState:a(f,K)}else z={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,It.lanes|=K,Vs|=K;j=j.next}while(j!==null&&j!==n);if(I===null?g=f:I.next=E,!Tn(f,e.memoizedState)&&(Ie=!0,G&&(a=Aa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=ve(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function lg(e,n,a){var o=It,h=ve(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Tn((ee||h).memoizedState,a);if(g&&(h.memoizedState=a,Ie=!0),h=h.queue,Cf(hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},cg.bind(null,o,h,a,n),null),se===null)throw Error(r(349));f||(Yi&127)!==0||ug(o,n,a)}return a}function ug(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=Gu(),It.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function cg(e,n,a,o){n.value=a,n.getSnapshot=o,fg(n)&&dg(e)}function hg(e,n,a){return a(function(){fg(n)&&dg(e)})}function fg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Tn(e,a)}catch{return!0}}function dg(e){var n=Nr(e,2);n!==null&&pn(n,e,2)}function wf(e){var n=on();if(typeof e=="function"){var a=e;if(e=a(),jr){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function mg(e,n,a,o){return e.baseState=a,Sf(e,ee,typeof o=="function"?o:Qi)}function bT(e,n,a,o,h){if($u(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,pg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function pg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(h,o),I=H.S;I!==null&&I(g,E),gg(e,n,E)}catch(j){Rf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(h,o),gg(e,n,f)}catch(j){Rf(e,n,j)}}function gg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){yg(e,n,o)},function(o){return Rf(e,n,o)}):yg(e,n,a)}function yg(e,n,a){n.status="fulfilled",n.value=a,_g(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,pg(e,a)))}function Rf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,_g(n),n=n.next;while(n!==o)}e.action=null}function _g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vg(e,n){return n}function Eg(e,n){if(Bt){var a=se.formState;if(a!==null){t:{var o=It;if(Bt){if(re){e:{for(var h=re,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=zn(h.nextSibling),o=h.data==="F!";break t}}ws(o)}o=!1}o&&(n=a[0])}}return a=on(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},a.queue=o,a=jg.bind(null,It,o),o.dispatch=a,o=wf(!1),f=Of.bind(null,It,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=bT.bind(null,It,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Tg(e){var n=ve();return bg(n,ee,e)}function bg(e,n,a){if(n=Sf(e,n,vg)[0],e=Qu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===wa?Pu:g}else o=n;n=ve();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(It.flags|=2048,Na(9,{destroy:void 0},ST.bind(null,h,a),null)),[o,f,e]}function ST(e,n){e.action=n}function Sg(e){var n=ve(),a=ee;if(a!==null)return bg(n,a,e);ve(),n=n.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Na(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Gu(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Ag(){return ve().memoizedState}function Ku(e,n,a,o){var h=on();It.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},a,o===void 0?null:o)}function Xu(e,n,a,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&yf(o,ee.memoizedState.deps)?h.memoizedState=Na(n,f,a,o):(It.flags|=e,h.memoizedState=Na(1|n,f,a,o))}function wg(e,n){Ku(8390656,8,e,n)}function Cf(e,n){Xu(2048,8,e,n)}function AT(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Gu(),It.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Rg(e){var n=ve().memoizedState;return AT({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Cg(e,n){return Xu(4,2,e,n)}function Ig(e,n){return Xu(4,4,e,n)}function xg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ng(e,n,a){a=a!=null?a.concat([e]):null,Xu(4,4,xg.bind(null,n,e),a)}function If(){}function Dg(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Og(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=e(),jr){xn(!0);try{e()}finally{xn(!1)}}return a.memoizedState=[o,n],o}function xf(e,n,a){return a===void 0||(Yi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=My(),It.lanes|=e,Vs|=e,a)}function Mg(e,n,a,o){return Tn(a,n)?a:Ca.current!==null?(e=xf(e,a,o),Tn(e,n)||(Ie=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(kt&261930)===0?(Ie=!0,e.memoizedState=a):(e=My(),It.lanes|=e,Vs|=e,n)}function Vg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Of(e,!1,n,a);try{var I=h(),j=H.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=vT(I,o);Zo(e,n,G,Cn(e))}else Zo(e,n,o,Cn(e))}catch(K){Zo(e,n,{then:function(){},status:"rejected",reason:K},Cn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function wT(){}function Nf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=kg(e).queue;Vg(e,h,n,mt,a===null?wT:function(){return Lg(e),a(o)})}function kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lg(e){var n=kg(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Cn())}function Df(){return Ge(ml)}function Pg(){return ve().memoizedState}function Ug(){return ve().memoizedState}function RT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Cn();e=Is(a);var o=xs(n,e,a);o!==null&&(pn(o,n,a),Yo(o,n,a)),n={cache:af()},e.payload=n;return}n=n.return}}function CT(e,n,a){var o=Cn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(e)?zg(n,a):(a=Kh(e,n,a,o),a!==null&&(pn(a,e,o),Bg(a,n,o)))}function jg(e,n,a){var o=Cn();Zo(e,n,a,o)}function Zo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(e))zg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,g))return Nu(e,n,h,0),se===null&&xu(),!1}catch{}finally{}if(a=Kh(e,n,h,o),a!==null)return pn(a,e,o),Bg(a,n,o),!0}return!1}function Of(e,n,a,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(r(479))}else n=Kh(e,a,o,2),n!==null&&pn(n,e,2)}function $u(e){var n=e.alternate;return e===It||n!==null&&n===It}function zg(e,n){Ia=Hu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Bg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}var Jo={readContext:Ge,use:Yu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Jo.useEffectEvent=de;var qg={readContext:Ge,use:Yu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:wg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,xg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=on();n=n===void 0?null:n;var o=e();if(jr){xn(!0);try{e()}finally{xn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=on();if(a!==void 0){var h=a(n);if(jr){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=CT.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=wf(e);var n=e.queue,a=jg.bind(null,It,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:If,useDeferredValue:function(e,n){var a=on();return xf(a,e,n)},useTransition:function(){var e=wf(!1);return e=Vg.bind(null,It,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=It,h=on();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),se===null)throw Error(r(349));(kt&127)!==0||ug(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,wg(hg.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},cg.bind(null,o,f,a,n),null),a},useId:function(){var e=on(),n=se.identifierPrefix;if(Bt){var a=Ai,o=Si;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Fu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=ET++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Of.bind(null,It,!0,a),a.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return on().memoizedState=RT.bind(null,It)},useEffectEvent:function(e){var n=on(),a={impl:e};return n.memoizedState=a,function(){if((Kt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Mf={readContext:Ge,use:Yu,useCallback:Dg,useContext:Ge,useEffect:Cf,useImperativeHandle:Ng,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Og,useReducer:Qu,useRef:Ag,useState:function(){return Qu(Qi)},useDebugValue:If,useDeferredValue:function(e,n){var a=ve();return Mg(a,ee.memoizedState,e,n)},useTransition:function(){var e=Qu(Qi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:lg,useId:Pg,useHostTransitionStatus:Df,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var a=ve();return mg(a,ee,e,n)},useMemoCache:bf,useCacheRefresh:Ug};Mf.useEffectEvent=Rg;var Hg={readContext:Ge,use:Yu,useCallback:Dg,useContext:Ge,useEffect:Cf,useImperativeHandle:Ng,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Og,useReducer:Af,useRef:Ag,useState:function(){return Af(Qi)},useDebugValue:If,useDeferredValue:function(e,n){var a=ve();return ee===null?xf(a,e,n):Mg(a,ee.memoizedState,e,n)},useTransition:function(){var e=Af(Qi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:lg,useId:Pg,useHostTransitionStatus:Df,useFormState:Sg,useActionState:Sg,useOptimistic:function(e,n){var a=ve();return ee!==null?mg(a,ee,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Ug};Hg.useEffectEvent=Rg;function Vf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var kf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Cn(),h=Is(o);h.payload=n,a!=null&&(h.callback=a),n=xs(e,h,o),n!==null&&(pn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Cn(),h=Is(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=xs(e,h,o),n!==null&&(pn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Cn(),o=Is(a);o.tag=2,n!=null&&(o.callback=n),n=xs(e,o,a),n!==null&&(pn(n,e,a),Yo(n,e,a))}};function Fg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Uo(a,o)||!Uo(h,f):!0}function Gg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&kf.enqueueReplaceState(n,n.state,null)}function zr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Yg(e){Iu(e)}function Qg(e){console.error(e)}function Kg(e){Iu(e)}function Zu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,n)},a}function $g(e){return e=Is(e),e.tag=3,e}function Zg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Xg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Xg(n,a,o),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function IT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?uc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),od(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),od(e,o,h)),!1}throw Error(r(435,a.tag))}return od(e,o,h),uc(),!1}if(Bt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(e=Error(r(422),{cause:o}),Bo(kn(e,a)))):(o!==tf&&(n=Error(r(423),{cause:o}),Bo(kn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,a),h=Lf(e.stateNode,o,h),ff(e,h),me!==4&&(me=2)),!1;var f=Error(r(520),{cause:o});if(f=kn(f,a),al===null?al=[f]:al.push(f),me!==4&&(me=2),n===null)return!0;o=kn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Lf(a.stateNode,o,e),ff(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$g(h),Zg(h,e,a,o),ff(a,h),!1}a=a.return}while(a!==null);return!1}var Pf=Error(r(461)),Ie=!1;function Ye(e,n,a,o){n.child=e===null?eg(n,null,a,o):Ur(n,e.child,a,o)}function Jg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Vr(n),o=_f(e,n,a,g,f,h),E=vf(),e!==null&&!Ie?(Ef(e,n,h),Ki(e,n,h)):(Bt&&E&&Jh(n),n.flags|=1,Ye(e,n,o,h),n.child)}function Wg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ty(e,n,f,o,h)):(e=Ou(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Gf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(g,o)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ty(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Uo(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,Gf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return Uf(e,n,a,o,h)}function ey(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):mf(),rg(n);else return o=n.lanes=536870912,ny(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(n,f.cachePool),sg(n,f),Ds(),n.memoizedState=null):(e!==null&&Lu(n,null),mf(),Ds());return Ye(e,n,h,a),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(e,n,a,o,h){var f=lf();return f=f===null?null:{parent:Re._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Lu(n,null),mf(),rg(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function iy(e,n,a){return Ur(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function xT(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,Wo(null,e);if(gf(n),(e=re)?(e=p_(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=zp(e),a.return=n,n.child=a,Fe=n,re=null)):e=null,e===null)throw ws(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=iy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ie||ba(e,n,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=se,o!==null&&(g=Eo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Nr(e,g),pn(o,e,g),Pf;uc(),n=iy(e,n,a)}else e=f.treeContext,re=zn(g.nextSibling),Fe=n,Bt=!0,As=null,Un=!1,e!==null&&Hp(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Uf(e,n,a,o,h){return Vr(n),a=_f(e,n,a,o,void 0,h),o=vf(),e!==null&&!Ie?(Ef(e,n,h),Ki(e,n,h)):(Bt&&o&&Jh(n),n.flags|=1,Ye(e,n,a,h),n.child)}function sy(e,n,a,o,h,f){return Vr(n),n.updateQueue=null,a=og(n,o,a,h),ag(e),o=vf(),e!==null&&!Ie?(Ef(e,n,f),Ki(e,n,f)):(Bt&&o&&Jh(n),n.flags|=1,Ye(e,n,a,f),n.child)}function ry(e,n,a,o,h){if(Vr(n),n.stateNode===null){var f=_a,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):_a,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Vf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&kf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=zr(a,E);f.props=I;var j=f.context,G=a.contextType;g=_a,typeof G=="object"&&G!==null&&(g=Ge(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Gg(n,f,o,g),Cs=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Qo(),j=n.memoizedState,E||z!==j||Cs?(typeof K=="function"&&(Vf(n,a,K,o),j=n.memoizedState),(I=Cs||Fg(n,a,I,o,z,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(e,n),g=n.memoizedProps,G=zr(a,g),f.props=G,K=n.pendingProps,z=f.context,j=a.contextType,I=_a,typeof j=="object"&&j!==null&&(I=Ge(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==I)&&Gg(n,f,o,I),Cs=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Qo();var q=n.memoizedState;g!==K||z!==q||Cs||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Vf(n,a,E,o),q=n.memoizedState),(G=Cs||Fg(n,a,G,o,z,q,I)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ur(n,e.child,null,h),n.child=Ur(n,null,a,h)):Ye(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Ki(e,n,h),e}function ay(e,n,a,o){return Or(),n.flags|=256,Ye(e,n,a,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Xp()}}function Bf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Rn),e}function oy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Ns(n):Ds(),(e=re)?(e=p_(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=zp(e),a.return=n,n.child=a,Fe=n,re=null)):e=null,e===null)throw ws(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ds(),h=n.mode,E=tc({mode:"hidden",children:E},h),o=Dr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=zf(a),o.childLanes=Bf(e,g,a),n.memoizedState=jf,Wo(null,o)):(Ns(n),qf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Hf(e,n,a)):n.memoizedState!==null?(Ds(),n.child=e.child,n.flags|=128,n=null):(Ds(),E=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),E=Dr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ur(n,e.child,null,a),o=n.child,o.memoizedState=zf(a),o.childLanes=Bf(e,g,a),n.memoizedState=jf,n=Wo(null,o));else if(Ns(n),Sd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(r(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Hf(e,n,a)}else if(Ie||ba(e,n,a,!1),g=(a&e.childLanes)!==0,Ie||g){if(g=se,g!==null&&(o=Eo(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Nr(e,o),pn(g,e,o),Pf;bd(E)||uc(),n=Hf(e,n,a)}else bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,re=zn(E.nextSibling),Fe=n,Bt=!0,As=null,Un=!1,e!==null&&Hp(n,e),n=qf(n,o.children),n.flags|=4096);return n}return h?(Ds(),E=o.fallback,h=n.mode,I=e.child,j=I.sibling,o=qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=qi(j,E):(E=Dr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=zf(a):(h=E.cachePool,h!==null?(I=Re._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Xp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Bf(e,g,a),n.memoizedState=jf,Wo(e.child,o)):(Ns(n),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function qf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function Hf(e,n,a){return Ur(n,e.child,null,a),e=qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ly(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),sf(e.return,n,a)}function Ff(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function uy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=_e.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(_e,g),Ye(e,n,o,a),o=Bt?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,a,n);else if(e.tag===19)ly(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Ff(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ff(n,!0,a,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Vs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ba(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=qi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function NT(e,n,a){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),Rs(n,Re,e.memoizedState.cache),Or();break;case 27:case 5:gt(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ns(n),n.flags|=128,null):(a&n.child.childLanes)!==0?oy(e,n,a):(Ns(n),e=Ki(e,n,a),e!==null?e.sibling:null);Ns(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ba(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return uy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(_e,_e.current),o)break;return null;case 22:return n.lanes=0,ey(e,n,a,n.pendingProps);case 24:Rs(n,Re,e.memoizedState.cache)}return Ki(e,n,a)}function cy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Gf(e,a)&&(n.flags&128)===0)return Ie=!1,NT(e,n,a);Ie=(e.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&qp(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Lr(n.elementType),n.type=e,typeof e=="function")Xh(e)?(o=zr(e,o),n.tag=1,n=ry(null,n,e,o,a)):(n.tag=0,n=Uf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===ht){n.tag=11,n=Jg(null,n,e,o,a);break t}else if(h===x){n.tag=14,n=Wg(null,n,e,o,a);break t}}throw n=$t(e)||e,Error(r(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zr(o,n.pendingProps),ry(e,n,o,h,a);case 3:t:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(e,n),Ko(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Rs(n,Re,o),o!==f.cache&&rf(n,[Re],a,!0),Qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(e,n,o,a);break t}else if(o!==h){h=kn(Error(r(424)),n),Bo(h),n=ay(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=zn(e.firstChild),Fe=n,Bt=!0,As=null,Un=!0,a=eg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Or(),o===h){n=Ki(e,n,a);break t}Ye(e,n,o,a)}n=n.child}return n;case 26:return Wu(e,n),e===null?(a=T_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=gc(bt.current).createElement(a),o[Se]=n,o[Pe]=e,Qe(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=T_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return gt(n),e===null&&Bt&&(o=n.stateNode=__(n.type,n.pendingProps,bt.current),Fe=n,Un=!0,h=re,js(n.type)?(Ad=h,re=zn(o.firstChild)):re=h),Ye(e,n,n.pendingProps.children,a),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=re)&&(o=ab(o,n.type,n.pendingProps,Un),o!==null?(n.stateNode=o,Fe=n,re=zn(o.firstChild),Un=!1,h=!0):h=!1),h||ws(n)),gt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,vd(h,f)?o=null:g!==null&&vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(e,n,TT,null,null,a),ml._currentValue=h),Wu(e,n),Ye(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=re)&&(a=ob(a,n.pendingProps,Un),a!==null?(n.stateNode=a,Fe=n,re=null,e=!0):e=!1),e||ws(n)),null;case 13:return oy(e,n,a);case 4:return tt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ur(n,null,o,a):Ye(e,n,o,a),n.child;case 11:return Jg(e,n,n.type,n.pendingProps,a);case 7:return Ye(e,n,n.pendingProps,a),n.child;case 8:return Ye(e,n,n.pendingProps.children,a),n.child;case 12:return Ye(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Rs(n,n.type,o.value),Ye(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vr(n),h=Ge(h),o=o(h),n.flags|=1,Ye(e,n,o,a),n.child;case 14:return Wg(e,n,n.type,n.pendingProps,a);case 15:return ty(e,n,n.type,n.pendingProps,a);case 19:return uy(e,n,a);case 31:return xT(e,n,a);case 22:return ey(e,n,a,n.pendingProps);case 24:return Vr(n),o=Ge(Re),e===null?(h=lf(),h===null&&(h=se,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},cf(n),Rs(n,Re,h)):((e.lanes&a)!==0&&(hf(e,n),Ko(n,null,null,a),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,Re,o)):(o=f.cache,Rs(n,Re,o),o!==h.cache&&rf(n,[Re],a,!0))),Ye(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Xi(e){e.flags|=4}function Yf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw Pr=Uu,uf}else e.flags&=-16777217}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R_(n))if(Py())e.flags|=8192;else throw Pr=Uu,uf}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,Va|=n)}function tl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function DT(e,n,a){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gi(Re),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(ae(n),hy(n,f)):(ae(n),Yf(n,h,null,o,a))):f?f!==e.memoizedState?(Xi(n),ae(n),hy(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),ae(n),Yf(n,h,e,o,a)),null;case 27:if(ue(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ae(n),null}e=rt.current,Ta(n)?Fp(n):(e=__(h,o,a),n.stateNode=e,Xi(n))}return ae(n),null;case 5:if(ue(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ae(n),null}if(f=rt.current,Ta(n))Fp(n);else{var g=gc(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[Pe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return ae(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||o_(e.nodeValue,a)),e||ws(n,!0)}else e=gc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return ae(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Se]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else a=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),ae(n),null);case 4:return it(),e===null&&md(n.stateNode.containerInfo),ae(n),null;case 10:return Gi(n.type),ae(n),null;case 19:if(Y(_e),o=n.memoizedState,o===null)return ae(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)jp(a,e),a=a.sibling;return st(_e,_e.current&1|2),Bt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&rn()>ac&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Bt)return ae(n),null}else 2*rn()-o.renderingStartTime>ac&&a!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,a=_e.current,st(_e,h?a&1|2:a&1),Bt&&Hi(n,o.treeForkCount),e):(ae(n),null);case 22:case 23:return An(n),pf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(kr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Gi(Re),ae(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function OT(e,n){switch(Wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(Re),it(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ue(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(r(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(_e),null;case 4:return it(),null;case 10:return Gi(n.type),null;case 22:case 23:return An(n),pf(),e!==null&&Y(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(Re),null;case 25:return null;default:return null}}function fy(e,n){switch(Wh(n),n.tag){case 3:Gi(Re),it();break;case 26:case 27:case 5:ue(n);break;case 4:it();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Y(_e);break;case 10:Gi(n.type);break;case 22:case 23:An(n),pf(),e!==null&&Y(kr);break;case 24:Gi(Re)}}function el(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Wt(n,n.return,E)}}function Os(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=a,j=E;try{j()}catch(G){Wt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function dy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ig(n,a)}catch(o){Wt(e,e.return,o)}}}function my(e,n,a){a.props=zr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Wt(e,n,o)}}function nl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Wt(e,n,h)}}function wi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,n,h)}else a.current=null}function py(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function Qf(e,n,a){try{var o=e.stateNode;tb(o,e.type,a,n),o[Pe]=n}catch(h){Wt(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&js(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&js(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,a),e=e.sibling;e!==null;)Xf(e,n,a),e=e.sibling}function nc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&js(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nc(e,n,a),e=e.sibling;e!==null;)nc(e,n,a),e=e.sibling}function yy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,a),n[Se]=e,n[Pe]=a}catch(f){Wt(e,e.return,f)}}var $i=!1,xe=!1,$f=!1,_y=typeof WeakSet=="function"?WeakSet:Set,je=null;function MT(e,n){if(e=e.containerInfo,yd=Sc,e=Np(e),qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,I=-1,j=0,G=0,K=e,z=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(I=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===a&&++j===h&&(E=g),z===f&&++G===o&&(I=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:e,selectionRange:a},Sc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=zr(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Wt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function vy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),o&4&&el(5,a);break;case 1:if(Ji(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(a,a.return,g)}else{var h=zr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(a,a.return,g)}}o&64&&dy(a),o&512&&nl(a,a.return);break;case 3:if(Ji(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ig(e,n)}catch(g){Wt(a,a.return,g)}}break;case 27:n===null&&o&4&&yy(a);case 26:case 5:Ji(e,a),n===null&&o&4&&py(a),o&512&&nl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),o&4&&by(e,a);break;case 13:Ji(e,a),o&4&&Sy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qT.bind(null,a),lb(e,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||xe,h=$i;var f=xe;$i=o,(xe=n)&&!f?Wi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),$i=h,xe=f}break;case 30:break;default:Ji(e,a)}}function Ey(e){var n=e.alternate;n!==null&&(e.alternate=null,Ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,hn=!1;function Zi(e,n,a){for(a=a.child;a!==null;)Ty(e,n,a),a=a.sibling}function Ty(e,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:xe||wi(a,n),Zi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||wi(a,n);var o=he,h=hn;js(a.type)&&(he=a.stateNode,hn=!1),Zi(e,n,a),hl(a.stateNode),he=o,hn=h;break;case 5:xe||wi(a,n);case 6:if(o=he,h=hn,he=null,Zi(e,n,a),he=o,hn=h,he!==null)if(hn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(f){Wt(a,n,f)}else try{he.removeChild(a.stateNode)}catch(f){Wt(a,n,f)}break;case 18:he!==null&&(hn?(e=he,d_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qa(e)):d_(he,a.stateNode));break;case 4:o=he,h=hn,he=a.stateNode.containerInfo,hn=!0,Zi(e,n,a),he=o,hn=h;break;case 0:case 11:case 14:case 15:Os(2,a,n),xe||Os(4,a,n),Zi(e,n,a);break;case 1:xe||(wi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&my(a,n,o)),Zi(e,n,a);break;case 21:Zi(e,n,a);break;case 22:xe=(o=xe)||a.memoizedState!==null,Zi(e,n,a),xe=o;break;default:Zi(e,n,a)}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(a){Wt(n,n.return,a)}}}function Sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(a){Wt(n,n.return,a)}}function VT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _y),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _y),n;default:throw Error(r(435,e.tag))}}function ic(e,n){var a=VT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=HT.bind(null,e,o);o.then(h,h)}})}function fn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(js(E.type)){he=E.stateNode,hn=!1;break t}break;case 5:he=E.stateNode,hn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(he===null)throw Error(r(160));Ty(f,g,h),he=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,e),n=n.sibling}var Wn=null;function Ay(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(Os(3,e,e.return),el(3,e),Os(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(xe||a===null||wi(a,a.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Wn;if(fn(n,e),dn(e),o&512&&(xe||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Qe(f,o,a),f[Se]=e,Ae(f),o=f;break t;case"link":var g=A_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=A_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Qe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else w_(h,e.type,e.stateNode);else e.stateNode=S_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?w_(h,e.type,e.stateNode):S_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(xe||a===null||wi(a,a.return)),a!==null&&o&4&&Qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(xe||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(ot){Wt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Wt(e,e.return,ot)}}break;case 3:if(vc=null,h=Wn,Wn=yc(n.containerInfo),fn(n,e),Wn=h,dn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ot){Wt(e,e.return,ot)}$f&&($f=!1,wy(e));break;case 4:o=Wn,Wn=yc(e.stateNode.containerInfo),fn(n,e),dn(e),Wn=o;break;case 12:fn(n,e),dn(e);break;case 31:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=$i,G=xe;if($i=j||h,xe=G||I,fn(n,e),xe=G,$i=j,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||$i||xe||Br(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Wt(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var q=I.stateNode;h?m_(q,!0):m_(I.stateNode,!1)}catch(ot){Wt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(e,a))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(gy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);nc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(cn(g,""),a.flags&=-33);var E=Kf(e);nc(e,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Kf(e);Xf(e,j,I);break;default:throw Error(r(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),Br(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&my(n,n.return,a),Br(n);break;case 27:hl(n.stateNode);case 26:case 5:wi(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function Wi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,a),el(4,f);break;case 1:if(Wi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Wt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ng(I[h],E)}catch(j){Wt(o,o.return,j)}}a&&g&64&&dy(f),nl(f,f.return);break;case 27:yy(f);case 26:case 5:Wi(h,f,a),a&&o===null&&g&4&&py(f),nl(f,f.return);break;case 12:Wi(h,f,a);break;case 31:Wi(h,f,a),a&&g&4&&by(h,f);break;case 13:Wi(h,f,a),a&&g&4&&Sy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,a),nl(f,f.return);break;case 30:break;default:Wi(h,f,a)}n=n.sibling}}function Zf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function ti(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,a,o),n=n.sibling}function Ry(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,a,o),h&2048&&el(9,n);break;case 1:ti(e,n,a,o);break;case 3:ti(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ti(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Wt(n,n.return,I)}}else ti(e,n,a,o);break;case 31:ti(e,n,a,o);break;case 13:ti(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,a,o):il(e,n):f._visibility&2?ti(e,n,a,o):(f._visibility|=2,Da(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:ti(e,n,a,o),h&2048&&Jf(n.alternate,n);break;default:ti(e,n,a,o)}}function Da(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,I=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Da(f,g,E,I,h),el(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Da(f,g,E,I,h):il(f,g):(G._visibility|=2,Da(f,g,E,I,h)),h&&j&2048&&Zf(g.alternate,g);break;case 24:Da(f,g,E,I,h),h&&j&2048&&Jf(g.alternate,g);break;default:Da(f,g,E,I,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:il(a,o),h&2048&&Zf(o.alternate,o);break;case 24:il(a,o),h&2048&&Jf(o.alternate,o);break;default:il(a,o)}n=n.sibling}}var sl=8192;function Oa(e,n,a){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Cy(e,n,a),e=e.sibling}function Cy(e,n,a){switch(e.tag){case 26:Oa(e,n,a),e.flags&sl&&e.memoizedState!==null&&Eb(a,Wn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,a);break;case 3:case 4:var o=Wn;Wn=yc(e.stateNode.containerInfo),Oa(e,n,a),Wn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Oa(e,n,a),sl=o):Oa(e,n,a));break;default:Oa(e,n,a)}}function Iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];je=o,Ny(o,e)}Iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Os(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):rl(e);break;default:rl(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];je=o,Ny(o,e)}Iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),sc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function Ny(e,n){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Os(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,je=o;else t:for(a=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(Ey(o),o===a){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var kT={getCacheForType:function(e){var n=Ge(Re),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Ge(Re).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Mt=null,kt=0,Jt=0,wn=null,Ms=!1,Ma=!1,Wf=!1,ts=0,me=0,Vs=0,qr=0,td=0,Rn=0,Va=0,al=null,mn=null,ed=!1,rc=0,Dy=0,ac=1/0,oc=null,ks=null,Me=0,Ls=null,ka=null,es=0,nd=0,id=null,Oy=null,ol=0,sd=null;function Cn(){return(Kt&2)!==0&&kt!==0?kt&-kt:H.T!==null?cd():lu()}function My(){if(Rn===0)if((kt&536870912)===0||Bt){var e=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Rn=e}else Rn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Rn}function pn(e,n,a){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Ps(e,kt,Rn,!1)),gr(e,a),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(qr|=a),me===4&&Ps(e,kt,Rn,!1)),Ri(e))}function Vy(e,n,a){if((Kt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?jT(e,n):ad(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Ps(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!PT(a)){h=ad(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=al;var I=E.current.memoizedState.isDehydrated;if(I&&(La(E,g).flags|=256),g=ad(E,g,!1),g!==2){if(Wf&&!I){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Ps(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ps(o,n,Rn,!Ms);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=rc+300-rn(),10<h)){if(Ps(o,n,Rn,!Ms),li(o,0,!0)!==0)break t;es=n,o.timeoutHandle=h_(ky.bind(null,o,a,mn,oc,ed,n,Rn,qr,Va,Ms,f,"Throttled",-0,0),h);break t}ky(o,a,mn,oc,ed,n,Rn,qr,Va,Ms,f,null,-0,0)}}break}while(!0);Ri(e)}function ky(e,n,a,o,h,f,g,E,I,j,G,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Cy(n,f,K);var ot=(f&62914560)===f?rc-rn():(f&4194048)===f?Dy-rn():0;if(ot=Tb(K,ot),ot!==null){es=f,e.cancelPendingCommit=ot(Hy.bind(null,e,n,f,a,o,h,g,E,I,G,K,null,z,q)),Ps(e,f,g,!j);return}}Hy(e,n,f,a,o,h,g,E,I)}function PT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(e,n,a,o){n&=~td,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&yr(e,a,n)}function lc(){return(Kt&6)===0?(ll(0),!1):!0}function rd(){if(Mt!==null){if(Jt===0)var e=Mt.return;else e=Mt,Fi=Mr=null,Tf(e),Ra=null,Fo=0,e=Mt;for(;e!==null;)fy(e.alternate,e),e=e.return;Mt=null}}function La(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ib(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),es=0,rd(),se=e,Mt=a=qi(e.current,null),kt=n,Jt=0,wn=null,Ms=!1,Ma=Fn(e,n),Wf=!1,Va=Rn=td=qr=Vs=me=0,mn=al=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return ts=n,xu(),a}function Ly(e,n){It=null,H.H=Jo,n===wa||n===Pu?(n=Jp(),Jt=3):n===uf?(n=Jp(),Jt=4):Jt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Mt===null&&(me=1,Zu(e,kn(n,e.current)))}function Py(){var e=Sn.current;return e===null?!0:(kt&4194048)===kt?jn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===jn:!1}function Uy(){var e=H.H;return H.H=Jo,e===null?Jo:e}function jy(){var e=H.A;return H.A=kT,e}function uc(){me=4,Ms||(kt&4194048)!==kt&&Sn.current!==null||(Ma=!0),(Vs&134217727)===0&&(qr&134217727)===0||se===null||Ps(se,kt,Rn,!1)}function ad(e,n,a){var o=Kt;Kt|=2;var h=Uy(),f=jy();(se!==e||kt!==n)&&(oc=null,La(e,n)),n=!1;var g=me;t:do try{if(Jt!==0&&Mt!==null){var E=Mt,I=wn;switch(Jt){case 8:rd(),g=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var j=Jt;if(Jt=0,wn=null,Pa(e,E,I,j),a&&Ma){g=0;break t}break;default:j=Jt,Jt=0,wn=null,Pa(e,E,I,j)}}UT(),g=me;break}catch(G){Ly(e,G)}while(!0);return n&&e.shellSuspendCounter++,Fi=Mr=null,Kt=o,H.H=h,H.A=f,Mt===null&&(se=null,kt=0,xu()),g}function UT(){for(;Mt!==null;)zy(Mt)}function jT(e,n){var a=Kt;Kt|=2;var o=Uy(),h=jy();se!==e||kt!==n?(oc=null,ac=rn()+500,La(e,n)):Ma=Fn(e,n);t:do try{if(Jt!==0&&Mt!==null){n=Mt;var f=wn;e:switch(Jt){case 1:Jt=0,wn=null,Pa(e,n,f,1);break;case 2:case 9:if($p(f)){Jt=0,wn=null,By(n);break}n=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),Ri(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:$p(f)?(Jt=0,wn=null,By(n)):(Jt=0,wn=null,Pa(e,n,f,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var E=Mt;if(g?R_(g):E.stateNode.complete){Jt=0,wn=null;var I=E.sibling;if(I!==null)Mt=I;else{var j=E.return;j!==null?(Mt=j,cc(j)):Mt=null}break e}}Jt=0,wn=null,Pa(e,n,f,5);break;case 6:Jt=0,wn=null,Pa(e,n,f,6);break;case 8:rd(),me=6;break t;default:throw Error(r(462))}}zT();break}catch(G){Ly(e,G)}while(!0);return Fi=Mr=null,H.H=o,H.A=h,Kt=a,Mt!==null?0:(se=null,kt=0,xu(),me)}function zT(){for(;Mt!==null&&!kh();)zy(Mt)}function zy(e){var n=cy(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function By(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=sy(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=sy(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Tf(n);default:fy(a,n),n=Mt=jp(n,ts),n=cy(a,n,ts)}e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function Pa(e,n,a,o){Fi=Mr=null,Tf(n),Ra=null,Fo=0;var h=n.return;try{if(IT(e,h,n,a,kt)){me=1,Zu(e,kn(a,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;me=1,Zu(e,kn(a,e.current)),Mt=null;return}n.flags&32768?(Bt||o===1?e=!0:Ma||(kt&536870912)!==0?e=!1:(Ms=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,Ms);return}e=n.return;var a=DT(n.alternate,n,ts);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);me===0&&(me=5)}function qy(e,n){do{var a=OT(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);me=6,Mt=null}function Hy(e,n,a,o,h,f,g,E,I){e.cancelPendingCommit=null;do hc();while(Me!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Qh,Uh(e,a,f,g,E,I),e===se&&(Mt=se=null,kt=0),ka=n,Ls=e,es=a,nd=f,id=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,FT(ds,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,g=Kt,Kt|=4;try{MT(e,n,a)}finally{Kt=g,nt.p=h,H.T=o}}Me=1,Fy(),Gy(),Yy()}}function Fy(){if(Me===1){Me=0;var e=Ls,n=ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Ay(n,e);var f=_d,g=Np(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&xp(E.ownerDocument.documentElement,E)){if(I!==null&&qh(E)){var j=I.start,G=I.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),ot=E.textContent.length,vt=Math.min(I.start,ot),ie=I.end===void 0?vt:Math.min(I.end,ot);!q.extend&&vt>ie&&(g=ie,ie=vt,vt=g);var L=Ip(E,vt),N=Ip(E,ie);if(L&&N&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=K.createRange();U.setStart(L.node,L.offset),q.removeAllRanges(),vt>ie?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!yd,_d=yd=null}finally{Kt=h,nt.p=o,H.T=a}}e.current=n,Me=2}}function Gy(){if(Me===2){Me=0;var e=Ls,n=ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{vy(e,n.alternate,n)}finally{Kt=h,nt.p=o,H.T=a}}Me=3}}function Yy(){if(Me===4||Me===3){Me=0,eu();var e=Ls,n=ka,a=es,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,ka=Ls=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ks=null),Ui(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Hn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=h}}(es&3)!==0&&hc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===sd?ol++:(ol=0,sd=e):ol=0,ll(0)}}function Qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function hc(){return Fy(),Gy(),Yy(),Ky()}function Ky(){if(Me!==5)return!1;var e=Ls,n=nd;nd=0;var a=Ui(es),o=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=id,id=null;var f=Ls,g=es;if(Me=0,ka=Ls=null,es=0,(Kt&6)!==0)throw Error(r(331));var E=Kt;if(Kt|=4,xy(f.current),Ry(f,f.current,g,a),Kt=E,ll(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Hn,f)}catch{}return!0}finally{nt.p=h,H.T=o,Qy(e,n)}}function Xy(e,n,a){n=kn(a,n),n=Lf(e.stateNode,n,2),e=xs(e,n,2),e!==null&&(gr(e,2),Ri(e))}function Wt(e,n,a){if(e.tag===3)Xy(e,e,a);else for(;n!==null;){if(n.tag===3){Xy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))){e=kn(a,e),a=$g(2),o=xs(n,a,2),o!==null&&(Zg(a,o,n,e),gr(o,2),Ri(o));break}}n=n.return}}function od(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new LT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Wf=!0,h.add(a),e=BT.bind(null,e,n,a),n.then(e,e))}function BT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(kt&a)===a&&(me===4||me===3&&(kt&62914560)===kt&&300>rn()-rc?(Kt&2)===0&&La(e,0):td|=a,Va===kt&&(Va=0)),Ri(e)}function $y(e,n){n===0&&(n=ou()),e=Nr(e,n),e!==null&&(gr(e,n),Ri(e))}function qT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),$y(e,a)}function HT(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),$y(e,a)}function FT(e,n){return Oe(e,n)}var fc=null,Ua=null,ld=!1,dc=!1,ud=!1,Us=0;function Ri(e){e!==Ua&&e.next===null&&(Ua===null?fc=Ua=e:Ua=Ua.next=e),dc=!0,ld||(ld=!0,YT())}function ll(e,n){if(!ud&&dc){ud=!0;do for(var a=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,t_(o,f))}else f=kt,f=li(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fn(o,f)||(a=!0,t_(o,f));o=o.next}while(a);ud=!1}}function GT(){Zy()}function Zy(){dc=ld=!1;var e=0;Us!==0&&nb()&&(e=Us);for(var n=rn(),a=null,o=fc;o!==null;){var h=o.next,f=Jy(o,n);f===0?(o.next=null,a===null?fc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Me!==0&&Me!==5||ll(e),Us!==0&&(Us=0)}function Jy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ge(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Ph(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,a=kt,a=li(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&fs(o),Ui(a)){case 2:case 8:a=_o;break;case 32:a=ds;break;case 268435456:a=nu;break;default:a=ds}return o=Wy.bind(null,e),a=Oe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&fs(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(hc()&&e.callbackNode!==a)return null;var o=kt;return o=li(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Vy(e,o,n),Jy(e,rn()),e.callbackNode!=null&&e.callbackNode===a?Wy.bind(null,e):null)}function t_(e,n){if(hc())return null;Vy(e,n,!0)}function YT(){sb(function(){(Kt&6)!==0?Oe(yo,GT):Zy()})}function cd(){if(Us===0){var e=Sa;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Us=e}return Us}function e_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function n_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function QT(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=e_((h[Pe]||null).action),g=o.submitter;g&&(n=(n=g[Pe]||null)?e_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var I=g?n_(h,g):new FormData(h);Nf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?n_(h,g):new FormData(h),Nf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var hd=0;hd<Yh.length;hd++){var fd=Yh[hd],KT=fd.toLowerCase(),XT=fd[0].toUpperCase()+fd.slice(1);Jn(KT,"on"+XT)}Jn(Mp,"onAnimationEnd"),Jn(Vp,"onAnimationIteration"),Jn(kp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(hT,"onTransitionRun"),Jn(fT,"onTransitionStart"),Jn(dT,"onTransitionCancel"),Jn(Lp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function i_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}}}}function Vt(e,n){var a=n[ia];a===void 0&&(a=n[ia]=new Set);var o=e+"__bubble";a.has(o)||(s_(n,e,2,!1),a.add(o))}function dd(e,n,a){var o=0;n&&(o|=4),s_(a,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[mc]){e[mc]=!0,To.forEach(function(a){a!=="selectionchange"&&($T.has(a)||dd(a,!1,e),dd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,dd("selectionchange",!1,n))}}function s_(e,n,a,o){switch(M_(n)){case 2:var h=Ab;break;case 8:h=wb;break;default:h=xd}a=h.bind(null,n,a,e),h=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function pd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}vs(function(){var j=f,G=Dn(a),K=[];t:{var z=Pp.get(e);if(z!==void 0){var q=vi,ot=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":q=wu;break;case"focusin":ot="focus",q=Rr;break;case"focusout":ot="blur",q=Rr;break;case"beforeblur":case"afterblur":q=Rr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mp:case Vp:case kp:q=_u;break;case Lp:q=b;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=Ct}var vt=(n&4)!==0,ie=!vt&&(e==="scroll"||e==="scrollend"),L=vt?z!==null?z+"Capture":null:z;vt=[];for(var N=j,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||L===null||(Q=Kn(N,L),Q!=null&&vt.push(cl(N,Q,U))),ie)break;N=N.return}0<vt.length&&(z=new q(z,ot,null,a,G),K.push({event:z,listeners:vt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==No&&(ot=a.relatedTarget||a.fromElement)&&(fi(ot)||ot[ci]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=j,ot=ot?fi(ot):null,ot!==null&&(ie=c(ot),vt=ot.tag,ot!==ie||vt!==5&&vt!==27&&vt!==6)&&(ot=null)):(q=null,ot=j),q!==ot)){if(vt=Vo,Q="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Bi,Q="onPointerLeave",L="onPointerEnter",N="pointer"),ie=q==null?z:vn(q),U=ot==null?z:vn(ot),z=new vt(Q,N+"leave",q,a,G),z.target=ie,z.relatedTarget=U,Q=null,fi(G)===j&&(vt=new vt(L,N+"enter",ot,a,G),vt.target=U,vt.relatedTarget=ie,Q=vt),ie=Q,q&&ot)e:{for(vt=ZT,L=q,N=ot,U=0,Q=L;Q;Q=vt(Q))U++;Q=0;for(var pt=N;pt;pt=vt(pt))Q++;for(;0<U-Q;)L=vt(L),U--;for(;0<Q-U;)N=vt(N),Q--;for(;U--;){if(L===N||N!==null&&L===N.alternate){vt=L;break e}L=vt(L),N=vt(N)}vt=null}else vt=null;q!==null&&r_(K,z,q,vt,!1),ot!==null&&ie!==null&&r_(K,ie,ot,vt,!0)}}t:{if(z=j?vn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ft=bp;else if(Ep(z))if(Sp)Ft=lT;else{Ft=aT;var ct=rT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&oa(j.elementType)&&(Ft=bp):Ft=oT;if(Ft&&(Ft=Ft(e,j))){Tp(K,Ft,a,G);break t}ct&&ct(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Co(z,"number",z.value)}switch(ct=j?vn(j):window,e){case"focusin":(Ep(ct)||ct.contentEditable==="true")&&(pa=ct,Hh=j,jo=null);break;case"focusout":jo=Hh=pa=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Dp(K,a,G);break;case"selectionchange":if(cT)break;case"keydown":case"keyup":Dp(K,a,G)}var xt;if(Qt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else ma?Cr(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(bi&&a.locale!=="ko"&&(ma||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ma&&(xt=Oo()):(_i=G,Do="value"in _i?_i.value:_i.textContent,ma=!0)),ct=pc(j,Lt),0<ct.length&&(Lt=new Ti(Lt,e,null,a,G),K.push({event:Lt,listeners:ct}),xt?Lt.data=xt:(xt=da(a),xt!==null&&(Lt.data=xt)))),(xt=Mn?eT(e,a):nT(e,a))&&(Lt=pc(j,"onBeforeInput"),0<Lt.length&&(ct=new Ti("onBeforeInput","beforeinput",null,a,G),K.push({event:ct,listeners:Lt}),ct.data=xt)),QT(K,e,j,a,G)}i_(K,n)})}function cl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function pc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,a),h!=null&&o.unshift(cl(e,h,f)),h=Kn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ZT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=Kn(a,f),j!=null&&g.unshift(cl(a,j,I))):h||(j=Kn(a,f),j!=null&&g.push(cl(a,j,I)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var JT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(JT,`
`).replace(WT,"")}function o_(e,n){return n=a_(n),a_(e)===n}function ne(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":En(e,"class",o);break;case"tabIndex":En(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,a,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){En(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=la(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,ra(e,a,o))}}function gd(e,n,a,o,h,f){switch(a){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Pe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ra(e,a,o)}}}function Qe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,f,g,a,null)}}h&&ne(e,n,"srcSet",a.srcSet,a,null),o&&ne(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,I=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ne(e,n,o,G,a,null)}}fu(e,f,E,I,j,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?ps(e,!!o,n,!1):a!=null&&ps(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ne(e,n,g,E,a,null)}gs(e,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,I,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Vt(ul[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ne(e,n,j,o,a,null)}return;default:if(oa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&gd(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ne(e,n,E,o,a,null))}function tb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,j=null,G=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(q)||ne(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=a[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&ne(e,n,z,q,o,K)}}aa(e,g,E,I,j,G,f,h);return;case"select":q=g=E=z=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&ne(e,n,h,f,o,I)}n=E,a=g,o=q,z!=null?ps(e,!!a,z,!1):!!o!=!!a&&(n!=null?ps(e,!!a,n,!0):ps(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ne(e,n,g,h,o,f)}du(e,z,q);return;case"option":for(var ot in a)if(z=a[ot],a.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:ne(e,n,ot,null,o,z)}for(I in o)if(z=o[I],q=a[I],o.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null))switch(I){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ne(e,n,I,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt)&&ne(e,n,vt,null,o,z);for(j in o)if(z=o[j],q=a[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:ne(e,n,j,z,o,q)}return;default:if(oa(n)){for(var ie in a)z=a[ie],a.hasOwnProperty(ie)&&z!==void 0&&!o.hasOwnProperty(ie)&&gd(e,n,ie,void 0,o,z);for(G in o)z=o[G],q=a[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||gd(e,n,G,z,o,q);return}}for(var L in a)z=a[L],a.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&ne(e,n,L,null,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||ne(e,n,K,z,o,q)}function l_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&l_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],j=I.startTime;if(j>E)break;var G=I.transferSize,K=I.initiatorType;G&&l_(K)&&(I=I.responseEnd,g+=G*(I<E?1:(E-j)/(I-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,_d=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function u_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function nb(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(e){return f_.resolve(null).then(e).catch(rb)}:h_;function rb(e){setTimeout(function(){throw e})}function js(e){return e==="head"}function d_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);qa(n)}function m_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ab(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function ob(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function p_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function g_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return zn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function y_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function __(e,n,a){switch(n=gc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var Bn=new Map,v_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=nt.d;nt.d={f:ub,r:cb,D:hb,C:fb,L:db,m:mb,X:gb,S:pb,M:yb};function ub(){var e=ns.f(),n=lc();return e||n}function cb(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?Lg(n):ns.r(e)}var ja=typeof document>"u"?null:document;function E_(e,n,a){var o=ja;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),v_.has(h)||(v_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function hb(e){ns.D(e),E_("dns-prefetch",e,null)}function fb(e,n){ns.C(e,n),E_("preconnect",e,n)}function db(e,n,a){ns.L(e,n,a);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=Ba(e)}Bn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Qe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function mb(e,n){ns.m(e,n);var a=ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!Bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Bn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(f)))return}o=a.createElement("link"),Qe(o,"link",e),Ae(o),a.head.appendChild(o)}}}function pb(e,n,a){ns.S(e,n,a);var o=ja;if(o&&e){var h=di(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(fl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Bn.get(f))&&wd(e,a);var I=g=o.createElement("link");Ae(I),Qe(I,"link",e),I._p=new Promise(function(j,G){I.onload=j,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function gb(e,n){ns.X(e,n);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=A({src:e,async:!0},n),(n=Bn.get(h))&&Rd(e,n),f=a.createElement("script"),Ae(f),Qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function yb(e,n){ns.M(e,n);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&Rd(e,n),f=a.createElement("script"),Ae(f),Qe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T_(e,n,a,o){var h=(h=bt.current)?yc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=za(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=za(a.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),f||_b(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function za(e){return'href="'+un(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function b_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function _b(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",a),Ae(n),e.head.appendChild(n))}function Ba(e){return'[src="'+un(e)+'"]'}function dl(e){return"script[async]"+e}function S_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+un(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Qe(o,"style",h),_c(o,a.precedence,e),n.instance=o;case"stylesheet":h=za(a.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=b_(a),(h=Bn.get(h))&&wd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Qe(f,"link",o),n.state.loading|=4,_c(f,a.precedence,e),n.instance=f;case"script":return f=Ba(a.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ae(h),h):(o=a,(h=Bn.get(f))&&(o=A({},a),Rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,a.precedence,e));return n.instance}function _c(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function A_(e,n,a){if(vc===null){var o=new Map,h=vc=new Map;h.set(a,o)}else h=vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function w_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function vb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eb(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=za(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=b_(o),(h=Bn.get(h))&&wd(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Qe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ec.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Cd=0;function Tb(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*eb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(bb,e),Tc=null,Ec.call(e))}function bb(e,n){if(!(n.state.loading&4)){var a=Tc.get(e);if(a)var o=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:ut,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Sb(e,n,a,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function C_(e,n,a,o,h,f,g,E,I,j,G,K){return e=new Sb(e,n,a,g,I,j,G,K,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=af(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},cf(f),e}function I_(e){return e?(e=_a,e):_a}function x_(e,n,a,o,h,f){h=I_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=xs(e,o,n),a!==null&&(pn(a,e,n),Yo(a,e,n))}function N_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Id(e,n){N_(e,n),(e=e.alternate)&&N_(e,n)}function D_(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&pn(n,e,67108864),Id(e,67108864)}}function O_(e){if(e.tag===13||e.tag===31){var n=Cn();n=_r(n);var a=Nr(e,n);a!==null&&pn(a,e,n),Id(e,n)}}var Sc=!0;function Ab(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,xd(e,n,a,o)}finally{nt.p=f,H.T=h}}function wb(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,xd(e,n,a,o)}finally{nt.p=f,H.T=h}}function xd(e,n,a,o){if(Sc){var h=Nd(o);if(h===null)pd(e,n,o,Ac,a),V_(e,o);else if(Cb(h,e,n,a,o))o.stopPropagation();else if(V_(e,o),n&4&&-1<Rb.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-ge(g);E.entanglements[1]|=I,g&=~I}Ri(f),(Kt&6)===0&&(ac=rn()+500,ll(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&pn(E,f,2),lc(),Id(f,2)}if(f=Nd(o),f===null&&pd(e,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(e,n,o,null,a)}}function Nd(e){return e=Dn(e),Dd(e)}var Ac=null;function Dd(e){if(Ac=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function M_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case yo:return 2;case _o:return 8;case ds:case Lh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Od=!1,zs=null,Bs=null,qs=null,pl=new Map,gl=new Map,Hs=[],Rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(e,n){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function yl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&D_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Cb(e,n,a,o,h){switch(n){case"focusin":return zs=yl(zs,e,n,a,o,h),!0;case"dragenter":return Bs=yl(Bs,e,n,a,o,h),!0;case"mouseover":return qs=yl(qs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,yl(pl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,yl(gl.get(f)||null,e,n,a,o,h)),!0}return!1}function k_(e){var n=fi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Gn(e.priority,function(){O_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Gn(e.priority,function(){O_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Nd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);No=o,a.target.dispatchEvent(o),No=null}else return n=Nn(a),n!==null&&D_(n),e.blockedOn=a,!1;n.shift()}return!0}function L_(e,n,a){wc(e)&&a.delete(n)}function Ib(){Od=!1,zs!==null&&wc(zs)&&(zs=null),Bs!==null&&wc(Bs)&&(Bs=null),qs!==null&&wc(qs)&&(qs=null),pl.forEach(L_),gl.forEach(L_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ib)))}var Cc=null;function P_(e){Cc!==e&&(Cc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||a)===null)continue;break}var f=Nn(a);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(e){function n(I){return Rc(I,e)}zs!==null&&Rc(zs,e),Bs!==null&&Rc(Bs,e),qs!==null&&Rc(qs,e),pl.forEach(n),gl.forEach(n);for(var a=0;a<Hs.length;a++){var o=Hs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&Hs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Pe]||null;if(typeof f=="function")g||P_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(Dd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),P_(a)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(e){this._internalRoot=e}Ic.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Cn();x_(a,o,e,n,null,null)},Ic.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),lc(),n[ci]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Hs.length&&n!==0&&n<Hs[a].priority;a++);Hs.splice(a,0,e),a===0&&k_(e)}};var j_=t.version;if(j_!=="19.2.0")throw Error(r(527,j_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var xb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Hn=xc.inject(xb),qe=xc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Yg,f=Qg,g=Kg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=C_(e,1,!1,null,null,a,o,null,h,f,g,U_),e[ci]=n.current,md(e),new Md(n)},vl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Yg,g=Qg,E=Kg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=C_(e,1,!0,n,a??null,o,h,I,f,g,E,U_),n.context=I_(null),a=n.current,o=Cn(),o=_r(o),h=Is(o),h.callback=null,xs(a,h,o),a=o,n.current.lanes=a,gr(n,a),Ri(n),e[ci]=n.current,md(e),new Ic(n)},vl.version="19.2.0",vl}var X_;function jb(){if(X_)return Ld.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=Ub(),Ld.exports}var zb=jb();const Bb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),$_=s=>{const t=qb(s);return t.charAt(0).toUpperCase()+t.slice(1)},Dv=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Hb=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gb=St.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>St.createElement("svg",{ref:_,...Fb,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:Dv("lucide",l),...!c&&!Hb(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>St.createElement(y,T)),...Array.isArray(c)?c:[c]]));const Ot=(s,t)=>{const i=St.forwardRef(({className:r,...l},c)=>St.createElement(Gb,{ref:c,iconNode:t,className:Dv(`lucide-${Bb($_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=$_(s),i};const Yb=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],Qb=Ot("arrow-down-a-z",Yb);const Kb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cm=Ot("calendar",Kb);const Xb=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$b=Ot("camera",Xb);const Zb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jb=Ot("check",Zb);const Wb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tS=Ot("chevron-right",Wb);const eS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nS=Ot("circle-alert",eS);const iS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],sS=Ot("circle-plus",iS);const rS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],aS=Ot("cloud-upload",rS);const oS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],lS=Ot("coffee",oS);const uS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cS=Ot("download",uS);const hS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fS=Ot("house",hS);const dS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mS=Ot("image",dS);const pS=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gS=Ot("link",pS);const yS=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_S=Ot("list",yS);const vS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ES=Ot("lock",vS);const TS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bS=Ot("log-out",TS);const SS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AS=Ot("mail",SS);const wS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wd=Ot("map-pin",wS);const RS=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],CS=Ot("map",RS);const IS=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],xS=Ot("move-vertical",IS);const NS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ov=Ot("pen-line",NS);const DS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mv=Ot("pencil",DS);const OS=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],tm=Ot("plane",OS);const MS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vv=Ot("plus",MS);const VS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fh=Ot("refresh-cw",VS);const kS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],LS=Ot("save",kS);const PS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],US=Ot("settings",PS);const jS=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Hl=Ot("shopping-bag",jS);const zS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fl=Ot("square-check-big",zS);const BS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],qS=Ot("sun",BS);const HS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kv=Ot("tag",HS);const FS=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],GS=Ot("tram-front",FS);const YS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Im=Ot("trash-2",YS);const QS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KS=Ot("triangle-alert",QS);const XS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$S=Ot("upload",XS);const ZS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],JS=Ot("user",ZS);const WS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tA=Ot("x",WS);const eA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],nA=Ot("zoom-in",eA),iA=()=>{};var Z_={};const Lv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},sA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),r.push(i[T],i[A],i[M],i[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Lv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):sA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||A==null)throw new rA;const M=c<<2|p>>4;if(r.push(M),y!==64){const F=p<<4&240|y>>2;if(r.push(F),A!==64){const W=y<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(s){const t=Lv(s);return Pv.encodeByteArray(t,!0)},Qc=function(s){return aA(s).replace(/\./g,"")},Uv=function(s){try{return Pv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lA=()=>oA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof Z_>"u")return;const s=Z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},cA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Uv(s[1]);return t&&JSON.parse(t)},dh=()=>{try{return iA()||lA()||uA()||cA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jv=s=>dh()?.emulatorHosts?.[s],hA=s=>{const t=jv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},zv=()=>dh()?.config,Bv=s=>dh()?.[`_${s}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qv(s){return(await fetch(s,{credentials:"include"})).ok}function dA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const Cl={};function mA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function pA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let J_=!1;function Hv(s,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Cl[s]===t||Cl[s]||J_)return;Cl[s]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=mA().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{J_=!0,d()},M}function T(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=pA(r),F=i("text"),W=document.getElementById(F)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),lt=i("preprendIcon"),dt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ut=M.element;p(ut),T(J,$);const ht=y();_(dt,lt),ut.append(dt,W,J,ht),document.body.appendChild(ut)}c?(W.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function yA(){const s=dh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const s=sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function bA(){return!yA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const wA="FirebaseError";class cs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=wA,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?RA(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new cs(l,p,r)}}function RA(s,t){return s.replace(CA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const CA=/\{\$([^}]+)}/g;function IA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Qr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(W_(c)&&W_(d)){if(!Qr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function W_(s){return s!==null&&typeof s=="object"}function Yl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function El(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function Tl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function xA(s,t){const i=new NA(s,t);return i.subscribe.bind(i)}class NA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");DA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function Be(s){return s&&s._delegate?s._delegate:s}class Kr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new fA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VA(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MA(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(s){return s===Hr?void 0:s}function VA(s){return s.instantiationMode==="EAGER"}class kA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const LA={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},PA=Pt.INFO,UA={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},jA=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=UA[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xm{constructor(t){this.name=t,this._logLevel=PA,this._logHandler=jA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const zA=(s,t)=>t.some(i=>s instanceof i);let t0,e0;function BA(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,em=new WeakMap,Gv=new WeakMap,Bd=new WeakMap,Nm=new WeakMap;function HA(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Zs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Fv.set(i,s)}).catch(()=>{}),Nm.set(t,s),t}function FA(s){if(em.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,t)}let nm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return em.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Gv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function GA(s){nm=s(nm)}function YA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(qd(this),t,...i);return Gv.set(r,t.sort?t.sort():[t]),Zs(r)}:qA().includes(s)?function(...t){return s.apply(qd(this),t),Zs(Fv.get(this))}:function(...t){return Zs(s.apply(qd(this),t))}}function QA(s){return typeof s=="function"?YA(s):(s instanceof IDBTransaction&&FA(s),zA(s,BA())?new Proxy(s,nm):s)}function Zs(s){if(s instanceof IDBRequest)return HA(s);if(Bd.has(s))return Bd.get(s);const t=QA(s);return t!==s&&(Bd.set(s,t),Nm.set(t,s)),t}const qd=s=>Nm.get(s);function KA(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Zs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Zs(d.result),_.oldVersion,_.newVersion,Zs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Hd=new Map;function n0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Hd.get(t))return Hd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=$A.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||XA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Hd.set(t,c),c}GA(s=>({...s,get:(t,i,r)=>n0(t,i)||s.get(t,i,r),has:(t,i)=>!!n0(t,i)||s.has(t,i)}));class ZA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function JA(s){return s.getComponent()?.type==="VERSION"}const im="@firebase/app",i0="0.14.6";const as=new xm("@firebase/app"),WA="@firebase/app-compat",tw="@firebase/analytics-compat",ew="@firebase/analytics",nw="@firebase/app-check-compat",iw="@firebase/app-check",sw="@firebase/auth",rw="@firebase/auth-compat",aw="@firebase/database",ow="@firebase/data-connect",lw="@firebase/database-compat",uw="@firebase/functions",cw="@firebase/functions-compat",hw="@firebase/installations",fw="@firebase/installations-compat",dw="@firebase/messaging",mw="@firebase/messaging-compat",pw="@firebase/performance",gw="@firebase/performance-compat",yw="@firebase/remote-config",_w="@firebase/remote-config-compat",vw="@firebase/storage",Ew="@firebase/storage-compat",Tw="@firebase/firestore",bw="@firebase/ai",Sw="@firebase/firestore-compat",Aw="firebase",ww="12.6.0";const sm="[DEFAULT]",Rw={[im]:"fire-core",[WA]:"fire-core-compat",[ew]:"fire-analytics",[tw]:"fire-analytics-compat",[iw]:"fire-app-check",[nw]:"fire-app-check-compat",[sw]:"fire-auth",[rw]:"fire-auth-compat",[aw]:"fire-rtdb",[ow]:"fire-data-connect",[lw]:"fire-rtdb-compat",[uw]:"fire-fn",[cw]:"fire-fn-compat",[hw]:"fire-iid",[fw]:"fire-iid-compat",[dw]:"fire-fcm",[mw]:"fire-fcm-compat",[pw]:"fire-perf",[gw]:"fire-perf-compat",[yw]:"fire-rc",[_w]:"fire-rc-compat",[vw]:"fire-gcs",[Ew]:"fire-gcs-compat",[Tw]:"fire-fst",[Sw]:"fire-fst-compat",[bw]:"fire-vertex","fire-js":"fire-js",[Aw]:"fire-js-all"};const Ml=new Map,Cw=new Map,rm=new Map;function s0(s,t){try{s.container.addComponent(t)}catch(i){as.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const t=s.name;if(rm.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;rm.set(t,s);for(const i of Ml.values())s0(i,s);for(const i of Cw.values())s0(i,s);return!0}function Dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ei(s){return s==null?!1:s.settings!==void 0}const Iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Gl("app","Firebase",Iw);class xw{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const uo=ww;function Yv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:sm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Js.create("bad-app-name",{appName:String(l)});if(i||(i=zv()),!i)throw Js.create("no-options");const c=Ml.get(l);if(c){if(Qr(i,c.options)&&Qr(r,c.config))return c;throw Js.create("duplicate-app",{appName:l})}const d=new kA(l);for(const _ of rm.values())d.addComponent(_);const p=new xw(i,r,d);return Ml.set(l,p),p}function Om(s=sm){const t=Ml.get(s);if(!t&&s===sm&&zv())return Yv();if(!t)throw Js.create("no-app",{appName:s});return t}function Nw(){return Array.from(Ml.values())}function Ws(s,t,i){let r=Rw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}Wa(new Kr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Dw="firebase-heartbeat-database",Ow=1,Vl="firebase-heartbeat-store";let Fd=null;function Qv(){return Fd||(Fd=KA(Dw,Ow,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),Fd}async function Mw(s){try{const i=(await Qv()).transaction(Vl),r=await i.objectStore(Vl).get(Kv(s));return await i.done,r}catch(t){if(t instanceof cs)as.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t?.message});as.warn(i.message)}}}async function r0(s,t){try{const r=(await Qv()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(t,Kv(s)),await r.done}catch(i){if(i instanceof cs)as.warn(i.message);else{const r=Js.create("idb-set",{originalErrorMessage:i?.message});as.warn(r.message)}}}function Kv(s){return`${s.name}!${s.options.appId}`}const Vw=1024,kw=30;class Lw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Uw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=a0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>kw){const l=jw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){as.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a0(),{heartbeatsToSend:i,unsentEntries:r}=Pw(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return as.warn(t),""}}}function a0(){return new Date().toISOString().substring(0,10)}function Pw(s,t=Vw){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),o0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),o0(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Uw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Mw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return r0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return r0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function o0(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function jw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function zw(s){Wa(new Kr("platform-logger",t=>new ZA(t),"PRIVATE")),Wa(new Kr("heartbeat",t=>new Lw(t),"PRIVATE")),Ws(im,i0,s),Ws(im,i0,"esm2020"),Ws("fire-js","")}zw("");var Bw="firebase",qw="12.6.0";Ws(Bw,qw,"app");var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,Xv;(function(){var s;function t(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(V,D,k){for(var R=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)R[$t-2]=arguments[$t];return w.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],D=x.g[2];let k=x.g[3],R;R=w+(k^C&(D^k))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(k^C&(D^k))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(D^w&(C^D))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=D+(C^k&(w^C))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(w^D&(k^w))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=w+(D^k&(C^D))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(D^k&(C^D))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(w^C))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=D+(w^C&(k^w))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(D^k))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=w+(C^D^k)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(C^D^k)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^D)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=D+(k^w^C)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^w)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=w+(D^(C|~k))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=w+(D^(C|~k))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~D))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=D+(w^(k|~C))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)l(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(V[D++]=x.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<w;)if(V[D++]=x[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)x[w++]=this.g[C]>>>V&255;return x};function c(x,w){var C=p;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function d(x,w){this.h=w;const C=[];let V=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;V&&k==w||(C[D]=k,V=!1)}this.g=C}var p={};function _(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return J(y(-x));const w=[];let C=1;for(let V=0;x>=C;V++)w[V]=x/C|0,C*=4294967296;return new d(w,0)}function T(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return J(T(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=A;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var A=_(0),M=_(1),F=_(16777216);s=d.prototype,s.m=function(){if($(this))return-J(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(W(this))return"0";if($(this))return"-"+J(this).toString(x);const w=y(Math.pow(x,6));var C=this;let V="";for(;;){const D=ht(C,w).g;C=lt(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,W(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function W(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function $(x){return x.h==-1}s.l=function(x){return x=lt(this,x),$(x)?-1:W(x)?0:1};function J(x){const w=x.g.length,C=[];for(let V=0;V<w;V++)C[V]=~x.g[V];return new d(C,~x.h).add(M)}s.abs=function(){return $(this)?J(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(x.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,C[D]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function lt(x,w){return x.add(J(w))}s.j=function(x){if(W(this)||W(x))return A;if($(this))return $(x)?J(this).j(J(x)):J(J(this).j(x));if($(x))return J(this.j(J(x)));if(this.l(F)<0&&x.l(F)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,$t=x.i(D)>>>16,pe=x.i(D)&65535;C[2*V+2*D]+=R*pe,dt(C,2*V+2*D),C[2*V+2*D+1]+=k*pe,dt(C,2*V+2*D+1),C[2*V+2*D+1]+=R*$t,dt(C,2*V+2*D+1),C[2*V+2*D+2]+=k*$t,dt(C,2*V+2*D+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new d(C,0)};function dt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ut(x,w){this.g=x,this.h=w}function ht(x,w){if(W(w))throw Error("division by zero");if(W(x))return new ut(A,A);if($(x))return w=ht(J(x),w),new ut(J(w.g),J(w.h));if($(w))return w=ht(x,J(w)),new ut(J(w.g),w.h);if(x.g.length>30){if($(x)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(x)<=0;)C=Ht(C),V=Ht(V);var D=Nt(C,1),k=Nt(V,1);for(V=Nt(V,2),C=Nt(C,2);!W(V);){var R=k.add(V);R.l(x)<=0&&(D=D.add(C),k=R),V=Nt(V,1),C=Nt(C,1)}return w=lt(x,D.j(w)),new ut(D,w)}for(D=A;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(C),R=k.j(w);$(R)||R.l(x)>0;)C-=V,k=y(C),R=k.j(w);W(k)&&(k=M),D=D.add(k),x=lt(x,R)}return new ut(D,x)}s.B=function(x){return ht(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&x.i(V);return new d(C,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|x.i(V);return new d(C,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^x.i(V);return new d(C,this.h^x.h)};function Ht(x){const w=x.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(C,x.h)}function Nt(x,w){const C=w>>5;w%=32;const V=x.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=w>0?x.i(k+C)>>>w|x.i(k+C+1)<<32-w:x.i(k+C);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Xv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,tr=d}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $v,bl,Zv,Lc,am,Jv,Wv,t1;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break t;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,B){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[P].apply(b,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=P[et]}else u.push(P)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const b=ut.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ut=new $(()=>new ht,u=>u.reset());class ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,Nt=!1,x=new dt,w=()=>{const u=Promise.resolve(void 0);Ht=()=>{u.then(C)}};function C(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){J(v)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A($t,D),$t.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++H,this.da=this.fa=!1}function mt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Yt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=bt(u,m,b,P);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!b,P),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(b,P,1),B&&(mt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,b){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return P}return-1}var Dt="closure_lm_"+(Math.random()*1e6|0),tt={};function it(u,m,v,b,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)it(u,m[B],v,b,P);return null}return v=Pi(v),u&&u[pe]?u.J(m,v,p(b)?!!b.capture:!1,P):gt(u,m,v,!1,b,P)}function gt(u,m,v,b,P,B){if(!m)throw Error("Invalid event type");const et=p(P)?!!P.capture:!!P;let Ct=Li(u);if(Ct||(u[Dt]=Ct=new rt(u)),v=Ct.add(m,v,b,et,B),v.proxy)return v;if(b=ue(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(_n(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ue(){function u(v){return m.call(u.src,u.listener,v)}const m=dr;return u}function Ze(u,m,v,b,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ze(u,m[B],v,b,P);else b=p(b)?!!b.capture:!!b,v=Pi(v),u&&u[pe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,b,P),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,b,P)),(v=u>-1?m[u]:null)&&ln(v))}function ln(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])_t(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(_n(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Li(m))?(_t(v,u),v.h==0&&(v.src=null,m[Dt]=null)):mt(u)}}}function _n(u){return u in tt?tt[u]:tt[u]="on"+u}function dr(u,m){if(u.da)u=!0;else{m=new $t(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ln(u),u=v.call(b,m)}return u}function Li(u){return u=u[Dt],u instanceof rt?u:null}var hs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pi(u){return typeof u=="function"?u:(u[hs]||(u[hs]=function(m){return u.handleEvent(m)}),u[hs])}function Te(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}A(Te,V),Te.prototype[pe]=!0,Te.prototype.removeEventListener=function(u,m,v,b){Ze(this,u,m,v,b)};function Oe(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(b,u),st(m,P)}P=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],P=fs(B,b,!0,m)&&P;if(B=m.g=u,P=fs(B,b,!0,m)&&P,P=fs(B,b,!1,m)&&P,v)for(et=0;et<v.length;et++)B=m.g=v[et],P=fs(B,b,!1,m)&&P}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)mt(v[b]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Te.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function fs(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const Ct=et.listener,ye=et.ha||et.src;et.fa&&_t(u.i,et),P=Ct.call(ye,b)!==!1&&P}}return P&&!b.defaultPrevented}function kh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function eu(u){u.g=kh(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){V.call(this),this.h=u,this.g={}}A(mr,V);var yo=[];function _o(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ln(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),_o(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Lh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}A(qe,D);function xn(){D.call(this,"c")}A(xn,D);var ge={},ru=null;function na(){return ru=ru||new Te}ge.Ia="serverreachability";function au(u){D.call(this,ge.Ia,u)}A(au,D);function ai(u){const m=na();Oe(m,new au(m))}ge.STAT_EVENT="statevent";function pr(u,m){D.call(this,ge.STAT_EVENT,u),this.stat=m}A(pr,D);function be(u){const m=na();Oe(m,new pr(m,u))}ge.Ja="timingevent";function oi(u,m){D.call(this,ge.Ja,u),this.size=m}A(oi,D);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function Ph(u,m,v,b,P,B){u.info(function(){if(u.g)if(B){var et="",Ct=B.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var ye=Ct[Qt].split("=");if(ye.length>1){const ce=ye[0];ye=ye[1];const Mn=ce.split("_");et=Mn.length>=2&&Mn[1]=="type"?et+(ce+"="+ye+"&"):et+(ce+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+et})}function ou(u,m,v,b,P,B,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+et})}function ui(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(b?" "+b:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return ds(B)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function _r(){}A(_r,iu),_r.prototype.g=function(){return new XMLHttpRequest},Eo=new _r;function Ui(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Gn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function ci(u,m,v){u.M=1,u.A=vr(we(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),hi(u),u.B=we(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),oa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Yn,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new rn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(yo[0]=P.toString()),P=yo);for(let B=0;B<P.length;B++){const et=it(v,P[B],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Ct=Xn(this.g),ye=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Ct!=4||ye==7||(ye==8||Qt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,be(12),vn(this),Nn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=cu(this,v),ce==Pe){Ct==4&&(this.m=4,be(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Se){this.m=4,be(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ce,null),di(this,ce);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(et),et.P=!0,be(11))}}else ui(this.i,this.l,v,null),di(this,v);Ct==4&&vn(this),this.o&&!this.K&&(Ct==4?vu(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),vn(this),Nn(this)}}}catch{}finally{}};function jh(u){if(!uu(u))return u.g.la();const m=He(u.g);if(m==="")return"";let v="";const b=m.length,P=Xn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Pe:(v=Number(m.substring(v,b)),isNaN(v)?Se:(b+=1,b+v>m.length?Pe:(m=m.slice(b,b+v),u.C=b+v,m)))}Gn.prototype.cancel=function(){this.K=!0,vn(this)};function hi(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ai(),be(17)),vn(this),this.m=2,Nn(this)):sa(this,this.T-u)};function Nn(u){u.j.I==0||u.K||vu(u.j,u)}function vn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),Ts(v);else break t;Rr(v),be(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&fa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Qt=P[m];const ce=Qt[0];if(!(ce<=v.K))if(v.K=ce,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Mn=Qt[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const bi=Qt[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const $n=Qt[5];$n!=null&&typeof $n=="number"&&$n>0&&(b=1.5*$n,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Zn=u.g;if(Zn){const Cr=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var B=b.h;B.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(b.G){const da=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(b.wa=da,Zt(b.J,b.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=bu(b,b.L?b.ba:null,b.W),et.L){Ao(b.h,et);var Ct=et,ye=b.O;ye&&(Ct.H=ye),Ct.D&&(fi(Ct),hi(Ct)),b.g=et}else yu(b);v.i.length>0&&Ei(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Ti(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Ti(v,7):Mo(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}ai(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,B=null;b>=0?(P=u[v].substring(0,b),B=u[v].substring(b+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,Ro(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ms(this,m[4]),this.h=gi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,aa,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?Co:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,du)),u.join("")},En.prototype.resolve=function(u){const m=we(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ms(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let et=0;et<P.length;){const Ct=P[et++];Ct=="."?b&&et==P.length&&B.push(""):Ct==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&et==P.length&&B.push("")):(B.push(Ct),b=!0)}b=B.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?Ro(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function we(u){return new En(u)}function Ue(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof gs?(u.i=m,la(u.i,u.l)):(v||(m=Er(m,ps)),u.i=new gs(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function vr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,fu=/[#\?:]/g,Co=/[#\?]/g,ps=/[#\?@]/g,du=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(u,m){cn(this),this.i=null,u=ys(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){cn(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return cn(u),m=ys(u,m),u.g.has(m)}s.forEach=function(u,m){cn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function xo(u,m){cn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return cn(this),this.i=null,u=ys(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(ys(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Ui(v);v=xo(this,v);for(let B=0;B<v.length;B++){let et=P;v[B]!==""&&(et+="="+Ui(v[B])),u.push(et)}}return this.i=u.join("&")};function pu(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(mu(this,b),oa(this,P,v))},u)),u.j=m}function Qn(u,m){const v=new Fn;if(d.Image){const b=new Image;b.onload=T(Dn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Dn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Dn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Dn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function No(u,m){const v=new Fn,b=new AbortController,P=setTimeout(()=>{b.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(P),B.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function _s(){this.g=new nu}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(yi,iu),yi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Tr,Te),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):Kn(this),this.readyState==3&&ua(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},s.Na=function(u){this.g&&(this.response=u,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return zt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function br(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=On(v),typeof u=="string"?v!=null&&Ui(v):Zt(u,m,v))}function te(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(te,Te);var _i=/^https?$/i,Do=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Sr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Sr(this,B)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),ji(u)}function Oo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Xn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let et=String(u.D).match(hu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!_i.test(et?et.toLowerCase():"")}v=b}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var P=Xn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Oo(u)}}finally{ji(u)}}}}function ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Xn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=lu(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Yt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){be(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Ei(this)};function Mo(u){if(ca(u),u.I==3){var m=u.V++,v=we(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),wr(u,v),m=new Gn(u,u.j,m),m.M=2,m.A=vr(we(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Tu(u)}function Ts(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ca(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ht||w(),Nt||(Ht(),Nt=!0),x.add(m,u),u.D=0}}function ha(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Gn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),st(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,P,m),v=we(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),wr(this,v),B&&(this.R?m="headers="+Ui(On(B))+"&"+m:this.u&&br(v,this.u,B)),So(this.h,P),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),P.U=!0,ci(P,v,null)):ci(P,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const b=we(u.J);Zt(b,"SID",u.M),Zt(b,"RID",v),Zt(b,"AID",u.K),wr(u,b),u.u&&u.o&&br(b,u.u,u.o),v=new Gn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),ci(v,b,m)}function wr(u,m){u.H&&zt(u.H,function(v,b){Zt(m,b,v)}),u.l&&zt({},function(v,b){Zt(m,b,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Ct=-1;for(;;){const ye=["count="+v];Ct==-1?v>0?(Ct=P[0].g,ye.push("ofs="+Ct)):Ct=0:ye.push("ofs="+Ct);let Qt=!0;for(let ce=0;ce<v;ce++){var B=P[ce].g;const Mn=P[ce].map;if(B-=Ct,B<0)Ct=Math.max(0,P[ce].g-100),Qt=!1;else try{B="req"+B+"_"||"";try{var et=Mn instanceof Map?Mn:Object.entries(Mn);for(const[bi,$n]of et){let Zn=$n;p($n)&&(Zn=ds($n)),ye.push(B+bi+"="+encodeURIComponent(Zn))}}catch(bi){throw ye.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Mn)}}if(Qt){et=ye.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ht||w(),Nt||(Ht(),Nt=!0),x.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ts(this),_u(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=we(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(we(m)),v.u=null,v.R=!0,ia(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),Rr(this),be(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){fa(u),ko(u),u.g=null;var b=2}else if(pi(u.h,m))v=m.G,Ao(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=na(),Oe(b,new oi(b,v)),Ei(u)}else yu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&ha(u,m)||b==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const P=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(b,"https"),vr(b),P?Qn(b.toString(),v):No(b.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var b=v instanceof En?we(v):new En(v);if(b.g!="")m&&(b.g=m+"."+b.g),ms(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new En(null);b&&Ue(B,b),m&&(B.g=m),P&&ms(B,P),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Zt(b,v,m),Zt(b,"VER",u.ka),wr(u,b),b}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new yi({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(u,m){return new an(u,m)};function an(u,m){Te.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}A(an,Te),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Mo(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ds(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&Ei(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,an.Z.N.call(this)};function wu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(wu,qe);function Ru(){xn.call(this),this.status=1}A(Ru,xn);function Bi(u){this.g=u}A(Bi,Au),Bi.prototype.ra=function(){Oe(this.g,"a")},Bi.prototype.qa=function(u){Oe(this.g,new wu(u))},Bi.prototype.pa=function(u){Oe(this.g,new Ru)},Bi.prototype.oa=function(){Oe(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,t1=function(){return new bs},Wv=function(){return na()},Jv=ge,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Lc=yr,vo.COMPLETE="complete",Zv=vo,su.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,bl=su,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,$v=te}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const u0="@firebase/firestore",c0="4.9.2";class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let co="12.3.0";const Xr=new xm("@firebase/firestore");function Ha(){return Xr.logLevel}function at(s,...t){if(Xr.logLevel<=Pt.DEBUG){const i=t.map(Mm);Xr.debug(`Firestore (${co}): ${s}`,...i)}}function os(s,...t){if(Xr.logLevel<=Pt.ERROR){const i=t.map(Mm);Xr.error(`Firestore (${co}): ${s}`,...i)}}function to(s,...t){if(Xr.logLevel<=Pt.WARN){const i=t.map(Mm);Xr.warn(`Firestore (${co}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Tt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,e1(s,r,i)}function e1(s,t,i){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw os(r),new Error(r)}function Xt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||e1(t,l,r)}function Rt(s,t){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class n1{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Hw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class Fw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Gw{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new n1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class Yw{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qw{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Yw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new h0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Xw(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function om(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Gd(l)===Gd(c)?Ut(l,c):Gd(l)?1:-1}return Ut(s.length,t.length)}const $w=55296,Zw=57343;function Gd(s){const t=s.charCodeAt(0);return t>=$w&&t<=Zw}function eo(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const f0="__name__";class Ci{constructor(t,i,r){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&Tt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ci.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const r=Ci.isNumericId(t),l=Ci.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class oe extends Ci{construct(t,i,r){return new oe(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ft(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const Jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ci{construct(t,i,r){return new Xe(t,i,r)}static isValidIdentifier(t){return Jw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new Xe([f0])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ft(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ft(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ft(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ft(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(oe.fromString(t))}static fromName(t){return new yt(oe.fromString(t).popFirst(5))}static empty(){return new yt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new oe(t.slice()))}}function i1(s,t,i){if(!i)throw new ft(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Ww(s,t,i,r){if(t===!0&&r===!0)throw new ft(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function d0(s){if(!yt.isDocumentKey(s))throw new ft(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function m0(s){if(yt.isDocumentKey(s))throw new ft(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function s1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Tt(12329,{type:typeof s})}function er(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ft(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(s);throw new ft(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function De(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ql(s,t){if(!s1(s))throw new ft(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ft(Z.INVALID_ARGUMENT,i);return!0}const p0=-62135596800,g0=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*g0);return new le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<p0)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-p0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:De("string",le._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function t2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new le(i+1,0):new le(i,r));return new sr(l,yt.empty(),t)}function e2(s){return new sr(s.readTime,s.key,kl)}class sr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new sr(At.min(),yt.empty(),kl)}static max(){return new sr(At.max(),yt.empty(),kl)}}function n2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const i2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==i2)throw s;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function r2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Lm=-1;function ph(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function a2(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const r1="";function o2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=y0(t)),t=l2(s.get(i),t);return y0(t)}function l2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case r1:i+="";break;default:i+=c}}return i}function y0(s){return s+r1+""}function _0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function cr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function a1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ke.RED,this.left=l??Ke.EMPTY,this.right=c??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ke(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(t){return new v0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class v0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new In([])}unionWith(t){let i=new Le(Xe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class o1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new o1("Invalid base64 string: "+c):c}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const u2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=u2.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?$e.fromBase64String(s):$e.fromUint8Array(s)}const l1="server_timestamp",u1="__type__",c1="__previous_value__",h1="__local_write_time__";function Pm(s){return(s?.mapValue?.fields||{})[u1]?.stringValue===l1}function gh(s){const t=s.mapValue.fields[c1];return Pm(t)?gh(t):t}function Ll(s){const t=rr(s.mapValue.fields[h1].timestampValue);return new le(t.seconds,t.nanos)}class c2{constructor(t,i,r,l,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const Xc="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}const f1="__type__",h2="__max__",Oc={mapValue:{}},d1="__vector__",$c="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:d2(s)?9007199254740991:f2(s)?10:11:Tt(28295,{value:s})}function Vi(s,t){if(s===t)return!0;const i=or(s);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ll(s).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ee(l.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ee(l.integerValue)===Ee(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ee(l.doubleValue),p=Ee(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return eo(s.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(_0(d)!==_0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Vi(d[_],p[_])))return!1;return!0})(s,t);default:return Tt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>Vi(i,t)))!==void 0}function no(s,t){if(s===t)return 0;const i=or(s),r=or(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ee(c.integerValue||c.doubleValue),_=Ee(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return E0(s.timestampValue,t.timestampValue);case 4:return E0(Ll(s),Ll(t));case 5:return om(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ar(c),_=ar(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=Ut(p[y],_[y]);if(T!==0)return T}return Ut(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Ee(c.latitude),Ee(d.latitude));return p!==0?p:Ut(Ee(c.longitude),Ee(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return T0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[$c]?.arrayValue,T=_[$c]?.arrayValue,A=Ut(y?.values?.length||0,T?.values?.length||0);return A!==0?A:T0(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const M=om(_[A],T[A]);if(M!==0)return M;const F=no(p[_[A]],y[T[A]]);if(F!==0)return F}return Ut(_.length,T.length)})(s.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function E0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=rr(s),r=rr(t),l=Ut(i.seconds,r.seconds);return l!==0?l:Ut(i.nanos,r.nanos)}function T0(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=no(i[l],r[l]);if(c)return c}return Ut(i.length,r.length)}function io(s){return lm(s)}function lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return yt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=lm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(s.mapValue):Tt(61005,{value:s})}function Pc(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return cr(r.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(s.mapValue);default:throw Tt(13486,{value:s})}}function um(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function b0(s){return!!s&&"nullValue"in s}function S0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function f2(s){return(s?.mapValue?.fields||{})[f1]?.stringValue===d1}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return cr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Il(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(s.arrayValue.values[i]);return t}return{...s}}function d2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===h2}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Xe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){cr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new yn(Il(this.value))}}function m1(s){const t=[];return cr(s.fields,((i,r)=>{const l=new Xe([i]);if(Uc(r)){const c=m1(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new In(t)}class en{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new en(t,0,At.min(),At.min(),At.min(),yn.empty(),0)}static newFoundDocument(t,i,r,l){return new en(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new en(t,2,i,At.min(),At.min(),yn.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,At.min(),At.min(),yn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function A0(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=yt.comparator(yt.fromName(d.referenceValue),i.key):r=no(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function w0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Vi(s.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function m2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class p1{}class Ve extends p1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new g2(t,i,r):i==="array-contains"?new v2(t,r):i==="in"?new E2(t,r):i==="not-in"?new T2(t,r):i==="array-contains-any"?new b2(t,r):new Ve(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new y2(t,r):new _2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends p1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ki(t,i)}matches(t){return g1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g1(s){return s.op==="and"}function y1(s){return p2(s)&&g1(s)}function p2(s){for(const t of s.filters)if(t instanceof ki)return!1;return!0}function cm(s){if(s instanceof Ve)return s.field.canonicalString()+s.op.toString()+io(s.value);if(y1(s))return s.filters.map((t=>cm(t))).join(",");{const t=s.filters.map((i=>cm(i))).join(",");return`${s.op}(${t})`}}function _1(s,t){return s instanceof Ve?(function(r,l){return l instanceof Ve&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,t):s instanceof ki?(function(r,l){return l instanceof ki&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&_1(d,l.filters[p])),!0):!1})(s,t):void Tt(19439)}function v1(s){return s instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(s):s instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(v1).join(" ,")+"}"})(s):"Filter"}class g2 extends Ve{constructor(t,i,r){super(t,i,r),this.key=yt.fromName(r.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class y2 extends Ve{constructor(t,i){super(t,"in",i),this.keys=E1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class _2 extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=E1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function E1(s,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class v2 extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Ul(i.arrayValue,this.value)}}class E2 extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class T2 extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class b2 extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ul(this.value.arrayValue,r)))}}class S2{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function R0(s,t=null,i=[],r=[],l=null,c=null,d=null){return new S2(s,t,i,r,l,c,d)}function jm(s){const t=Rt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>cm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>io(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>io(r))).join(",")),t.Te=i}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!m2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!_1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!w0(s.startAt,t.startAt)&&w0(s.endAt,t.endAt)}function hm(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A2(s,t,i,r,l,c,d,p){return new yh(s,t,i,r,l,c,d,p)}function Bm(s){return new yh(s)}function C0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function w2(s){return s.collectionGroup!==null}function xl(s){const t=Rt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Xe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,r))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new Jc(Xe.keyField(),r))}return t.Ie}function Ii(s){const t=Rt(s);return t.Ee||(t.Ee=R2(t,xl(s))),t.Ee}function R2(s,t){if(s.limitType==="F")return R0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return R0(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function fm(s,t,i){return new yh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _h(s,t){return zm(Ii(s),Ii(t))&&s.limitType===t.limitType}function T1(s){return`${jm(Ii(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>v1(l))).join(", ")}]`),ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):yt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of xl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=A0(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,xl(r),l)||r.endAt&&!(function(d,p,_){const y=A0(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,xl(r),l))})(s,t)}function C2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function b1(s){return(t,i)=>{let r=!1;for(const l of xl(s)){const c=I2(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function I2(s,t,i){const r=s.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?no(_,y):Tt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:s.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}const x2=new fe(yt.comparator);function ls(){return x2}const S1=new fe(yt.comparator);function Sl(...s){let t=S1;for(const i of s)t=t.insert(i.key,i);return t}function A1(s){let t=S1;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Fr(){return Nl()}function w1(){return Nl()}function Nl(){return new Jr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const N2=new fe(yt.comparator),D2=new Le(yt.comparator);function jt(...s){let t=D2;for(const i of s)t=t.add(i);return t}const O2=new Le(Ut);function M2(){return O2}function qm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function R1(s){return{integerValue:""+s}}function V2(s,t){return a2(t)?R1(t):qm(s,t)}class Eh{constructor(){this._=void 0}}function k2(s,t,i){return s instanceof Wc?(function(l,c){const d={fields:{[u1]:{stringValue:l1},[h1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=gh(c)),c&&(d.fields[c1]=c),{mapValue:d}})(i,t):s instanceof jl?I1(s,t):s instanceof zl?x1(s,t):(function(l,c){const d=C1(l,c),p=I0(d)+I0(l.Ae);return um(d)&&um(l.Ae)?R1(p):qm(l.serializer,p)})(s,t)}function L2(s,t,i){return s instanceof jl?I1(s,t):s instanceof zl?x1(s,t):i}function C1(s,t){return s instanceof th?(function(r){return um(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Wc extends Eh{}class jl extends Eh{constructor(t){super(),this.elements=t}}function I1(s,t){const i=N1(t);for(const r of s.elements)i.some((l=>Vi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class zl extends Eh{constructor(t){super(),this.elements=t}}function x1(s,t){let i=N1(t);for(const r of s.elements)i=i.filter((l=>!Vi(l,r)));return{arrayValue:{values:i}}}class th extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function I0(s){return Ee(s.integerValue||s.doubleValue)}function N1(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function P2(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof jl&&l instanceof jl||r instanceof zl&&l instanceof zl?eo(r.elements,l.elements,Vi):r instanceof th&&l instanceof th?Vi(r.Ae,l.Ae):r instanceof Wc&&l instanceof Wc})(s.transform,t.transform)}class U2{constructor(t,i){this.version=t,this.transformResults=i}}class ii{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Th{}function D1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Hm(s.key,ii.none()):new Kl(s.key,s.data,ii.none());{const i=s.data,r=yn.empty();let l=new Le(Xe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new hr(s.key,r,new In(l.toArray()),ii.none())}}function j2(s,t,i){s instanceof Kl?(function(l,c,d){const p=l.value.clone(),_=N0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof hr?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=N0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(O1(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(s,t,i,r){return s instanceof Kl?(function(c,d,p,_){if(!jc(c.precondition,d))return p;const y=c.value.clone(),T=D0(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof hr?(function(c,d,p,_){if(!jc(c.precondition,d))return p;const y=D0(c.fieldTransforms,_,d),T=d.data;return T.setAll(O1(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(c,d,p){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function z2(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=C1(r.transform,l||null);c!=null&&(i===null&&(i=yn.empty()),i.set(r.field,c))}return i||null}function x0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&eo(r,l,((c,d)=>P2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Kl extends Th{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends Th{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function O1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function N0(s,t,i){const r=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,L2(d,p,i[l]))}return r}function D0(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,k2(c,d,t))}return r}class Hm extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B2 extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class q2{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&j2(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Dl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Dl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=w1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=D1(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,r)=>x0(i,r)))&&eo(this.baseMutations,t.baseMutations,((i,r)=>x0(i,r)))}}class Fm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Xt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return N2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Fm(t,i,r,l)}}class H2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class F2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,qt;function G2(s){switch(s){case Z.OK:return Tt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Tt(15467,{code:s})}}function M1(s){if(s===void 0)return os("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ne.OK:return Z.OK;case Ne.CANCELLED:return Z.CANCELLED;case Ne.UNKNOWN:return Z.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Z.INTERNAL;case Ne.UNAVAILABLE:return Z.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Z.NOT_FOUND;case Ne.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ne.ABORTED:return Z.ABORTED;case Ne.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ne.DATA_LOSS:return Z.DATA_LOSS;default:return Tt(39323,{code:s})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function Y2(){return new TextEncoder}const Q2=new tr([4294967295,4294967295],0);function O0(s){const t=Y2().encode(s),i=new Xv;return i.update(t),new Uint8Array(i.digest())}function M0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new tr([i,r],0),new tr([l,c],0)]}class Gm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=tr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(tr.fromNumber(r)));return l.compare(Q2)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=O0(t),[r,l]=M0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Gm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=O0(t),[r,l]=M0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new bh(At.min(),l,new fe(Ut),ls(),jt())}}class Xl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Xl(r,i,jt(),jt(),jt())}}class zc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class V1{constructor(t,i){this.targetId=t,this.Ce=i}}class k1{constructor(t,i,r=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class V0{constructor(){this.ve=0,this.Fe=k0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),r=jt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Tt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=k0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ls(),this.Je=Mc(),this.He=Mc(),this.Ye=new fe(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(r===0){const d=new yt(c.path);this.et(i,d,en.newNoDocument(d,At.min()))}else Xt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ar(r).toUint8Array()}catch(_){if(_ instanceof o1)return to("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Gm(d,l,c)}catch(_){return to(_ instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const _=new yt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,en.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=jt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new bh(t,i,this.Ye,this.je,r);return this.je=ls(),this.Je=Mc(),this.He=Mc(),this.Ye=new fe(Ut),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new V0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new V0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new fe(yt.comparator)}function k0(){return new fe(yt.comparator)}const X2={asc:"ASCENDING",desc:"DESCENDING"},$2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z2={and:"AND",or:"OR"};class J2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(s,t){return s.useProto3Json||ph(t)?t:{value:t}}function eh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function L1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function W2(s,t){return eh(s,t.toTimestamp())}function xi(s){return Xt(!!s,49232),At.fromTimestamp((function(i){const r=rr(i);return new le(r.seconds,r.nanos)})(s))}function Ym(s,t){return mm(s,t).canonicalString()}function mm(s,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function P1(s){const t=oe.fromString(s);return Xt(q1(t),10190,{key:t.toString()}),t}function pm(s,t){return Ym(s.databaseId,t.path)}function Yd(s,t){const i=P1(t);if(i.get(1)!==s.databaseId.projectId)throw new ft(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ft(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new yt(j1(i))}function U1(s,t){return Ym(s.databaseId,t)}function tR(s){const t=P1(s);return t.length===4?oe.emptyPath():j1(t)}function gm(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function j1(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function L0(s,t,i){return{name:pm(s,t),fields:i.value.mapValue.fields}}function eR(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Xt(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Xt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:M1(y.code);return new ft(T,y.message||"")})(d);i=new k1(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),c=xi(r.document.updateTime),d=r.document.createTime?xi(r.document.createTime):At.min(),p=new yn({mapValue:{fields:r.document.fields}}),_=en.newFoundDocument(l,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new zc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),c=r.readTime?xi(r.readTime):At.min(),d=en.newNoDocument(l,c),p=r.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),c=r.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new F2(l,c),p=r.targetId;i=new V1(p,d)}}return i}function nR(s,t){let i;if(t instanceof Kl)i={update:L0(s,t.key,t.value)};else if(t instanceof Hm)i={delete:pm(s,t.key)};else if(t instanceof hr)i={update:L0(s,t.key,t.data),updateMask:hR(t.fieldMask)};else{if(!(t instanceof B2))return Tt(16599,{Vt:t.type});i={verify:pm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof th)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Tt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:W2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(s,t.precondition)),i}function iR(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?xi(l.updateTime):xi(c);return d.isEqual(At.min())&&(d=xi(c)),new U2(d,l.transformResults||[])})(i,t)))):[]}function sR(s,t){return{documents:[U1(s,t.path)]}}function rR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=U1(s,l);const c=(function(y){if(y.length!==0)return B1(ki.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(M){return{field:Ga(M.field),direction:lR(M.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function aR(s){let t=tR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const M=z1(A);return M instanceof ki&&y1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new Jc(Ya(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,ph(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(A){const M=!!A.before,F=A.values||[];return new Zc(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,F=A.values||[];return new Zc(F,M)})(i.endAt)),A2(t,l,d,c,p,"F",_,y)}function oR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function z1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ya(i.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ve.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((r=>z1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(s):Tt(30097,{filter:s})}function lR(s){return X2[s]}function uR(s){return $2[s]}function cR(s){return Z2[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Ya(s){return Xe.fromServerFormat(s.fieldPath)}function B1(s){return s instanceof Ve?(function(i){if(i.op==="=="){if(S0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(b0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(S0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(b0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:uR(i.op),value:i.value}}})(s):s instanceof ki?(function(i){const r=i.getFilters().map((l=>B1(l)));return r.length===1?r[0]:{compositeFilter:{op:cR(i.op),filters:r}}})(s):Tt(54877,{filter:s})}function hR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function q1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class $s{constructor(t,i,r,l,c=At.min(),d=At.min(),p=$e.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fR{constructor(t){this.yt=t}}function dR(s){const t=aR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fm(t,t.limit,"L"):t}class mR{constructor(){this.Cn=new pR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(sr.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class pR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Le(oe.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Le(oe.comparator)).toArray()}}const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H1=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(H1,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const U0="LruGarbageCollector",gR=1048576;function j0([s,t],[i,r]){const l=Ut(s,i);return l===0?Ut(t,r):l}class yR{constructor(t){this.Ir=t,this.buffer=new Le(j0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();j0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _R{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(U0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?at(U0,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class vR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(mh.ce);const r=new yR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(P0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(t,r,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),Ha()<=Pt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function ER(s,t){return new vR(s,t)}class TR{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class bR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class SR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Dl(r.mutation,l,In.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=jt()){const l=Fr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Sl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Fr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,jt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ls();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((_,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof hr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Dl(T.mutation,y,T.mutation.getFieldMask(),le.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new bR(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Nl();let l=new fe(((d,p)=>d-p)),c=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=r.get(_)||In.empty();T=p.applyToLocalView(y,T),r.set(_,T);const A=(l.get(p.batchId)||jt()).add(_);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,A=w1();T.forEach((M=>{if(!c.has(M)){const F=D1(i.get(M),r.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):w2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(Fr());let p=kl,_=c;return d.next((y=>X.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((M=>{_=_.insert(T,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,jt()))).next((T=>({batchId:p,changes:A1(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((r=>{let l=Sl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(A,M){return new yh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,en.newInvalidDocument(T)))}));let p=Sl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Dl(T.mutation,y,In.empty(),le.now()),vh(i,y)&&(p=p.insert(_,y))})),p}))}}class AR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:xi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:dR(l.bundledQuery),readTime:xi(l.readTime)}})(i)),X.resolve()}}class wR{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Fr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Fr(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new fe(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=Fr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Fr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return X.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new H2(i,r));let c=this.qr.get(i);c===void 0&&(c=jt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class RR{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Qm{constructor(){this.Qr=new Le(ze.$r),this.Ur=new Le(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ze(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ze(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new yt(new oe([])),r=new ze(i,t),l=new ze(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new oe([])),r=new ze(i,t),l=new ze(i,t+1);let c=jt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ze(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class CR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(ze.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new q2(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ze(i,0),l=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Le(Ut);return i.forEach((l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;yt.isDocumentKey(c)||(c=c.child(""));const d=new ze(new yt(c),0);let p=new Le(Ut);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new ze(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ze(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class IR{constructor(t){this.ri=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let r=ls();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():en.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ls();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||n2(e2(T),r)<=0||(l.has(T.key)||vh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){Tt(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new xR(this)}getSize(t){return X.resolve(this.size)}}class xR extends TR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class NR{constructor(t){this.persistence=t,this.si=new Jr((i=>jm(i)),zm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class F1{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new RR,this.referenceDelegate=t(this),this.Pi=new NR(this),this.indexManager=new mR,this.remoteDocumentCache=(function(l){return new IR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fR(i),this.Ii=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new wR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new CR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new DR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class DR extends s2{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Km(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=yt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.pi=new Jr((r=>o2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=ER(this,i)}static mi(t,i){return new nh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=jt(),l=jt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,r,l)}}class OR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class MR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:r2(sn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ha()<=Pt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ha()<=Pt.DEBUG&&at("QueryEngine","Query:",Fa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ha()<=Pt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):X.resolve())}ys(t,i){if(C0(i))return X.resolve(null);let r=Ii(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),r=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=jt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return C0(i)||l.isEqual(At.min())?X.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Ha()<=Pt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(t,d,i,t2(l,kl)).next((p=>p)))}))}Ds(t,i){let r=new Le(b1(t));return i.forEach(((l,c)=>{vh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ha()<=Pt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,sr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",VR=3e8;class kR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new fe(Ut),this.xs=new Jr((c=>jm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function LR(s,t,i,r){return new kR(s,t,i,r)}async function G1(s,t){const i=Rt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=jt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function PR(s,t){const i=Rt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const A=y.batch,M=A.keys();let F=X.resolve();return M.forEach((W=>{F=F.next((()=>T.getEntry(_,W))).next(($=>{const J=y.docVersions.get(W);Xt(J!==null,48541),$.version.compareTo(J)<0&&(A.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=jt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function Y1(s){const t=Rt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function UR(s,t){const i=Rt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((T,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken($e.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,r)),l=l.insert(A,F),(function($,J,lt){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=VR?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(M,F,T)&&p.push(i.Pi.updateTargetData(c,F))}));let _=ls(),y=jt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(jR(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!r.isEqual(At.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function jR(s,t,i){let r=jt(),l=jt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ls();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at($m,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function zR(s,t){const i=Rt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function BR(s,t){const i=Rt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new $s(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function ym(s,t,i){const r=Rt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;at($m,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function z0(s,t,i){const r=Rt(s);let l=At.min(),c=jt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const A=Rt(_),M=A.xs.get(T);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,T)})(r,d,Ii(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:jt()))).next((p=>(qR(r,C2(t),p),{documents:p,Qs:c})))))}function qR(s,t,i){let r=s.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class B0{constructor(){this.activeTargetIds=M2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HR{constructor(){this.Mo=new B0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new B0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FR{Oo(t){}shutdown(){}}const q0="ConnectivityMonitor";class H0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(q0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(q0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function _m(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Qd="RestConnection",GR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Xc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());at(Qd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),T=lo(y);return this.Jo(t,p,_,r,T).then((A=>(at(Qd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw to(Qd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=GR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class QR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const We="WebChannelConnection";class KR extends YR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=_m();return new Promise(((p,_)=>{const y=new $v;y.setWithCredentials(!0),y.listenOnce(Zv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Lc.NO_ERROR:const A=y.getResponseJson();at(We,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Lc.TIMEOUT:at(We,`RPC '${t}' ${d} timed out`),_(new ft(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const M=y.getStatus();if(at(We,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const $=(function(lt){const dt=lt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(dt)>=0?dt:Z.UNKNOWN})(W.status);_(new ft($,W.message))}else _(new ft(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ft(Z.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(We,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);at(We,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=t1(),p=Wv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const T=c.join("");at(We,`Creating RPC '${t}' stream ${l}: ${T}`,_);const A=d.createWebChannel(T,_);this.I_(A);let M=!1,F=!1;const W=new QR({Yo:J=>{F?at(We,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(M||(at(We,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),at(We,`RPC '${t}' stream ${l} sending:`,J),A.send(J))},Zo:()=>A.close()}),$=(J,lt,dt)=>{J.listen(lt,(ut=>{try{dt(ut)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return $(A,bl.EventType.OPEN,(()=>{F||(at(We,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),$(A,bl.EventType.CLOSE,(()=>{F||(F=!0,at(We,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(A))})),$(A,bl.EventType.ERROR,(J=>{F||(F=!0,to(We,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ft(Z.UNAVAILABLE,"The operation could not be completed")))})),$(A,bl.EventType.MESSAGE,(J=>{if(!F){const lt=J.data[0];Xt(!!lt,16349);const dt=lt,ut=dt?.error||dt[0]?.error;if(ut){at(We,`RPC '${t}' stream ${l} received error:`,ut);const ht=ut.status;let Ht=(function(w){const C=Ne[w];if(C!==void 0)return M1(C)})(ht),Nt=ut.message;Ht===void 0&&(Ht=Z.INTERNAL,Nt="Unknown error status: "+ht+" with message "+ut.message),F=!0,W.a_(new ft(Ht,Nt)),A.close()}else at(We,`RPC '${t}' stream ${l} received:`,lt),W.u_(lt)}})),$(p,Jv.STAT_EVENT,(J=>{J.stat===am.PROXY?at(We,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===am.NOPROXY&&at(We,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kd(){return typeof document<"u"?document:null}function Sh(s){return new J2(s,!0)}class Q1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const F0="PersistentStream";class K1{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ft(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(F0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(F0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XR extends K1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=eR(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?xi(d.readTime):At.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=hm(_)?{documents:sR(c,_)}:{query:rR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=L1(c,d.resumeToken);const y=dm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=eh(c,d.snapshotVersion.toTimestamp());const y=dm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=oR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=gm(this.serializer),i.removeTarget=t,this.q_(i)}}class $R extends K1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=iR(t.writeResults,t.commitTime),r=xi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=gm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>nR(this.serializer,r)))};this.q_(i)}}class ZR{}class JR extends ZR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(Z.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class tC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Wr(this)&&(at($r,"Restarting streams for network reachability change."),await(async function(_){const y=Rt(_);y.Ea.add(4),await $l(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Ra=new WR(r,l)}}async function Ah(s){if(Wr(s))for(const t of s.da)await t(!0)}async function $l(s){for(const t of s.da)await t(!1)}function X1(s,t){const i=Rt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tp(i)?Wm(i):mo(i).O_()&&Jm(i,t))}function Zm(s,t){const i=Rt(s),r=mo(i);i.Ia.delete(t),r.O_()&&$1(i,t),i.Ia.size===0&&(r.O_()?r.L_():Wr(i)&&i.Ra.set("Unknown"))}function Jm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(s).Y_(t)}function $1(s,t){s.Va.Ue(t),mo(s).Z_(t)}function Wm(s){s.Va=new K2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Ra.ua()}function tp(s){return Wr(s)&&!mo(s).x_()&&s.Ia.size>0}function Wr(s){return Rt(s).Ea.size===0}function Z1(s){s.Va=void 0}async function eC(s){s.Ra.set("Online")}async function nC(s){s.Ia.forEach(((t,i)=>{Jm(s,t)}))}async function iC(s,t){Z1(s),tp(s)?(s.Ra.ha(t),Wm(s)):s.Ra.set("Unknown")}async function sC(s,t,i){if(s.Ra.set("Online"),t instanceof k1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){at($r,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ih(s,r)}else if(t instanceof zc?s.Va.Ze(t):t instanceof V1?s.Va.st(t):s.Va.tt(t),!i.isEqual(At.min()))try{const r=await Y1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),$1(c,_);const A=new $s(T.target,_,y,T.sequenceNumber);Jm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){at($r,"Failed to raise snapshot:",r),await ih(s,r)}}async function ih(s,t,i){if(!fo(t))throw t;s.Ea.add(1),await $l(s),s.Ra.set("Offline"),i||(i=()=>Y1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at($r,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function J1(s,t){return t().catch((i=>ih(s,i,t)))}async function wh(s){const t=Rt(s),i=lr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;rC(t);)try{const l=await zR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,aC(t,l)}catch(l){await ih(t,l)}W1(t)&&tE(t)}function rC(s){return Wr(s)&&s.Ta.length<10}function aC(s,t){s.Ta.push(t);const i=lr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function W1(s){return Wr(s)&&!lr(s).x_()&&s.Ta.length>0}function tE(s){lr(s).start()}async function oC(s){lr(s).ra()}async function lC(s){const t=lr(s);for(const i of s.Ta)t.ea(i.mutations)}async function uC(s,t,i){const r=s.Ta.shift(),l=Fm.from(r,t,i);await J1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function cC(s,t){t&&lr(s).X_&&await(async function(r,l){if((function(d){return G2(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();lr(r).B_(),await J1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(r)}})(s,t),W1(s)&&tE(s)}async function G0(s,t){const i=Rt(s);i.asyncQueue.verifyOperationInProgress(),at($r,"RemoteStore received new credentials");const r=Wr(i);i.Ea.add(3),await $l(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function hC(s,t){const i=Rt(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(i,r,l){const c=Rt(i);return c.sa(),new XR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:eC.bind(null,s),t_:nC.bind(null,s),r_:iC.bind(null,s),H_:sC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),tp(s)?Wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),Z1(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,r,l){const c=Rt(i);return c.sa(),new $R(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:oC.bind(null,s),r_:cC.bind(null,s),ta:lC.bind(null,s),na:uC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(at($r,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ep{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new ep(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(s,t){if(os("AsyncQueue",`${t}: ${s}`),fo(s))return new ft(Z.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||yt.comparator(i.key,r.key):(i,r)=>yt.comparator(i.key,r.key),this.keyedMap=Sl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class Y0{constructor(){this.ga=new fe(yt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class ro{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ro(t,i,Ka.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class fC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class dC{constructor(){this.queries=Q0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Rt(i),c=l.queries;l.queries=Q0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new ft(Z.ABORTED,"Firestore shutting down"))}}function Q0(){return new Jr((s=>T1(s)),_h)}async function mC(s,t){const i=Rt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new fC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=np(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ip(i)}async function pC(s,t){const i=Rt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function gC(s,t){const i=Rt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&ip(i)}function yC(s,t,i){const r=Rt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function ip(s){s.Ca.forEach((t=>{t.next()}))}var vm,K0;(K0=vm||(vm={})).Ma="default",K0.Cache="cache";class _C{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ro(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class eE{constructor(t){this.key=t}}class nE{constructor(t){this.key=t}}class vC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=b1(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Y0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,A)=>{const M=l.get(T),F=vh(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),$=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?W!==$&&(r.track({type:3,doc:F}),J=!0):this.su(M,F)||(r.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!M&&F?(r.track({type:0,doc:F}),J=!0):M&&!F&&(r.track({type:1,doc:M}),J=!0,(_||y)&&(p=!0)),J&&(F?(d=d.add(F),c=$?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(F,W){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:J})}};return $(F)-$(W)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new nE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new eE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class EC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class TC{constructor(t){this.key=t,this.hu=!1}}class bC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>T1(p)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SC(s,t,i=!0){const r=lE(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await iE(r,t,i,!0),l}async function AC(s,t){const i=lE(s);await iE(i,t,!0,!1)}async function iE(s,t,i,r){const l=await BR(s.localStore,Ii(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await wC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&X1(s.remoteStore,l),p}async function wC(s,t,i,r,l){s.pu=(A,M,F)=>(async function($,J,lt,dt){let ut=J.view.ru(lt);ut.Cs&&(ut=await z0($.localStore,J.query,!1).then((({documents:x})=>J.view.ru(x,ut))));const ht=dt&&dt.targetChanges.get(J.targetId),Ht=dt&&dt.targetMismatches.get(J.targetId)!=null,Nt=J.view.applyChanges(ut,$.isPrimaryClient,ht,Ht);return $0($,J.targetId,Nt.au),Nt.snapshot})(s,A,M,F);const c=await z0(s.localStore,t,!0),d=new vC(t,c.Qs),p=d.ru(c.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);$0(s,i,y.au);const T=new EC(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function RC(s,t,i){const r=Rt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Zm(r.remoteStore,l.targetId),Em(r,l.targetId)})).catch(ho)):(Em(r,l.targetId),await ym(r.localStore,l.targetId,!0))}async function CC(s,t){const i=Rt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(i.remoteStore,r.targetId))}async function IC(s,t,i){const r=kC(s);try{const l=await(function(d,p){const _=Rt(d),y=le.now(),T=p.reduce(((F,W)=>F.add(W.key)),jt());let A,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=ls(),$=jt();return _.Ns.getEntries(F,T).next((J=>{W=J,W.forEach(((lt,dt)=>{dt.isValidDocument()||($=$.add(lt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,W))).next((J=>{A=J;const lt=[];for(const dt of p){const ut=z2(dt,A.get(dt.key).overlayedDocument);ut!=null&&lt.push(new hr(dt.key,ut,m1(ut.value.mapValue),ii.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,lt,p)})).next((J=>{M=J;const lt=J.applyToLocalDocumentSet(A,$);return _.documentOverlayCache.saveOverlays(F,J.batchId,lt)}))})).then((()=>({batchId:M.batchId,changes:A1(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new fe(Ut)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Zl(r,l.changes),await wh(r.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function sE(s,t){const i=Rt(s);try{const r=await UR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await Zl(i,r,t)}catch(r){await ho(r)}}function X0(s,t,i){const r=Rt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Rt(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,A)=>{for(const M of A.Sa)M.va(p)&&(y=!0)})),y&&ip(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xC(s,t,i){const r=Rt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new fe(yt.comparator);d=d.insert(c,en.newNoDocument(c,At.min()));const p=jt().add(c),_=new bh(At.min(),new Map,new fe(Ut),d,p);await sE(r,_),r.du=r.du.remove(c),r.Au.delete(t),rp(r)}else await ym(r.localStore,t,!1).then((()=>Em(r,t,i))).catch(ho)}async function NC(s,t){const i=Rt(s),r=t.batch.batchId;try{const l=await PR(i.localStore,t);aE(i,r,null),rE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(i,l)}catch(l){await ho(l)}}async function DC(s,t,i){const r=Rt(s);try{const l=await(function(d,p){const _=Rt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((A=>(Xt(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);aE(r,t,i),rE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Zl(r,l)}catch(l){await ho(l)}}function rE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function aE(s,t,i){const r=Rt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Em(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||oE(s,r)}))}function oE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Zm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),rp(s))}function $0(s,t,i){for(const r of i)r instanceof eE?(s.Ru.addReference(r.key,t),OC(s,r)):r instanceof nE?(at(sp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||oE(s,r.key)):Tt(19791,{wu:r})}function OC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(sp,"New document in limbo: "+i),s.Eu.add(r),rp(s))}function rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new yt(oe.fromString(t)),r=s.fu.next();s.Au.set(r,new TC(i)),s.du=s.du.insert(i,r),X1(s.remoteStore,new $s(Ii(Bm(i.path)),r,"TargetPurposeLimboResolution",mh.ce))}}async function Zl(s,t,i){const r=Rt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Xm.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const T=Rt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(M=>X.forEach(M.Es,(F=>T.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>T.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!fo(A))throw A;at($m,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const F=T.Ms.get(M),W=F.snapshotVersion,$=F.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(M,$)}}})(r.localStore,c))}async function MC(s,t){const i=Rt(s);if(!i.currentUser.isEqual(t)){at(sp,"User change. New user:",t.toKey());const r=await G1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ft(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Zl(i,r.Ls)}}function VC(s,t){const i=Rt(s),r=i.Au.get(t);if(r&&r.hu)return jt().add(r.key);{let l=jt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function lE(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=sE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.Pu.H_=gC.bind(null,t.eventManager),t.Pu.yu=yC.bind(null,t.eventManager),t}function kC(s){const t=Rt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DC.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return LR(this.persistence,new MR,t.initialUser,this.serializer)}Cu(t){return new F1(Km.mi,this.serializer)}Du(t){return new HR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class LC extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _R(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new F1((r=>nh.mi(r,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new dC})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),r=(function(c){return new KR(c)})(t.databaseInfo);return(function(c,d,p,_){return new JR(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new tC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>X0(this.syncEngine,i,0)),(function(){return H0.v()?new H0:new FR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,T){const A=new bC(l,c,d,p,_,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Rt(i);at($r,"RemoteStore shutting down."),r.Ea.add(5),await $l(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class PC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class UC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=np(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Xd(s,t){s.asyncQueue.verifyOperationInProgress(),at(ur,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await G1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Z0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await jC(s);at(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>G0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>G0(t.remoteStore,l))),s._onlineComponents=t}async function jC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(ur,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new sh)}}else at(ur,"Using default OfflineComponentProvider"),await Xd(s,new LC(void 0));return s._offlineComponents}async function uE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(ur,"Using user provided OnlineComponentProvider"),await Z0(s,s._uninitializedComponentsProvider._online)):(at(ur,"Using default OnlineComponentProvider"),await Z0(s,new Tm))),s._onlineComponents}function zC(s){return uE(s).then((t=>t.syncEngine))}async function J0(s){const t=await uE(s),i=t.eventManager;return i.onListen=SC.bind(null,t.syncEngine),i.onUnlisten=RC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=AC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=CC.bind(null,t.syncEngine),i}function cE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const W0=new Map;const hE="firestore.googleapis.com",tv=!0;class ev{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hE,this.ssl=tv}else this.host=t.host,this.ssl=t.ssl??tv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=H1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gR)throw new ft(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ww("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Hw;switch(r.type){case"firstParty":return new Qw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=W0.get(i);r&&(at("ComponentProvider","Removing Datastore"),W0.delete(i),r.terminate())})(this),Promise.resolve()}}function BC(s,t,i,r={}){s=er(s,Rh);const l=lo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(qv(`https://${p}`),Hv("Firestore",!0)),c.host!==hE&&c.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Qr(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=tn.MOCK_USER;else{y=dA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ft(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(A)}s._authCredentials=new Fw(new n1(y,T))}}class Ch{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class ke{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Ql(i,ke._jsonSchema))return new ke(t,r||null,new yt(oe.fromString(i.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:De("string",ke._jsonSchemaVersion),referencePath:De("string")};class nr extends Ch{constructor(t,i,r){super(t,i,Bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new yt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function nv(s,t,...i){if(s=Be(s),i1("collection","path",t),s instanceof Rh){const r=oe.fromString(t,...i);return m0(r),new nr(s,null,r)}{if(!(s instanceof ke||s instanceof nr))throw new ft(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(t,...i));return m0(r),new nr(s.firestore,null,r)}}function Bc(s,t,...i){if(s=Be(s),arguments.length===1&&(t=Vm.newId()),i1("doc","path",t),s instanceof Rh){const r=oe.fromString(t,...i);return d0(r),new ke(s,null,new yt(r))}{if(!(s instanceof ke||s instanceof nr))throw new ft(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(oe.fromString(t,...i));return d0(r),new ke(s.firestore,s instanceof nr?s.converter:null,new yt(r))}}const iv="AsyncQueue";class sv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q1(this,"async_queue_retry"),this._c=()=>{const r=Kd();r&&at(iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;at(iv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",rv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ep.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function rv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function av(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ao extends Rh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new sv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sv(t),this._firestoreClient=void 0,await t}}}function qC(s,t){const i=typeof s=="object"?s:Om(),r=typeof s=="string"?s:Xc,l=Dm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=hA("firestore");c&&BC(l,...c)}return l}function fE(s){if(s._terminated)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||HC(s),s._firestoreClient}function HC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new c2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,cE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new UC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn($e.fromBase64String(t))}catch(i){throw new ft(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:De("string",qn._jsonSchemaVersion),bytes:De("string")};class Ih{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ap{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:De("string",Ni._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new ft(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:De("string",Di._jsonSchemaVersion),vectorValues:De("object")};const FC=/^__.*__$/;class GC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class dE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function mE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:s})}}class op{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(mE(this.Ac)&&FC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class YC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Sh(t)}Cc(t,i,r,l=!1){return new op({Ac:t,methodName:i,Dc:r,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pE(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new YC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function QC(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);lp("Data must be an object, but it was:",d,r);const p=gE(r,d);let _,y;if(c.merge)_=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const M=bm(t,A,i);if(!d.contains(M))throw new ft(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);_E(T,M)||T.push(M)}_=new In(T),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new GC(new yn(p),_,y)}class xh extends ap{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}function KC(s,t,i,r){const l=s.Cc(1,t,i);lp("Data must be an object, but it was:",l,r);const c=[],d=yn.empty();cr(r,((_,y)=>{const T=up(t,_,i);y=Be(y);const A=l.yc(T);if(y instanceof xh)c.push(T);else{const M=Nh(y,A);M!=null&&(c.push(T),d.set(T,M))}}));const p=new In(c);return new dE(d,p,l.fieldTransforms)}function XC(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[bm(t,r,i)],_=[l];if(c.length%2!=0)throw new ft(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(bm(t,c[M])),_.push(c[M+1]);const y=[],T=yn.empty();for(let M=p.length-1;M>=0;--M)if(!_E(y,p[M])){const F=p[M];let W=_[M];W=Be(W);const $=d.yc(F);if(W instanceof xh)y.push(F);else{const J=Nh(W,$);J!=null&&(y.push(F),T.set(F,J))}}const A=new In(y);return new dE(T,A,d.fieldTransforms)}function Nh(s,t){if(yE(s=Be(s)))return lp("Unsupported field value:",t,s),gE(s,t);if(s instanceof ap)return(function(r,l){if(!mE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=Nh(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=le.fromDate(r);return{timestampValue:eh(l.serializer,c)}}if(r instanceof le){const c=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(l.serializer,c)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:L1(l.serializer,r._byteString)};if(r instanceof ke){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Di)return(function(d,p){return{mapValue:{fields:{[f1]:{stringValue:d1},[$c]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return qm(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${km(r)}`)})(s,t)}function gE(s,t){const i={};return a1(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(s,((r,l)=>{const c=Nh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function yE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof Ni||s instanceof qn||s instanceof ke||s instanceof ap||s instanceof Di)}function lp(s,t,i){if(!yE(i)||!s1(i)){const r=km(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function bm(s,t,i){if((t=Be(t))instanceof Ih)return t._internalPath;if(typeof t=="string")return up(s,t);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const $C=new RegExp("[~\\*/\\[\\]]");function up(s,t,i){if(t.search($C)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ih(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ft(Z.INVALID_ARGUMENT,p+s+_)}function _E(s,t){return s.some((i=>i.isEqual(t)))}class vE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(EE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZC extends vE{data(){return super.data()}}function EE(s,t){return typeof t=="string"?up(s,t):t instanceof Ih?t._internalPath:t._delegate._internalPath}function JC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ft(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WC{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return cr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((r=>Ee(r.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ni(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=gh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=rr(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=oe.fromString(t);Xt(q1(r),9688,{name:t});const l=new Pl(r.get(1),r.get(3)),c=new yt(r.popFirst(5));return l.isEqual(i)||os(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function tI(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yr extends vE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(EE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:De("string",Yr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class qc extends Yr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new qc(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:eI(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:s})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:De("string",Xa._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class TE extends WC{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,i)}}function ov(s,t,i,...r){s=er(s,ke);const l=er(s.firestore,ao),c=pE(l);let d;return d=typeof(t=Be(t))=="string"||t instanceof Ih?XC(c,"updateDoc",s._key,t,i,r):KC(c,"updateDoc",s._key,t),cp(l,[d.toMutation(s._key,ii.exists(!0))])}function nI(s){return cp(er(s.firestore,ao),[new Hm(s._key,ii.none())])}function iI(s,t){const i=er(s.firestore,ao),r=Bc(s),l=tI(s.converter,t);return cp(i,[QC(pE(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then((()=>r))}function sI(s,...t){s=Be(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||av(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(av(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof ke)d=er(s.firestore,ao),p=Bm(s._key.path),c={next:_=>{t[r]&&t[r](rI(d,s,_))},error:t[r+1],complete:t[r+2]};else{const _=er(s,Ch);d=er(_.firestore,ao),p=_._query;const y=new TE(d);c={next:T=>{t[r]&&t[r](new Xa(d,y,_,T))},error:t[r+1],complete:t[r+2]},JC(s._query)}return(function(y,T,A,M){const F=new PC(M),W=new _C(T,F,A);return y.asyncQueue.enqueueAndForget((async()=>mC(await J0(y),W))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>pC(await J0(y),W)))}})(fE(d),p,l,c)}function cp(s,t){return(function(r,l){const c=new Gr;return r.asyncQueue.enqueueAndForget((async()=>IC(await zC(r),l,c))),c.promise})(fE(s),t)}function rI(s,t,i){const r=i.docs.get(t._key),l=new TE(s);return new Yr(s,l,t._key,r,new wl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){co=l})(uo),Wa(new Kr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ao(new Gw(r.getProvider("auth-internal")),new Kw(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ws(u0,c0,t),Ws(u0,c0,"esm2020")})();function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aI=bE,SE=new Gl("auth","Firebase",bE());const ah=new xm("@firebase/auth");function oI(s,...t){ah.logLevel<=Pt.WARN&&ah.warn(`Auth (${uo}): ${s}`,...t)}function Hc(s,...t){ah.logLevel<=Pt.ERROR&&ah.error(`Auth (${uo}): ${s}`,...t)}function ri(s,...t){throw hp(s,...t)}function Oi(s,...t){return hp(s,...t)}function AE(s,t,i){const r={...aI(),[t]:i};return new Gl("auth","Firebase",r).create(t,{appName:s.name})}function ir(s){return AE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return SE.create(s,...t)}function Et(s,t,...i){if(!s)throw hp(t,...i)}function ss(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Hc(t),new Error(t)}function us(s,t){s||ss(t)}function Sm(){return typeof self<"u"&&self.location?.href||""}function lI(){return lv()==="http:"||lv()==="https:"}function lv(){return typeof self<"u"&&self.location?.protocol||null}function uI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lI()||vA()||"connection"in navigator)?navigator.onLine:!0}function cI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,us(i>t,"Short delay should be less than long delay!"),this.isMobile=gA()||EA()}get(){return uI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(s,t){us(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class wE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dI=new Jl(3e4,6e4);function ta(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fr(s,t,i,r,l={}){return RE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Yl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return _A()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&lo(s.emulatorConfig.host)&&(y.credentials="include"),wE.fetch()(await CE(s,s.config.apiHost,i,p),y)})}async function RE(s,t,i){s._canInitEmulator=!1;const r={...hI,...t};try{const l=new pI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw AE(s,T,y);ri(s,T)}}catch(l){if(l instanceof cs)throw l;ri(s,"network-request-failed",{message:String(l)})}}async function Dh(s,t,i,r,l={}){const c=await fr(s,t,i,r,l);return"mfaPendingCredential"in c&&ri(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function CE(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?fp(s.config,l):`${s.config.apiScheme}://${l}`;return fI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function mI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),dI.get())})}}function kc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Oi(s,t,r);return l.customData._tokenResponse=i,l}function uv(s){return s!==void 0&&s.enterprise!==void 0}class gI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return mI(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yI(s,t){return fr(s,"GET","/v2/recaptchaConfig",ta(s,t))}async function _I(s,t){return fr(s,"POST","/v1/accounts:delete",t)}async function oh(s,t){return fr(s,"POST","/v1/accounts:lookup",t)}function Ol(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vI(s,t=!1){const i=Be(s),r=await i.getIdToken(t),l=dp(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ol($d(l.auth_time)),issuedAtTime:Ol($d(l.iat)),expirationTime:Ol($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function dp(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Uv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function cv(s){const t=dp(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof cs&&EI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function EI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class TI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const t=s.auth,i=await s.getIdToken(),r=await Bl(s,oh(t,{idToken:i}));Et(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?IE(l.providerUserInfo):[],d=SI(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function bI(s){const t=Be(s);await lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SI(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function IE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function AI(s,t){const i=await RE(s,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await CE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&lo(s.emulatorConfig.host)&&(_.credentials="include"),wE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wI(s,t){return fr(s,"POST","/v2/accounts:revokeToken",ta(s,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=cv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await AI(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new $a;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Gs(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new TI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return vI(this,t)}reload(){return bI(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await Bl(this,_I(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:$}=i;Et(A&&$,t,"internal-error");const J=$a.fromJSON(this.name,$);Et(typeof A=="string",t,"internal-error"),Gs(r,t.name),Gs(l,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),Gs(c,t.name),Gs(d,t.name),Gs(p,t.name),Gs(_,t.name),Gs(y,t.name),Gs(T,t.name);const lt=new ni({uid:A,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:T});return W&&Array.isArray(W)&&(lt.providerData=W.map(dt=>({...dt}))),_&&(lt._redirectEventId=_),lt}static async _fromIdTokenResponse(t,i,r=!1){const l=new $a;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?IE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new $a;p.updateFromIdToken(r);const _=new ni({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const hv=new Map;function rs(s){us(s instanceof Function,"Expected a class definition");let t=hv.get(s);return t?(us(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,hv.set(s,t),t)}class xE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}xE.type="NONE";const fv=xE;function Fc(s,t,i){return`firebase:${s}:${t}:${i}`}class Za{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await oh(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Za(rs(fv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||rs(fv);const d=Fc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let A;if(typeof T=="string"){const M=await oh(t,{idToken:T}).catch(()=>{});if(!M)break;A=await ni._fromGetAccountInfoResponse(t,M,T)}else A=ni._fromJSON(t,T);y!==c&&(p=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,r))}}function dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ME(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kE(t))return"Blackberry";if(LE(t))return"Webos";if(DE(t))return"Safari";if((t.includes("chrome/")||OE(t))&&!t.includes("edge/"))return"Chrome";if(VE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function NE(s=sn()){return/firefox\//i.test(s)}function DE(s=sn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OE(s=sn()){return/crios\//i.test(s)}function ME(s=sn()){return/iemobile/i.test(s)}function VE(s=sn()){return/android/i.test(s)}function kE(s=sn()){return/blackberry/i.test(s)}function LE(s=sn()){return/webos/i.test(s)}function mp(s=sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function RI(s=sn()){return mp(s)&&!!window.navigator?.standalone}function CI(){return TA()&&document.documentMode===10}function PE(s=sn()){return mp(s)||VE(s)||LE(s)||kE(s)||/windows phone/i.test(s)||ME(s)}function UE(s,t=[]){let i;switch(s){case"Browser":i=dv(sn());break;case"Worker":i=`${dv(sn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${r}`}class II{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function xI(s,t={}){return fr(s,"GET","/v2/passwordPolicy",ta(s,t))}const NI=6;class DI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??NI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class OI{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new II(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await oh(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await lh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(ir(this));const i=t?Be(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xI(this),i=new DI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await wI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&oI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function po(s){return Be(s)}class mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=xA(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MI(s){Oh=s}function jE(s){return Oh.loadJS(s)}function VI(){return Oh.recaptchaEnterpriseScript}function kI(){return Oh.gapiScript}function LI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class PI{constructor(){this.enterprise=new UI}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class UI{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const jI="recaptcha-enterprise",zE="NO_RECAPTCHA";class zI{constructor(t){this.type=jI,this.auth=po(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{yI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new gI(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;uv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(zE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&uv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=VI();_.length!==0&&(_+=p),jE(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function pv(s,t,i,r=!1,l=!1){const c=new zI(s);let d;if(l)d=zE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function gv(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pv(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pv(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function BI(s,t){const i=Dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Qr(c,t??{}))return l;ri(l,"already-initialized")}return i.initialize({options:t})}function qI(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function HI(s,t,i){const r=po(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=BE(t),{host:d,port:p}=FI(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Qr(y,r.config.emulator)&&Qr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,lo(d)?(qv(`${c}//${d}${_}`),Hv("Auth",!0)):GI()}function BE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function FI(s){const t=BE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:yv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:yv(d)}}}function yv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function GI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class pp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function YI(s,t){return fr(s,"POST","/v1/accounts:signUp",t)}async function QI(s,t){return Dh(s,"POST","/v1/accounts:signInWithPassword",ta(s,t))}async function KI(s,t){return Dh(s,"POST","/v1/accounts:signInWithEmailLink",ta(s,t))}async function XI(s,t){return Dh(s,"POST","/v1/accounts:signInWithEmailLink",ta(s,t))}class ql extends pp{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new ql(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new ql(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(t,i,"signInWithPassword",QI);case"emailLink":return KI(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(t,r,"signUpPassword",YI);case"emailLink":return XI(t,{idToken:i,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ja(s,t){return Dh(s,"POST","/v1/accounts:signInWithIdp",ta(s,t))}const $I="http://localhost";class Zr extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Zr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ja(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:$I,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}function ZI(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JI(s){const t=El(Tl(s)).link,i=t?El(Tl(t)).deep_link_id:null,r=El(Tl(s)).deep_link_id;return(r?El(Tl(r)).link:null)||r||i||t||s}class gp{constructor(t){const i=El(Tl(t)),r=i.apiKey??null,l=i.oobCode??null,c=ZI(i.mode??null);Et(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=JI(t);try{return new gp(i)}catch{return null}}}class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(t,i){return ql._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=gp.parseLink(i);return Et(r,"argument-error"),ql._fromEmailAndCode(t,r.code,r.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wl extends qE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ys extends Wl{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";class Qs extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Qs.credential(i,r)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Ks extends Wl{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Xs extends Wl{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Xs.credential(i,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";class oo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ni._fromIdTokenResponse(t,r,l),d=_v(r);return new oo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=_v(r);return new oo({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function _v(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends cs{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new uh(t,i,r,l)}}function HE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,t,r):c})}async function WI(s,t,i=!1){const r=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return oo._forOperation(s,"link",r)}async function tx(s,t,i=!1){const{auth:r}=s;if(ei(r.app))return Promise.reject(ir(r));const l="reauthenticate";try{const c=await Bl(s,HE(r,l,t,s),i);Et(c.idToken,r,"internal-error");const d=dp(c.idToken);Et(d,r,"internal-error");const{sub:p}=d;return Et(s.uid===p,r,"user-mismatch"),oo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ri(r,"user-mismatch"),c}}async function FE(s,t,i=!1){if(ei(s.app))return Promise.reject(ir(s));const r="signIn",l=await HE(s,r,t),c=await oo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function ex(s,t){return FE(po(s),t)}async function nx(s){const t=po(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ix(s,t,i){return ei(s.app)?Promise.reject(ir(s)):ex(Be(s),go.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nx(s),r})}function sx(s,t,i,r){return Be(s).onIdTokenChanged(t,i,r)}function rx(s,t,i){return Be(s).beforeAuthStateChanged(t,i)}function ax(s,t,i,r){return Be(s).onAuthStateChanged(t,i,r)}function ox(s){return Be(s).signOut()}const ch="__sak";class GE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lx=1e3,ux=10;class YE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);CI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ux):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},lx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}YE.type="LOCAL";const cx=YE;class QE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}QE.type="SESSION";const KE=QE;function hx(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Mh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await hx(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function yp(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class fx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=yp("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function dx(s){Mi().location.href=s}function XE(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function mx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function px(){return navigator?.serviceWorker?.controller||null}function gx(){return XE()?self:null}const $E="firebaseLocalStorageDb",yx=1,hh="firebaseLocalStorage",ZE="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(s,t){return s.transaction([hh],t?"readwrite":"readonly").objectStore(hh)}function _x(){const s=indexedDB.deleteDatabase($E);return new tu(s).toPromise()}function wm(){const s=indexedDB.open($E,yx);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:ZE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?t(r):(r.close(),await _x(),t(await wm()))})})}async function vv(s,t,i){const r=Vh(s,!0).put({[ZE]:t,value:i});return new tu(r).toPromise()}async function vx(s,t){const i=Vh(s,!1).get(t),r=await new tu(i).toPromise();return r===void 0?null:r.value}function Ev(s,t){const i=Vh(s,!0).delete(t);return new tu(i).toPromise()}const Ex=800,Tx=3;class JE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Tx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(gx()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mx(),!this.activeServiceWorker)return;this.sender=new fx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||px()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await vv(t,ch,"1"),await Ev(t,ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>vv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>vx(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ev(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Vh(l,!1).getAll();return new tu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JE.type="LOCAL";const bx=JE;new Jl(3e4,6e4);function Sx(s,t){return t?rs(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class _p extends pp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ax(s){return FE(s.auth,new _p(s),s.bypassAuthState)}function wx(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),tx(i,new _p(s),s.bypassAuthState)}async function Rx(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),WI(i,new _p(s),s.bypassAuthState)}class WE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ax;case"linkViaPopup":case"linkViaRedirect":return Rx;case"reauthViaPopup":case"reauthViaRedirect":return wx;default:ri(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cx=new Jl(2e3,1e4);class Qa extends WE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Cx.get())};t()}}Qa.currentPopupAction=null;const Ix="pendingRedirect",Gc=new Map;class xx extends WE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Gc.get(this.auth._key());if(!t){try{const r=await Nx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Gc.set(this.auth._key(),t)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nx(s,t){const i=Mx(t),r=Ox(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Dx(s,t){Gc.set(s._key(),t)}function Ox(s){return rs(s._redirectPersistence)}function Mx(s){return Fc(Ix,s.config.apiKey,s.name)}async function Vx(s,t,i=!1){if(ei(s.app))return Promise.reject(ir(s));const r=po(s),l=Sx(r,t),d=await new xx(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const kx=600*1e3;class Lx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Px(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!tT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Oi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(t))}saveEventToCache(t){this.cachedEventUids.add(Tv(t)),this.lastProcessedEventTime=Date.now()}}function Tv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function tT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Px(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tT(s);default:return!1}}async function Ux(s,t={}){return fr(s,"GET","/v1/projects",t)}const jx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zx=/^https?/;async function Bx(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Ux(s);for(const i of t)try{if(qx(i))return}catch{}ri(s,"unauthorized-domain")}function qx(s){const t=Sm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!zx.test(i))return!1;if(jx.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const Hx=new Jl(3e4,6e4);function bv(){const s=Mi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Fx(s){return new Promise((t,i)=>{function r(){bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bv(),i(Oi(s,"network-request-failed"))},timeout:Hx.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)r();else{const l=LI("iframefcb");return Mi()[l]=()=>{gapi.load?r():i(Oi(s,"network-request-failed"))},jE(`${kI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Yc=null,t})}let Yc=null;function Gx(s){return Yc=Yc||Fx(s),Yc}const Yx=new Jl(5e3,15e3),Qx="__/auth/iframe",Kx="emulator/auth/iframe",Xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$x=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zx(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?fp(t,Kx):`https://${s.config.authDomain}/${Qx}`,r={apiKey:t.apiKey,appName:s.name,v:uo},l=$x.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Yl(r).slice(1)}`}async function Jx(s){const t=await Gx(s),i=Mi().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:Zx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Oi(s,"network-request-failed"),p=Mi().setTimeout(()=>{c(d)},Yx.get());function _(){Mi().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const Wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,eN=600,nN="_blank",iN="http://localhost";class Sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sN(s,t,i,r=tN,l=eN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...Wx,width:r.toString(),height:l.toString(),top:c,left:d},y=sn().toLowerCase();i&&(p=OE(y)?nN:i),NE(y)&&(t=t||iN,_.scrollbars="yes");const T=Object.entries(_).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(RI(y)&&p!=="_self")return rN(t||"",p),new Sv(null);const A=window.open(t||"",p,T);Et(A,s,"popup-blocked");try{A.focus()}catch{}return new Sv(A)}function rN(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const aN="__/auth/handler",oN="emulator/auth/handler",lN=encodeURIComponent("fac");async function Av(s,t,i,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:uo,eventId:l};if(t instanceof qE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",IA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(t instanceof Wl){const T=t.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),y=_?`#${lN}=${encodeURIComponent(_)}`:"";return`${uN(s)}?${Yl(p).slice(1)}${y}`}function uN({config:s}){return s.emulator?fp(s,oN):`https://${s.authDomain}/${aN}`}const Zd="webStorageSupport";class cN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KE,this._completeRedirectFn=Vx,this._overrideRedirectResult=Dx}async _openPopup(t,i,r,l){us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Av(t,i,r,Sm(),l);return sN(t,c,yp())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await Av(t,i,r,Sm(),l);return dx(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(us(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Jx(t),r=new Lx(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&i(!!c),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Bx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return PE()||DE()||mp()}}const hN=cN;var wv="@firebase/auth",Rv="1.11.1";class fN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mN(s){Wa(new Kr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(s)},y=new OI(r,l,c,_);return qI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Wa(new Kr("auth-internal",t=>{const i=po(t.getProvider("auth").getImmediate());return(r=>new fN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(wv,Rv,dN(s)),Ws(wv,Rv,"esm2020")}const pN=300,gN=Bv("authIdTokenMaxAge")||pN;let Cv=null;const yN=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>gN)return;const l=i?.token;Cv!==l&&(Cv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function _N(s=Om()){const t=Dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=BI(s,{popupRedirectResolver:hN,persistence:[bx,cx,KE]}),r=Bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=yN(c.toString());rx(i,d,()=>d(i.currentUser)),sx(i,p=>d(p))}}const l=jv("auth");return l&&HI(i,`http://${l}`),i}function vN(){return document.getElementsByTagName("head")?.[0]??document}MI({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Oi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",vN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mN("Browser");const EN={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Jd,Rl,is;try{Jd=Nw().length===0?Yv(EN):Om(),Rl=_N(Jd),is=qC(Jd)}catch(s){console.error("Firebase init error:",s)}const nn={glassCard:"bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",glassShine:"after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",input:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner backdrop-blur-sm transition-all",btnPrimary:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r active:scale-95 transition-all"},TN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[],packingList:[],shoppingList:[]},Iv=({message:s,type:t,onClose:i})=>(St.useEffect(()=>{const r=setTimeout(i,3e3);return()=>clearTimeout(r)},[i]),S.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${t==="error"?"bg-red-500/95":"bg-gray-800/90"} min-w-[300px] justify-center`,children:[t==="error"?S.jsx(nS,{size:18}):S.jsx(Jb,{size:18}),S.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})),ea=({title:s,onClose:t,children:i,className:r="max-w-sm",hideClose:l=!1,actionRight:c})=>S.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[S.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:t}),S.jsxs("div",{className:`relative ${nn.glassCard} rounded-[2.5rem] p-6 w-full flex flex-col transform transition-all scale-100 ${r}`,children:[S.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),S.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[S.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:s}),S.jsxs("div",{className:"flex gap-2",children:[c,!l&&S.jsx("button",{onClick:t,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:S.jsx(tA,{size:20,className:"text-gray-700"})})]})]}),S.jsx("div",{className:"relative z-10 flex-1 overflow-y-auto scrollbar-hide",children:i})]})]}),si=({label:s,icon:t,color:i="text-gray-400",...r})=>S.jsxs("div",{className:"mb-4",children:[s&&S.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:s}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${i}`,children:S.jsx(t,{size:18})}),S.jsx("input",{className:nn.input,...r})]})]}),vp=({title:s,subtitle:t,leftAction:i,rightAction:r,bgImage:l,themeColor:c,coverOffsetY:d=50,coverScale:p=1})=>S.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[S.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[l?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-full h-full overflow-hidden relative",children:S.jsx("img",{src:l,className:"w-full h-full object-cover transition-transform duration-700",style:{objectPosition:`center ${d}%`,transform:`scale(${p})`},alt:"",onError:_=>_.target.style.display="none"})}),S.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):S.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),S.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),S.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[i,S.jsxs("div",{className:"drop-shadow-sm",children:[S.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),t&&S.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:t})]})]}),S.jsx("div",{className:"scale-90 origin-right",children:r})]})]}),bN=({title:s,message:t,onConfirm:i,onCancel:r})=>S.jsxs(ea,{title:s,onClose:r,className:"max-w-xs text-center",hideClose:!0,children:[S.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100/80 text-red-500 rounded-2xl flex items-center justify-center mb-4 shadow-inner border border-white/50",children:S.jsx(KS,{size:32})}),S.jsx("p",{className:"text-sm text-gray-600 font-bold mb-6 leading-relaxed opacity-80",children:t}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-2xl font-bold text-gray-600 bg-white/40 border border-white/50 active:scale-95",children:""}),S.jsxs("button",{onClick:i,className:"flex-1 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/30 active:scale-95 flex items-center justify-center gap-2",children:[S.jsx(Im,{size:16})," "]})]})]}),SN=({trip:s,onClose:t,onSave:i,onPreviewChange:r})=>{const[l,c]=St.useState({destination:"",date:"",coverImage:"",coverOffsetY:50,coverScale:1,...s}),[d,p]=St.useState(!1),_=St.useRef(null),y=St.useRef(!1),T=St.useRef(0),A=St.useRef(0);St.useEffect(()=>{r?.(l)},[l,r]);const M=async $=>{const J=$.target.files[0];if(!J)return;p(!0);const lt=new FileReader;lt.readAsDataURL(J),lt.onload=dt=>{const ut=new Image;ut.src=dt.target.result,ut.onload=()=>{const ht=document.createElement("canvas"),Ht=800/Math.max(ut.width,800);ht.width=ut.width*Ht,ht.height=ut.height*Ht,ht.getContext("2d").drawImage(ut,0,0,ht.width,ht.height),c(Nt=>({...Nt,coverImage:ht.toDataURL("image/jpeg",.7),coverOffsetY:50,coverScale:1})),p(!1)}}},F=$=>{l.coverImage&&(y.current=!0,T.current=$.clientY||$.touches[0].clientY,A.current=l.coverOffsetY)},W=$=>{if(!y.current)return;const J=$.clientY||$.touches&&$.touches[0].clientY;if(!J)return;const lt=(T.current-J)/160*100/(1.5*l.coverScale);c(dt=>({...dt,coverOffsetY:Math.max(0,Math.min(100,A.current+lt))}))};return St.useEffect(()=>{const $=()=>y.current=!1;return window.addEventListener("mouseup",$),window.addEventListener("touchend",$),()=>{window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)}},[]),S.jsxs(ea,{title:"",onClose:t,className:"max-h-[90vh]",children:[S.jsx(si,{label:"",icon:Wd,value:l.destination,onChange:$=>c({...l,destination:$.target.value}),name:"destination"}),S.jsx(si,{label:"",icon:Cm,value:l.date,onChange:$=>c({...l,date:$.target.value}),name:"date",placeholder:"YYYY/MM/DD"}),S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),S.jsxs("div",{className:"flex gap-2 mb-2",children:[S.jsxs("button",{onClick:()=>_.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 shadow-md",children:[d?S.jsx(fh,{className:"animate-spin",size:14}):S.jsx($S,{size:14})," "]}),S.jsx("input",{type:"file",ref:_,className:"hidden",accept:"image/*",onChange:M})]}),S.jsx(si,{icon:gS,value:l.coverImage,onChange:$=>c({...l,coverImage:$.target.value}),placeholder:"..."}),l.coverImage&&S.jsxs("div",{className:"mt-1",children:[S.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1 text-[10px] text-gray-500",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(xS,{size:10})," "]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(nA,{size:10})," : ",l.coverScale,"x"]})]}),S.jsx("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:F,onMouseMove:W,onTouchStart:F,onTouchMove:W,children:S.jsx("img",{src:l.coverImage,className:"w-full h-full object-cover pointer-events-none select-none",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},alt:""})}),S.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:$=>c(J=>({...J,coverScale:parseFloat($.target.value)})),className:"w-full h-1.5 mt-3 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]}),S.jsxs("button",{onClick:()=>i(s.id,l),className:`${nn.btnPrimary} from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 mt-4`,children:[S.jsx(LS,{size:18})," "]})]})},AN=({trips:s,activeTripId:t,onSelectTrip:i,onDeleteTrip:r,onExportTrip:l,onEditTrip:c,onOpenImport:d,onClose:p,userEmail:_,onLogout:y})=>S.jsxs(ea,{title:"",onClose:p,className:"max-h-[85vh]",children:[S.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center",children:[S.jsxs("div",{className:"overflow-hidden",children:[S.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),S.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:_})]}),S.jsxs("button",{onClick:y,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 flex items-center gap-1 shrink-0",children:[S.jsx(bS,{size:12})," "]})]}),S.jsxs("div",{className:"space-y-3 mb-4",children:[s.length===0&&S.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(T=>S.jsxs("div",{onClick:()=>i(T.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all flex items-center gap-3 ${t===T.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[S.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${T.coverImage?"":`bg-gradient-to-br ${T.themeColor}`}`,children:T.coverImage?S.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${T.coverOffsetY}%`,transform:`scale(${T.coverScale})`},alt:""}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:S.jsx(mS,{size:20})})}),S.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[S.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:T.destination||""}),S.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[S.jsx(Cm,{size:12,className:"mr-1"}),T.date||"--/--"]})]}),S.jsxs("div",{className:"flex items-center gap-1 z-20",children:[S.jsx("button",{onClick:A=>{A.stopPropagation(),c(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",children:S.jsx(Mv,{size:18})}),S.jsx("button",{onClick:A=>{A.stopPropagation(),l(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",children:S.jsx(cS,{size:18})}),S.jsx("button",{onClick:A=>{A.stopPropagation(),r(T.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:S.jsx(Im,{size:18})})]})]},T.id))]}),S.jsxs("button",{onClick:d,className:`${nn.btnPrimary} from-blue-600 to-indigo-600 shadow-blue-500/30 mt-auto`,children:[S.jsx(sS,{size:20})," /"]})]}),wN=({onClose:s,onImport:t,isLoading:i})=>{const[r,l]=St.useState("json"),[c,d]=St.useState("");return S.jsxs(ea,{title:"",onClose:s,children:[S.jsx("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4",children:["json","url"].map(p=>S.jsx("button",{onClick:()=>l(p),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r===p?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:p==="json"?" JSON":""},p))}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:r==="json"?S.jsx("textarea",{value:c,onChange:p=>d(p.target.value),placeholder:" AI  JSON...",className:`h-32 resize-none ${nn.input} bg-white/80`}):S.jsx("input",{value:c,onChange:p=>d(p.target.value),placeholder:"https://...",className:`${nn.input} bg-white/80`})}),S.jsx("button",{onClick:()=>t(c,r),disabled:!c.trim()||i,className:`${nn.btnPrimary} ${!c.trim()||i?"bg-gray-400/50 cursor-not-allowed":"from-blue-600 to-indigo-600 shadow-blue-500/30"}`,children:i?S.jsxs(S.Fragment,{children:[S.jsx(fh,{className:"animate-spin",size:16})," ..."]}):S.jsxs(S.Fragment,{children:[S.jsx(aS,{size:16})," "]})})]})]})},RN=({flights:s,onClose:t})=>S.jsx(ea,{title:"",onClose:t,children:s&&s.length>0?S.jsx("div",{className:"space-y-4",children:s.map((i,r)=>S.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[S.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:S.jsx(tm,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),S.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[S.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),S.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),S.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:i.fromCity}),S.jsx("p",{className:"text-3xl font-black",children:i.fromCode}),S.jsx("p",{className:"text-sm font-bold opacity-80",children:i.fromTime})]}),S.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[S.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),S.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:S.jsx(tm,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:i.toCity}),S.jsx("p",{className:"text-3xl font-black",children:i.toCode}),S.jsxs("p",{className:"text-sm font-bold opacity-80",children:[i.toTime,i.nextDay&&S.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):S.jsx("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:S.jsx("p",{className:"text-gray-600 font-bold",children:""})})}),CN=({type:s,data:t,onClose:i,onSave:r})=>{const[l,c]=St.useState(t),d=s==="shopping",p=d?"pink":"blue";return S.jsxs(ea,{title:d?"":"",onClose:i,children:[S.jsx(si,{label:"",icon:d?Hl:Fl,value:l.item,onChange:_=>c({...l,item:_.target.value}),color:`text-${p}-500`,autoFocus:!0}),S.jsx(si,{label:"",icon:kv,value:l.category||"",onChange:_=>c({...l,category:_.target.value}),color:`text-${p}-500`,placeholder:""}),d&&S.jsx(si,{label:"",icon:Ov,value:l.note||"",onChange:_=>c({...l,note:_.target.value}),color:`text-${p}-500`,placeholder:""}),S.jsx("button",{onClick:()=>r(l),disabled:!l.item.trim(),className:`${nn.btnPrimary} ${l.item.trim()?`from-${p}-500 to-${d?"rose":"indigo"}-600 shadow-${p}-500/30`:"bg-gray-400/50 cursor-not-allowed"}`,children:""})]})},xv=({type:s,onClose:t,onAdd:i})=>{const[r,l]=St.useState(""),[c,d]=St.useState(""),[p,_]=St.useState(""),y=s==="shopping",T=y?"pink":"blue";return S.jsxs(ea,{title:y?"":"",onClose:t,children:[S.jsx(si,{label:"",icon:y?Hl:Fl,value:r,onChange:A=>l(A.target.value),color:`text-${T}-500`,autoFocus:!0}),!y&&S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),S.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(A=>S.jsx("button",{onClick:()=>d(A),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${c===A?"bg-blue-500 text-white border-blue-500 shadow-md":"bg-white/30 text-gray-600 border-white/40"}`,children:A},A))})]}),S.jsx(si,{label:"",icon:kv,value:c,onChange:A=>d(A.target.value),color:`text-${T}-400`,placeholder:""}),y&&S.jsx(si,{label:"",icon:Ov,value:p,onChange:A=>_(A.target.value),color:`text-${T}-400`,placeholder:""}),S.jsxs("button",{onClick:()=>r.trim()&&i(r,c,p),disabled:!r.trim(),className:`${nn.btnPrimary} ${r.trim()?`from-${T}-500 to-${y?"rose":"indigo"}-600 shadow-${T}-500/30`:"bg-gray-400/50 cursor-not-allowed"}`,children:[S.jsx(Vv,{size:20}),""]})]})},IN=({item:s,type:t,onToggle:i,onEdit:r,onDelete:l})=>{const c=t==="shopping",d=c?"pink":"blue";return S.jsxs("div",{onClick:()=>i(s.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${s.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[S.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${s.checked?`bg-${d}-500 text-white scale-100`:`bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-${d}-100 group-hover:text-${d}-400`}`,children:S.jsx(Fl,{size:18,strokeWidth:3})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${s.checked?`text-gray-500 line-through decoration-2 decoration-${d}-300`:"text-gray-800"}`,children:s.item}),S.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[s.category&&S.jsx("span",{className:`text-[10px] font-bold ${c?"text-pink-600 bg-pink-100/80 border-pink-200/50":"text-gray-500 bg-white/40"} px-2 py-0.5 rounded-md border border-transparent`,children:s.category}),s.note&&S.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:s.note})]})]}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("button",{onClick:p=>{p.stopPropagation(),r(s)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:S.jsx(Mv,{size:18})}),S.jsx("button",{onClick:p=>{p.stopPropagation(),l(s.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:S.jsx(Im,{size:18})})]})]})},xN=({currentTrip:s,daysLeft:t,setActiveTab:i,setShowFlightModal:r,onRequestDelete:l,openEditModal:c,setShowTripListModal:d,onEditCurrentTrip:p,onScroll:_,previewTrip:y})=>{const T=y||s,A=(M,F,W,$)=>S.jsxs("div",{onClick:()=>i(M),className:`${nn.glassCard} ${nn.glassShine} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(${$==="pink"?"236,72,153":"59,130,246"},0.3)] flex items-center gap-4 h-24`,children:[S.jsx("div",{className:`bg-${$}-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-${$}-500 shadow-inner border border-white/50 shrink-0`,children:W}),S.jsxs("div",{className:"overflow-hidden",children:[S.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:M==="shopping"?"":""}),S.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[s?F.filter(J=>!J.checked).length:0," "]})]})]});return S.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:_,children:[S.jsx(vp,{title:"",subtitle:"Ready for next trip?",leftAction:S.jsx("button",{onClick:()=>d(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:S.jsx(_S,{size:24,strokeWidth:2.5})}),rightAction:s&&S.jsx("button",{onClick:p,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:S.jsx(US,{size:22,strokeWidth:2.5})}),setActiveTab:i,bgImage:T?.coverImage,themeColor:T?.themeColor,coverOffsetY:T?.coverOffsetY,coverScale:T?.coverScale}),S.jsxs("div",{className:"px-6 mt-4",children:[!T||!T.date||T.date==="----/--/--"?S.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[S.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),S.jsx("p",{className:"text-sm text-gray-500",children:"  "})]}):S.jsxs("div",{onClick:()=>i("itinerary"),className:`group ${nn.glassCard} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${nn.glassShine} relative`,children:[S.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[T.coverImage&&S.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${T.coverOffsetY||50}%`,transform:`scale(${T.coverScale||1})`},alt:"",onError:M=>M.target.style.display="none"},T.coverImage),S.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${T.themeColor} ${T.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),S.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:[S.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),S.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:T.destination}),S.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[S.jsx(Cm,{size:14,className:"mr-2"}),T.date]})]})]}),S.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),S.jsxs("div",{className:"flex items-baseline",children:[S.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:t(T.date)}),S.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),S.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:S.jsx(tS,{size:28})})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[A("shopping",s?.shoppingList||[],S.jsx(Hl,{size:24}),"pink"),A("packing",s?.packingList||[],S.jsx(Fl,{size:24}),"blue")]})]})]})},NN=({currentTrip:s,setActiveTab:t,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l,onScroll:c})=>{const d=s?.days?.length?r(s):null;return S.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:c,children:[S.jsx(vp,{title:"",subtitle:s?.destination,showBack:!0,rightAction:S.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:S.jsx(tm,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:t,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),S.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days?.length)&&S.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s?.days?.map((p,_)=>S.jsxs("div",{className:"relative pl-4",children:[_!==s.days.length-1&&S.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),S.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[S.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[S.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),S.jsx("span",{className:"text-xl font-black leading-none",children:p.day})]}),S.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:p.title})]}),S.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:p.activities.map((y,T)=>{const A=d===y.id,M={sightseeing:$b,food:lS,transport:GS,shopping:Hl,relax:qS}[y.type]||Wd;return S.jsxs("div",{ref:F=>l.current[y.id]=F,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${A?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[S.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${A?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${y.type==="transport"?"bg-purple-400":y.type==="food"?"bg-orange-400":y.type==="shopping"?"bg-pink-400":y.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:A&&S.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:y.time}),A&&S.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),S.jsx("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:S.jsx(M,{size:14,className:"text-gray-500"})})]}),S.jsxs("div",{className:"flex justify-between items-end gap-2",children:[S.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:y.title}),S.jsx("button",{onClick:F=>{F.stopPropagation(),window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(y.title)}`,"_blank")},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0",children:S.jsx(Wd,{size:18,strokeWidth:2.5})})]})]},T)})})]},_))]})]})},Nv=({title:s,type:t,currentTrip:i,setActiveTab:r,onOpenAdd:l,onToggle:c,onDelete:d,onEdit:p,onScroll:_})=>{const y=t==="shopping",A=i?.[y?"shoppingList":"packingList"]||[],[M,F]=St.useState(""),[W,$]=St.useState(!1),J=["",...new Set(A.map(ht=>ht.category||"").filter(ht=>ht))],lt=[...A].filter(ht=>M===""?!0:(ht.category||"")===M).sort((ht,Ht)=>W?(ht.category||"").localeCompare(Ht.category||"","zh-Hant"):0),dt=A.length?Math.round(A.filter(ht=>ht.checked).length/A.length*100):0,ut=y?"pink":"blue";return S.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:_,children:[S.jsx(vp,{title:s,subtitle:i?.destination,showBack:!0,setActiveTab:r,bgImage:i?.coverImage,themeColor:i?.themeColor,coverOffsetY:i?.coverOffsetY,coverScale:i?.coverScale}),S.jsxs("div",{className:"px-6 mt-4",children:[S.jsxs("div",{className:`${nn.glassCard} rounded-[2.5rem] p-6 mb-6`,children:[S.jsxs("div",{className:"flex justify-between items-end mb-4",children:[S.jsxs("div",{children:[S.jsx("span",{className:`text-${ut}-500 font-black tracking-wider text-xs uppercase drop-shadow-sm`,children:"Progress"}),S.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[dt,"%"]})]}),S.jsx("button",{onClick:l,className:`bg-gradient-to-br from-${ut}-500 to-${y?"rose":"indigo"}-600 text-white p-4 rounded-2xl shadow-lg shadow-${ut}-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-${ut}-500/50`,children:S.jsx(Vv,{size:24,strokeWidth:3})})]}),S.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:S.jsx("div",{className:`bg-gradient-to-r from-${ut}-400 to-${y?"rose":"indigo"}-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(${y?"236,72,153":"59,130,246"},0.5)]`,style:{width:`${dt}%`}})})]}),y&&S.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 sticky top-0 z-10 py-2 -mx-1",children:[S.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1 mr-2 pb-1 mask-linear-fade pr-4",onTouchStart:ht=>ht.stopPropagation(),onTouchMove:ht=>ht.stopPropagation(),children:J.map(ht=>S.jsx("button",{onClick:()=>F(ht),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${M===ht?"bg-pink-500 text-white border-pink-500 shadow-md":"bg-white/60 text-gray-600 border-white/40"}`,children:ht},ht))}),S.jsx("button",{onClick:()=>$(!W),className:`p-2 rounded-xl transition-all shrink-0 border ${W?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40"}`,children:S.jsx(Qb,{size:18})})]}),S.jsx("div",{className:"space-y-4 pb-4",children:lt.length?lt.map(ht=>S.jsx(IN,{item:ht,type:t,onToggle:c,onEdit:p,onDelete:d},ht.id)):S.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""})})]})]})},DN=({onLogin:s,isLoading:t})=>{const[i,r]=St.useState(""),[l,c]=St.useState("");return S.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[S.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),S.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),S.jsxs("div",{className:`relative ${nn.glassCard} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[S.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:S.jsx(JS,{size:40})}),S.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),S.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),S.jsxs("div",{className:"w-full mb-6",children:[S.jsx(si,{icon:AS,value:i,onChange:d=>r(d.target.value),placeholder:""}),S.jsx(si,{icon:ES,value:l,onChange:d=>c(d.target.value),placeholder:"",type:"password"})]}),S.jsx("button",{onClick:()=>s(i,l),disabled:t||!i||!l,className:`${nn.btnPrimary} from-blue-600 to-indigo-600 ${!i||!l?"bg-gray-300 cursor-not-allowed":"hover:shadow-blue-500/40"}`,children:t?S.jsx(fh,{className:"animate-spin"}):""})]})]})};function ON(){const[s,t]=St.useState("home"),[i,r]=St.useState(null),[l,c]=St.useState(!1),[d,p]=St.useState(!0),_=St.useRef(0),[y,T]=St.useState([]),[A,M]=St.useState(null),[F,W]=St.useState(!1),[$,J]=St.useState({flight:!1,addShop:!1,addPack:!1,import:!1,tripList:!1,editTrip:!1}),[lt,dt]=St.useState(null),[ut,ht]=St.useState(null),[Ht,Nt]=St.useState(null),[x,w]=St.useState({show:!1,type:null,id:null,name:""}),[C,V]=St.useState({show:!1,message:"",type:"success"}),D=St.useRef({}),k=(tt,it="success")=>{V({show:!0,message:tt,type:it})},R=(tt,it)=>J(gt=>({...gt,[tt]:it})),$t=tt=>{const it=tt.currentTarget.scrollTop;Math.abs(it-_.current)>10&&(p(it-_.current<=0),_.current=it)};St.useEffect(()=>p(!0),[s]),St.useEffect(()=>{if(Rl)return ax(Rl,tt=>{r(tt),tt&&k(` ${tt.email}`),c(!0)})},[]);const pe=async(tt,it)=>{W(!0);try{await ix(Rl,tt,it)}catch{k("","error")}finally{W(!1)}};St.useEffect(()=>{if(!(!i||!is))return sI(nv(is,"users",i.uid,"trips"),tt=>{const it=tt.docs.map(gt=>({id:gt.id,...gt.data()})).sort((gt,ue)=>new Date(gt.date)-new Date(ue.date));T(it),M(gt=>gt&&it.find(ue=>ue.id===gt)?gt:it[0]?.id)})},[i]);const H=y.find(tt=>tt.id===A)||null,nt=async tt=>{if(!(!is||!i||!A))try{await ov(Bc(is,"users",i.uid,"trips",A),tt(H))}catch{k("","error")}},mt=()=>{const{type:tt,id:it}=x,gt=tt==="shopping"?"shoppingList":"packingList";nt(ue=>({...ue,[gt]:(ue[gt]||[]).filter(Ze=>Ze.id!==it)})),k(""),w({show:!1,type:null,id:null,name:""})},zt=async(tt,it)=>{if(!(!is||!i)){W(!0);try{const gt=it==="url"?await(await fetch(tt)).json():JSON.parse(tt),ue=Array.isArray(gt)?gt:[gt];await Promise.all(ue.map(Ze=>iI(nv(is,"users",i.uid,"trips"),{...TN,...Ze,id:void 0}))),R("import",!1),R("tripList",!1),k(` ${ue.length} `)}catch{k("","error")}finally{W(!1)}}},Yt=tt=>{const it=lt.type==="shopping"?"shoppingList":"packingList";nt(gt=>({...gt,[it]:(gt[it]||[]).map(ue=>ue.id===tt.id?tt:ue)})),dt(null),k("")},O=(tt,it,gt,ue)=>{const Ze=tt==="shopping"?"shoppingList":"packingList";nt(ln=>({...ln,[Ze]:[...ln[Ze]||[],{id:Date.now(),item:it,category:gt||"",note:ue,checked:!1}]})),R(tt==="shopping"?"addShop":"addPack",!1),k("")},Y=St.useRef(null),[st,rt]=St.useState(0),_t=["home","itinerary","shopping","packing"],bt=_t.indexOf(s),Dt={start:tt=>{!Object.values($).some(it=>it)&&!lt&&(Y.current={x:tt.touches[0].clientX,y:tt.touches[0].clientY})},move:tt=>{if(!Y.current)return;const it=tt.touches[0].clientX-Y.current.x;Math.abs(tt.touches[0].clientY-Y.current.y)<Math.abs(it)&&rt(bt===0&&it>0||bt===3&&it<0?it*.3:it)},end:()=>{Math.abs(st)>80&&t(_t[bt+(st>0?-1:1)]||s),rt(0),Y.current=null}};return l?i?S.jsxs("div",{className:"h-[100dvh] w-screen font-sans bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0 select-none",children:[S.jsx("style",{children:"body{-webkit-tap-highlight-color:transparent;overscroll-behavior-y:none}.pb-safe{padding-bottom:env(safe-area-inset-bottom,20px)}.mask-linear-fade{mask-image:linear-gradient(to bottom,black 0%,transparent 100%)}@keyframes blob{0%{transform:translate(0px,0px) scale(1)}33%{transform:translate(30px,-50px) scale(1.1)}66%{transform:translate(-20px,20px) scale(0.9)}100%{transform:translate(0px,0px) scale(1)}}.animate-blob{animation:blob 10s infinite}.animate-fade-in-down{animation:fadeInDown 0.5s ease-out}@keyframes fadeInDown{from{opacity:0;transform:translate(-50%,-20px)}to{opacity:1;transform:translate(-50%,0)}}.scrollbar-hide::-webkit-scrollbar{display:none}.scrollbar-hide{-ms-overflow-style:none;scrollbar-width:none}"}),S.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-50",children:[S.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),S.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"})]}),S.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:Dt.start,onTouchMove:Dt.move,onTouchEnd:Dt.end,children:[C.show&&S.jsx(Iv,{...C,onClose:()=>V({...C,show:!1})}),$.flight&&S.jsx(RN,{onClose:()=>R("flight",!1),flights:H?.flights}),$.addShop&&S.jsx(xv,{type:"shopping",onClose:()=>R("addShop",!1),onAdd:(tt,it,gt)=>O("shopping",tt,it,gt)}),$.addPack&&S.jsx(xv,{type:"packing",onClose:()=>R("addPack",!1),onAdd:(tt,it)=>O("packing",tt,it)}),$.import&&S.jsx(wN,{onClose:()=>R("import",!1),onImport:zt,isLoading:F}),lt&&S.jsx(CN,{type:lt.type,data:lt.data,onClose:()=>dt(null),onSave:Yt}),x.show&&S.jsx(bN,{title:"",message:`${x.name}`,onConfirm:mt,onCancel:()=>w({show:!1})}),$.editTrip&&ut&&S.jsx(SN,{trip:ut,onClose:()=>{R("editTrip",!1),Nt(null)},onSave:async(tt,it)=>{try{await ov(Bc(is,"users",i.uid,"trips",tt),it),R("editTrip",!1),k("")}catch{k("","error")}},onPreviewChange:Nt}),$.tripList&&S.jsx(AN,{trips:y,activeTripId:A,userEmail:i.email,onSelectTrip:tt=>{M(tt),R("tripList",!1),t("home")},onDeleteTrip:tt=>confirm("")&&nI(Bc(is,"users",i.uid,"trips",tt)),onExportTrip:tt=>{const it=new Blob([JSON.stringify({...tt,id:void 0},null,2)],{type:"application/json"}),gt=document.createElement("a");gt.href=URL.createObjectURL(it),gt.download="trip.json",gt.click()},onEditTrip:tt=>{ht(tt),Nt(tt),R("editTrip",!0)},onOpenImport:()=>R("import",!0),onClose:()=>R("tripList",!1),onLogout:()=>confirm("")&&ox(Rl)}),S.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${bt*100}vw + ${st}px))`,transition:st?"none":"transform 0.3s ease-out"},children:[S.jsx(xN,{currentTrip:H,previewTrip:Ht,daysLeft:tt=>Math.ceil((new Date(tt)-new Date)/864e5)>0?Math.ceil((new Date(tt)-new Date)/864e5):0,setActiveTab:t,setShowFlightModal:()=>R("flight",!0),onRequestDelete:(tt,it,gt)=>w({show:!0,type:tt,id:it,name:gt}),openEditModal:(tt,it)=>dt({type:tt,data:it}),setShowTripListModal:()=>R("tripList",!0),onEditCurrentTrip:()=>{ht(H),Nt(H),R("editTrip",!0)},onScroll:$t}),S.jsx(NN,{currentTrip:H,setActiveTab:t,setShowFlightModal:()=>R("flight",!0),getCurrentActivityId:tt=>{const it=new Date;let gt=null,ue=1/0;return tt.days.forEach(Ze=>{const ln=new Date(tt.date);ln.setDate(ln.getDate()+Ze.day-1),it.toDateString()===ln.toDateString()&&Ze.activities.forEach(_n=>{const[dr,Li]=_n.time.split(":"),hs=new Date(ln);hs.setHours(dr,Li,0,0);const Pi=it-hs;Pi>=0&&Pi<ue&&(ue=Pi,gt=_n.id)})}),gt},activityRefs:D,onScroll:$t}),S.jsx(Nv,{title:"",type:"shopping",currentTrip:H,setActiveTab:t,onOpenAdd:()=>R("addShop",!0),onToggle:tt=>nt(it=>({...it,shoppingList:it.shoppingList.map(gt=>gt.id===tt?{...gt,checked:!gt.checked}:gt)})),onDelete:tt=>w({show:!0,type:"shopping",id:tt,name:""}),onEdit:tt=>dt({type:"shopping",data:tt}),onScroll:$t}),S.jsx(Nv,{title:"",type:"packing",currentTrip:H,setActiveTab:t,onOpenAdd:()=>R("addPack",!0),onToggle:tt=>nt(it=>({...it,packingList:it.packingList.map(gt=>gt.id===tt?{...gt,checked:!gt.checked}:gt)})),onDelete:tt=>w({show:!0,type:"packing",id:tt,name:""}),onEdit:tt=>dt({type:"packing",data:tt}),onScroll:$t})]}),S.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ${d?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:S.jsx("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-lg flex items-center gap-2 pointer-events-auto ring-1 ring-white/40",children:[fS,CS,Hl,Fl].map((tt,it)=>S.jsx("button",{onClick:()=>t(_t[it]),className:`p-4 rounded-full transition-all duration-300 ${s===_t[it]?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:S.jsx(tt,{size:24,strokeWidth:s===_t[it]?3:2})},it))})})]})]}):S.jsxs("div",{className:"min-h-screen bg-[#E0E5EC]",children:[S.jsx(DN,{onLogin:pe,isLoading:F}),C.show&&S.jsx(Iv,{...C,onClose:()=>V({...C,show:!1})})]}):S.jsx("div",{className:"min-h-screen bg-[#E0E5EC] flex items-center justify-center",children:S.jsx(fh,{className:"animate-spin text-gray-600"})})}zb.createRoot(document.getElementById("root")).render(S.jsx(St.StrictMode,{children:S.jsx(ON,{})}));
