(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Fd={exports:{}},Ml={};var r_;function ZT(){if(r_)return Ml;r_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var a_;function JT(){return a_||(a_=1,Fd.exports=ZT()),Fd.exports}var y=JT(),Gd={exports:{}},xe={};var o_;function WT(){if(o_)return xe;o_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function ae(D,Q,ne){this.props=D,this.context=Q,this.refs=Z,this.updater=ne||X}ae.prototype.isReactComponent={},ae.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},ae.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=ae.prototype;function te(D,Q,ne){this.props=D,this.context=Q,this.refs=Z,this.updater=ne||X}var Ce=te.prototype=new W;Ce.constructor=te,ee(Ce,ae.prototype),Ce.isPureReactComponent=!0;var Pe=Array.isArray;function Ie(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,Q,ne){var oe=ne.ref;return{$$typeof:s,type:D,key:Q,ref:oe!==void 0?oe:null,props:ne}}function M(D,Q){return I(D.type,Q,D.props)}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function L(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return Q[ne]})}var R=/\/+/g;function it(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):Q.toString(36)}function bt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ie,Ie):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,Q,ne,oe,Ee){var de=typeof D;(de==="undefined"||de==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(de){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case s:case e:Ve=!0;break;case E:return Ve=D._init,F(Ve(D._payload),Q,ne,oe,Ee)}}if(Ve)return Ee=Ee(D),Ve=oe===""?"."+it(D,0):oe,Pe(Ee)?(ne="",Ve!=null&&(ne=Ve.replace(R,"$&/")+"/"),F(Ee,Q,ne,"",function(Bt){return Bt})):Ee!=null&&(k(Ee)&&(Ee=M(Ee,ne+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Ve)),Q.push(Ee)),1;Ve=0;var At=oe===""?".":oe+":";if(Pe(D))for(var ut=0;ut<D.length;ut++)oe=D[ut],de=At+it(oe,ut),Ve+=F(oe,Q,ne,de,Ee);else if(ut=V(D),typeof ut=="function")for(D=ut.call(D),ut=0;!(oe=D.next()).done;)oe=oe.value,de=At+it(oe,ut++),Ve+=F(oe,Q,ne,de,Ee);else if(de==="object"){if(typeof D.then=="function")return F(bt(D),Q,ne,oe,Ee);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function re(D,Q,ne){if(D==null)return D;var oe=[],Ee=0;return F(D,oe,"","",function(de){return Q.call(ne,de,Ee++)}),oe}function ye(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var Fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ye={map:re,forEach:function(D,Q,ne){re(D,function(){Q.apply(this,arguments)},ne)},count:function(D){var Q=0;return re(D,function(){Q++}),Q},toArray:function(D){return re(D,function(Q){return Q})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return xe.Activity=S,xe.Children=Ye,xe.Component=ae,xe.Fragment=i,xe.Profiler=l,xe.PureComponent=te,xe.StrictMode=r,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,xe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},xe.cache=function(D){return function(){return D.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(D,Q,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=ee({},D.props),Ee=D.key;if(Q!=null)for(de in Q.key!==void 0&&(Ee=""+Q.key),Q)!A.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(oe[de]=Q[de]);var de=arguments.length-2;if(de===1)oe.children=ne;else if(1<de){for(var Ve=Array(de),At=0;At<de;At++)Ve[At]=arguments[At+2];oe.children=Ve}return I(D.type,Ee,oe)},xe.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},xe.createElement=function(D,Q,ne){var oe,Ee={},de=null;if(Q!=null)for(oe in Q.key!==void 0&&(de=""+Q.key),Q)A.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ee[oe]=Q[oe]);var Ve=arguments.length-2;if(Ve===1)Ee.children=ne;else if(1<Ve){for(var At=Array(Ve),ut=0;ut<Ve;ut++)At[ut]=arguments[ut+2];Ee.children=At}if(D&&D.defaultProps)for(oe in Ve=D.defaultProps,Ve)Ee[oe]===void 0&&(Ee[oe]=Ve[oe]);return I(D,de,Ee)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(D){return{$$typeof:p,render:D}},xe.isValidElement=k,xe.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ye}},xe.memo=function(D,Q){return{$$typeof:v,type:D,compare:Q===void 0?null:Q}},xe.startTransition=function(D){var Q=N.T,ne={};N.T=ne;try{var oe=D(),Ee=N.S;Ee!==null&&Ee(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ie,Fe)}catch(de){Fe(de)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),N.T=Q}},xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},xe.use=function(D){return N.H.use(D)},xe.useActionState=function(D,Q,ne){return N.H.useActionState(D,Q,ne)},xe.useCallback=function(D,Q){return N.H.useCallback(D,Q)},xe.useContext=function(D){return N.H.useContext(D)},xe.useDebugValue=function(){},xe.useDeferredValue=function(D,Q){return N.H.useDeferredValue(D,Q)},xe.useEffect=function(D,Q){return N.H.useEffect(D,Q)},xe.useEffectEvent=function(D){return N.H.useEffectEvent(D)},xe.useId=function(){return N.H.useId()},xe.useImperativeHandle=function(D,Q,ne){return N.H.useImperativeHandle(D,Q,ne)},xe.useInsertionEffect=function(D,Q){return N.H.useInsertionEffect(D,Q)},xe.useLayoutEffect=function(D,Q){return N.H.useLayoutEffect(D,Q)},xe.useMemo=function(D,Q){return N.H.useMemo(D,Q)},xe.useOptimistic=function(D,Q){return N.H.useOptimistic(D,Q)},xe.useReducer=function(D,Q,ne){return N.H.useReducer(D,Q,ne)},xe.useRef=function(D){return N.H.useRef(D)},xe.useState=function(D){return N.H.useState(D)},xe.useSyncExternalStore=function(D,Q,ne){return N.H.useSyncExternalStore(D,Q,ne)},xe.useTransition=function(){return N.H.useTransition()},xe.version="19.2.0",xe}var l_;function Um(){return l_||(l_=1,Gd.exports=WT()),Gd.exports}var le=Um(),Yd={exports:{}},Vl={},Qd={exports:{}},Kd={};var u_;function ew(){return u_||(u_=1,(function(s){function e(F,re){var ye=F.length;F.push(re);e:for(;0<ye;){var Fe=ye-1>>>1,Ye=F[Fe];if(0<l(Ye,re))F[Fe]=re,F[ye]=Ye,ye=Fe;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var re=F[0],ye=F.pop();if(ye!==re){F[0]=ye;e:for(var Fe=0,Ye=F.length,D=Ye>>>1;Fe<D;){var Q=2*(Fe+1)-1,ne=F[Q],oe=Q+1,Ee=F[oe];if(0>l(ne,ye))oe<Ye&&0>l(Ee,ne)?(F[Fe]=Ee,F[oe]=ye,Fe=oe):(F[Fe]=ne,F[Q]=ye,Fe=Q);else if(oe<Ye&&0>l(Ee,ye))F[Fe]=Ee,F[oe]=ye,Fe=oe;else break e}}return re}function l(F,re){var ye=F.sortIndex-re.sortIndex;return ye!==0?ye:F.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],v=[],E=1,S=null,x=3,V=!1,X=!1,ee=!1,Z=!1,ae=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Ce(F){for(var re=i(v);re!==null;){if(re.callback===null)r(v);else if(re.startTime<=F)r(v),re.sortIndex=re.expirationTime,e(g,re);else break;re=i(v)}}function Pe(F){if(ee=!1,Ce(F),!X)if(i(g)!==null)X=!0,Ie||(Ie=!0,L());else{var re=i(v);re!==null&&bt(Pe,re.startTime-F)}}var Ie=!1,N=-1,A=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<A)}function k(){if(Z=!1,Ie){var F=s.unstable_now();I=F;var re=!0;try{e:{X=!1,ee&&(ee=!1,W(N),N=-1),V=!0;var ye=x;try{t:{for(Ce(F),S=i(g);S!==null&&!(S.expirationTime>F&&M());){var Fe=S.callback;if(typeof Fe=="function"){S.callback=null,x=S.priorityLevel;var Ye=Fe(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ye=="function"){S.callback=Ye,Ce(F),re=!0;break t}S===i(g)&&r(g),Ce(F)}else r(g);S=i(g)}if(S!==null)re=!0;else{var D=i(v);D!==null&&bt(Pe,D.startTime-F),re=!1}}break e}finally{S=null,x=ye,V=!1}re=void 0}}finally{re?L():Ie=!1}}}var L;if(typeof te=="function")L=function(){te(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,it=R.port2;R.port1.onmessage=k,L=function(){it.postMessage(null)}}else L=function(){ae(k,0)};function bt(F,re){N=ae(function(){F(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(F){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var ye=x;x=re;try{return F()}finally{x=ye}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ye=x;x=F;try{return re()}finally{x=ye}},s.unstable_scheduleCallback=function(F,re,ye){var Fe=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Fe+ye:Fe):ye=Fe,F){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ye+Ye,F={id:E++,callback:re,priorityLevel:F,startTime:ye,expirationTime:Ye,sortIndex:-1},ye>Fe?(F.sortIndex=ye,e(v,F),i(g)===null&&F===i(v)&&(ee?(W(N),N=-1):ee=!0,bt(Pe,ye-Fe))):(F.sortIndex=Ye,e(g,F),X||V||(X=!0,Ie||(Ie=!0,L()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var re=x;return function(){var ye=x;x=re;try{return F.apply(this,arguments)}finally{x=ye}}}})(Kd)),Kd}var c_;function tw(){return c_||(c_=1,Qd.exports=ew()),Qd.exports}var Xd={exports:{}},un={};var h_;function nw(){if(h_)return un;h_=1;var s=Um();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,v,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:v,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(g,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,E)},un.flushSync=function(g){var v=d.T,E=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=v,r.p=E,r.d.f()}},un.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},un.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},un.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var E=v.as,S=p(E,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,V=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:V}):E==="script"&&r.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:V,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},un.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},un.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,S=p(E,v.crossOrigin);r.d.L(g,E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},un.preloadModule=function(g,v){if(typeof g=="string")if(v){var E=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},un.requestFormReset=function(g){r.d.r(g)},un.unstable_batchedUpdates=function(g,v){return g(v)},un.useFormState=function(g,v,E){return d.H.useFormState(g,v,E)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.2.0",un}var f_;function iw(){if(f_)return Xd.exports;f_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=nw(),Xd.exports}var d_;function sw(){if(d_)return Vl;d_=1;var s=tw(),e=Um(),i=iw();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),te=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ae:return"Profiler";case Z:return"StrictMode";case Pe:return"Suspense";case Ie:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case te:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case Ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var bt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Fe=[],Ye=-1;function D(t){return{current:t}}function Q(t){0>Ye||(t.current=Fe[Ye],Fe[Ye]=null,Ye--)}function ne(t,n){Ye++,Fe[Ye]=t.current,t.current=n}var oe=D(null),Ee=D(null),de=D(null),Ve=D(null);function At(t,n){switch(ne(de,n),ne(Ee,t),ne(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?I0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=I0(n),t=C0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),ne(oe,t)}function ut(){Q(oe),Q(Ee),Q(de)}function Bt(t){t.memoizedState!==null&&ne(Ve,t);var n=oe.current,a=C0(n,t.type);n!==a&&(ne(Ee,t),ne(oe,a))}function Es(t){Ee.current===t&&(Q(oe),Q(Ee)),Ve.current===t&&(Q(Ve),Nl._currentValue=ye)}var Ts,ws;function Rn(t){if(Ts===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ts=n&&n[1]||"",ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+t+ws}var xr=!1;function qi(t,n){if(!t||xr)return"";xr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){B=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var C=_.split(`
`),z=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{xr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Rn(a):""}function Rr(t,n){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return t.child!==n&&n!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return qi(t.type,!1);case 11:return qi(t.type.render,!1);case 1:return qi(t.type,!0);case 31:return Rn("Activity");default:return""}}function Ir(t){try{var n="",a=null;do n+=Rr(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Tt=s.unstable_scheduleCallback,di=s.unstable_cancelCallback,Cr=s.unstable_shouldYield,_a=s.unstable_requestPaint,Zt=s.unstable_now,mi=s.unstable_getCurrentPriorityLevel,pi=s.unstable_ImmediatePriority,Hi=s.unstable_UserBlockingPriority,In=s.unstable_NormalPriority,va=s.unstable_LowPriority,Ss=s.unstable_IdlePriority,Nr=s.log,gi=s.unstable_setDisableYieldValue,qt=null,Ht=null;function gn(t){if(typeof Nr=="function"&&gi(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(qt,t)}catch{}}var _t=Math.clz32?Math.clz32:ge,ba=Math.log,ie=Math.LN2;function ge(t){return t>>>=0,t===0?32:31-(ba(t)/ie|0)|0}var me=256,ce=262144,Se=4194304;function ke(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function We(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ke(o):(_&=T,_!==0?h=ke(_):a||(a=T&~t,a!==0&&(h=ke(a))))):(T=o&~f,T!==0?h=ke(T):_!==0?h=ke(_):a||(a=o&~t,a!==0&&(h=ke(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function pt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gi(){var t=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),t}function ln(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Yi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ea(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-_t(a),K=1<<G;T[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&Qi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Qi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Dr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-_t(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ki(t,n){var a=n&-n;return a=(a&42)!==0?1:Xi(a),(a&(t.suspendedLanes|n))!==0?0:a}function Xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:J0(t.type))}function Jn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var Wn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Wn,Qt="__reactProps$"+Wn,yi="__reactContainer$"+Wn,Ta="__reactEvents$"+Wn,Xh="__reactListeners$"+Wn,bu="__reactHandles$"+Wn,Eu="__reactResources$"+Wn,_i="__reactMarker$"+Wn;function wa(t){delete t[Nt],delete t[Qt],delete t[Ta],delete t[Xh],delete t[bu]}function vi(t){var n=t[Nt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yi]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=j0(t);t!==null;){if(a=t[Nt])return a;t=j0(t)}return n}t=a,a=t.parentNode}return null}function Un(t){if(t=t[Nt]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function bi(t){var n=t[Eu];return n||(n=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[_i]=!0}var Lo=new Set,Po={};function Ei(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(Po[t]=n,t=0;t<n.length;t++)Lo.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Tu(t){return Et.call(Bo,t)?!0:Et.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function Sa(t,n,a){if(Tu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Nn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function kt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=qo(t,n,""+t[n])}}function kr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function yn(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Aa(t,n,a,o,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kt(n)):t.value!==""+Kt(n)&&(t.value=""+Kt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ho(t,_,Kt(n)):a!=null?Ho(t,_,Kt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Kt(T):t.removeAttribute("name")}function wu(t,n,a,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}a=a!=null?""+Kt(a):"",n=n!=null?""+Kt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),et(t)}function Ho(t,n,a){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Kt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Su(t,n,a){if(n!=null&&(n=""+Kt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Kt(a):""}function Rs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(bt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Kt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),et(t)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Go(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(t,f,n[f])}function xa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Yo=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Si=null;function Mr(t){var n=Un(t);if(n&&(t=n.stateNode)){var a=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Qt]||null;if(!h)throw Error(r(90));Aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&kr(o)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&xs(t,!!a.multiple,n,!1)}}}var Ia=!1;function Ns(t,n,a){if(Ia)return t(n,a);Ia=!0;try{var o=t(n);return o}finally{if(Ia=!1,(Cs!==null||Si!==null)&&(vc(),Cs&&(n=Cs,t=Si,Si=Cs=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function ti(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Qt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Bn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Vr=!1}var Ai=null,Qo=null,jr=null;function Ko(){if(jr)return jr;var t,n=Qo,a=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return jr=h.slice(t,1<o?1-o:void 0)}function Lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ni(){return!1}function Wt(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Wt(Zi),Ds=S({},Zi,{view:0,detail:0}),Xo=Wt(Ds),ks,Ca,Ri,Na=S({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(ks=t.screenX-Ri.screenX,Ca=t.screenY-Ri.screenY):Ca=ks=0,Ri=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),$o=Wt(Na),Pr=S({},Na,{dataTransfer:0}),Ru=Wt(Pr),Iu=S({},Ds,{relatedTarget:0}),Ur=Wt(Iu),Zo=S({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Wt(Zo),Da=S({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=Wt(Da),Du=S({},Zi,{data:0}),Ii=Wt(Du),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mu[t])?!!n[t]:!1}function Os(){return Vu}var mn=S({},Ds,{key:function(t){if(t.key){var n=ku[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ju=Wt(mn),Lu=S({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Wt(Lu),c=S({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Wt(c),b=S({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Wt(b),P=S({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Wt(P),se=S({},Zi,{newState:0,oldState:0}),Ne=Wt(se),xt=[9,13,27,32],$e=Bn&&"CompositionEvent"in window,gt=null;Bn&&"documentMode"in document&&(gt=document.documentMode);var qn=Bn&&"TextEvent"in window&&!gt,Ci=Bn&&(!$e||gt&&8<gt&&11>=gt),ii=" ",si=!1;function zr(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function EE(t,n){switch(t){case"compositionend":return ka(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function TE(t,n){if(Oa)return t==="compositionend"||!$e&&zr(t,n)?(t=Ko(),jr=Qo=Ai=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!wE[t.type]:n==="textarea"}function zp(t,n,a,o){Cs?Si?Si.push(o):Si=[o]:Cs=o,n=xc(n,"onChange"),0<n.length&&(a=new xi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Jo=null,Wo=null;function SE(t){T0(t,0)}function Pu(t){var n=Cn(t);if(kr(n))return t}function Bp(t,n){if(t==="change")return n}var qp=!1;if(Bn){var $h;if(Bn){var Zh="oninput"in document;if(!Zh){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),Zh=typeof Hp.oninput=="function"}$h=Zh}else $h=!1;qp=$h&&(!document.documentMode||9<document.documentMode)}function Fp(){Jo&&(Jo.detachEvent("onpropertychange",Gp),Wo=Jo=null)}function Gp(t){if(t.propertyName==="value"&&Pu(Wo)){var n=[];zp(n,Wo,t,zn(t)),Ns(SE,n)}}function AE(t,n,a){t==="focusin"?(Fp(),Jo=n,Wo=a,Jo.attachEvent("onpropertychange",Gp)):t==="focusout"&&Fp()}function xE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Wo)}function RE(t,n){if(t==="click")return Pu(n)}function IE(t,n){if(t==="input"||t==="change")return Pu(n)}function CE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:CE;function el(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function Yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qp(t,n){var a=Yp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Kp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wi(t.document)}return n}function Jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var NE=Bn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Wh=null,tl=null,ef=!1;function $p(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||Ma==null||Ma!==wi(o)||(o=Ma,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tl&&el(tl,o)||(tl=o,o=xc(Wh,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ma)))}function Br(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Va={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},tf={},Zp={};Bn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function qr(t){if(tf[t])return tf[t];if(!Va[t])return t;var n=Va[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zp)return tf[t]=n[a];return t}var Jp=qr("animationend"),Wp=qr("animationiteration"),eg=qr("animationstart"),DE=qr("transitionrun"),kE=qr("transitionstart"),OE=qr("transitioncancel"),tg=qr("transitionend"),ng=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function ri(t,n){ng.set(t,n),Ei(n,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],ja=0,sf=0;function zu(){for(var t=ja,n=sf=ja=0;n<t;){var a=Hn[n];Hn[n++]=null;var o=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var f=Hn[n];if(Hn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&ig(a,h,f)}}function Bu(t,n,a,o){Hn[ja++]=t,Hn[ja++]=n,Hn[ja++]=a,Hn[ja++]=o,sf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function rf(t,n,a,o){return Bu(t,n,a,o),qu(t)}function Hr(t,n){return Bu(t,null,null,n),qu(t)}function ig(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function qu(t){if(50<wl)throw wl=0,md=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var La={};function ME(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,a,o){return new ME(t,n,a,o)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=kn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Hu(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")af(t)&&(_=1);else if(typeof t=="string")_=UT(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=kn(31,a,n,h),t.elementType=I,t.lanes=f,t;case ee:return Fr(a.children,h,f,n);case Z:_=8,h|=24;break;case ae:return t=kn(12,a,n,h|2),t.elementType=ae,t.lanes=f,t;case Pe:return t=kn(13,a,n,h),t.elementType=Pe,t.lanes=f,t;case Ie:return t=kn(19,a,n,h),t.elementType=Ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case W:_=9;break e;case Ce:_=11;break e;case N:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=kn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Fr(t,n,a,o){return t=kn(7,t,o,n),t.lanes=a,t}function of(t,n,a){return t=kn(6,t,null,n),t.lanes=a,t}function rg(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function lf(t,n,a){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ag=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ir(n)},ag.set(t,n),n)}return{value:t,source:n,stack:Ir(n)}}var Pa=[],Ua=0,Fu=null,nl=0,Gn=[],Yn=0,Ms=null,Ni=1,Di="";function es(t,n){Pa[Ua++]=nl,Pa[Ua++]=Fu,Fu=t,nl=n}function og(t,n,a){Gn[Yn++]=Ni,Gn[Yn++]=Di,Gn[Yn++]=Ms,Ms=t;var o=Ni;t=Di;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var f=32-_t(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ni=1<<32-_t(n)+h|a<<h|o,Di=f+t}else Ni=1<<f|a<<h|o,Di=t}function uf(t){t.return!==null&&(es(t,1),og(t,1,0))}function cf(t){for(;t===Fu;)Fu=Pa[--Ua],Pa[Ua]=null,nl=Pa[--Ua],Pa[Ua]=null;for(;t===Ms;)Ms=Gn[--Yn],Gn[Yn]=null,Di=Gn[--Yn],Gn[Yn]=null,Ni=Gn[--Yn],Gn[Yn]=null}function lg(t,n){Gn[Yn++]=Ni,Gn[Yn++]=Di,Gn[Yn++]=Ms,Ni=n.id,Di=n.overflow,Ms=t}var en=null,ht=null,Ge=!1,Vs=null,Qn=!1,hf=Error(r(519));function js(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Fn(n,t)),hf}function ug(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Qt]=o,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Le(Al[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),wu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||x0(n.textContent,a)?(o.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),o.onScroll!=null&&Le("scroll",n),o.onScrollEnd!=null&&Le("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||js(t,!0)}function cg(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:en=en.return}}function za(t){if(t!==en)return!1;if(!Ge)return cg(t),Ge=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&ht&&js(t),cg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=V0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=V0(t)}else n===27?(n=ht,$s(t.type)?(t=Md,Md=null,ht=t):ht=n):ht=en?Xn(t.stateNode.nextSibling):null;return!0}function Gr(){ht=en=null,Ge=!1}function ff(){var t=Vs;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Vs=null),t}function il(t){Vs===null?Vs=[t]:Vs.push(t)}var df=D(null),Yr=null,ts=null;function Ls(t,n,a){ne(df,n._currentValue),n._currentValue=a}function ns(t){t._currentValue=df.current,Q(df)}function mf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function pf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),mf(f.return,a,t),o||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),mf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ba(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;Dn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&pf(n,t,a,o),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Yr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return hg(Yr,t)}function Yu(t,n){return Yr===null&&Qr(t),hg(t,n)}function hg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return a}var VE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},jE=s.unstable_scheduleCallback,LE=s.unstable_NormalPriority,Ot={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new VE,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&jE(LE,function(){t.controller.abort()})}var rl=null,yf=0,qa=0,Ha=null;function PE(t,n){if(rl===null){var a=rl=[];yf=0,qa=bd(),Ha={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yf++,n.then(fg,fg),n}function fg(){if(--yf===0&&rl!==null){Ha!==null&&(Ha.status="fulfilled");var t=rl;rl=null,qa=0,Ha=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function UE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dg=F.S;F.S=function(t,n){$y=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PE(t,n),dg!==null&&dg(t,n)};var Kr=D(null);function _f(){var t=Kr.current;return t!==null?t:lt.pooledCache}function Qu(t,n){n===null?ne(Kr,Kr.current):ne(Kr,n.pool)}function mg(){var t=_f();return t===null?null:{parent:Ot._currentValue,pool:t}}var Fa=Error(r(460)),vf=Error(r(474)),Ku=Error(r(542)),Xu={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ei,ei),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_g(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_g(t),t}throw $r=n,Fa}}function Xr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($r=a,Fa):a}}var $r=null;function yg(){if($r===null)throw Error(r(459));var t=$r;return $r=null,t}function _g(t){if(t===Fa||t===Ku)throw Error(r(483))}var Ga=null,al=0;function $u(t){var n=al;return al+=1,Ga===null&&(Ga=[]),gg(Ga,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zu(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vg(t){function n(j,O){if(t){var U=j.deletions;U===null?(j.deletions=[O],j.flags|=16):U.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Wi(j,O),j.index=0,j.sibling=null,j}function f(j,O,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<O?(j.flags|=67108866,O):U):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,O,U,Y){return O===null||O.tag!==6?(O=of(U,j.mode,Y),O.return=j,O):(O=h(O,U),O.return=j,O)}function C(j,O,U,Y){var _e=U.type;return _e===ee?G(j,O,U.props.children,Y,U.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Xr(_e)===O.type)?(O=h(O,U.props),ol(O,U),O.return=j,O):(O=Hu(U.type,U.key,U.props,null,j.mode,Y),ol(O,U),O.return=j,O)}function z(j,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=lf(U,j.mode,Y),O.return=j,O):(O=h(O,U.children||[]),O.return=j,O)}function G(j,O,U,Y,_e){return O===null||O.tag!==7?(O=Fr(U,j.mode,Y,_e),O.return=j,O):(O=h(O,U),O.return=j,O)}function K(j,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=of(""+O,j.mode,U),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return U=Hu(O.type,O.key,O.props,null,j.mode,U),ol(U,O),U.return=j,U;case X:return O=lf(O,j.mode,U),O.return=j,O;case A:return O=Xr(O),K(j,O,U)}if(bt(O)||L(O))return O=Fr(O,j.mode,U,null),O.return=j,O;if(typeof O.then=="function")return K(j,$u(O),U);if(O.$$typeof===te)return K(j,Yu(j,O),U);Zu(j,O)}return null}function B(j,O,U,Y){var _e=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return _e!==null?null:T(j,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return U.key===_e?C(j,O,U,Y):null;case X:return U.key===_e?z(j,O,U,Y):null;case A:return U=Xr(U),B(j,O,U,Y)}if(bt(U)||L(U))return _e!==null?null:G(j,O,U,Y,null);if(typeof U.then=="function")return B(j,O,$u(U),Y);if(U.$$typeof===te)return B(j,O,Yu(j,U),Y);Zu(j,U)}return null}function H(j,O,U,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(U)||null,T(O,j,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:return j=j.get(Y.key===null?U:Y.key)||null,C(O,j,Y,_e);case X:return j=j.get(Y.key===null?U:Y.key)||null,z(O,j,Y,_e);case A:return Y=Xr(Y),H(j,O,U,Y,_e)}if(bt(Y)||L(Y))return j=j.get(U)||null,G(O,j,Y,_e,null);if(typeof Y.then=="function")return H(j,O,U,$u(Y),_e);if(Y.$$typeof===te)return H(j,O,U,Yu(O,Y),_e);Zu(O,Y)}return null}function fe(j,O,U,Y){for(var _e=null,Ke=null,pe=O,Oe=O=0,ze=null;pe!==null&&Oe<U.length;Oe++){pe.index>Oe?(ze=pe,pe=null):ze=pe.sibling;var Xe=B(j,pe,U[Oe],Y);if(Xe===null){pe===null&&(pe=ze);break}t&&pe&&Xe.alternate===null&&n(j,pe),O=f(Xe,O,Oe),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe,pe=ze}if(Oe===U.length)return a(j,pe),Ge&&es(j,Oe),_e;if(pe===null){for(;Oe<U.length;Oe++)pe=K(j,U[Oe],Y),pe!==null&&(O=f(pe,O,Oe),Ke===null?_e=pe:Ke.sibling=pe,Ke=pe);return Ge&&es(j,Oe),_e}for(pe=o(pe);Oe<U.length;Oe++)ze=H(pe,j,Oe,U[Oe],Y),ze!==null&&(t&&ze.alternate!==null&&pe.delete(ze.key===null?Oe:ze.key),O=f(ze,O,Oe),Ke===null?_e=ze:Ke.sibling=ze,Ke=ze);return t&&pe.forEach(function(tr){return n(j,tr)}),Ge&&es(j,Oe),_e}function be(j,O,U,Y){if(U==null)throw Error(r(151));for(var _e=null,Ke=null,pe=O,Oe=O=0,ze=null,Xe=U.next();pe!==null&&!Xe.done;Oe++,Xe=U.next()){pe.index>Oe?(ze=pe,pe=null):ze=pe.sibling;var tr=B(j,pe,Xe.value,Y);if(tr===null){pe===null&&(pe=ze);break}t&&pe&&tr.alternate===null&&n(j,pe),O=f(tr,O,Oe),Ke===null?_e=tr:Ke.sibling=tr,Ke=tr,pe=ze}if(Xe.done)return a(j,pe),Ge&&es(j,Oe),_e;if(pe===null){for(;!Xe.done;Oe++,Xe=U.next())Xe=K(j,Xe.value,Y),Xe!==null&&(O=f(Xe,O,Oe),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe);return Ge&&es(j,Oe),_e}for(pe=o(pe);!Xe.done;Oe++,Xe=U.next())Xe=H(pe,j,Oe,Xe.value,Y),Xe!==null&&(t&&Xe.alternate!==null&&pe.delete(Xe.key===null?Oe:Xe.key),O=f(Xe,O,Oe),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe);return t&&pe.forEach(function($T){return n(j,$T)}),Ge&&es(j,Oe),_e}function ot(j,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===ee&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case V:e:{for(var _e=U.key;O!==null;){if(O.key===_e){if(_e=U.type,_e===ee){if(O.tag===7){a(j,O.sibling),Y=h(O,U.props.children),Y.return=j,j=Y;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Xr(_e)===O.type){a(j,O.sibling),Y=h(O,U.props),ol(Y,U),Y.return=j,j=Y;break e}a(j,O);break}else n(j,O);O=O.sibling}U.type===ee?(Y=Fr(U.props.children,j.mode,Y,U.key),Y.return=j,j=Y):(Y=Hu(U.type,U.key,U.props,null,j.mode,Y),ol(Y,U),Y.return=j,j=Y)}return _(j);case X:e:{for(_e=U.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(j,O.sibling),Y=h(O,U.children||[]),Y.return=j,j=Y;break e}else{a(j,O);break}else n(j,O);O=O.sibling}Y=lf(U,j.mode,Y),Y.return=j,j=Y}return _(j);case A:return U=Xr(U),ot(j,O,U,Y)}if(bt(U))return fe(j,O,U,Y);if(L(U)){if(_e=L(U),typeof _e!="function")throw Error(r(150));return U=_e.call(U),be(j,O,U,Y)}if(typeof U.then=="function")return ot(j,O,$u(U),Y);if(U.$$typeof===te)return ot(j,O,Yu(j,U),Y);Zu(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(j,O.sibling),Y=h(O,U),Y.return=j,j=Y):(a(j,O),Y=of(U,j.mode,Y),Y.return=j,j=Y),_(j)):a(j,O)}return function(j,O,U,Y){try{al=0;var _e=ot(j,O,U,Y);return Ga=null,_e}catch(pe){if(pe===Fa||pe===Ku)throw pe;var Ke=kn(29,pe,null,j.mode);return Ke.lanes=Y,Ke.return=j,Ke}finally{}}}var Zr=vg(!0),bg=vg(!1),Ps=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=qu(t),ig(t,null,a),n}return Bu(t,o,n,a),qu(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Dr(t,a)}}function Tf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wf=!1;function ul(){if(wf){var t=Ha;if(t!==null)throw t}}function cl(t,n,a,o){wf=!1;var h=t.updateQueue;Ps=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,z=C.next;C.next=null,_===null?f=z:_.next=z,_=C;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;_=0,G=z=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ue&B)===B:(o&B)===B){B!==0&&B===qa&&(wf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,be=T;B=n;var ot=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){K=fe.call(ot,K,B);break e}K=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,B=typeof fe=="function"?fe.call(ot,K,B):fe,B==null)break e;K=S({},K,B);break e;case 2:Ps=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,C=K):G=G.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Gs|=_,t.lanes=_,t.memoizedState=K}}function Eg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Eg(a[t],n)}var Ya=D(null),Ju=D(0);function wg(t,n){t=hs,ne(Ju,t),ne(Ya,n),hs=t|n.baseLanes}function Sf(){ne(Ju,hs),ne(Ya,Ya.current)}function Af(){hs=Ju.current,Q(Ya),Q(Ju)}var On=D(null),Kn=null;function Bs(t){var n=t.alternate;ne(Rt,Rt.current&1),ne(On,t),Kn===null&&(n===null||Ya.current!==null||n.memoizedState!==null)&&(Kn=t)}function xf(t){ne(Rt,Rt.current),ne(On,t),Kn===null&&(Kn=t)}function Sg(t){t.tag===22?(ne(Rt,Rt.current),ne(On,t),Kn===null&&(Kn=t)):qs()}function qs(){ne(Rt,Rt.current),ne(On,On.current)}function Mn(t){Q(On),Kn===t&&(Kn=null),Q(Rt)}var Rt=D(0);function Wu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Od(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,De=null,rt=null,Mt=null,ec=!1,Qa=!1,Jr=!1,tc=0,hl=0,Ka=null,zE=0;function wt(){throw Error(r(321))}function Rf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Dn(t[a],n[a]))return!1;return!0}function If(t,n,a,o,h,f){return is=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?oy:Hf,Jr=!1,f=a(o,h),Jr=!1,Qa&&(f=xg(n,a,o,h)),Ag(t),f}function Ag(t){F.H=ml;var n=rt!==null&&rt.next!==null;if(is=0,Mt=rt=De=null,ec=!1,hl=0,Ka=null,n)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Gu(t)&&(Vt=!0))}function xg(t,n,a,o){De=t;var h=0;do{if(Qa&&(Ka=null),hl=0,Qa=!1,25<=h)throw Error(r(301));if(h+=1,Mt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ly,f=n(a,o)}while(Qa);return f}function BE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(De.flags|=1024),n}function Cf(){var t=tc!==0;return tc=0,t}function Nf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Df(t){if(ec){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ec=!1}is=0,Mt=rt=De=null,Qa=!1,hl=tc=0,Ka=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?De.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function It(){if(rt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Mt===null?De.memoizedState:Mt.next;if(n!==null)Mt=n,rt=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Mt===null?De.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Ka===null&&(Ka=[]),t=gg(Ka,t,n),n=De,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?oy:Hf),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===te)return tn(t)}throw Error(r(438,String(t)))}function kf(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nc(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function sc(t){var n=It();return Of(n,rt,t)}function Of(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,C=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ue&K)===K:(is&K)===K){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===qa&&(G=!0);else if((is&B)===B){z=z.next,B===qa&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=K,_=f):C=C.next=K,De.lanes|=B,Gs|=B;K=z.action,Jr&&a(f,K),f=z.hasEagerState?z.eagerState:a(f,K)}else B={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(T=C=B,_=f):C=C.next=B,De.lanes|=K,Gs|=K;z=z.next}while(z!==null&&z!==n);if(C===null?_=f:C.next=T,!Dn(f,t.memoizedState)&&(Vt=!0,G&&(a=Ha,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Mf(t){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Dn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Rg(t,n,a){var o=De,h=It(),f=Ge;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!Dn((rt||h).memoizedState,a);if(_&&(h.memoizedState=a,Vt=!0),h=h.queue,Lf(Ng.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Xa(9,{destroy:void 0},Cg.bind(null,o,h,a,n),null),lt===null)throw Error(r(349));f||(is&127)!==0||Ig(o,n,a)}return a}function Ig(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=nc(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cg(t,n,a,o){n.value=a,n.getSnapshot=o,Dg(n)&&kg(t)}function Ng(t,n,a){return a(function(){Dg(n)&&kg(t)})}function Dg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Dn(t,a)}catch{return!0}}function kg(t){var n=Hr(t,2);n!==null&&wn(n,t,2)}function Vf(t){var n=pn();if(typeof t=="function"){var a=t;if(t=a(),Jr){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Og(t,n,a,o){return t.baseState=a,Of(t,rt,typeof o=="function"?o:ss)}function qE(t,n,a,o,h){if(oc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Mg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Mg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var T=a(h,o),C=F.S;C!==null&&C(_,T),Vg(t,n,T)}catch(z){jf(t,n,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),Vg(t,n,f)}catch(z){jf(t,n,z)}}function Vg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){jg(t,n,o)},function(o){return jf(t,n,o)}):jg(t,n,a)}function jg(t,n,a){n.status="fulfilled",n.value=a,Lg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mg(t,a)))}function jf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==o)}t.action=null}function Lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pg(t,n){return n}function Ug(t,n){if(Ge){var a=lt.formState;if(a!==null){e:{var o=De;if(Ge){if(ht){t:{for(var h=ht,f=Qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Xn(h.nextSibling),o=h.data==="F!";break e}}js(o)}o=!1}o&&(n=a[0])}}return a=pn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:n},a.queue=o,a=sy.bind(null,De,o),o.dispatch=a,o=Vf(!1),f=qf.bind(null,De,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=qE.bind(null,De,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function zg(t){var n=It();return Bg(n,rt,t)}function Bg(t,n,a){if(n=Of(t,n,Pg)[0],t=sc(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(_){throw _===Fa?Ku:_}else o=n;n=It();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,Xa(9,{destroy:void 0},HE.bind(null,h,a),null)),[o,f,t]}function HE(t,n){t.action=n}function qg(t){var n=It(),a=rt;if(a!==null)return Bg(n,a,t);It(),n=n.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Xa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=nc(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Hg(){return It().memoizedState}function rc(t,n,a,o){var h=pn();De.flags|=t,h.memoizedState=Xa(1|n,{destroy:void 0},a,o===void 0?null:o)}function ac(t,n,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;rt!==null&&o!==null&&Rf(o,rt.memoizedState.deps)?h.memoizedState=Xa(n,f,a,o):(De.flags|=t,h.memoizedState=Xa(1|n,f,a,o))}function Fg(t,n){rc(8390656,8,t,n)}function Lf(t,n){ac(2048,8,t,n)}function FE(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=nc(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Gg(t){var n=It().memoizedState;return FE({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Yg(t,n){return ac(4,2,t,n)}function Qg(t,n){return ac(4,4,t,n)}function Kg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xg(t,n,a){a=a!=null?a.concat([t]):null,ac(4,4,Kg.bind(null,n,t),a)}function Pf(){}function $g(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Zg(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=t(),Jr){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[o,n],o}function Uf(t,n,a){return a===void 0||(is&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Jy(),De.lanes|=t,Gs|=t,a)}function Jg(t,n,a,o){return Dn(a,n)?a:Ya.current!==null?(t=Uf(t,a,o),Dn(t,n)||(Vt=!0),t):(is&42)===0||(is&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=a):(t=Jy(),De.lanes|=t,Gs|=t,n)}function Wg(t,n,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var _=F.T,T={};F.T=T,qf(t,!1,n,a);try{var C=h(),z=F.S;if(z!==null&&z(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=UE(C,o);dl(t,n,G,Ln(t))}else dl(t,n,o,Ln(t))}catch(K){dl(t,n,{then:function(){},status:"rejected",reason:K},Ln())}finally{re.p=f,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function GE(){}function zf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=ey(t).queue;Wg(t,h,n,ye,a===null?GE:function(){return ty(t),a(o)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},Ln())}function Bf(){return tn(Nl)}function ny(){return It().memoizedState}function iy(){return It().memoizedState}function YE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ln();t=Us(a);var o=zs(n,t,a);o!==null&&(wn(o,n,a),ll(o,n,a)),n={cache:gf()},t.payload=n;return}n=n.return}}function QE(t,n,a){var o=Ln();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?ry(n,a):(a=rf(t,n,a,o),a!==null&&(wn(a,t,o),ay(a,n,o)))}function sy(t,n,a){var o=Ln();dl(t,n,a,o)}function dl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))ry(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,_))return Bu(t,n,h,0),lt===null&&zu(),!1}catch{}finally{}if(a=rf(t,n,h,o),a!==null)return wn(a,t,o),ay(a,n,o),!0}return!1}function qf(t,n,a,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(n)throw Error(r(479))}else n=rf(t,a,o,2),n!==null&&wn(n,t,2)}function oc(t){var n=t.alternate;return t===De||n!==null&&n===De}function ry(t,n){Qa=ec=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ay(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Dr(t,a)}}var ml={readContext:tn,use:ic,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};ml.useEffectEvent=wt;var oy={readContext:tn,use:ic,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:tn,useEffect:Fg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,rc(4194308,4,Kg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return rc(4194308,4,t,n)},useInsertionEffect:function(t,n){rc(4,2,t,n)},useMemo:function(t,n){var a=pn();n=n===void 0?null:n;var o=t();if(Jr){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=pn();if(a!==void 0){var h=a(n);if(Jr){gn(!0);try{a(n)}finally{gn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=QE.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Vf(t);var n=t.queue,a=sy.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(t,n){var a=pn();return Uf(a,t,n)},useTransition:function(){var t=Vf(!1);return t=Wg.bind(null,De,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=De,h=pn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),lt===null)throw Error(r(349));(Ue&127)!==0||Ig(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Fg(Ng.bind(null,o,f,t),[t]),o.flags|=2048,Xa(9,{destroy:void 0},Cg.bind(null,o,f,a,n),null),a},useId:function(){var t=pn(),n=lt.identifierPrefix;if(Ge){var a=Di,o=Ni;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=tc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=zE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qf.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return pn().memoizedState=YE.bind(null,De)},useEffectEvent:function(t){var n=pn(),a={impl:t};return n.memoizedState=a,function(){if((Ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hf={readContext:tn,use:ic,useCallback:$g,useContext:tn,useEffect:Lf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Zg,useReducer:sc,useRef:Hg,useState:function(){return sc(ss)},useDebugValue:Pf,useDeferredValue:function(t,n){var a=It();return Jg(a,rt.memoizedState,t,n)},useTransition:function(){var t=sc(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:Bf,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var a=It();return Og(a,rt,t,n)},useMemoCache:kf,useCacheRefresh:iy};Hf.useEffectEvent=Gg;var ly={readContext:tn,use:ic,useCallback:$g,useContext:tn,useEffect:Lf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Zg,useReducer:Mf,useRef:Hg,useState:function(){return Mf(ss)},useDebugValue:Pf,useDeferredValue:function(t,n){var a=It();return rt===null?Uf(a,t,n):Jg(a,rt.memoizedState,t,n)},useTransition:function(){var t=Mf(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:Bf,useFormState:qg,useActionState:qg,useOptimistic:function(t,n){var a=It();return rt!==null?Og(a,rt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:iy};ly.useEffectEvent=Gg;function Ff(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Ln(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(wn(n,t,o),ll(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Ln(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(wn(n,t,o),ll(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Ln(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,a),n!==null&&(wn(n,t,a),ll(n,t,a))}};function uy(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!el(a,o)||!el(h,f):!0}function cy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Gf.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){Uu(t)}function fy(t){console.error(t)}function dy(t){Uu(t)}function lc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,n)},a}function py(t){return t=Us(t),t.tag=3,t}function gy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){my(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){my(n,a,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function KE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ba(n,a,h,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?bc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),yd(t,o,h)),!1;case 22:return a.flags|=65536,o===Xu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),yd(t,o,h)),!1}throw Error(r(435,a.tag))}return yd(t,o,h),bc(),!1}if(Ge)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==hf&&(t=Error(r(422),{cause:o}),il(Fn(t,a)))):(o!==hf&&(n=Error(r(423),{cause:o}),il(Fn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,a),h=Yf(t.stateNode,o,h),Tf(t,h),St!==4&&(St=2)),!1;var f=Error(r(520),{cause:o});if(f=Fn(f,a),Tl===null?Tl=[f]:Tl.push(f),St!==4&&(St=2),n===null)return!0;o=Fn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,o,t),Tf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),gy(h,t,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Qf=Error(r(461)),Vt=!1;function nn(t,n,a,o){n.child=t===null?bg(n,null,a,o):Zr(n,t.child,a,o)}function yy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Qr(n),o=If(t,n,a,_,f,h),T=Cf(),t!==null&&!Vt?(Nf(t,n,h),rs(t,n,h)):(Ge&&T&&uf(n),n.flags|=1,nn(t,n,o,h),n.child)}function _y(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,vy(t,n,f,o,h)):(t=Hu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!td(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,o),t.ref=n.ref,t.return=n,n.child=t}function vy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(el(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,td(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return Kf(t,n,a,o,h)}function by(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ey(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?wg(n,f):Sf(),Sg(n);else return o=n.lanes=536870912,Ey(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Qu(n,f.cachePool),wg(n,f),qs(),n.memoizedState=null):(t!==null&&Qu(n,null),Sf(),qs());return nn(t,n,h,a),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ey(t,n,a,o,h){var f=_f();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qu(n,null),Sf(),Sg(n),t!==null&&Ba(t,n,o,!0),n.childLanes=h,null}function uc(t,n){return n=hc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ty(t,n,a){return Zr(n,t.child,null,a),t=uc(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function XE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=uc(n,o),n.lanes=536870912,pl(null,t);if(xf(n),(t=ht)?(t=M0(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=n,n.child=a,en=n,ht=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return uc(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(xf(n),h)if(n.flags&256)n.flags&=-257,n=Ty(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Vt||Ba(t,n,a,!1),h=(a&t.childLanes)!==0,Vt||h){if(o=lt,o!==null&&(_=Ki(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Hr(t,_),wn(o,t,_),Qf;bc(),n=Ty(t,n,a)}else t=f.treeContext,ht=Xn(_.nextSibling),en=n,Ge=!0,Vs=null,Qn=!1,t!==null&&lg(n,t),n=uc(n,o),n.flags|=4096;return n}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function cc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Kf(t,n,a,o,h){return Qr(n),a=If(t,n,a,o,void 0,h),o=Cf(),t!==null&&!Vt?(Nf(t,n,h),rs(t,n,h)):(Ge&&o&&uf(n),n.flags|=1,nn(t,n,a,h),n.child)}function wy(t,n,a,o,h,f){return Qr(n),n.updateQueue=null,a=xg(n,o,a,h),Ag(t),o=Cf(),t!==null&&!Vt?(Nf(t,n,f),rs(t,n,f)):(Ge&&o&&uf(n),n.flags|=1,nn(t,n,a,f),n.child)}function Sy(t,n,a,o,h){if(Qr(n),n.stateNode===null){var f=La,_=a.contextType;typeof _=="object"&&_!==null&&(f=tn(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},bf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?tn(_):La,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ff(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Gf.enqueueReplaceState(f,f.state,null),cl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Wr(a,T);f.props=C;var z=f.context,G=a.contextType;_=La,typeof G=="object"&&G!==null&&(_=tn(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==_)&&cy(n,f,o,_),Ps=!1;var B=n.memoizedState;f.state=B,cl(n,o,f,h),ul(),z=n.memoizedState,T||B!==z||Ps?(typeof K=="function"&&(Ff(n,a,K,o),z=n.memoizedState),(C=Ps||uy(n,a,C,o,B,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(t,n),_=n.memoizedProps,G=Wr(a,_),f.props=G,K=n.pendingProps,B=f.context,z=a.contextType,C=La,typeof z=="object"&&z!==null&&(C=tn(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==K||B!==C)&&cy(n,f,o,C),Ps=!1,B=n.memoizedState,f.state=B,cl(n,o,f,h),ul();var H=n.memoizedState;_!==K||B!==H||Ps||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(Ff(n,a,T,o),H=n.memoizedState),(G=Ps||uy(n,a,G,o,B,H,C)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,cc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Zr(n,t.child,null,h),n.child=Zr(n,null,a,h)):nn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function Ay(t,n,a,o){return Gr(),n.flags|=256,nn(t,n,a,o),n.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:mg()}}function Zf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=jn),t}function xy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Bs(n):qs(),(t=ht)?(t=M0(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=n,n.child=a,en=n,ht=null)):t=null,t===null)throw js(n);return Od(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(qs(),h=n.mode,T=hc({mode:"hidden",children:T},h),o=Fr(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=$f(a),o.childLanes=Zf(t,_,a),n.memoizedState=Xf,pl(null,o)):(Bs(n),Jf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Bs(n),n.flags&=-257,n=Wf(t,n,a)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),T=o.fallback,h=n.mode,o=hc({mode:"visible",children:o.children},h),T=Fr(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Zr(n,t.child,null,a),o=n.child,o.memoizedState=$f(a),o.childLanes=Zf(t,_,a),n.memoizedState=Xf,n=pl(null,o));else if(Bs(n),Od(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,il({value:o,source:null,stack:null}),n=Wf(t,n,a)}else if(Vt||Ba(t,n,a,!1),_=(a&t.childLanes)!==0,Vt||_){if(_=lt,_!==null&&(o=Ki(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Hr(t,o),wn(_,t,o),Qf;kd(T)||bc(),n=Wf(t,n,a)}else kd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ht=Xn(T.nextSibling),en=n,Ge=!0,Vs=null,Qn=!1,t!==null&&lg(n,t),n=Jf(n,o.children),n.flags|=4096);return n}return h?(qs(),T=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Wi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?T=Wi(z,T):(T=Fr(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,pl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=$f(a):(h=T.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=mg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Zf(t,_,a),n.memoizedState=Xf,pl(t.child,o)):(Bs(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Jf(t,n){return n=hc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hc(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function Wf(t,n,a){return Zr(n,t.child,null,a),t=Jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),mf(t.return,n,a)}function ed(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Iy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Rt.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ne(Rt,_),nn(t,n,o,a),o=Ge?nl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,n);else if(t.tag===19)Ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ed(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Wu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ed(n,!0,a,null,f,o);break;case"together":ed(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ba(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function td(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function $E(t,n,a){switch(n.tag){case 3:At(n,n.stateNode.containerInfo),Ls(n,Ot,t.memoizedState.cache),Gr();break;case 27:case 5:Bt(n);break;case 4:At(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Bs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?xy(t,n,a):(Bs(n),t=rs(t,n,a),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ba(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Iy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Rt,Rt.current),o)break;return null;case 22:return n.lanes=0,by(t,n,a,n.pendingProps);case 24:Ls(n,Ot,t.memoizedState.cache)}return rs(t,n,a)}function Cy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!td(t,a)&&(n.flags&128)===0)return Vt=!1,$E(t,n,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ge&&(n.flags&1048576)!==0&&og(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Xr(n.elementType),n.type=t,typeof t=="function")af(t)?(o=Wr(t,o),n.tag=1,n=Sy(null,n,t,o,a)):(n.tag=0,n=Kf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ce){n.tag=11,n=yy(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=_y(null,n,t,o,a);break e}}throw n=it(t)||t,Error(r(306,n,""))}}return n;case 0:return Kf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Wr(o,n.pendingProps),Sy(t,n,o,h,a);case 3:e:{if(At(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(t,n),cl(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Ls(n,Ot,o),o!==f.cache&&pf(n,[Ot],a,!0),ul(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ay(t,n,o,a);break e}else if(o!==h){h=Fn(Error(r(424)),n),il(h),n=Ay(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Xn(t.firstChild),en=n,Ge=!0,Vs=null,Qn=!0,a=bg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gr(),o===h){n=rs(t,n,a);break e}nn(t,n,o,a)}n=n.child}return n;case 26:return cc(t,n),t===null?(a=z0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ge||(a=n.type,t=n.pendingProps,o=Rc(de.current).createElement(a),o[Nt]=n,o[Qt]=t,sn(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=z0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bt(n),t===null&&Ge&&(o=n.stateNode=L0(n.type,n.pendingProps,de.current),en=n,Qn=!0,h=ht,$s(n.type)?(Md=h,ht=Xn(o.firstChild)):ht=h),nn(t,n,n.pendingProps.children,a),cc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=ht)&&(o=xT(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,en=n,ht=Xn(o.firstChild),Qn=!1,h=!0):h=!1),h||js(n)),Bt(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Cd(h,f)?o=null:_!==null&&Cd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=If(t,n,BE,null,null,a),Nl._currentValue=h),cc(t,n),nn(t,n,o,a),n.child;case 6:return t===null&&Ge&&((t=a=ht)&&(a=RT(a,n.pendingProps,Qn),a!==null?(n.stateNode=a,en=n,ht=null,t=!0):t=!1),t||js(n)),null;case 13:return xy(t,n,a);case 4:return At(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Zr(n,null,o,a):nn(t,n,o,a),n.child;case 11:return yy(t,n,n.type,n.pendingProps,a);case 7:return nn(t,n,n.pendingProps,a),n.child;case 8:return nn(t,n,n.pendingProps.children,a),n.child;case 12:return nn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),nn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Qr(n),h=tn(h),o=o(h),n.flags|=1,nn(t,n,o,a),n.child;case 14:return _y(t,n,n.type,n.pendingProps,a);case 15:return vy(t,n,n.type,n.pendingProps,a);case 19:return Iy(t,n,a);case 31:return XE(t,n,a);case 22:return by(t,n,a,n.pendingProps);case 24:return Qr(n),o=tn(Ot),t===null?(h=_f(),h===null&&(h=lt,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},bf(n),Ls(n,Ot,h)):((t.lanes&a)!==0&&(Ef(t,n),cl(n,null,null,a),ul()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,Ot,o)):(o=f.cache,Ls(n,Ot,o),o!==h.cache&&pf(n,[Ot],a,!0))),nn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(t){t.flags|=4}function nd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(n0())t.flags|=8192;else throw $r=Xu,vf}else t.flags&=-16777217}function Ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!G0(n))if(n0())t.flags|=8192;else throw $r=Xu,vf}function fc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Gi():536870912,t.lanes|=n,Wa|=n)}function gl(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function ZE(t,n,a){var o=n.pendingProps;switch(cf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(Ot),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(za(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ff())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(ft(n),Ny(n,f)):(ft(n),nd(n,h,null,o,a))):f?f!==t.memoizedState?(as(n),ft(n),Ny(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),ft(n),nd(n,h,t,o,a)),null;case 27:if(Es(n),a=de.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=oe.current,za(n)?ug(n):(t=L0(h,o,a),n.stateNode=t,as(n))}return ft(n),null;case 5:if(Es(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(f=oe.current,za(n))ug(n);else{var _=Rc(de.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Nt]=n,f[Qt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return ft(n),nd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=de.current,za(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||x0(t.nodeValue,a)),t||js(n,!0)}else t=Rc(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return ft(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=za(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else a=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ft(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=za(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Nt]=n}else Gr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),fc(n,n.updateQueue),ft(n),null);case 4:return ut(),t===null&&Sd(n.stateNode.containerInfo),ft(n),null;case 10:return ns(n.type),ft(n),null;case 19:if(Q(Rt),o=n.memoizedState,o===null)return ft(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)gl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wu(t),f!==null){for(n.flags|=128,gl(o,!1),t=f.updateQueue,n.updateQueue=t,fc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)sg(a,t),a=a.sibling;return ne(Rt,Rt.current&1|2),Ge&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Zt()>yc&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Wu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,fc(n,t),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return ft(n),null}else 2*Zt()-o.renderingStartTime>yc&&a!==536870912&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,a=Rt.current,ne(Rt,h?a&1|2:a&1),Ge&&es(n,o.treeForkCount),t):(ft(n),null);case 22:case 23:return Mn(n),Af(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&fc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Q(Kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(Ot),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function JE(t,n){switch(cf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(Ot),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Es(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(r(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Gr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Rt),null;case 4:return ut(),null;case 10:return ns(n.type),null;case 22:case 23:return Mn(n),Af(),t!==null&&Q(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(Ot),null;case 25:return null;default:return null}}function Dy(t,n){switch(cf(n),n.tag){case 3:ns(Ot),ut();break;case 26:case 27:case 5:Es(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:Q(Rt);break;case 10:ns(n.type);break;case 22:case 23:Mn(n),Af(),t!==null&&Q(Kr);break;case 24:ns(Ot)}}function yl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){nt(n,n.return,T)}}function Hs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=a,z=T;try{z()}catch(G){nt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){nt(n,n.return,G)}}function ky(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Tg(n,a)}catch(o){nt(t,t.return,o)}}}function Oy(t,n,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){nt(t,n,o)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){nt(t,n,h)}}function ki(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,n,h)}else a.current=null}function My(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function id(t,n,a){try{var o=t.stateNode;bT(o,t.type,a,n),o[Qt]=n}catch(h){nt(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&$s(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(rd(t,n,a),t=t.sibling;t!==null;)rd(t,n,a),t=t.sibling}function dc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&$s(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dc(t,n,a),t=t.sibling;t!==null;)dc(t,n,a),t=t.sibling}function jy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,o,a),n[Nt]=t,n[Qt]=a}catch(f){nt(t,t.return,f)}}var os=!1,jt=!1,ad=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function WE(t,n){if(t=t.containerInfo,Rd=Mc,t=Xp(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,z=0,G=0,K=t,B=null;t:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(T=_+h),K!==f||o!==0&&K.nodeType!==3||(C=_+o),K.nodeType===3&&(_+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===t)break t;if(B===a&&++z===h&&(T=_),B===f&&++G===o&&(C=_),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:t,selectionRange:a},Mc=!1,Xt=n;Xt!==null;)if(n=Xt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Xt=t;else for(;Xt!==null;){switch(n=Xt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var fe=Wr(a.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){nt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Dd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Xt=t;break}Xt=n.return}}function Py(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&yl(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){nt(a,a.return,_)}else{var h=Wr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(a,a.return,_)}}o&64&&ky(a),o&512&&_l(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tg(t,n)}catch(_){nt(a,a.return,_)}}break;case 27:n===null&&o&4&&jy(a);case 26:case 5:us(t,a),n===null&&o&4&&My(a),o&512&&_l(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&By(t,a);break;case 13:us(t,a),o&4&&qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lT.bind(null,a),IT(t,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||jt,h=os;var f=jt;os=o,(jt=n)&&!f?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),os=h,jt=f}break;case 30:break;default:us(t,a)}}function Uy(t){var n=t.alternate;n!==null&&(t.alternate=null,Uy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&wa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,vn=!1;function ls(t,n,a){for(a=a.child;a!==null;)zy(t,n,a),a=a.sibling}function zy(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(qt,a)}catch{}switch(a.tag){case 26:jt||ki(a,n),ls(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||ki(a,n);var o=yt,h=vn;$s(a.type)&&(yt=a.stateNode,vn=!1),ls(t,n,a),Rl(a.stateNode),yt=o,vn=h;break;case 5:jt||ki(a,n);case 6:if(o=yt,h=vn,yt=null,ls(t,n,a),yt=o,vn=h,yt!==null)if(vn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){nt(a,n,f)}else try{yt.removeChild(a.stateNode)}catch(f){nt(a,n,f)}break;case 18:yt!==null&&(vn?(t=yt,k0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oo(t)):k0(yt,a.stateNode));break;case 4:o=yt,h=vn,yt=a.stateNode.containerInfo,vn=!0,ls(t,n,a),yt=o,vn=h;break;case 0:case 11:case 14:case 15:Hs(2,a,n),jt||Hs(4,a,n),ls(t,n,a);break;case 1:jt||(ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Oy(a,n,o)),ls(t,n,a);break;case 21:ls(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,ls(t,n,a),jt=o;break;default:ls(t,n,a)}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(a){nt(n,n.return,a)}}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(a){nt(n,n.return,a)}}function eT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(r(435,t.tag))}}function mc(t,n){var a=eT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=uT.bind(null,t,o);o.then(h,h)}})}function bn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if($s(T.type)){yt=T.stateNode,vn=!1;break e}break;case 5:yt=T.stateNode,vn=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(yt===null)throw Error(r(160));zy(f,_,h),yt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var ai=null;function Hy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),En(t),o&4&&(Hs(3,t,t.return),yl(3,t),Hs(5,t,t.return));break;case 1:bn(n,t),En(t),o&512&&(jt||a===null||ki(a,a.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ai;if(bn(n,t),En(t),o&512&&(jt||a===null||ki(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,a),f[Nt]=t,Dt(f),o=f;break e;case"link":var _=H0("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;case"meta":if(_=H0("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Nt]=t,Dt(f),o=f}t.stateNode=o}else F0(h,t.type,t.stateNode);else t.stateNode=q0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?F0(h,t.type,t.stateNode):q0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&id(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(n,t),En(t),o&512&&(jt||a===null||ki(a,a.return)),a!==null&&o&4&&id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(n,t),En(t),o&512&&(jt||a===null||ki(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(fe){nt(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,id(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ad=!0);break;case 6:if(bn(n,t),En(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){nt(t,t.return,fe)}}break;case 3:if(Nc=null,h=ai,ai=Ic(n.containerInfo),bn(n,t),ai=h,En(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(n.containerInfo)}catch(fe){nt(t,t.return,fe)}ad&&(ad=!1,Fy(t));break;case 4:o=ai,ai=Ic(t.stateNode.containerInfo),bn(n,t),En(t),ai=o;break;case 12:bn(n,t),En(t);break;case 31:bn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 13:bn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=os,G=jt;if(os=z||h,jt=G||C,bn(n,t),jt=G,os=z,En(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||os||jt||ea(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var K=C.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){nt(C,C.return,fe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){nt(C,C.return,fe)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?O0(H,!0):O0(C.stateNode,!1)}catch(fe){nt(C,C.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mc(t,a))));break;case 19:bn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mc(t,o)));break;case 30:break;case 21:break;default:bn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Vy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=sd(t);dc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var T=sd(t);dc(t,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=sd(t);rd(t,z,C);break;default:throw Error(r(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Py(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),ea(n);break;case 1:ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Oy(n,n.return,a),ea(n);break;case 27:Rl(n.stateNode);case 26:case 5:ki(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),yl(4,f);break;case 1:if(cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){nt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Eg(C[h],T)}catch(z){nt(o,o.return,z)}}a&&_&64&&ky(f),_l(f,f.return);break;case 27:jy(f);case 26:case 5:cs(h,f,a),a&&o===null&&_&4&&My(f),_l(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&_&4&&By(h,f);break;case 13:cs(h,f,a),a&&_&4&&qy(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),_l(f,f.return);break;case 30:break;default:cs(h,f,a)}n=n.sibling}}function od(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function ld(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function oi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(t,n,a,o),n=n.sibling}function Gy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,a,o),h&2048&&yl(9,n);break;case 1:oi(t,n,a,o);break;case 3:oi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){oi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else oi(t,n,a,o);break;case 31:oi(t,n,a,o);break;case 13:oi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,a,o):vl(t,n):f._visibility&2?oi(t,n,a,o):(f._visibility|=2,$a(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&od(_,n);break;case 24:oi(t,n,a,o),h&2048&&ld(n.alternate,n);break;default:oi(t,n,a,o)}}function $a(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=a,C=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:$a(f,_,T,C,h),yl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?$a(f,_,T,C,h):vl(f,_):(G._visibility|=2,$a(f,_,T,C,h)),h&&z&2048&&od(_.alternate,_);break;case 24:$a(f,_,T,C,h),h&&z&2048&&ld(_.alternate,_);break;default:$a(f,_,T,C,h)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&od(o.alternate,o);break;case 24:vl(a,o),h&2048&&ld(o.alternate,o);break;default:vl(a,o)}n=n.sibling}}var bl=8192;function Za(t,n,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)Yy(t,n,a),t=t.sibling}function Yy(t,n,a){switch(t.tag){case 26:Za(t,n,a),t.flags&bl&&t.memoizedState!==null&&zT(a,ai,t.memoizedState,t.memoizedProps);break;case 5:Za(t,n,a);break;case 3:case 4:var o=ai;ai=Ic(t.stateNode.containerInfo),Za(t,n,a),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=bl,bl=16777216,Za(t,n,a),bl=o):Za(t,n,a));break;default:Za(t,n,a)}}function Qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xt=o,Xy(o,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pc(t)):El(t);break;default:El(t)}}function pc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xt=o,Xy(o,t)}Qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),pc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,pc(n));break;default:pc(n)}t=t.sibling}}function Xy(t,n){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Hs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Xt=o;else e:for(a=t;Xt!==null;){o=Xt;var h=o.sibling,f=o.return;if(Uy(o),o===a){Xt=null;break e}if(h!==null){h.return=f,Xt=h;break e}Xt=f}}}var tT={getCacheForType:function(t){var n=tn(Ot),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return tn(Ot).controller.signal}},nT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,je=null,Ue=0,tt=0,Vn=null,Fs=!1,Ja=!1,ud=!1,hs=0,St=0,Gs=0,ta=0,cd=0,jn=0,Wa=0,Tl=null,Tn=null,hd=!1,gc=0,$y=0,yc=1/0,_c=null,Ys=null,Ft=0,Qs=null,eo=null,fs=0,fd=0,dd=null,Zy=null,wl=0,md=null;function Ln(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?bd():vu()}function Jy(){if(jn===0)if((Ue&536870912)===0||Ge){var t=ce;ce<<=1,(ce&3932160)===0&&(ce=262144),jn=t}else jn=536870912;return t=On.current,t!==null&&(t.flags|=32),jn}function wn(t,n,a){(t===lt&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(to(t,0),Ks(t,Ue,jn,!1)),Yi(t,a),((Ze&2)===0||t!==lt)&&(t===lt&&((Ze&2)===0&&(ta|=a),St===4&&Ks(t,Ue,jn,!1)),Oi(t))}function Wy(t,n,a){if((Ze&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||pt(t,n),h=o?rT(t,n):gd(t,n,!0),f=o;do{if(h===0){Ja&&!o&&Ks(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!iT(a)){h=gd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=Tl;var C=T.current.memoizedState.isDehydrated;if(C&&(to(T,_).flags|=256),_=gd(T,_,!1),_!==2){if(ud&&!C){T.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){to(t,0),Ks(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,jn,!Fs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=gc+300-Zt(),10<h)){if(Ks(o,n,jn,!Fs),We(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=N0(e0.bind(null,o,a,Tn,_c,hd,n,jn,ta,Wa,Fs,f,"Throttled",-0,0),h);break e}e0(o,a,Tn,_c,hd,n,jn,ta,Wa,Fs,f,null,-0,0)}}break}while(!0);Oi(t)}function e0(t,n,a,o,h,f,_,T,C,z,G,K,B,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Yy(n,f,K);var fe=(f&62914560)===f?gc-Zt():(f&4194048)===f?$y-Zt():0;if(fe=BT(K,fe),fe!==null){fs=f,t.cancelPendingCommit=fe(l0.bind(null,t,n,f,a,o,h,_,T,C,G,K,null,B,H)),Ks(t,f,_,!z);return}}l0(t,n,f,a,o,h,_,T,C)}function iT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,a,o){n&=~cd,n&=~ta,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Qi(t,a,n)}function vc(){return(Ze&6)===0?(Sl(0),!1):!0}function pd(){if(je!==null){if(tt===0)var t=je.return;else t=je,ts=Yr=null,Df(t),Ga=null,al=0,t=je;for(;t!==null;)Dy(t.alternate,t),t=t.return;je=null}}function to(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,pd(),lt=t,je=a=Wi(t.current,null),Ue=n,tt=0,Vn=null,Fs=!1,Ja=pt(t,n),ud=!1,Wa=jn=cd=ta=Gs=St=0,Tn=Tl=null,hd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_t(o),f=1<<h;n|=t[h],o&=~f}return hs=n,zu(),a}function t0(t,n){De=null,F.H=ml,n===Fa||n===Ku?(n=yg(),tt=3):n===vf?(n=yg(),tt=4):tt=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vn=n,je===null&&(St=1,lc(t,Fn(n,t.current)))}function n0(){var t=On.current;return t===null?!0:(Ue&4194048)===Ue?Kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Kn:!1}function i0(){var t=F.H;return F.H=ml,t===null?ml:t}function s0(){var t=F.A;return F.A=tT,t}function bc(){St=4,Fs||(Ue&4194048)!==Ue&&On.current!==null||(Ja=!0),(Gs&134217727)===0&&(ta&134217727)===0||lt===null||Ks(lt,Ue,jn,!1)}function gd(t,n,a){var o=Ze;Ze|=2;var h=i0(),f=s0();(lt!==t||Ue!==n)&&(_c=null,to(t,n)),n=!1;var _=St;e:do try{if(tt!==0&&je!==null){var T=je,C=Vn;switch(tt){case 8:pd(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var z=tt;if(tt=0,Vn=null,no(t,T,C,z),a&&Ja){_=0;break e}break;default:z=tt,tt=0,Vn=null,no(t,T,C,z)}}sT(),_=St;break}catch(G){t0(t,G)}while(!0);return n&&t.shellSuspendCounter++,ts=Yr=null,Ze=o,F.H=h,F.A=f,je===null&&(lt=null,Ue=0,zu()),_}function sT(){for(;je!==null;)r0(je)}function rT(t,n){var a=Ze;Ze|=2;var o=i0(),h=s0();lt!==t||Ue!==n?(_c=null,yc=Zt()+500,to(t,n)):Ja=pt(t,n);e:do try{if(tt!==0&&je!==null){n=je;var f=Vn;t:switch(tt){case 1:tt=0,Vn=null,no(t,n,f,1);break;case 2:case 9:if(pg(f)){tt=0,Vn=null,a0(n);break}n=function(){tt!==2&&tt!==9||lt!==t||(tt=7),Oi(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:pg(f)?(tt=0,Vn=null,a0(n)):(tt=0,Vn=null,no(t,n,f,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var T=je;if(_?G0(_):T.stateNode.complete){tt=0,Vn=null;var C=T.sibling;if(C!==null)je=C;else{var z=T.return;z!==null?(je=z,Ec(z)):je=null}break t}}tt=0,Vn=null,no(t,n,f,5);break;case 6:tt=0,Vn=null,no(t,n,f,6);break;case 8:pd(),St=6;break e;default:throw Error(r(462))}}aT();break}catch(G){t0(t,G)}while(!0);return ts=Yr=null,F.H=o,F.A=h,Ze=a,je!==null?0:(lt=null,Ue=0,zu(),St)}function aT(){for(;je!==null&&!Cr();)r0(je)}function r0(t){var n=Cy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?Ec(t):je=n}function a0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=wy(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=wy(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Df(n);default:Dy(a,n),n=je=sg(n,hs),n=Cy(a,n,hs)}t.memoizedProps=t.pendingProps,n===null?Ec(t):je=n}function no(t,n,a,o){ts=Yr=null,Df(n),Ga=null,al=0;var h=n.return;try{if(KE(t,h,n,a,Ue)){St=1,lc(t,Fn(a,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;St=1,lc(t,Fn(a,t.current)),je=null;return}n.flags&32768?(Ge||o===1?t=!0:Ja||(Ue&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),o0(n,t)):Ec(n)}function Ec(t){var n=t;do{if((n.flags&32768)!==0){o0(n,Fs);return}t=n.return;var a=ZE(n.alternate,n,hs);if(a!==null){je=a;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);St===0&&(St=5)}function o0(t,n){do{var a=JE(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);St=6,je=null}function l0(t,n,a,o,h,f,_,T,C){t.cancelPendingCommit=null;do Tc();while(Ft!==0);if((Ze&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=sf,Ea(t,a,f,_,T,C),t===lt&&(je=lt=null,Ue=0),eo=n,Qs=t,fs=a,fd=f,dd=h,Zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cT(In,function(){return d0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=re.p,re.p=2,_=Ze,Ze|=4;try{WE(t,n,a)}finally{Ze=_,re.p=h,F.T=o}}Ft=1,u0(),c0(),h0()}}function u0(){if(Ft===1){Ft=0;var t=Qs,n=eo,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=Ze;Ze|=4;try{Hy(n,t);var f=Id,_=Xp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Kp(T.ownerDocument.documentElement,T)){if(C!==null&&Jh(T)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var H=B.getSelection(),fe=T.textContent.length,be=Math.min(C.start,fe),ot=C.end===void 0?be:Math.min(C.end,fe);!H.extend&&be>ot&&(_=ot,ot=be,be=_);var j=Qp(T,be),O=Qp(T,ot);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=K.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),be>ot?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for(K=[],H=T;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Mc=!!Rd,Id=Rd=null}finally{Ze=h,re.p=o,F.T=a}}t.current=n,Ft=2}}function c0(){if(Ft===2){Ft=0;var t=Qs,n=eo,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=Ze;Ze|=4;try{Py(t,n.alternate,n)}finally{Ze=h,re.p=o,F.T=a}}Ft=3}}function h0(){if(Ft===4||Ft===3){Ft=0,_a();var t=Qs,n=eo,a=fs,o=Zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,eo=Qs=null,f0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),Jt(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(qt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{F.T=n,re.p=h}}(fs&3)!==0&&Tc(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===md?wl++:(wl=0,md=t):wl=0,Sl(0)}}function f0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function Tc(){return u0(),c0(),h0(),d0()}function d0(){if(Ft!==5)return!1;var t=Qs,n=fd;fd=0;var a=Jt(fs),o=F.T,h=re.p;try{re.p=32>a?32:a,F.T=null,a=dd,dd=null;var f=Qs,_=fs;if(Ft=0,eo=Qs=null,fs=0,(Ze&6)!==0)throw Error(r(331));var T=Ze;if(Ze|=4,Ky(f.current),Gy(f,f.current,_,a),Ze=T,Sl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(qt,f)}catch{}return!0}finally{re.p=h,F.T=o,f0(t,n)}}function m0(t,n,a){n=Fn(a,n),n=Yf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(Yi(t,2),Oi(t))}function nt(t,n,a){if(t.tag===3)m0(t,t,a);else for(;n!==null;){if(n.tag===3){m0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Fn(a,t),a=py(2),o=zs(n,a,2),o!==null&&(gy(a,o,n,t),Yi(o,2),Oi(o));break}}n=n.return}}function yd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new nT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ud=!0,h.add(a),t=oT.bind(null,t,n,a),n.then(t,t))}function oT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(Ue&a)===a&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Zt()-gc?(Ze&2)===0&&to(t,0):cd|=a,Wa===Ue&&(Wa=0)),Oi(t)}function p0(t,n){n===0&&(n=Gi()),t=Hr(t,n),t!==null&&(Yi(t,n),Oi(t))}function lT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),p0(t,a)}function uT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),p0(t,a)}function cT(t,n){return Tt(t,n)}var wc=null,io=null,_d=!1,Sc=!1,vd=!1,Xs=0;function Oi(t){t!==io&&t.next===null&&(io===null?wc=io=t:io=io.next=t),Sc=!0,_d||(_d=!0,fT())}function Sl(t,n){if(!vd&&Sc){vd=!0;do for(var a=!1,o=wc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,v0(o,f))}else f=Ue,f=We(o,o===lt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||pt(o,f)||(a=!0,v0(o,f));o=o.next}while(a);vd=!1}}function hT(){g0()}function g0(){Sc=_d=!1;var t=0;Xs!==0&&TT()&&(t=Xs);for(var n=Zt(),a=null,o=wc;o!==null;){var h=o.next,f=y0(o,n);f===0?(o.next=null,a===null?wc=h:a.next=h,h===null&&(io=a)):(a=o,(t!==0||(f&3)!==0)&&(Sc=!0)),o=h}Ft!==0&&Ft!==5||Sl(t),Xs!==0&&(Xs=0)}function y0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&o)!==0)&&(h[_]=Fi(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=lt,a=Ue,a=We(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&di(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||pt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&di(o),Jt(a)){case 2:case 8:a=Hi;break;case 32:a=In;break;case 268435456:a=Ss;break;default:a=In}return o=_0.bind(null,t),a=Tt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&di(o),t.callbackPriority=2,t.callbackNode=null,2}function _0(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var o=Ue;return o=We(t,t===lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,n),y0(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?_0.bind(null,t):null)}function v0(t,n){if(Tc())return null;Wy(t,n,!0)}function fT(){ST(function(){(Ze&6)!==0?Tt(pi,hT):g0()})}function bd(){if(Xs===0){var t=qa;t===0&&(t=me,me<<=1,(me&261888)===0&&(me=256)),Xs=t}return Xs}function b0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function E0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function dT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=b0((h[Qt]||null).action),_=o.submitter;_&&(n=(n=_[Qt]||null)?b0(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new xi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var C=_?E0(h,_):new FormData(h);zf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=_?E0(h,_):new FormData(h),zf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ed=0;Ed<nf.length;Ed++){var Td=nf[Ed],mT=Td.toLowerCase(),pT=Td[0].toUpperCase()+Td.slice(1);ri(mT,"on"+pT)}ri(Jp,"onAnimationEnd"),ri(Wp,"onAnimationIteration"),ri(eg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(DE,"onTransitionRun"),ri(kE,"onTransitionStart"),ri(OE,"onTransitionCancel"),ri(tg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function T0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,z=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Uu(G)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,z=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){Uu(G)}h.currentTarget=null,f=C}}}}function Le(t,n){var a=n[Ta];a===void 0&&(a=n[Ta]=new Set);var o=t+"__bubble";a.has(o)||(w0(n,t,2,!1),a.add(o))}function wd(t,n,a){var o=0;n&&(o|=4),w0(a,t,o,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[Ac]){t[Ac]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(gT.has(a)||wd(a,!1,t),wd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,wd("selectionchange",!1,n))}}function w0(t,n,a,o){switch(J0(n)){case 2:var h=FT;break;case 8:h=GT;break;default:h=Ud}a=h.bind(null,n,a,t),h=void 0,!Vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Ad(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue e}T=T.parentNode}}o=o.return}Ns(function(){var z=f,G=zn(a),K=[];e:{var B=ng.get(t);if(B!==void 0){var H=xi,fe=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":H=ju;break;case"focusin":fe="focus",H=Ur;break;case"focusout":fe="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Jp:case Wp:case eg:H=Cu;break;case tg:H=w;break;case"scroll":case"scrollend":H=Xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=Ne}var be=(n&4)!==0,ot=!be&&(t==="scroll"||t==="scrollend"),j=be?B!==null?B+"Capture":null:B;be=[];for(var O=z,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||j===null||(Y=ti(O,j),Y!=null&&be.push(xl(O,Y,U))),ot)break;O=O.return}0<be.length&&(B=new H(B,fe,null,a,G),K.push({event:B,listeners:be}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Yo&&(fe=a.relatedTarget||a.fromElement)&&(vi(fe)||fe[yi]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(fe=a.relatedTarget||a.toElement,H=z,fe=fe?vi(fe):null,fe!==null&&(ot=u(fe),be=fe.tag,fe!==ot||be!==5&&be!==27&&be!==6)&&(fe=null)):(H=null,fe=z),H!==fe)){if(be=$o,Y="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ji,Y="onPointerLeave",j="onPointerEnter",O="pointer"),ot=H==null?B:Cn(H),U=fe==null?B:Cn(fe),B=new be(Y,O+"leave",H,a,G),B.target=ot,B.relatedTarget=U,Y=null,vi(G)===z&&(be=new be(j,O+"enter",fe,a,G),be.target=U,be.relatedTarget=ot,Y=be),ot=Y,H&&fe)t:{for(be=yT,j=H,O=fe,U=0,Y=j;Y;Y=be(Y))U++;Y=0;for(var _e=O;_e;_e=be(_e))Y++;for(;0<U-Y;)j=be(j),U--;for(;0<Y-U;)O=be(O),Y--;for(;U--;){if(j===O||O!==null&&j===O.alternate){be=j;break t}j=be(j),O=be(O)}be=null}else be=null;H!==null&&S0(K,B,H,be,!1),fe!==null&&ot!==null&&S0(K,ot,fe,be,!0)}}e:{if(B=z?Cn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ke=Bp;else if(Up(B))if(qp)Ke=IE;else{Ke=xE;var pe=AE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&xa(z.elementType)&&(Ke=Bp):Ke=RE;if(Ke&&(Ke=Ke(t,z))){zp(K,Ke,a,G);break e}pe&&pe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(pe=z?Cn(z):window,t){case"focusin":(Up(pe)||pe.contentEditable==="true")&&(Ma=pe,Wh=z,tl=null);break;case"focusout":tl=Wh=Ma=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,$p(K,a,G);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":$p(K,a,G)}var Oe;if($e)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Oa?zr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Ci&&a.locale!=="ko"&&(Oa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Oa&&(Oe=Ko()):(Ai=G,Qo="value"in Ai?Ai.value:Ai.textContent,Oa=!0)),pe=xc(z,ze),0<pe.length&&(ze=new Ii(ze,t,null,a,G),K.push({event:ze,listeners:pe}),Oe?ze.data=Oe:(Oe=ka(a),Oe!==null&&(ze.data=Oe)))),(Oe=qn?EE(t,a):TE(t,a))&&(ze=xc(z,"onBeforeInput"),0<ze.length&&(pe=new Ii("onBeforeInput","beforeinput",null,a,G),K.push({event:pe,listeners:ze}),pe.data=Oe)),dT(K,t,z,a,G)}T0(K,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function xc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,a),h!=null&&o.unshift(xl(t,h,f)),h=ti(t,n),h!=null&&o.push(xl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function yT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S0(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var T=a,C=T.alternate,z=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||z===null||(C=z,h?(z=ti(a,f),z!=null&&_.unshift(xl(a,z,C))):h||(z=ti(a,f),z!=null&&_.push(xl(a,z,C)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var _T=/\r\n?/g,vT=/\u0000|\uFFFD/g;function A0(t){return(typeof t=="string"?t:""+t).replace(_T,`
`).replace(vT,"")}function x0(t,n){return n=A0(n),A0(t)===n}function at(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(t,""+o);break;case"className":Nn(t,"class",o);break;case"tabIndex":Nn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,o);break;case"style":Go(t,o,f);break;case"data":if(n!=="object"){Nn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Sa(t,"popover",o);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,Sa(t,a,o))}}function xd(t,n,a,o,h,f){switch(a){case"style":Go(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Sa(t,a,o)}}}function sn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,f,_,a,null)}}h&&at(t,n,"srcSet",a.srcSet,a,null),o&&at(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=f=_=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:at(t,n,o,G,a,null)}}wu(t,f,T,C,z,_,h,!1);return;case"select":Le("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:at(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!o,n!=null?xs(t,!!o,n,!1):a!=null&&xs(t,!!o,a,!0);return;case"textarea":Le("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:at(t,n,_,T,a,null)}Rs(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:at(t,n,C,o,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<Al.length;o++)Le(Al[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,z,o,a,null)}return;default:if(xa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&xd(t,n,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&at(t,n,T,o,a,null))}function bT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,C=null,z=null,G=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(H)||at(t,n,H,null,o,K)}}for(var B in o){var H=o[B];if(K=a[B],o.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==K&&at(t,n,B,H,o,K)}}Aa(t,_,T,C,z,G,f,h);return;case"select":H=_=T=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||at(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==C&&at(t,n,h,f,o,C)}n=T,a=_,o=H,B!=null?xs(t,!!a,B,!1):!!o!=!!a&&(n!=null?xs(t,!!a,n,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,n,T,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&at(t,n,_,h,o,f)}Su(t,B,H);return;case"option":for(var fe in a)if(B=a[fe],a.hasOwnProperty(fe)&&B!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:at(t,n,fe,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:at(t,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!o.hasOwnProperty(be)&&at(t,n,be,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:at(t,n,z,B,o,H)}return;default:if(xa(n)){for(var ot in a)B=a[ot],a.hasOwnProperty(ot)&&B!==void 0&&!o.hasOwnProperty(ot)&&xd(t,n,ot,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||xd(t,n,G,B,o,H);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!o.hasOwnProperty(j)&&at(t,n,j,null,o,B);for(K in o)B=o[K],H=a[K],!o.hasOwnProperty(K)||B===H||B==null&&H==null||at(t,n,K,B,o,H)}function R0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ET(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&R0(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>T)break;var G=C.transferSize,K=C.initiatorType;G&&R0(K)&&(C=C.responseEnd,_+=G*(C<T?1:(T-z)/(C-z)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rd=null,Id=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function I0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nd=null;function TT(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var N0=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,ST=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(t){return D0.resolve(null).then(t).catch(AT)}:N0;function AT(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function k0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),oo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);oo(n)}function O0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function RT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function M0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Md=null;function V0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Xn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function j0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function L0(t,n,a){switch(n=Rc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wa(t)}var $n=new Map,P0=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=re.d;re.d={f:CT,r:NT,D:DT,C:kT,L:OT,m:MT,X:jT,S:VT,M:LT};function CT(){var t=ds.f(),n=vc();return t||n}function NT(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):ds.r(t)}var so=typeof document>"u"?null:document;function U0(t,n,a){var o=so;if(o&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P0.has(h)||(P0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),sn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function DT(t){ds.D(t),U0("dns-prefetch",t,null)}function kT(t,n){ds.C(t,n),U0("preconnect",t,n)}function OT(t,n,a){ds.L(t,n,a);var o=so;if(o&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=ro(t);break;case"script":f=ao(t)}$n.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),$n.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Il(f))||n==="script"&&o.querySelector(Cl(f))||(n=o.createElement("link"),sn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function MT(t,n){ds.m(t,n);var a=so;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ao(t)}if(!$n.has(f)&&(t=S({rel:"modulepreload",href:t},n),$n.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(f)))return}o=a.createElement("link"),sn(o,"link",t),Dt(o),a.head.appendChild(o)}}}function VT(t,n,a){ds.S(t,n,a);var o=so;if(o&&t){var h=bi(o).hoistableStyles,f=ro(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(Il(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=$n.get(f))&&Vd(t,a);var C=_=o.createElement("link");Dt(C),sn(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function jT(t,n){ds.X(t,n);var a=so;if(a&&t){var o=bi(a).hoistableScripts,h=ao(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=S({src:t,async:!0},n),(n=$n.get(h))&&jd(t,n),f=a.createElement("script"),Dt(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function LT(t,n){ds.M(t,n);var a=so;if(a&&t){var o=bi(a).hoistableScripts,h=ao(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=$n.get(h))&&jd(t,n),f=a.createElement("script"),Dt(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function z0(t,n,a,o){var h=(h=de.current)?Ic(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ro(a.href),a=bi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var f=bi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Il(t)))&&!f._p&&(_.instance=f,_.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||PT(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ao(a),a=bi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ro(t){return'href="'+yn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function B0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function PT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),sn(n,"link",a),Dt(n),t.head.appendChild(n))}function ao(t){return'[src="'+yn(t)+'"]'}function Cl(t){return"script[async]"+t}function q0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),sn(o,"style",h),Cc(o,a.precedence,t),n.instance=o;case"stylesheet":h=ro(a.href);var f=t.querySelector(Il(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=B0(a),(h=$n.get(h))&&Vd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var _=f;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),sn(f,"link",o),n.state.loading|=4,Cc(f,a.precedence,t),n.instance=f;case"script":return f=ao(a.src),(h=t.querySelector(Cl(f)))?(n.instance=h,Dt(h),h):(o=a,(h=$n.get(f))&&(o=S({},a),jd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),sn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Cc(o,a.precedence,t));return n.instance}function Cc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nc=null;function H0(t,n,a){if(Nc===null){var o=new Map,h=Nc=new Map;h.set(a,o)}else h=Nc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function F0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function UT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function G0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function zT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ro(o.href),f=n.querySelector(Il(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Dc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=n.ownerDocument||n,o=B0(o),(h=$n.get(h))&&Vd(o,h),f=f.createElement("link"),Dt(f);var _=f;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),sn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Dc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ld=0;function BT(t,n){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ld===0&&(Ld=62500*ET());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ld?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Oc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,n.forEach(qT,t),kc=null,Dc.call(t))}function qT(t,n){if(!(n.state.loading&4)){var a=kc.get(t);if(a)var o=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=Dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:te,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function HT(t,n,a,o,h,f,_,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ln(0),this.hiddenUpdates=ln(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Y0(t,n,a,o,h,f,_,T,C,z,G,K){return t=new HT(t,n,a,_,C,z,G,K,T),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=gf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},bf(f),t}function Q0(t){return t?(t=La,t):La}function K0(t,n,a,o,h,f){h=Q0(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=zs(t,o,n),a!==null&&(wn(a,t,n),ll(a,t,n))}function X0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Pd(t,n){X0(t,n),(t=t.alternate)&&X0(t,n)}function $0(t){if(t.tag===13||t.tag===31){var n=Hr(t,67108864);n!==null&&wn(n,t,67108864),Pd(t,67108864)}}function Z0(t){if(t.tag===13||t.tag===31){var n=Ln();n=Xi(n);var a=Hr(t,n);a!==null&&wn(a,t,n),Pd(t,n)}}var Mc=!0;function FT(t,n,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=2,Ud(t,n,a,o)}finally{re.p=f,F.T=h}}function GT(t,n,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=8,Ud(t,n,a,o)}finally{re.p=f,F.T=h}}function Ud(t,n,a,o){if(Mc){var h=zd(o);if(h===null)Ad(t,n,o,Vc,a),W0(t,o);else if(QT(h,t,n,a,o))o.stopPropagation();else if(W0(t,o),n&4&&-1<YT.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ke(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-_t(_);T.entanglements[1]|=C,_&=~C}Oi(f),(Ze&6)===0&&(yc=Zt()+500,Sl(0))}}break;case 31:case 13:T=Hr(f,2),T!==null&&wn(T,f,2),vc(),Pd(f,2)}if(f=zd(o),f===null&&Ad(t,n,o,Vc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ad(t,n,o,null,a)}}function zd(t){return t=zn(t),Bd(t)}var Vc=null;function Bd(t){if(Vc=null,t=vi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vc=t,null}function J0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mi()){case pi:return 2;case Hi:return 8;case In:case va:return 32;case Ss:return 268435456;default:return 32}default:return 32}}var qd=!1,Zs=null,Js=null,Ws=null,Dl=new Map,kl=new Map,er=[],YT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ol(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&$0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function QT(t,n,a,o,h){switch(n){case"focusin":return Zs=Ol(Zs,t,n,a,o,h),!0;case"dragenter":return Js=Ol(Js,t,n,a,o,h),!0;case"mouseover":return Ws=Ol(Ws,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ol(Dl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,Ol(kl.get(f)||null,t,n,a,o,h)),!0}return!1}function e_(t){var n=vi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){Z0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){Z0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Yo=o,a.target.dispatchEvent(o),Yo=null}else return n=Un(a),n!==null&&$0(n),t.blockedOn=a,!1;n.shift()}return!0}function t_(t,n,a){jc(t)&&a.delete(n)}function KT(){qd=!1,Zs!==null&&jc(Zs)&&(Zs=null),Js!==null&&jc(Js)&&(Js=null),Ws!==null&&jc(Ws)&&(Ws=null),Dl.forEach(t_),kl.forEach(t_)}function Lc(t,n){t.blockedOn===n&&(t.blockedOn=null,qd||(qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,KT)))}var Pc=null;function n_(t){Pc!==t&&(Pc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=Un(a);f!==null&&(t.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function oo(t){function n(C){return Lc(C,t)}Zs!==null&&Lc(Zs,t),Js!==null&&Lc(Js,t),Ws!==null&&Lc(Ws,t),Dl.forEach(n),kl.forEach(n);for(var a=0;a<er.length;a++){var o=er[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<er.length&&(a=er[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&er.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Qt]||null;if(typeof f=="function")_||n_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Qt]||null)T=_.formAction;else if(Bd(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),n_(a)}}}function i_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Hd(t){this._internalRoot=t}Uc.prototype.render=Hd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Ln();K0(a,o,t,n,null,null)},Uc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;K0(t.current,2,null,t,null,null),vc(),n[yi]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=vu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<er.length&&n!==0&&n<er[a].priority;a++);er.splice(a,0,t),a===0&&e_(t)}};var s_=e.version;if(s_!=="19.2.0")throw Error(r(527,s_,"19.2.0"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var XT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{qt=zc.inject(XT),Ht=zc}catch{}}return Vl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=hy,f=fy,_=dy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Y0(t,1,!1,null,null,a,o,null,h,f,_,i_),t[yi]=n.current,Sd(t),new Hd(n)},Vl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=hy,_=fy,T=dy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Y0(t,1,!0,n,a??null,o,h,C,f,_,T,i_),n.context=Q0(null),a=n.current,o=Ln(),o=Xi(o),h=Us(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,Yi(n,a),Oi(n),t[yi]=n.current,Sd(t),new Uc(n)},Vl.version="19.2.0",Vl}var m_;function rw(){if(m_)return Yd.exports;m_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=sw(),Yd.exports}var aw=rw();const ow=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=s=>{const e=lw(s);return e.charAt(0).toUpperCase()+e.slice(1)},Zv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),uw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hw=le.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>le.createElement("svg",{ref:g,...cw,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Zv("lucide",l),...!u&&!uw(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,E])=>le.createElement(v,E)),...Array.isArray(u)?u:[u]]));const Me=(s,e)=>{const i=le.forwardRef(({className:r,...l},u)=>le.createElement(hw,{ref:u,iconNode:e,className:Zv(`lucide-${ow(p_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=p_(s),i};const fw=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],dw=Me("arrow-down-a-z",fw);const mw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pw=Me("arrow-left",mw);const gw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zm=Me("calendar",gw);const yw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_w=Me("camera",yw);const vw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bm=Me("check",vw);const bw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ew=Me("chevron-right",bw);const Tw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ww=Me("circle-alert",Tw);const Sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Aw=Me("circle-plus",Sw);const xw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Rw=Me("cloud-upload",xw);const Iw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Cw=Me("coffee",Iw);const Nw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dw=Me("download",Nw);const kw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Jv=Me("external-link",kw);const Ow=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Mw=Me("house",Ow);const Vw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wh=Me("image",Vw);const jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Lw=Me("info",jw);const Pw=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Sh=Me("link",Pw);const Uw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],zw=Me("list",Uw);const Bw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qw=Me("lock",Bw);const Hw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fw=Me("log-out",Hw);const Gw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yw=Me("mail",Gw);const Qw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wv=Me("map-pin",Qw);const Kw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Xw=Me("map",Kw);const $w=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],Zw=Me("move-vertical",$w);const Jw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e1=Me("pen-line",Jw);const Ww=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qm=Me("pencil",Ww);const e2=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],fm=Me("plane",e2);const t2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ah=Me("plus",t2);const n2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],da=Me("refresh-cw",n2);const i2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],s2=Me("save",i2);const r2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a2=Me("settings",r2);const o2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ou=Me("shopping-bag",o2);const l2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oa=Me("square-check-big",l2);const u2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],c2=Me("sun",u2);const h2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Hm=Me("tag",h2);const f2=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],d2=Me("tram-front",f2);const m2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xh=Me("trash-2",m2);const p2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],g2=Me("triangle-alert",p2);const y2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_2=Me("upload",y2);const v2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],b2=Me("user",v2);const E2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gr=Me("x",E2);const T2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],w2=Me("zoom-in",T2),S2=()=>{};var g_={};const t1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},A2=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,v=g?s[l+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let x=(p&15)<<2|v>>6,V=v&63;g||(V=64,d||(x=64)),r.push(i[E],i[S],i[x],i[V])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(t1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):A2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||v==null||S==null)throw new x2;const x=u<<2|p>>4;if(r.push(x),v!==64){const V=p<<4&240|v>>2;if(r.push(V),S!==64){const X=v<<6&192|S;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class x2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R2=function(s){const e=t1(s);return n1.encodeByteArray(e,!0)},rh=function(s){return R2(s).replace(/\./g,"")},i1=function(s){try{return n1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const C2=()=>I2().__FIREBASE_DEFAULTS__,N2=()=>{if(typeof process>"u"||typeof g_>"u")return;const s=g_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},D2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&i1(s[1]);return e&&JSON.parse(e)},Rh=()=>{try{return S2()||C2()||N2()||D2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},s1=s=>Rh()?.emulatorHosts?.[s],k2=s=>{const e=s1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},r1=()=>Rh()?.config,a1=s=>Rh()?.[`_${s}`];class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o1(s){return(await fetch(s,{credentials:"include"})).ok}function M2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rh(JSON.stringify(i)),rh(JSON.stringify(d)),""].join(".")}const Fl={};function V2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function j2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let y_=!1;function l1(s,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||Fl[s]===e||Fl[s]||y_)return;Fl[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=V2().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,V){x.setAttribute("width","24"),x.setAttribute("id",V),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{y_=!0,d()},x}function E(x,V){x.setAttribute("id",V),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=j2(r),V=i("text"),X=document.getElementById(V)||document.createElement("span"),ee=i("learnmore"),Z=document.getElementById(ee)||document.createElement("a"),ae=i("preprendIcon"),W=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const te=x.element;p(te),E(Z,ee);const Ce=v();g(W,ae),te.append(W,X,Z,Ce),document.body.appendChild(te)}u?(X.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function P2(){const s=Rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function B2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function H2(){return!P2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const Y2="FirebaseError";class bs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Y2,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Q2(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new bs(l,p,r)}}function Q2(s,e){return s.replace(K2,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const K2=/\{\$([^}]+)}/g;function X2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function la(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(__(u)&&__(d)){if(!la(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function __(s){return s!==null&&typeof s=="object"}function uu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Pl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function $2(s,e){const i=new Z2(s,e);return i.subscribe.bind(i)}class Z2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");J2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=$d),l.error===void 0&&(l.error=$d),l.complete===void 0&&(l.complete=$d);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function $d(){}function Yt(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class W2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new O2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tS(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(s){return s===na?void 0:s}function tS(s){return s.instantiationMode==="EAGER"}class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new W2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const iS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},sS=Be.INFO,rS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},aS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=rS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const oS=(s,e)=>e.some(i=>s instanceof i);let v_,b_;function lS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,dm=new WeakMap,c1=new WeakMap,Zd=new WeakMap,Gm=new WeakMap;function cS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(ur(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&u1.set(i,s)}).catch(()=>{}),Gm.set(e,s),e}function hS(s){if(dm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});dm.set(s,e)}let mm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||c1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function fS(s){mm=s(mm)}function dS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Jd(this),e,...i);return c1.set(r,e.sort?e.sort():[e]),ur(r)}:uS().includes(s)?function(...e){return s.apply(Jd(this),e),ur(u1.get(this))}:function(...e){return ur(s.apply(Jd(this),e))}}function mS(s){return typeof s=="function"?dS(s):(s instanceof IDBTransaction&&hS(s),oS(s,lS())?new Proxy(s,mm):s)}function ur(s){if(s instanceof IDBRequest)return cS(s);if(Zd.has(s))return Zd.get(s);const e=mS(s);return e!==s&&(Zd.set(s,e),Gm.set(e,s)),e}const Jd=s=>Gm.get(s);function pS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=ur(d);return r&&d.addEventListener("upgradeneeded",g=>{r(ur(d.result),g.oldVersion,g.newVersion,ur(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const gS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Wd=new Map;function E_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=yS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gS.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let v=g.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&g.done]))[0]};return Wd.set(e,u),u}fS(s=>({...s,get:(e,i,r)=>E_(e,i)||s.get(e,i,r),has:(e,i)=>!!E_(e,i)||s.has(e,i)}));class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function vS(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",T_="0.14.6";const gs=new Fm("@firebase/app"),bS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",wS="@firebase/app-check-compat",SS="@firebase/app-check",AS="@firebase/auth",xS="@firebase/auth-compat",RS="@firebase/database",IS="@firebase/data-connect",CS="@firebase/database-compat",NS="@firebase/functions",DS="@firebase/functions-compat",kS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",jS="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",US="@firebase/remote-config-compat",zS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",FS="@firebase/firestore-compat",GS="firebase",YS="12.6.0";const gm="[DEFAULT]",QS={[pm]:"fire-core",[bS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[SS]:"fire-app-check",[wS]:"fire-app-check-compat",[AS]:"fire-auth",[xS]:"fire-auth-compat",[RS]:"fire-rtdb",[IS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[NS]:"fire-fn",[DS]:"fire-fn-compat",[kS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[jS]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[US]:"fire-rc-compat",[zS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const $l=new Map,KS=new Map,ym=new Map;function w_(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function vo(s){const e=s.name;if(ym.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,s);for(const i of $l.values())w_(i,s);for(const i of KS.values())w_(i,s);return!0}function Ym(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function li(s){return s==null?!1:s.settings!==void 0}const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new lu("app","Firebase",XS);class $S{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Co=YS;function h1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:gm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw cr.create("bad-app-name",{appName:String(l)});if(i||(i=r1()),!i)throw cr.create("no-options");const u=$l.get(l);if(u){if(la(i,u.options)&&la(r,u.config))return u;throw cr.create("duplicate-app",{appName:l})}const d=new nS(l);for(const g of ym.values())d.addComponent(g);const p=new $S(i,r,d);return $l.set(l,p),p}function Qm(s=gm){const e=$l.get(s);if(!e&&s===gm&&r1())return h1();if(!e)throw cr.create("no-app",{appName:s});return e}function ZS(){return Array.from($l.values())}function hr(s,e,i){let r=QS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}vo(new ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const JS="firebase-heartbeat-database",WS=1,Zl="firebase-heartbeat-store";let em=null;function f1(){return em||(em=pS(JS,WS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),em}async function eA(s){try{const i=(await f1()).transaction(Zl),r=await i.objectStore(Zl).get(d1(s));return await i.done,r}catch(e){if(e instanceof bs)gs.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function S_(s,e){try{const r=(await f1()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,d1(s)),await r.done}catch(i){if(i instanceof bs)gs.warn(i.message);else{const r=cr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function d1(s){return`${s.name}!${s.options.appId}`}const tA=1024,nA=30;class iA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>nA){const l=aA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A_(),{heartbeatsToSend:i,unsentEntries:r}=sA(this._heartbeatsCache.heartbeats),l=rh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return gs.warn(e),""}}}function A_(){return new Date().toISOString().substring(0,10)}function sA(s,e=tA){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),x_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class rA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function x_(s){return rh(JSON.stringify({version:2,heartbeats:s})).length}function aA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function oA(s){vo(new ua("platform-logger",e=>new _S(e),"PRIVATE")),vo(new ua("heartbeat",e=>new iA(e),"PRIVATE")),hr(pm,T_,s),hr(pm,T_,"esm2020"),hr("fire-js","")}oA("");var lA="firebase",uA="12.6.0";hr(lA,uA,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,m1;(function(){var s;function e(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,k,L){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return A.prototype[k].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)M[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)M[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],k=N.g[2];let L=N.g[3],R;R=A+(L^I&(k^L))+M[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(k^A&(I^k))+M[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=k+(I^L&(A^I))+M[2]+606105819&4294967295,k=L+(R<<17&4294967295|R>>>15),R=I+(A^k&(L^A))+M[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(L^I&(k^L))+M[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(k^A&(I^k))+M[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=k+(I^L&(A^I))+M[6]+2821735955&4294967295,k=L+(R<<17&4294967295|R>>>15),R=I+(A^k&(L^A))+M[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(L^I&(k^L))+M[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(k^A&(I^k))+M[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=k+(I^L&(A^I))+M[10]+4294925233&4294967295,k=L+(R<<17&4294967295|R>>>15),R=I+(A^k&(L^A))+M[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(L^I&(k^L))+M[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(k^A&(I^k))+M[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=k+(I^L&(A^I))+M[14]+2792965006&4294967295,k=L+(R<<17&4294967295|R>>>15),R=I+(A^k&(L^A))+M[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(k^L&(I^k))+M[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^k&(A^I))+M[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(L^A))+M[11]+643717713&4294967295,k=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(k^L))+M[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^L&(I^k))+M[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^k&(A^I))+M[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(L^A))+M[15]+3634488961&4294967295,k=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(k^L))+M[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^L&(I^k))+M[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^k&(A^I))+M[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(L^A))+M[3]+4107603335&4294967295,k=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(k^L))+M[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^L&(I^k))+M[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^k&(A^I))+M[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(L^A))+M[7]+1735328473&4294967295,k=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(k^L))+M[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(I^k^L)+M[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^k)+M[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=k+(L^A^I)+M[11]+1839030562&4294967295,k=L+(R<<16&4294967295|R>>>16),R=I+(k^L^A)+M[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^L)+M[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^k)+M[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=k+(L^A^I)+M[7]+4139469664&4294967295,k=L+(R<<16&4294967295|R>>>16),R=I+(k^L^A)+M[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^L)+M[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^k)+M[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=k+(L^A^I)+M[3]+3572445317&4294967295,k=L+(R<<16&4294967295|R>>>16),R=I+(k^L^A)+M[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^L)+M[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^k)+M[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=k+(L^A^I)+M[15]+530742520&4294967295,k=L+(R<<16&4294967295|R>>>16),R=I+(k^L^A)+M[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(k^(I|~L))+M[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~k))+M[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=k+(A^(L|~I))+M[14]+2878612391&4294967295,k=L+(R<<15&4294967295|R>>>17),R=I+(L^(k|~A))+M[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~L))+M[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~k))+M[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=k+(A^(L|~I))+M[10]+4293915773&4294967295,k=L+(R<<15&4294967295|R>>>17),R=I+(L^(k|~A))+M[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~L))+M[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~k))+M[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=k+(A^(L|~I))+M[6]+2734768916&4294967295,k=L+(R<<15&4294967295|R>>>17),R=I+(L^(k|~A))+M[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~L))+M[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~k))+M[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=k+(A^(L|~I))+M[2]+718787259&4294967295,k=L+(R<<15&4294967295|R>>>17),R=I+(L^(k|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,M=this.C;let k=this.h,L=0;for(;L<A;){if(k==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(M[k++]=N.charCodeAt(L++),k==this.blockSize){l(this,M),k=0;break}}else for(;L<A;)if(M[k++]=N[L++],k==this.blockSize){l(this,M),k=0;break}}this.h=k,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[A++]=this.g[I]>>>M&255;return N};function u(N,A){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let M=!0;for(let k=N.length-1;k>=0;k--){const L=N[k]|0;M&&L==A||(I[k]=L,M=!1)}this.g=I}var p={};function g(N){return-128<=N&&N<128?u(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(v(-N));const A=[];let I=1;for(let M=0;N>=I;M++)A[M]=N/I|0,I*=4294967296;return new d(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return Z(E(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(A,8));let M=S;for(let L=0;L<N.length;L+=8){var k=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+k),A);k<8?(k=v(Math.pow(A,k)),M=M.j(k).add(v(R))):(M=M.j(I),M=M.add(v(R)))}return M}var S=g(0),x=g(1),V=g(16777216);s=d.prototype,s.m=function(){if(ee(this))return-Z(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(ee(this))return"-"+Z(this).toString(N);const A=v(Math.pow(N,6));var I=this;let M="";for(;;){const k=Ce(I,A).g;I=ae(I,k.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=k,X(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function ee(N){return N.h==-1}s.l=function(N){return N=ae(this,N),ee(N)?-1:X(N)?0:1};function Z(N){const A=N.g.length,I=[];for(let M=0;M<A;M++)I[M]=~N.g[M];return new d(I,~N.h).add(x)}s.abs=function(){return ee(this)?Z(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let k=0;k<=A;k++){let L=M+(this.i(k)&65535)+(N.i(k)&65535),R=(L>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=R>>>16,L&=65535,R&=65535,I[k]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ae(N,A){return N.add(Z(A))}s.j=function(N){if(X(this)||X(N))return S;if(ee(this))return ee(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(ee(N))return Z(this.j(Z(N)));if(this.l(V)<0&&N.l(V)<0)return v(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<N.g.length;k++){const L=this.i(M)>>>16,R=this.i(M)&65535,it=N.i(k)>>>16,bt=N.i(k)&65535;I[2*M+2*k]+=R*bt,W(I,2*M+2*k),I[2*M+2*k+1]+=L*bt,W(I,2*M+2*k+1),I[2*M+2*k+1]+=R*it,W(I,2*M+2*k+1),I[2*M+2*k+2]+=L*it,W(I,2*M+2*k+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function W(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function te(N,A){this.g=N,this.h=A}function Ce(N,A){if(X(A))throw Error("division by zero");if(X(N))return new te(S,S);if(ee(N))return A=Ce(Z(N),A),new te(Z(A.g),Z(A.h));if(ee(A))return A=Ce(N,Z(A)),new te(Z(A.g),A.h);if(N.g.length>30){if(ee(N)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,M=A;M.l(N)<=0;)I=Pe(I),M=Pe(M);var k=Ie(I,1),L=Ie(M,1);for(M=Ie(M,2),I=Ie(I,2);!X(M);){var R=L.add(M);R.l(N)<=0&&(k=k.add(I),L=R),M=Ie(M,1),I=Ie(I,1)}return A=ae(N,k.j(A)),new te(k,A)}for(k=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=v(I),R=L.j(A);ee(R)||R.l(N)>0;)I-=M,L=v(I),R=L.j(A);X(L)&&(L=x),k=k.add(L),N=ae(N,R)}return new te(k,N)}s.B=function(N){return Ce(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&N.i(M);return new d(I,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|N.i(M);return new d(I,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^N.i(M);return new d(I,this.h^N.h)};function Pe(N){const A=N.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(I,N.h)}function Ie(N,A){const I=A>>5;A%=32;const M=N.g.length-I,k=[];for(let L=0;L<M;L++)k[L]=A>0?N.i(L+I)>>>A|N.i(L+I+1)<<32-A:N.i(L+I);return new d(k,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,m1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=E,fr=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p1,Ul,g1,Xc,_m,y1,_1,v1;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var m=0;m<c.length;++m){var b=c[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var b=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var P=c[w];if(!(P in b))break e;b=b[P]}c=c[c.length-1],w=b[c],m=m(w),m!=w&&m!=null&&e(b,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var b=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.push([w,m[w]]);return b}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,b){return c.call.apply(c.bind,arguments)}function v(c,m,b){return v=g,v.apply(null,arguments)}function E(c,m){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function S(c,m){function b(){}b.prototype=m.prototype,c.Z=m.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,P,q){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return m.prototype[P].apply(w,se)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const m=c.length;if(m>0){const b=Array(m);for(let w=0;w<m;w++)b[w]=c[w];return b}return[]}function X(c,m){for(let w=1;w<arguments.length;w++){const P=arguments[w];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=c.length||0;const q=P.length||0;c.length=b+q;for(let se=0;se<q;se++)c[b+se]=P[se]}else c.push(P)}}class ee{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function ae(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,b){const w=te.get();w.set(m,b),this.h?this.h.next=w:this.g=w,this.h=w}}var te=new ee(()=>new Ce,c=>c.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,Ie=!1,N=new W,A=()=>{const c=Promise.resolve(void 0);Pe=()=>{c.then(I)}};function I(){for(var c;c=ae();){try{c.h.call(c.g)}catch(b){Z(b)}var m=te;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function it(c,m){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(it,k),it.prototype.init=function(c,m){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(b=="mouseover"?m=c.fromElement:b=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(c,m,b,w,P){this.listener=c,this.proxy=null,this.src=m,this.type=b,this.capture=!!w,this.ha=P,this.key=++F,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c,m,b){for(const w in c)m.call(b,c[w],w,c)}function Ye(c,m){for(const b in c)m.call(void 0,c[b],b,c)}function D(c){const m={};for(const b in c)m[b]=c[b];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,m){let b,w;for(let P=1;P<arguments.length;P++){w=arguments[P];for(b in w)c[b]=w[b];for(let q=0;q<Q.length;q++)b=Q[q],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,m,b,w,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=de(c,m,w,P);return se>-1?(m=c[se],b||(m.fa=!1)):(m=new re(m,this.src,q,!!w,P),m.fa=b,c.push(m)),m};function Ee(c,m){const b=m.type;if(b in c.g){var w=c.g[b],P=Array.prototype.indexOf.call(w,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(w,P,1),q&&(ye(m),c.g[b].length==0&&(delete c.g[b],c.h--))}}function de(c,m,b,w){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==w)return P}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),At={};function ut(c,m,b,w,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ut(c,m[q],b,w,P);return null}return b=Ir(b),c&&c[bt]?c.J(m,b,p(w)?!!w.capture:!1,P):Bt(c,m,b,!1,w,P)}function Bt(c,m,b,w,P,q){if(!m)throw Error("Invalid event type");const se=p(P)?!!P.capture:!!P;let Ne=qi(c);if(Ne||(c[Ve]=Ne=new oe(c)),b=Ne.add(m,b,w,se,q),b.proxy)return b;if(w=Es(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)L||(P=se),P===void 0&&(P=!1),c.addEventListener(m.toString(),w,P);else if(c.attachEvent)c.attachEvent(Rn(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Es(){function c(b){return m.call(c.src,c.listener,b)}const m=xr;return c}function Ts(c,m,b,w,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ts(c,m[q],b,w,P);else w=p(w)?!!w.capture:!!w,b=Ir(b),c&&c[bt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],b=de(m,b,w,P),b>-1&&(ye(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=qi(c))&&(m=c.g[m.toString()],c=-1,m&&(c=de(m,b,w,P)),(b=c>-1?m[c]:null)&&ws(b))}function ws(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[bt])Ee(m.i,c);else{var b=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(b,w,c.capture):m.detachEvent?m.detachEvent(Rn(b),w):m.addListener&&m.removeListener&&m.removeListener(w),(b=qi(m))?(Ee(b,c),b.h==0&&(b.src=null,m[Ve]=null)):ye(c)}}}function Rn(c){return c in At?At[c]:At[c]="on"+c}function xr(c,m){if(c.da)c=!0;else{m=new it(m,this);const b=c.listener,w=c.ha||c.src;c.fa&&ws(c),c=b.call(w,m)}return c}function qi(c){return c=c[Ve],c instanceof oe?c:null}var Rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ir(c){return typeof c=="function"?c:(c[Rr]||(c[Rr]=function(m){return c.handleEvent(m)}),c[Rr])}function Et(){M.call(this),this.i=new oe(this),this.M=this,this.G=null}S(Et,M),Et.prototype[bt]=!0,Et.prototype.removeEventListener=function(c,m,b,w){Ts(this,c,m,b,w)};function Tt(c,m){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new k(m,c);else if(m instanceof k)m.target=m.target||c;else{var P=m;m=new k(w,c),ne(m,P)}P=!0;let q,se;if(b)for(se=b.length-1;se>=0;se--)q=m.g=b[se],P=di(q,w,!0,m)&&P;if(q=m.g=c,P=di(q,w,!0,m)&&P,P=di(q,w,!1,m)&&P,b)for(se=0;se<b.length;se++)q=m.g=b[se],P=di(q,w,!1,m)&&P}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const b=c.g[m];for(let w=0;w<b.length;w++)ye(b[w]);delete c.g[m],c.h--}}this.G=null},Et.prototype.J=function(c,m,b,w){return this.i.add(String(c),m,!1,b,w)},Et.prototype.K=function(c,m,b,w){return this.i.add(String(c),m,!0,b,w)};function di(c,m,b,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const se=m[q];if(se&&!se.da&&se.capture==b){const Ne=se.listener,xt=se.ha||se.src;se.fa&&Ee(c.i,se),P=Ne.call(xt,w)!==!1&&P}}return P&&!w.defaultPrevented}function Cr(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function _a(c){c.g=Cr(()=>{c.g=null,c.i&&(c.i=!1,_a(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Zt extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(c){M.call(this),this.h=c,this.g={}}S(mi,M);var pi=[];function Hi(c){Fe(c.g,function(m,b){this.g.hasOwnProperty(b)&&ws(m)},c),c.g={}}mi.prototype.N=function(){mi.Z.N.call(this),Hi(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=d.JSON.stringify,va=d.JSON.parse,Ss=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Nr(){}function gi(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){k.call(this,"d")}S(Ht,k);function gn(){k.call(this,"c")}S(gn,k);var _t={},ba=null;function ie(){return ba=ba||new Et}_t.Ia="serverreachability";function ge(c){k.call(this,_t.Ia,c)}S(ge,k);function me(c){const m=ie();Tt(m,new ge(m))}_t.STAT_EVENT="statevent";function ce(c,m){k.call(this,_t.STAT_EVENT,c),this.stat=m}S(ce,k);function Se(c){const m=ie();Tt(m,new ce(m,c))}_t.Ja="timingevent";function ke(c,m){k.call(this,_t.Ja,c),this.size=m}S(ke,k);function We(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function pt(){this.g=!0}pt.prototype.ua=function(){this.g=!1};function Fi(c,m,b,w,P,q){c.info(function(){if(c.g)if(q){var se="",Ne=q.split("&");for(let $e=0;$e<Ne.length;$e++){var xt=Ne[$e].split("=");if(xt.length>1){const gt=xt[0];xt=xt[1];const qn=gt.split("_");se=qn.length>=2&&qn[1]=="type"?se+(gt+"="+xt+"&"):se+(gt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+w+") [attempt "+P+"]: "+m+`
`+b+`
`+se})}function Gi(c,m,b,w,P,q,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+P+"]: "+m+`
`+b+`
`+q+" "+se})}function ln(c,m,b,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ea(c,b)+(w?" "+w:"")})}function Yi(c,m){c.info(function(){return"TIMEOUT: "+m})}pt.prototype.info=function(){};function Ea(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var P=w[0];if(P!="noop"&&P!="stop"&&P!="close")for(let se=1;se<w.length;se++)w[se]=""}}}}return In(q)}catch{return m}}var Qi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ki;function Xi(){}S(Xi,Nr),Xi.prototype.g=function(){return new XMLHttpRequest},Ki=new Xi;function Jt(c){return encodeURIComponent(String(c))}function vu(c){var m=1;c=c.split(":");const b=[];for(;m>0&&c.length;)b.push(c.shift()),m--;return c.length&&b.push(c.join(":")),b}function Jn(c,m,b,w){this.j=c,this.i=m,this.l=b,this.S=w||1,this.V=new mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Nt={},Qt={};function yi(c,m,b){c.M=1,c.A=kr(kt(m)),c.u=b,c.R=!0,Ta(c,null)}function Ta(c,m){c.F=Date.now(),_i(c),c.B=kt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),xa(b.i,"t",w),c.C=0,b=c.j.L,c.h=new Wn,c.g=Mu(c.j,b?m:null,!c.u),c.P>0&&(c.O=new Zt(v(c.Y,c,c.g),c.P)),m=c.V,b=c.g,w=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(pi[0]=P.toString()),P=pi);for(let q=0;q<P.length;q++){const se=ut(b,P[q],w||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),me(),Fi(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&ni(c)==3?m.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ni(this.g),xt=this.g.ya(),$e=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||Ne!=4||xt==7||(xt==8||$e<=0?me(3):me(2)),vi(this);var m=this.g.ca();this.X=m;var b=Xh(this);if(this.o=m==200,Gi(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,P=this.g;if((w=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var q=w;break t}}q=null}if(c=q)ln(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,c);else{this.o=!1,this.m=3,Se(12),Cn(this),Un(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=Eu(this,b),gt==Qt){Ne==4&&(this.m=4,Se(14),c=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,Se(15),ln(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else ln(this.i,this.l,gt,null),bi(this,gt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,Se(16),c=!1),this.o=this.o&&c,!c)ln(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Un(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zo(se),se.P=!0,Se(11))}}else ln(this.i,this.l,b,null),bi(this,b);Ne==4&&Cn(this),this.o&&!this.K&&(Ne==4?Nu(this.j,this):(this.o=!1,_i(this)))}else Zi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),Cn(this),Un(this)}}}catch{}finally{}};function Xh(c){if(!bu(c))return c.g.la();const m=Wt(c.g);if(m==="")return"";let b="";const w=m.length,P=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Cn(c),Un(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<w;q++)c.h.h=!0,b+=c.h.i.decode(m[q],{stream:!(P&&q==w-1)});return m.length=0,c.h.g+=b,c.C=0,c.h.g}function bu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,m){var b=c.C,w=m.indexOf(`
`,b);return w==-1?Qt:(b=Number(m.substring(b,w)),isNaN(b)?Nt:(w+=1,w+b>m.length?Qt:(m=m.slice(w,w+b),c.C=w+b,m)))}Jn.prototype.cancel=function(){this.K=!0,Cn(this)};function _i(c){c.T=Date.now()+c.H,wa(c,c.H)}function wa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=We(v(c.aa,c),m)}function vi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Yi(this.i,this.B),this.M!=2&&(me(),Se(17)),Cn(this),this.m=2,Un(this)):wa(this,this.T-c)};function Un(c){c.j.I==0||c.K||Nu(c.j,c)}function Cn(c){vi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Hi(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function bi(c,m){try{var b=c.j;if(b.I!=0&&(b.g==c||Ti(b.h,c))){if(!c.L&&Ti(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var P=w;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Da(b),ks(b);else break e;Ur(b),Se(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=We(v(b.Va,b),6e3));Ei(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((c.L||b.g==c)&&Da(b),!R(m))for(P=b.Ba.g.parse(m),m=0;m<P.length;m++){let $e=P[m];const gt=$e[0];if(!(gt<=b.K))if(b.K=gt,$e=$e[1],b.I==2)if($e[0]=="c"){b.M=$e[1],b.ba=$e[2];const qn=$e[3];qn!=null&&(b.ka=qn,b.j.info("VER="+b.ka));const Ci=$e[4];Ci!=null&&(b.za=Ci,b.j.info("SVER="+b.za));const ii=$e[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const si=c.g;if(si){const zr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var q=w.h;q.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(w.G){const ka=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(w.wa=ka,et(w.J,w.G,ka))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var se=c;if(w.na=Ou(w,w.L?w.ba:null,w.W),se.L){zo(w.h,se);var Ne=se,xt=w.O;xt&&(Ne.H=xt),Ne.D&&(vi(Ne),_i(Ne)),w.g=se}else Iu(w);b.i.length>0&&Ri(b)}else $e[0]!="stop"&&$e[0]!="close"||Ii(b,7);else b.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ii(b,7):Xo(b):$e[0]!="noop"&&b.l&&b.l.qa($e),b.A=0)}}me(4)}catch{}}var Dt=class{constructor(c,m){this.g=c,this.map=m}};function Lo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uo(c,m){c.g?c.g.add(m):c.h=m}function zo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Lo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const b of c.g.values())m=m.concat(b.G);return m}return V(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,m){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let P,q=null;w>=0?(P=c[b].substring(0,w),q=c[b].substring(w+1)):P=c[b],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Nn?(this.l=c.l,Kt(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,qo(this,xu(c.i)),this.m=c.m):c&&(m=String(c).match(Tu))?(this.l=!1,Kt(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),As(this,m[4]),this.h=wi(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Nn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Or(m,Aa,!0),":");var b=this.g;return(b||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Or(m,Aa,!0),"@"),c.push(Jt(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Or(b,b.charAt(0)=="/"?Ho:wu,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Or(b,Su)),c.join("")},Nn.prototype.resolve=function(c){const m=kt(this);let b=!!c.j;b?Kt(m,c.j):b=!!c.o,b?m.o=c.o:b=!!c.g,b?m.g=c.g:b=c.u!=null;var w=c.h;if(b)As(m,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var P=m.h.lastIndexOf("/");P!=-1&&(w=m.h.slice(0,P+1)+w)}if(P=w,P==".."||P==".")w="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){w=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let se=0;se<P.length;){const Ne=P[se++];Ne=="."?w&&se==P.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&se==P.length&&q.push("")):(q.push(Ne),w=!0)}w=q.join("/")}else w=P}return b?m.h=w:b=c.i.toString()!=="",b?qo(m,xu(c.i)):b=!!c.m,b&&(m.m=c.m),m};function kt(c){return new Nn(c)}function Kt(c,m,b){c.j=b?wi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function qo(c,m,b){m instanceof Rs?(c.i=m,Ra(c.i,c.l)):(b||(m=Or(m,xs)),c.i=new Rs(m,c.l))}function et(c,m,b){c.i.set(m,b)}function kr(c){return et(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Or(c,m,b){return typeof c=="string"?(c=encodeURI(c).replace(m,yn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,wu=/[#\?:]/g,Ho=/[#\?]/g,xs=/[#\?@]/g,Su=/#/g;function Rs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(m,b){c.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Rs.prototype,s.add=function(c,m){_n(this),this.i=null,c=Is(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(m),this.h+=1,this};function Au(c,m){_n(c),m=Is(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Fo(c,m){return _n(c),m=Is(c,m),c.g.has(m)}s.forEach=function(c,m){_n(this),this.g.forEach(function(b,w){b.forEach(function(P){c.call(m,P,w,this)},this)},this)};function Go(c,m){_n(c);let b=[];if(typeof m=="string")Fo(c,m)&&(b=b.concat(c.g.get(Is(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)b=b.concat(c[m]);return b}s.set=function(c,m){return _n(this),this.i=null,c=Is(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Go(this,c),c.length>0?String(c[0]):m):m};function xa(c,m,b){Au(c,m),b.length>0&&(c.i=null,c.g.set(Is(c,m),V(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var b=m[w];const P=Jt(b);b=Go(this,b);for(let q=0;q<b.length;q++){let se=P;b[q]!==""&&(se+="="+Jt(b[q])),c.push(se)}}return this.i=c.join("&")};function xu(c){const m=new Rs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Is(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ra(c,m){m&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(b,w){const P=w.toLowerCase();w!=P&&(Au(this,w),xa(this,P,b))},c)),c.j=m}function ei(c,m){const b=new pt;if(d.Image){const w=new Image;w.onload=E(zn,b,"TestLoadImage: loaded",!0,m,w),w.onerror=E(zn,b,"TestLoadImage: error",!1,m,w),w.onabort=E(zn,b,"TestLoadImage: abort",!1,m,w),w.ontimeout=E(zn,b,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function Yo(c,m){const b=new pt,w=new AbortController,P=setTimeout(()=>{w.abort(),zn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(q=>{clearTimeout(P),q.ok?zn(b,"TestPingServer: ok",!0,m):zn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),zn(b,"TestPingServer: error",!1,m)})}function zn(c,m,b,w,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),w(b)}catch{}}function Cs(){this.g=new Ss}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Si,Nr),Si.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(c,m){Et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Mr,Et),s=Mr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,ti(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ia(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ia(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ns(this):ti(this),this.readyState==3&&Ia(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ns(this))},s.Na=function(c){this.g&&(this.response=c,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=m.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let m="";return Fe(c,function(b,w){m+=w,m+=":",m+=b,m+=`\r
`}),m}function Vr(c,m,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Bn(b),typeof c=="string"?b!=null&&Jt(b):et(c,m,b))}function st(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(st,Et);var Ai=/^https?$/i,Qo=["POST","PUT"];s=st.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ki.g(),this.g.onreadystatechange=x(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){jr(this,q);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var P in w)b.set(P,w[P]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())b.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||w||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of b)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){jr(this,q)}};function jr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ko(c),$i(c)}function Ko(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Tt(this,"complete"),Tt(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),st.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},s.Xa=function(){Lr(this)};function Lr(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(Tt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var w;if(w=q===0){let se=String(c.D).match(Tu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),w=!Ai.test(se?se.toLowerCase():"")}b=w}if(b)Tt(c,"complete"),Tt(c,"success");else{c.o=6;try{var P=ni(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ko(c)}}finally{$i(c)}}}}function $i(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,m||Tt(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),va(m)}};function Wt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(c){const m={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(R(c[w]))continue;var b=vu(c[w]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[P]||[];m[P]=q,q.push(b)}Ye(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(c,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||m}function Ds(c){this.za=0,this.i=[],this.j=new pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,c),this.Za=xi("retryDelaySeedMs",1e4,c),this.Ta=xi("forwardChannelMaxRetries",2,c),this.va=xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new Cs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(c,m,b,w){Se(0),this.W=c,this.H=m||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Ou(this,null,this.W),Ri(this)};function Xo(c){if(Ca(c),c.I==3){var m=c.V++,b=kt(c.J);if(et(b,"SID",c.M),et(b,"RID",m),et(b,"TYPE","terminate"),Pr(c,b),m=new Jn(c,c.j,m),m.M=2,m.A=kr(kt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}ku(c)}function ks(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Ca(c){ks(c),c.v&&(d.clearTimeout(c.v),c.v=null),Da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Po(c.h)&&!c.m){c.m=!0;var m=c.Ea;Pe||A(),Ie||(Pe(),Ie=!0),N.add(m,c),c.D=0}}function Na(c,m){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=We(v(c.Ea,c,m),Du(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Jn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=D(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Ru(this,P,m),b=kt(this.J),et(b,"RID",c),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),Pr(this,b),q&&(this.R?m="headers="+Jt(Bn(q))+"&"+m:this.u&&Vr(b,this.u,q)),Uo(this.h,P),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",m),et(b,"SID","null"),P.U=!0,yi(P,b,null)):yi(P,b,m),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||Po(this.h)||$o(this))};function $o(c,m){var b;m?b=m.l:b=c.V++;const w=kt(c.J);et(w,"SID",c.M),et(w,"RID",b),et(w,"AID",c.K),Pr(c,w),c.u&&c.o&&Vr(w,c.u,c.o),b=new Jn(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ru(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,b),yi(b,w,m)}function Pr(c,m){c.H&&Fe(c.H,function(b,w){et(m,w,b)}),c.l&&Fe({},function(b,w){et(m,w,b)})}function Ru(c,m,b){b=Math.min(c.i.length,b);const w=c.l?v(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ne=-1;for(;;){const xt=["count="+b];Ne==-1?b>0?(Ne=P[0].g,xt.push("ofs="+Ne)):Ne=0:xt.push("ofs="+Ne);let $e=!0;for(let gt=0;gt<b;gt++){var q=P[gt].g;const qn=P[gt].map;if(q-=Ne,q<0)Ne=Math.max(0,P[gt].g-100),$e=!1;else try{q="req"+q+"_"||"";try{var se=qn instanceof Map?qn:Object.entries(qn);for(const[Ci,ii]of se){let si=ii;p(ii)&&(si=In(ii)),xt.push(q+Ci+"="+encodeURIComponent(si))}}catch(Ci){throw xt.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(qn)}}if($e){se=xt.join("&");break e}}se=void 0}return c=c.i.splice(0,b),m.G=c,se}function Iu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Pe||A(),Ie||(Pe(),Ie=!0),N.add(m,c),c.A=0}}function Ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=We(v(c.Da,c),Du(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=We(v(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),ks(this),Cu(this))};function Zo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Cu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=kt(c.na);et(m,"RID","rpc"),et(m,"SID",c.M),et(m,"AID",c.K),et(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&et(m,"TO",c.ia),et(m,"TYPE","xmlhttp"),Pr(c,m),c.u&&c.o&&Vr(m,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=kr(kt(m)),b.u=null,b.R=!0,Ta(b,c)}s.Va=function(){this.C!=null&&(this.C=null,ks(this),Ur(this),Se(19))};function Da(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Nu(c,m){var b=null;if(c.g==m){Da(c),Zo(c),c.g=null;var w=2}else if(Ti(c.h,m))b=m.G,zo(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;w=ie(),Tt(w,new ke(w,b)),Ri(c)}else Iu(c);else if(P=m.m,P==3||P==0&&m.X>0||!(w==1&&Na(c,m)||w==2&&Ur(c)))switch(b&&b.length>0&&(m=c.h,m.i=m.i.concat(b)),P){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Du(c,m){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*m}function Ii(c,m){if(c.j.info("Error code "+m),m==2){var b=v(c.bb,c),w=c.Ua;const P=!w;w=new Nn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kt(w,"https"),kr(w),P?ei(w.toString(),b):Yo(w.toString(),b)}else Se(2);c.I=0,c.l&&c.l.pa(m),ku(c),Ca(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function ku(c){if(c.I=0,c.ja=[],c.l){const m=Bo(c.h);(m.length!=0||c.i.length!=0)&&(X(c.ja,m),X(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function Ou(c,m,b){var w=b instanceof Nn?kt(b):new Nn(b);if(w.g!="")m&&(w.g=m+"."+w.g),As(w,w.u);else{var P=d.location;w=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Nn(null);w&&Kt(q,w),m&&(q.g=m),P&&As(q,P),b&&(q.h=b),w=q}return b=c.G,m=c.wa,b&&m&&et(w,b,m),et(w,"VER",c.ka),Pr(c,w),w}function Mu(c,m,b){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new st(new Si({ab:b})):new st(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}s=Vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){Et.call(this),this.g=new Ds(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ji(this)}S(mn,Et),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Xo(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=In(c),c=b);m.i.push(new Dt(m.Ya++,c)),m.I==3&&Ri(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,mn.Z.N.call(this)};function ju(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const b in m){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(ju,Ht);function Lu(){gn.call(this),this.status=1}S(Lu,gn);function Ji(c){this.g=c}S(Ji,Vu),Ji.prototype.ra=function(){Tt(this.g,"a")},Ji.prototype.qa=function(c){Tt(this.g,new ju(c))},Ji.prototype.pa=function(c){Tt(this.g,new Lu)},Ji.prototype.oa=function(){Tt(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,v1=function(){return new Os},_1=function(){return ie()},y1=_t,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Xc=Qi,Dr.COMPLETE="complete",g1=Dr,gi.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Ul=gi,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,p1=st}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",C_="4.9.2";class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let No="12.3.0";const ca=new Fm("@firebase/firestore");function lo(){return ca.logLevel}function he(s,...e){if(ca.logLevel<=Be.DEBUG){const i=e.map(Km);ca.debug(`Firestore (${No}): ${s}`,...i)}}function ys(s,...e){if(ca.logLevel<=Be.ERROR){const i=e.map(Km);ca.error(`Firestore (${No}): ${s}`,...i)}}function bo(s,...e){if(ca.logLevel<=Be.WARN){const i=e.map(Km);ca.warn(`Firestore (${No}): ${s}`,...i)}}function Km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,b1(s,r,i)}function b1(s,e,i){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ys(r),new Error(r)}function Je(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||b1(e,l,r)}function Re(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ra{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class E1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(hn.UNAUTHENTICATED)))}shutdown(){}}class hA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ra,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ra)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new E1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class dA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new dA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=gA(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function vm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return tm(l)===tm(u)?qe(l,u):tm(l)?1:-1}return qe(s.length,e.length)}const yA=55296,_A=57343;function tm(s){const e=s.charCodeAt(0);return e>=yA&&e<=_A}function Eo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const D_="__name__";class Mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&we(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Mi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return qe(e.length,i.length)}static compareSegments(e,i){const r=Mi.isNumericId(e),l=Mi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):vm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class ct extends Mi{construct(e,i,r){return new ct(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ct(i)}static emptyPath(){return new ct([])}}const vA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Mi{construct(e,i,r){return new an(e,i,r)}static isValidIdentifier(e){return vA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new an([D_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ct.fromString(e))}static fromName(e){return new ve(ct.fromString(e).popFirst(5))}static empty(){return new ve(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ct(e.slice()))}}function T1(s,e,i){if(!i)throw new ue($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function bA(s,e,i,r){if(e===!0&&r===!0)throw new ue($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function k_(s){if(!ve.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O_(s){if(ve.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function w1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ih(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function dr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ih(s);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function cu(s,e){if(!w1(s))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ue($.INVALID_ARGUMENT,i);return!0}const M_=-62135596800,V_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*V_);return new mt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<M_)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ut("string",mt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new mt(0,0))}static max(){return new Ae(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function EA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new mt(i+1,0):new mt(i,r));return new yr(l,ve.empty(),e)}function TA(s){return new yr(s.readTime,s.key,Jl)}class yr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new yr(Ae.min(),ve.empty(),Jl)}static max(){return new yr(Ae.max(),ve.empty(),Jl)}}function wA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==SA)throw s;he("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(g=>r(g)))})),d=!0,u===l&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const v=g;i(e[v]).next((E=>{d[v]=E,++p,p===u&&r(d)}),(E=>l(E)))}}))}static doWhile(e,i){return new J(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function xA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ko(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const $m=-1;function Nh(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function RA(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const S1="";function IA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=j_(e)),e=CA(s.get(i),e);return j_(e)}function CA(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case S1:i+="";break;default:i+=u}}return i}function j_(s){return s+S1+""}function L_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function wr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function A1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??rn.RED,this.left=l??rn.EMPTY,this.right=u??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new rn(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return rn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Gt(this.comparator);return i.data=e,i}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Gt(an.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x1("Invalid base64 string: "+u):u}})(e);return new on(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new on(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const NA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=NA.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const R1="server_timestamp",I1="__type__",C1="__previous_value__",N1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[I1]?.stringValue===R1}function Dh(s){const e=s.mapValue.fields[C1];return Zm(e)?Dh(e):e}function Wl(s){const e=_r(s.mapValue.fields[N1].timestampValue);return new mt(e.seconds,e.nanos)}class DA{constructor(e,i,r,l,u,d,p,g,v,E){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const oh="(default)";class eu{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}const D1="__type__",kA="__max__",Hc={mapValue:{}},k1="__vector__",lh="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:MA(s)?9007199254740991:OA(s)?10:11:we(28295,{value:s})}function Bi(s,e){if(s===e)return!0;const i=br(s);if(i!==br(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=_r(l.timestampValue),p=_r(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return vr(l.bytesValue).isEqual(vr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Ct(l.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ct(l.integerValue)===Ct(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Ct(l.doubleValue),p=Ct(u.doubleValue);return d===p?ah(d)===ah(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Eo(s.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(L_(d)!==L_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Bi(d[g],p[g])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function tu(s,e){return(s.values||[]).find((i=>Bi(i,e)))!==void 0}function To(s,e){if(s===e)return 0;const i=br(s),r=br(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Ct(u.integerValue||u.doubleValue),g=Ct(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return U_(s.timestampValue,e.timestampValue);case 4:return U_(Wl(s),Wl(e));case 5:return vm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=vr(u),g=vr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let v=0;v<p.length&&v<g.length;v++){const E=qe(p[v],g[v]);if(E!==0)return E}return qe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=qe(Ct(u.latitude),Ct(d.latitude));return p!==0?p:qe(Ct(u.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return z_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},v=p[lh]?.arrayValue,E=g[lh]?.arrayValue,S=qe(v?.values?.length||0,E?.values?.length||0);return S!==0?S:z_(v,E)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Hc.mapValue&&d===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(d===Hc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),v=d.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const x=vm(g[S],E[S]);if(x!==0)return x;const V=To(p[g[S]],v[E[S]]);if(V!==0)return V}return qe(g.length,E.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function U_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=_r(s),r=_r(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function z_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=To(i[l],r[l]);if(u)return u}return qe(i.length,r.length)}function wo(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=_r(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return vr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=bm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${bm(i.fields[d])}`;return l+"}"})(s.mapValue):we(61005,{value:s})}function $c(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(s);return e?16+$c(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+$c(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return wr(r.fields,((u,d)=>{l+=u.length+$c(d)})),l})(s.mapValue);default:throw we(13486,{value:s})}}function B_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Em(s){return!!s&&"integerValue"in s}function Jm(s){return!!s&&"arrayValue"in s}function q_(s){return!!s&&"nullValue"in s}function H_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Zc(s){return!!s&&"mapValue"in s}function OA(s){return(s?.mapValue?.fields||{})[D1]?.stringValue===k1}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return wr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function MA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===kA}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=an.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Gl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){wr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new An(Gl(this.value))}}function O1(s){const e=[];return wr(s.fields,((i,r)=>{const l=new an([i]);if(Zc(r)){const u=O1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Pn(e)}class fn{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,Ae.min(),Ae.min(),Ae.min(),An.empty(),0)}static newFoundDocument(e,i,r,l){return new fn(e,1,i,Ae.min(),r,l,0)}static newNoDocument(e,i){return new fn(e,2,i,Ae.min(),Ae.min(),An.empty(),0)}static newUnknownDocument(e,i){return new fn(e,3,i,Ae.min(),Ae.min(),An.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,i){this.position=e,this.inclusive=i}}function F_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=ve.comparator(ve.fromName(d.referenceValue),i.key):r=To(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function G_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Bi(s.position[i],e.position[i]))return!1;return!0}class nu{constructor(e,i="asc"){this.field=e,this.dir=i}}function VA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class M1{}class Pt extends M1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new LA(e,i,r):i==="array-contains"?new zA(e,r):i==="in"?new BA(e,r):i==="not-in"?new qA(e,r):i==="array-contains-any"?new HA(e,r):new Pt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new PA(e,r):new UA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(To(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(To(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends M1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new hi(e,i)}matches(e){return V1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V1(s){return s.op==="and"}function j1(s){return jA(s)&&V1(s)}function jA(s){for(const e of s.filters)if(e instanceof hi)return!1;return!0}function Tm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+wo(s.value);if(j1(s))return s.filters.map((e=>Tm(e))).join(",");{const e=s.filters.map((i=>Tm(i))).join(",");return`${s.op}(${e})`}}function L1(s,e){return s instanceof Pt?(function(r,l){return l instanceof Pt&&r.op===l.op&&r.field.isEqual(l.field)&&Bi(r.value,l.value)})(s,e):s instanceof hi?(function(r,l){return l instanceof hi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&L1(d,l.filters[p])),!0):!1})(s,e):void we(19439)}function P1(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${wo(i.value)}`})(s):s instanceof hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(P1).join(" ,")+"}"})(s):"Filter"}class LA extends Pt{constructor(e,i,r){super(e,i,r),this.key=ve.fromName(r.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class PA extends Pt{constructor(e,i){super(e,"in",i),this.keys=U1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class UA extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=U1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function U1(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class zA extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Jm(i)&&tu(i.arrayValue,this.value)}}class BA extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class qA extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class HA extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>tu(this.value.arrayValue,r)))}}class FA{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function Y_(s,e=null,i=[],r=[],l=null,u=null,d=null){return new FA(s,e,i,r,l,u,d)}function Wm(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Tm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Nh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>wo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>wo(r))).join(",")),e.Te=i}return e.Te}function ep(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!VA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!L1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!G_(s.startAt,e.startAt)&&G_(s.endAt,e.endAt)}function wm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oo{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GA(s,e,i,r,l,u,d,p){return new Oo(s,e,i,r,l,u,d,p)}function tp(s){return new Oo(s)}function Q_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function z1(s){return s.collectionGroup!==null}function Yl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Gt(an.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nu(u,r))})),i.has(an.keyField().canonicalString())||e.Ie.push(new nu(an.keyField(),r))}return e.Ie}function Vi(s){const e=Re(s);return e.Ee||(e.Ee=YA(e,Yl(s))),e.Ee}function YA(s,e){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new nu(l.field,u)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Sm(s,e){const i=s.filters.concat([e]);return new Oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Am(s,e,i){return new Oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function kh(s,e){return ep(Vi(s),Vi(e))&&s.limitType===e.limitType}function B1(s){return`${Wm(Vi(s))}|lt:${s.limitType}`}function uo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>P1(l))).join(", ")}]`),Nh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>wo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>wo(l))).join(",")),`Target(${r})`})(Vi(s))}; limitType=${s.limitType})`}function Oh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ve.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Yl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const v=F_(d,p,g);return d.inclusive?v<=0:v<0})(r.startAt,Yl(r),l)||r.endAt&&!(function(d,p,g){const v=F_(d,p,g);return d.inclusive?v>=0:v>0})(r.endAt,Yl(r),l))})(s,e)}function QA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function q1(s){return(e,i)=>{let r=!1;for(const l of Yl(s)){const u=KA(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function KA(s,e,i){const r=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),v=p.data.field(u);return g!==null&&v!==null?To(g,v):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const XA=new vt(ve.comparator);function _s(){return XA}const H1=new vt(ve.comparator);function zl(...s){let e=H1;for(const i of s)e=e.insert(i.key,i);return e}function F1(s){let e=H1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function sa(){return Ql()}function G1(){return Ql()}function Ql(){return new ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const $A=new vt(ve.comparator),ZA=new Gt(ve.comparator);function He(...s){let e=ZA;for(const i of s)e=e.add(i);return e}const JA=new Gt(qe);function WA(){return JA}function np(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function Y1(s){return{integerValue:""+s}}function ex(s,e){return RA(e)?Y1(e):np(s,e)}class Mh{constructor(){this._=void 0}}function tx(s,e,i){return s instanceof ch?(function(l,u){const d={fields:{[I1]:{stringValue:R1},[N1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Zm(u)&&(u=Dh(u)),u&&(d.fields[C1]=u),{mapValue:d}})(i,e):s instanceof iu?K1(s,e):s instanceof su?X1(s,e):(function(l,u){const d=Q1(l,u),p=K_(d)+K_(l.Ae);return Em(d)&&Em(l.Ae)?Y1(p):np(l.serializer,p)})(s,e)}function nx(s,e,i){return s instanceof iu?K1(s,e):s instanceof su?X1(s,e):i}function Q1(s,e){return s instanceof hh?(function(r){return Em(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class ch extends Mh{}class iu extends Mh{constructor(e){super(),this.elements=e}}function K1(s,e){const i=$1(e);for(const r of s.elements)i.some((l=>Bi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class su extends Mh{constructor(e){super(),this.elements=e}}function X1(s,e){let i=$1(e);for(const r of s.elements)i=i.filter((l=>!Bi(l,r)));return{arrayValue:{values:i}}}class hh extends Mh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K_(s){return Ct(s.integerValue||s.doubleValue)}function $1(s){return Jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ix(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof iu&&l instanceof iu||r instanceof su&&l instanceof su?Eo(r.elements,l.elements,Bi):r instanceof hh&&l instanceof hh?Bi(r.Ae,l.Ae):r instanceof ch&&l instanceof ch})(s.transform,e.transform)}class sx{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Vh{}function Z1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ip(s.key,ci.none()):new hu(s.key,s.data,ci.none());{const i=s.data,r=An.empty();let l=new Gt(an.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Sr(s.key,r,new Pn(l.toArray()),ci.none())}}function rx(s,e,i){s instanceof hu?(function(l,u,d){const p=l.value.clone(),g=$_(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Sr?(function(l,u,d){if(!Jc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=$_(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(J1(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,r){return s instanceof hu?(function(u,d,p,g){if(!Jc(u.precondition,d))return p;const v=u.value.clone(),E=Z_(u.fieldTransforms,g,d);return v.setAll(E),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof Sr?(function(u,d,p,g){if(!Jc(u.precondition,d))return p;const v=Z_(u.fieldTransforms,g,d),E=d.data;return E.setAll(J1(u)),E.setAll(v),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(u,d,p){return Jc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function ax(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=Q1(r.transform,l||null);u!=null&&(i===null&&(i=An.empty()),i.set(r.field,u))}return i||null}function X_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Eo(r,l,((u,d)=>ix(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends Vh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends Vh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function J1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function $_(s,e,i){const r=new Map;Je(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,nx(d,p,i[l]))}return r}function Z_(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,tx(u,d,e))}return r}class ip extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ox extends Vh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lx{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&rx(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=G1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const g=Z1(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((i,r)=>X_(i,r)))&&Eo(this.baseMutations,e.baseMutations,((i,r)=>X_(i,r)))}}class sp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return $A})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new sp(e,i,r,l)}}class ux{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Qe;function hx(s){switch(s){case $.OK:return we(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function W1(s){if(s===void 0)return ys("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return we(39323,{code:s})}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function fx(){return new TextEncoder}const dx=new fr([4294967295,4294967295],0);function J_(s){const e=fx().encode(s),i=new m1;return i.update(e),new Uint8Array(i.digest())}function W_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fr([i,r],0),new fr([l,u],0)]}class rp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(fr.fromNumber(r)));return l.compare(dx)===1&&(l=new fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=J_(e),[r,l]=W_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new rp(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=J_(e),[r,l]=W_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new jh(Ae.min(),l,new vt(qe),_s(),He())}}class fu{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new fu(r,i,He(),He(),He())}}class Wc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class eb{constructor(e,i){this.targetId=e,this.Ce=i}}class tb{constructor(e,i,r=on.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:we(38017,{changeType:u})}})),new fu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mx{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.Je=Fc(),this.He=Fc(),this.Ye=new vt(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(wm(u))if(r===0){const d=new ve(u.path);this.et(i,d,fn.newNoDocument(d,Ae.min()))}else Je(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=vr(r).toUint8Array()}catch(g){if(g instanceof x1)return bo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new rp(d,l,u)}catch(g){return bo(g instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&wm(p.target)){const g=new ve(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,fn.newNoDocument(g,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=He();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new jh(e,i,this.Ye,this.je,r);return this.je=_s(),this.Je=Fc(),this.He=Fc(),this.Ye=new vt(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new ev,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Gt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Gt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||he("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Fc(){return new vt(ve.comparator)}function tv(){return new vt(ve.comparator)}const px={asc:"ASCENDING",desc:"DESCENDING"},gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yx={and:"AND",or:"OR"};class _x{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function xm(s,e){return s.useProto3Json||Nh(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vx(s,e){return fh(s,e.toTimestamp())}function ji(s){return Je(!!s,49232),Ae.fromTimestamp((function(i){const r=_r(i);return new mt(r.seconds,r.nanos)})(s))}function ap(s,e){return Rm(s,e).canonicalString()}function Rm(s,e){const i=(function(l){return new ct(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function ib(s){const e=ct.fromString(s);return Je(lb(e),10190,{key:e.toString()}),e}function Im(s,e){return ap(s.databaseId,e.path)}function nm(s,e){const i=ib(e);if(i.get(1)!==s.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(rb(i))}function sb(s,e){return ap(s.databaseId,e)}function bx(s){const e=ib(s);return e.length===4?ct.emptyPath():rb(e)}function Cm(s){return new ct(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rb(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,e,i){return{name:Im(s,e),fields:i.value.mapValue.fields}}function Ex(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(Je(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const E=v.code===void 0?$.UNKNOWN:W1(v.code);return new ue(E,v.message||"")})(d);i=new tb(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=nm(s,r.document.name),u=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):Ae.min(),p=new An({mapValue:{fields:r.document.fields}}),g=fn.newFoundDocument(l,u,d,p),v=r.targetIds||[],E=r.removedTargetIds||[];i=new Wc(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=nm(s,r.document),u=r.readTime?ji(r.readTime):Ae.min(),d=fn.newNoDocument(l,u),p=r.removedTargetIds||[];i=new Wc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=nm(s,r.document),u=r.removedTargetIds||[];i=new Wc([],u,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new cx(l,u),p=r.targetId;i=new eb(p,d)}}return i}function Tx(s,e){let i;if(e instanceof hu)i={update:nv(s,e.key,e.value)};else if(e instanceof ip)i={delete:Im(s,e.key)};else if(e instanceof Sr)i={update:nv(s,e.key,e.data),updateMask:Dx(e.fieldMask)};else{if(!(e instanceof ox))return we(16599,{Vt:e.type});i={verify:Im(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof iu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof su)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:vx(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(s,e.precondition)),i}function wx(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?ji(l.updateTime):ji(u);return d.isEqual(Ae.min())&&(d=ji(u)),new sx(d,l.transformResults||[])})(i,e)))):[]}function Sx(s,e){return{documents:[sb(s,e.path)]}}function Ax(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=sb(s,l);const u=(function(v){if(v.length!==0)return ob(hi.create(v,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(v){if(v.length!==0)return v.map((E=>(function(x){return{field:co(x.field),direction:Ix(x.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=xm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:l}}function xx(s){let e=bx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Je(r===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];i.where&&(u=(function(S){const x=ab(S);return x instanceof hi&&j1(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(X){return new nu(ho(X.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,Nh(x)?null:x})(i.limit));let g=null;i.startAt&&(g=(function(S){const x=!!S.before,V=S.values||[];return new uh(V,x)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const x=!S.before,V=S.values||[];return new uh(V,x)})(i.endAt)),GA(e,l,d,u,p,"F",g,v)}function Rx(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ab(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ho(i.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ho(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(i.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ho(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(ho(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return hi.create(i.compositeFilter.filters.map((r=>ab(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function Ix(s){return px[s]}function Cx(s){return gx[s]}function Nx(s){return yx[s]}function co(s){return{fieldPath:s.canonicalString()}}function ho(s){return an.fromServerFormat(s.fieldPath)}function ob(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:co(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(i.field),op:Cx(i.op),value:i.value}}})(s):s instanceof hi?(function(i){const r=i.getFilters().map((l=>ob(l)));return r.length===1?r[0]:{compositeFilter:{op:Nx(i.op),filters:r}}})(s):we(54877,{filter:s})}function Dx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class lr{constructor(e,i,r,l,u=Ae.min(),d=Ae.min(),p=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kx{constructor(e){this.yt=e}}function Ox(s){const e=xx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Am(e,e.limit,"L"):e}class Mx{constructor(){this.Cn=new Vx}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(yr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class Vx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Gt(ct.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Gt(ct.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ub=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(ub,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}const sv="LruGarbageCollector",jx=1048576;function rv([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class Lx{constructor(e){this.Ir=e,this.buffer=new Gt(rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();rv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Px{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ko(i)?he(sv,"Ignoring IndexedDB error during garbage collection: ",i):await Do(i)}await this.Vr(3e5)}))}}class Ux{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Ch.ce);const r=new Lx(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(iv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,p,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),lo()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function zx(s,e){return new Ux(s,e)}class Bx{constructor(){this.changes=new ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Hx{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Kl(r.mutation,l,Pn.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=sa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=zl();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=sa();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=_s();const d=Ql(),p=(function(){return Ql()})();return i.forEach(((g,v)=>{const E=r.get(v.key);l.has(v.key)&&(E===void 0||E.mutation instanceof Sr)?u=u.insert(v.key,v):E!==void 0?(d.set(v.key,E.mutation.getFieldMask()),Kl(E.mutation,v,E.mutation.getFieldMask(),mt.now())):d.set(v.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((v,E)=>d.set(v,E))),i.forEach(((v,E)=>p.set(v,new qx(E,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Ql();let l=new vt(((d,p)=>d-p)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let E=r.get(g)||Pn.empty();E=p.applyToLocalView(v,E),r.set(g,E);const S=(l.get(p.batchId)||He()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),v=g.key,E=g.value,S=G1();E.forEach((x=>{if(!u.has(x)){const V=Z1(i.get(x),r.get(x));V!==null&&S.set(x,V),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):z1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):J.resolve(sa());let p=Jl,g=u;return d.next((v=>J.forEach(v,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{g=g.insert(E,x)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,g,v,He()))).next((E=>({batchId:p,changes:F1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((r=>{let l=zl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,u).next((p=>J.forEach(p,(g=>{const v=(function(S,x){return new Oo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,l).next((E=>{E.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((g,v)=>{const E=v.getKey();d.get(E)===null&&(d=d.insert(E,fn.newInvalidDocument(E)))}));let p=zl();return d.forEach(((g,v)=>{const E=u.get(g);E!==void 0&&Kl(E.mutation,v,Pn.empty(),mt.now()),Oh(i,v)&&(p=p.insert(g,v))})),p}))}}class Fx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Ox(l.bundledQuery),readTime:ji(l.readTime)}})(i)),J.resolve()}}class Gx{constructor(){this.overlays=new vt(ve.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=sa();return J.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const l=sa(),u=i.length+1,d=new ve(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new vt(((v,E)=>v-E));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let E=u.get(v.largestBatchId);E===null&&(E=sa(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const p=sa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,E)=>p.set(v,E))),!(p.size()>=l)););return J.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ux(i,r));let u=this.qr.get(i);u===void 0&&(u=He(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class Yx{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class op{constructor(){this.Qr=new Gt($t.$r),this.Ur=new Gt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new $t(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new $t(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ve(new ct([])),r=new $t(i,e),l=new $t(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ve(new ct([])),r=new $t(i,e),l=new $t(i,e+1);let u=He();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new $t(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ve.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||ve.comparator(e.key,i.key)}}class Qx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Gt($t.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lx(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new $t(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Gt(qe);return i.forEach((l=>{const u=new $t(l,0),d=new $t(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;ve.isDocumentKey(u)||(u=u.child(""));const d=new $t(new ve(u),0);let p=new Gt(qe);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(g.Yr)),!0)}),d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const u=new $t(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new $t(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Kx{constructor(e){this.ri=e,this.docs=(function(){return new vt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(e,i){let r=_s();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():fn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=_s();const d=i.path,p=new ve(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||wA(TA(E),r)<=0||(l.has(E.key)||Oh(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,i,r,l){we(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Xx(this)}getSize(e){return J.resolve(this.size)}}class Xx extends Bx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class $x{constructor(e){this.persistence=e,this.si=new ma((i=>Wm(i)),ep),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new op,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new So(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class cb{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new Yx,this.referenceDelegate=e(this),this.Pi=new $x(this),this.indexManager=new Mx,this.remoteDocumentCache=(function(l){return new Kx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kx(i),this.Ii=new Fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Gx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Qx(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){he("MemoryPersistence","Starting transaction:",e);const l=new Zx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Zx extends AA{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Ri=new op,this.Vi=null}static mi(e){return new lp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=ve.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new ma((r=>IA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=zx(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?J.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,u.removeEntry(d,Ae.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=$c(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class up{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new up(e,i.fromCache,r,l)}}class Jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H2()?8:xA(dn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new Jx;return this.Ss(e,i,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(lo()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",uo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(lo()<=Be.DEBUG&&he("QueryEngine","Query:",uo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(lo()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",uo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(i))):J.resolve())}ys(e,i){if(Q_(i))return J.resolve(null);let r=Vi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Am(i,null,"F"),r=Vi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=He(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const v=this.Ds(i,p);return this.Cs(i,v,d,g.readTime)?this.ys(e,Am(i,null,"F")):this.vs(e,v,i,g)}))))})))))}ws(e,i,r,l){return Q_(i)||l.isEqual(Ae.min())?J.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?J.resolve(null):(lo()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),uo(i)),this.vs(e,d,i,EA(l,Jl)).next((p=>p)))}))}Ds(e,i){let r=new Gt(q1(e));return i.forEach(((l,u)=>{Oh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return lo()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",uo(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const cp="LocalStore",eR=3e8;class tR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new vt(qe),this.xs=new ma((u=>Wm(u)),ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function nR(s,e,i,r){return new tR(s,e,i,r)}async function hb(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=He();for(const v of l){d.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){p.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(r,g).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function iR(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,v,E){const S=v.batch,x=S.keys();let V=J.resolve();return x.forEach((X=>{V=V.next((()=>E.getEntry(g,X))).next((ee=>{const Z=v.docVersions.get(X);Je(Z!==null,48541),ee.version.compareTo(Z)<0&&(S.applyToRemoteDocument(ee,v),ee.isValidDocument()&&(ee.setReadTime(v.commitVersion),E.addEntry(ee)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=He();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(g=g.add(p.batch.mutations[v].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function fb(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function sR(s,e){const i=Re(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,E.addedDocuments,S))));let V=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(on.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,r)),l=l.insert(S,V),(function(ee,Z,ae){return ee.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=eR?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(x,V,E)&&p.push(i.Pi.updateTargetData(u,V))}));let g=_s(),v=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(rR(u,d,e.documentUpdates).next((E=>{g=E.ks,v=E.qs}))),!r.isEqual(Ae.min())){const E=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,v))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function rR(s,e,i){let r=He(),l=He();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=_s();return i.forEach(((p,g)=>{const v=u.get(p);g.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):he(cp,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function aR(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$m),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oR(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new lr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Nm(s,e,i){const r=Re(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ko(d))throw d;he(cp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function av(s,e,i){const r=Re(s);let l=Ae.min(),u=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,E){const S=Re(g),x=S.xs.get(E);return x!==void 0?J.resolve(S.Ms.get(x)):S.Pi.getTargetData(v,E)})(r,d,Vi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?u:He()))).next((p=>(lR(r,QA(e),p),{documents:p,Qs:u})))))}function lR(s,e,i){let r=s.Os.get(e)||Ae.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class ov{constructor(){this.activeTargetIds=WA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uR{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cR{Oo(e){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Dm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const im="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Dm(),p=this.zo(e,i.toUriEncodedString());he(im,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:v}=new URL(p),E=Io(v);return this.Jo(e,p,g,r,E).then((S=>(he(im,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw bo(im,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=hR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class dR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class mR extends fR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Dm();return new Promise(((p,g)=>{const v=new p1;v.setWithCredentials(!0),v.listenOnce(g1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Xc.NO_ERROR:const S=v.getResponseJson();he(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Xc.TIMEOUT:he(cn,`RPC '${e}' ${d} timed out`),g(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const x=v.getStatus();if(he(cn,`RPC '${e}' ${d} failed with status:`,x,"response text:",v.getResponseText()),x>0){let V=v.getResponseJson();Array.isArray(V)&&(V=V[0]);const X=V?.error;if(X&&X.status&&X.message){const ee=(function(ae){const W=ae.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(W)>=0?W:$.UNKNOWN})(X.status);g(new ue(ee,X.message))}else g(new ue($.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ue($.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{he(cn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);he(cn,`RPC '${e}' ${d} sending request:`,l),v.send(i,"POST",E,r,15)}))}T_(e,i,r){const l=Dm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=v1(),p=_1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const E=u.join("");he(cn,`Creating RPC '${e}' stream ${l}: ${E}`,g);const S=d.createWebChannel(E,g);this.I_(S);let x=!1,V=!1;const X=new dR({Yo:Z=>{V?he(cn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(x||(he(cn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),x=!0),he(cn,`RPC '${e}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),ee=(Z,ae,W)=>{Z.listen(ae,(te=>{try{W(te)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return ee(S,Ul.EventType.OPEN,(()=>{V||(he(cn,`RPC '${e}' stream ${l} transport opened.`),X.o_())})),ee(S,Ul.EventType.CLOSE,(()=>{V||(V=!0,he(cn,`RPC '${e}' stream ${l} transport closed`),X.a_(),this.E_(S))})),ee(S,Ul.EventType.ERROR,(Z=>{V||(V=!0,bo(cn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),X.a_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Ul.EventType.MESSAGE,(Z=>{if(!V){const ae=Z.data[0];Je(!!ae,16349);const W=ae,te=W?.error||W[0]?.error;if(te){he(cn,`RPC '${e}' stream ${l} received error:`,te);const Ce=te.status;let Pe=(function(A){const I=Lt[A];if(I!==void 0)return W1(I)})(Ce),Ie=te.message;Pe===void 0&&(Pe=$.INTERNAL,Ie="Unknown error status: "+Ce+" with message "+te.message),V=!0,X.a_(new ue(Pe,Ie)),S.close()}else he(cn,`RPC '${e}' stream ${l} received:`,ae),X.u_(ae)}})),ee(p,y1.STAT_EVENT,(Z=>{Z.stat===_m.PROXY?he(cn,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===_m.NOPROXY&&he(cn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function sm(){return typeof document<"u"?document:null}function Lh(s){return new _x(s,!0)}class db{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class mb{constructor(e,i,r,l,u,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new db(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(he(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pR extends mb{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Ex(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ae.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?ji(d.readTime):Ae.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Cm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=wm(g)?{documents:Sx(u,g)}:{query:Ax(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=nb(u,d.resumeToken);const v=xm(u,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=fh(u,d.snapshotVersion.toTimestamp());const v=xm(u,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=Rx(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Cm(this.serializer),i.removeTarget=e,this.q_(i)}}class gR extends mb{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=wx(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Tx(this.serializer,r)))};this.q_(i)}}class yR{}class _R extends yR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Rm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue($.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Rm(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class bR{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{pa(this)&&(he(ha,"Restarting streams for network reachability change."),await(async function(g){const v=Re(g);v.Ea.add(4),await du(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Ph(v)})(this))}))})),this.Ra=new vR(r,l)}}async function Ph(s){if(pa(s))for(const e of s.da)await e(!0)}async function du(s){for(const e of s.da)await e(!1)}function pb(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),mp(i)?dp(i):Mo(i).O_()&&fp(i,e))}function hp(s,e){const i=Re(s),r=Mo(i);i.Ia.delete(e),r.O_()&&gb(i,e),i.Ia.size===0&&(r.O_()?r.L_():pa(i)&&i.Ra.set("Unknown"))}function fp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mo(s).Y_(e)}function gb(s,e){s.Va.Ue(e),Mo(s).Z_(e)}function dp(s){s.Va=new mx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Mo(s).start(),s.Ra.ua()}function mp(s){return pa(s)&&!Mo(s).x_()&&s.Ia.size>0}function pa(s){return Re(s).Ea.size===0}function yb(s){s.Va=void 0}async function ER(s){s.Ra.set("Online")}async function TR(s){s.Ia.forEach(((e,i)=>{fp(s,e)}))}async function wR(s,e){yb(s),mp(s)?(s.Ra.ha(e),dp(s)):s.Ra.set("Unknown")}async function SR(s,e,i){if(s.Ra.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){he(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mh(s,r)}else if(e instanceof Wc?s.Va.Ze(e):e instanceof eb?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ae.min()))try{const r=await fb(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,v)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),gb(u,g);const S=new lr(E.target,g,v,E.sequenceNumber);fp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){he(ha,"Failed to raise snapshot:",r),await mh(s,r)}}async function mh(s,e,i){if(!ko(e))throw e;s.Ea.add(1),await du(s),s.Ra.set("Offline"),i||(i=()=>fb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ha,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ph(s)}))}function _b(s,e){return e().catch((i=>mh(s,i,e)))}async function Uh(s){const e=Re(s),i=Er(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;AR(e);)try{const l=await aR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,xR(e,l)}catch(l){await mh(e,l)}vb(e)&&bb(e)}function AR(s){return pa(s)&&s.Ta.length<10}function xR(s,e){s.Ta.push(e);const i=Er(s);i.O_()&&i.X_&&i.ea(e.mutations)}function vb(s){return pa(s)&&!Er(s).x_()&&s.Ta.length>0}function bb(s){Er(s).start()}async function RR(s){Er(s).ra()}async function IR(s){const e=Er(s);for(const i of s.Ta)e.ea(i.mutations)}async function CR(s,e,i){const r=s.Ta.shift(),l=sp.from(r,e,i);await _b(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Uh(s)}async function NR(s,e){e&&Er(s).X_&&await(async function(r,l){if((function(d){return hx(d)&&d!==$.ABORTED})(l.code)){const u=r.Ta.shift();Er(r).B_(),await _b(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Uh(r)}})(s,e),vb(s)&&bb(s)}async function hv(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),he(ha,"RemoteStore received new credentials");const r=pa(i);i.Ea.add(3),await du(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ph(i)}async function DR(s,e){const i=Re(s);e?(i.Ea.delete(2),await Ph(i)):e||(i.Ea.add(2),await du(i),i.Ra.set("Unknown"))}function Mo(s){return s.ma||(s.ma=(function(i,r,l){const u=Re(i);return u.sa(),new pR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:ER.bind(null,s),t_:TR.bind(null,s),r_:wR.bind(null,s),H_:SR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),mp(s)?dp(s):s.Ra.set("Unknown")):(await s.ma.stop(),yb(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(i,r,l){const u=Re(i);return u.sa(),new gR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:RR.bind(null,s),r_:NR.bind(null,s),ta:IR.bind(null,s),na:CR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Uh(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pp{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new pp(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(s,e){if(ys("AsyncQueue",`${e}: ${s}`),ko(s))return new ue($.UNAVAILABLE,`${e}: ${s}`);throw s}class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ve.comparator(i.key,r.key):(i,r)=>ve.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class fv{constructor(){this.ga=new vt(ve.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ao{constructor(e,i,r,l,u,d,p,g,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ao(e,i,mo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class kR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OR{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Re(i),u=l.queries;l.queries=dv(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function dv(){return new ma((s=>B1(s)),kh)}async function MR(s,e){const i=Re(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new kR,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=gp(d,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&yp(i)}async function VR(s,e){const i=Re(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function jR(s,e){const i=Re(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&yp(i)}function LR(s,e,i){const r=Re(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function yp(s){s.Ca.forEach((e=>{e.next()}))}var km,mv;(mv=km||(km={})).Ma="default",mv.Cache="cache";class PR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}class Eb{constructor(e){this.key=e}}class Tb{constructor(e){this.key=e}}class UR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=q1(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new fv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,S)=>{const x=l.get(E),V=Oh(this.query,S)?S:null,X=!!x&&this.mutatedKeys.has(x.key),ee=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Z=!1;x&&V?x.data.isEqual(V.data)?X!==ee&&(r.track({type:3,doc:V}),Z=!0):this.su(x,V)||(r.track({type:2,doc:V}),Z=!0,(g&&this.eu(V,g)>0||v&&this.eu(V,v)<0)&&(p=!0)):!x&&V?(r.track({type:0,doc:V}),Z=!0):x&&!V&&(r.track({type:1,doc:x}),Z=!0,(g||v)&&(p=!0)),Z&&(V?(d=d.add(V),u=ee?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(V,X){const ee=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:Z})}};return ee(V)-ee(X)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,v=g!==this.Za;return this.Za=g,d.length!==0||v?{snapshot:new Ao(this.query,e.tu,u,d,e.mutatedKeys,g===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Tb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Eb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _p="SyncEngine";class zR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class BR{constructor(e){this.key=e,this.hu=!1}}class qR{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((p=>B1(p)),kh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ve.comparator),this.Au=new Map,this.Ru=new op,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HR(s,e,i=!0){const r=Ib(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await wb(r,e,i,!0),l}async function FR(s,e){const i=Ib(s);await wb(i,e,!0,!1)}async function wb(s,e,i,r){const l=await oR(s.localStore,Vi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await GR(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&pb(s.remoteStore,l),p}async function GR(s,e,i,r,l){s.pu=(S,x,V)=>(async function(ee,Z,ae,W){let te=Z.view.ru(ae);te.Cs&&(te=await av(ee.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,te))));const Ce=W&&W.targetChanges.get(Z.targetId),Pe=W&&W.targetMismatches.get(Z.targetId)!=null,Ie=Z.view.applyChanges(te,ee.isPrimaryClient,Ce,Pe);return gv(ee,Z.targetId,Ie.au),Ie.snapshot})(s,S,x,V);const u=await av(s.localStore,e,!0),d=new UR(e,u.Qs),p=d.ru(u.documents),g=fu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),v=d.applyChanges(p,s.isPrimaryClient,g);gv(s,i,v.au);const E=new zR(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function YR(s,e,i){const r=Re(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!kh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Nm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&hp(r.remoteStore,l.targetId),Om(r,l.targetId)})).catch(Do)):(Om(r,l.targetId),await Nm(r.localStore,l.targetId,!0))}async function QR(s,e){const i=Re(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),hp(i.remoteStore,r.targetId))}async function KR(s,e,i){const r=tI(s);try{const l=await(function(d,p){const g=Re(d),v=mt.now(),E=p.reduce(((V,X)=>V.add(X.key)),He());let S,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let X=_s(),ee=He();return g.Ns.getEntries(V,E).next((Z=>{X=Z,X.forEach(((ae,W)=>{W.isValidDocument()||(ee=ee.add(ae))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,X))).next((Z=>{S=Z;const ae=[];for(const W of p){const te=ax(W,S.get(W.key).overlayedDocument);te!=null&&ae.push(new Sr(W.key,te,O1(te.value.mapValue),ci.exists(!0)))}return g.mutationQueue.addMutationBatch(V,v,ae,p)})).next((Z=>{x=Z;const ae=Z.applyToLocalDocumentSet(S,ee);return g.documentOverlayCache.saveOverlays(V,Z.batchId,ae)}))})).then((()=>({batchId:x.batchId,changes:F1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let v=d.Vu[d.currentUser.toKey()];v||(v=new vt(qe)),v=v.insert(p,g),d.Vu[d.currentUser.toKey()]=v})(r,l.batchId,i),await mu(r,l.changes),await Uh(r.remoteStore)}catch(l){const u=gp(l,"Failed to persist write");i.reject(u)}}async function Sb(s,e){const i=Re(s);try{const r=await sR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Je(d.hu,14607):l.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await mu(i,r,e)}catch(r){await Do(r)}}function pv(s,e,i){const r=Re(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Re(d);g.onlineState=p;let v=!1;g.queries.forEach(((E,S)=>{for(const x of S.Sa)x.va(p)&&(v=!0)})),v&&yp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XR(s,e,i){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new vt(ve.comparator);d=d.insert(u,fn.newNoDocument(u,Ae.min()));const p=He().add(u),g=new jh(Ae.min(),new Map,new vt(qe),d,p);await Sb(r,g),r.du=r.du.remove(u),r.Au.delete(e),vp(r)}else await Nm(r.localStore,e,!1).then((()=>Om(r,e,i))).catch(Do)}async function $R(s,e){const i=Re(s),r=e.batch.batchId;try{const l=await iR(i.localStore,e);xb(i,r,null),Ab(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await mu(i,l)}catch(l){await Do(l)}}async function ZR(s,e,i){const r=Re(s);try{const l=await(function(d,p){const g=Re(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return g.mutationQueue.lookupMutationBatch(v,p).next((S=>(Je(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(v,S)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>g.localDocuments.getDocuments(v,E)))}))})(r.localStore,e);xb(r,e,i),Ab(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await mu(r,l)}catch(l){await Do(l)}}function Ab(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function xb(s,e,i){const r=Re(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Om(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Rb(s,r)}))}function Rb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(hp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),vp(s))}function gv(s,e,i){for(const r of i)r instanceof Eb?(s.Ru.addReference(r.key,e),JR(s,r)):r instanceof Tb?(he(_p,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Rb(s,r.key)):we(19791,{wu:r})}function JR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(he(_p,"New document in limbo: "+i),s.Eu.add(r),vp(s))}function vp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(ct.fromString(e)),r=s.fu.next();s.Au.set(r,new BR(i)),s.du=s.du.insert(i,r),pb(s.remoteStore,new lr(Vi(tp(i.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function mu(s,e,i){const r=Re(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const E=v?!v.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(v){l.push(v);const E=up.As(g.targetId,v);u.push(E)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,v){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(v,(x=>J.forEach(x.Es,(V=>E.persistence.referenceDelegate.addReference(S,x.targetId,V))).next((()=>J.forEach(x.ds,(V=>E.persistence.referenceDelegate.removeReference(S,x.targetId,V)))))))))}catch(S){if(!ko(S))throw S;he(cp,"Failed to update sequence numbers: "+S)}for(const S of v){const x=S.targetId;if(!S.fromCache){const V=E.Ms.get(x),X=V.snapshotVersion,ee=V.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(x,ee)}}})(r.localStore,u))}async function WR(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){he(_p,"User change. New user:",e.toKey());const r=await hb(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue($.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(i,r.Ls)}}function eI(s,e){const i=Re(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Ib(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XR.bind(null,e),e.Pu.H_=jR.bind(null,e.eventManager),e.Pu.yu=LR.bind(null,e.eventManager),e}function tI(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZR.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nR(this.persistence,new Wx,e.initialUser,this.serializer)}Cu(e){return new cb(lp.mi,this.serializer)}Du(e){return new uR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class nI extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Px(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new cb((r=>dh.mi(r,i)),this.serializer)}}class Mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OR})()}createDatastore(e){const i=Lh(e.databaseInfo.databaseId),r=(function(u){return new mR(u)})(e.databaseInfo);return(function(u,d,p,g){return new _R(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new bR(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new cR})())}createSyncEngine(e,i){return(function(l,u,d,p,g,v,E){const S=new qR(l,u,d,p,g,v);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Re(i);he(ha,"RemoteStore shutting down."),r.Ea.add(5),await du(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class iI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Tr="FirestoreClient";class sI{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{he(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(he(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=gp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rm(s,e){s.asyncQueue.verifyOperationInProgress(),he(Tr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await hb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function yv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await rI(s);he(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>hv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>hv(e.remoteStore,l))),s._onlineComponents=e}async function rI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(Tr,"Using user provided OfflineComponentProvider");try{await rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;bo("Error using user provided cache. Falling back to memory cache: "+i),await rm(s,new ph)}}else he(Tr,"Using default OfflineComponentProvider"),await rm(s,new nI(void 0));return s._offlineComponents}async function Cb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(Tr,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(he(Tr,"Using default OnlineComponentProvider"),await yv(s,new Mm))),s._onlineComponents}function aI(s){return Cb(s).then((e=>e.syncEngine))}async function _v(s){const e=await Cb(s),i=e.eventManager;return i.onListen=HR.bind(null,e.syncEngine),i.onUnlisten=YR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=FR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=QR.bind(null,e.syncEngine),i}function Nb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const vv=new Map;const Db="firestore.googleapis.com",bv=!0;class Ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Db,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ub;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jx)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cA;switch(r.type){case"firstParty":return new mA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=vv.get(i);r&&(he("ComponentProvider","Removing Datastore"),vv.delete(i),r.terminate())})(this),Promise.resolve()}}function oI(s,e,i,r={}){s=dr(s,zh);const l=Io(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(o1(`https://${p}`),l1("Firestore",!0)),u.host!==Db&&u.host!==p&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!la(g,d)&&(s._setSettings(g),r.mockUserToken)){let v,E;if(typeof r.mockUserToken=="string")v=r.mockUserToken,E=hn.MOCK_USER;else{v=M2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(S)}s._authCredentials=new hA(new E1(v,E))}}class ga{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class zt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(cu(i,zt._jsonSchema))return new zt(e,r||null,new ve(ct.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ut("string",zt._jsonSchemaVersion),referencePath:Ut("string")};class mr extends ga{constructor(e,i,r){super(e,i,tp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ve(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function nr(s,e,...i){if(s=Yt(s),T1("collection","path",e),s instanceof zh){const r=ct.fromString(e,...i);return O_(r),new mr(s,null,r)}{if(!(s instanceof zt||s instanceof mr))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...i));return O_(r),new mr(s.firestore,null,r)}}function ia(s,e,...i){if(s=Yt(s),arguments.length===1&&(e=Xm.newId()),T1("doc","path",e),s instanceof zh){const r=ct.fromString(e,...i);return k_(r),new zt(s,null,new ve(r))}{if(!(s instanceof zt||s instanceof mr))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...i));return k_(r),new zt(s.firestore,s instanceof mr?s.converter:null,new ve(r))}}const Tv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new db(this,"async_queue_retry"),this._c=()=>{const r=sm();r&&he(Tv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;he(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",Sv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=pp.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Av(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class xo extends zh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function lI(s,e){const i=typeof s=="object"?s:Qm(),r=typeof s=="string"?s:oh,l=Ym(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=k2("firestore");u&&oI(l,...u)}return l}function kb(s){if(s._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uI(s),s._firestoreClient}function uI(s){const e=s._freezeSettings(),i=(function(l,u,d,p){return new DA(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Nb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new sI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(on.fromBase64String(e))}catch(i){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Zn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ut("string",Zn._jsonSchemaVersion),bytes:Ut("string")};class Bh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bp{constructor(e){this._methodName=e}}class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Ut("string",Li._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pi(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Ut("string",Pi._jsonSchemaVersion),vectorValues:Ut("object")};const cI=/^__.*__$/;class hI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}class Ob{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Mb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:s})}}class Ep{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ep({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mb(this.Ac)&&cI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Lh(e)}Cc(e,i,r,l=!1){return new Ep({Ac:e,methodName:i,Dc:r,path:an.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tp(s){const e=s._freezeSettings(),i=Lh(s._databaseId);return new fI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function dI(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);wp("Data must be an object, but it was:",d,r);const p=Vb(r,d);let g,v;if(u.merge)g=new Pn(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const x=Vm(e,S,i);if(!d.contains(x))throw new ue($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Lb(E,x)||E.push(x)}g=new Pn(E),v=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,v=d.fieldTransforms;return new hI(new An(p),g,v)}class qh extends bp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function mI(s,e,i,r){const l=s.Cc(1,e,i);wp("Data must be an object, but it was:",l,r);const u=[],d=An.empty();wr(r,((g,v)=>{const E=Sp(e,g,i);v=Yt(v);const S=l.yc(E);if(v instanceof qh)u.push(E);else{const x=pu(v,S);x!=null&&(u.push(E),d.set(E,x))}}));const p=new Pn(u);return new Ob(d,p,l.fieldTransforms)}function pI(s,e,i,r,l,u){const d=s.Cc(1,e,i),p=[Vm(e,r,i)],g=[l];if(u.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(Vm(e,u[x])),g.push(u[x+1]);const v=[],E=An.empty();for(let x=p.length-1;x>=0;--x)if(!Lb(v,p[x])){const V=p[x];let X=g[x];X=Yt(X);const ee=d.yc(V);if(X instanceof qh)v.push(V);else{const Z=pu(X,ee);Z!=null&&(v.push(V),E.set(V,Z))}}const S=new Pn(v);return new Ob(E,S,d.fieldTransforms)}function gI(s,e,i,r=!1){return pu(i,s.Cc(r?4:3,e))}function pu(s,e){if(jb(s=Yt(s)))return wp("Unsupported field value:",e,s),Vb(s,e);if(s instanceof bp)return(function(r,l){if(!Mb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=pu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ex(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:fh(l.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(l.serializer,u)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:nb(l.serializer,r._byteString)};if(r instanceof zt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ap(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Pi)return(function(d,p){return{mapValue:{fields:{[D1]:{stringValue:k1},[lh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return np(p.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ih(r)}`)})(s,e)}function Vb(s,e){const i={};return A1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(s,((r,l)=>{const u=pu(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function jb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Li||s instanceof Zn||s instanceof zt||s instanceof bp||s instanceof Pi)}function wp(s,e,i){if(!jb(i)||!w1(i)){const r=Ih(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Vm(s,e,i){if((e=Yt(e))instanceof Bh)return e._internalPath;if(typeof e=="string")return Sp(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const yI=new RegExp("[~\\*/\\[\\]]");function Sp(s,e,i){if(e.search(yI)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Bh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new ue($.INVALID_ARGUMENT,p+s+g)}function Lb(s,e){return s.some((i=>i.isEqual(e)))}class Pb{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _I extends Pb{data(){return super.data()}}function Ap(s,e){return typeof e=="string"?Sp(s,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}function vI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Ub extends xp{}function am(s,e,...i){let r=[];e instanceof xp&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((g=>g instanceof Ip)).length,p=u.filter((g=>g instanceof Rp)).length;if(d>1||d>0&&p>0)throw new ue($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Rp extends Ub{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Rp(e,i,r)}_apply(e){const i=this._parse(e);return zb(e._query,i),new ga(e.firestore,e.converter,Sm(e._query,i))}_parse(e){const i=Tp(e.firestore);return(function(u,d,p,g,v,E,S){let x;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Rv(S,E);const X=[];for(const ee of S)X.push(xv(g,u,ee));x={arrayValue:{values:X}}}else x=xv(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Rv(S,E),x=gI(p,d,S,E==="in"||E==="not-in");return Pt.create(v,E,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ip extends xp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ip(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:hi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)zb(d,g),d=Sm(d,g)})(e._query,i),new ga(e.firestore,e.converter,Sm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cp extends Ub{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Cp(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,d)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Oo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function om(s,e="asc"){const i=e,r=Ap("orderBy",s);return Cp._create(r,i)}function xv(s,e,i){if(typeof(i=Yt(i))=="string"){if(i==="")throw new ue($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(e)&&i.indexOf("/")!==-1)throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ct.fromString(i));if(!ve.isDocumentKey(r))throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B_(s,new ve(r))}if(i instanceof zt)return B_(s,i._key);throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ih(i)}.`)}function Rv(s,e){if(!Array.isArray(s)||s.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zb(s,e){const i=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class bI{convertValue(e,i="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return wr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[lh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new Pi(i)}convertGeoPoint(e){return new Li(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ct.fromString(e);Je(lb(r),9688,{name:e});const l=new eu(r.get(1),r.get(3)),u=new ve(r.popFirst(5));return l.isEqual(i)||ys(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function EI(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends Pb{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Ap("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Ut("string",aa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class eh extends aa{data(e={}){return super.data(e)}}class po{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new eh(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new eh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,E=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:TI(p.type),doc:g,oldIndex:v,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Ut("string",po._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Bb extends bI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function Yc(s,e,i,...r){s=dr(s,zt);const l=dr(s.firestore,xo),u=Tp(l);let d;return d=typeof(e=Yt(e))=="string"||e instanceof Bh?pI(u,"updateDoc",s._key,e,i,r):mI(u,"updateDoc",s._key,e),Np(l,[d.toMutation(s._key,ci.exists(!0))])}function Iv(s){return Np(dr(s.firestore,xo),[new ip(s._key,ci.none())])}function jl(s,e){const i=dr(s.firestore,xo),r=ia(s),l=EI(s.converter,e);return Np(i,[dI(Tp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function lm(s,...e){s=Yt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Av(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof zt)d=dr(s.firestore,xo),p=tp(s._key.path),u={next:g=>{e[r]&&e[r](wI(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=dr(s,ga);d=dr(g.firestore,xo),p=g._query;const v=new Bb(d);u={next:E=>{e[r]&&e[r](new po(d,v,g,E))},error:e[r+1],complete:e[r+2]},vI(s._query)}return(function(v,E,S,x){const V=new iI(x),X=new PR(E,V,S);return v.asyncQueue.enqueueAndForget((async()=>MR(await _v(v),X))),()=>{V.Nu(),v.asyncQueue.enqueueAndForget((async()=>VR(await _v(v),X)))}})(kb(d),p,l,u)}function Np(s,e){return(function(r,l){const u=new ra;return r.asyncQueue.enqueueAndForget((async()=>KR(await aI(r),l,u))),u.promise})(kb(s),e)}function wI(s,e,i){const r=i.docs.get(e._key),l=new Bb(s);return new aa(s,l,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){No=l})(Co),vo(new ua("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new xo(new fA(r.getProvider("auth-internal")),new pA(d,r.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(v.options.projectId,E)})(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),hr(I_,C_,e),hr(I_,C_,"esm2020")})();function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SI=qb,Hb=new lu("auth","Firebase",qb());const yh=new Fm("@firebase/auth");function AI(s,...e){yh.logLevel<=Be.WARN&&yh.warn(`Auth (${Co}): ${s}`,...e)}function th(s,...e){yh.logLevel<=Be.ERROR&&yh.error(`Auth (${Co}): ${s}`,...e)}function fi(s,...e){throw Dp(s,...e)}function Ui(s,...e){return Dp(s,...e)}function Fb(s,e,i){const r={...SI(),[e]:i};return new lu("auth","Firebase",r).create(e,{appName:s.name})}function pr(s){return Fb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Hb.create(s,...e)}function Te(s,e,...i){if(!s)throw Dp(e,...i)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw th(e),new Error(e)}function vs(s,e){s||ms(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function xI(){return Cv()==="http:"||Cv()==="https:"}function Cv(){return typeof self<"u"&&self.location?.protocol||null}function RI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xI()||z2()||"connection"in navigator)?navigator.onLine:!0}function II(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class gu{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=L2()||B2()}get(){return RI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kp(s,e){vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Gb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DI=new gu(3e4,6e4);function ya(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ar(s,e,i,r,l={}){return Yb(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=uu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:g,...u};return U2()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Io(s.emulatorConfig.host)&&(v.credentials="include"),Gb.fetch()(await Qb(s,s.config.apiHost,i,p),v)})}async function Yb(s,e,i){s._canInitEmulator=!1;const r={...CI,...e};try{const l=new OI(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Qc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,v]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Qc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Qc(s,"user-disabled",d);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Fb(s,E,v);fi(s,E)}}catch(l){if(l instanceof bs)throw l;fi(s,"network-request-failed",{message:String(l)})}}async function Hh(s,e,i,r,l={}){const u=await Ar(s,e,i,r,l);return"mfaPendingCredential"in u&&fi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Qb(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?kp(s.config,l):`${s.config.apiScheme}://${l}`;return NI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function kI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),DI.get())})}}function Qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ui(s,e,r);return l.customData._tokenResponse=i,l}function Nv(s){return s!==void 0&&s.enterprise!==void 0}class MI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return kI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(s,e){return Ar(s,"GET","/v2/recaptchaConfig",ya(s,e))}async function jI(s,e){return Ar(s,"POST","/v1/accounts:delete",e)}async function _h(s,e){return Ar(s,"POST","/v1/accounts:lookup",e)}function Xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LI(s,e=!1){const i=Yt(s),r=await i.getIdToken(e),l=Op(r);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Xl(um(l.auth_time)),issuedAtTime:Xl(um(l.iat)),expirationTime:Xl(um(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function um(s){return Number(s)*1e3}function Op(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const l=i1(i);return l?JSON.parse(l):(th("Failed to decode base64 JWT payload"),null)}catch(l){return th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Dv(s){const e=Op(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof bs&&PI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function PI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class UI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(s){const e=s.auth,i=await s.getIdToken(),r=await ru(s,_h(e,{idToken:i}));Te(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?Kb(l.providerUserInfo):[],d=BI(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,v=p?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,E)}async function zI(s){const e=Yt(s);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Kb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function qI(s,e){const i=await Yb(s,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await Qb(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Io(s.emulatorConfig.host)&&(g.credentials="include"),Gb.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HI(s,e){return Ar(s,"POST","/v2/accounts:revokeToken",ya(s,e))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=Dv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await qI(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new go;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ms("not implemented")}}function ir(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new UI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return LI(this,e)}reload(){return zI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await ru(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,v=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:V,providerData:X,stsTokenManager:ee}=i;Te(S&&ee,e,"internal-error");const Z=go.fromJSON(this.name,ee);Te(typeof S=="string",e,"internal-error"),ir(r,e.name),ir(l,e.name),Te(typeof x=="boolean",e,"internal-error"),Te(typeof V=="boolean",e,"internal-error"),ir(u,e.name),ir(d,e.name),ir(p,e.name),ir(g,e.name),ir(v,e.name),ir(E,e.name);const ae=new ui({uid:S,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:V,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:E});return X&&Array.isArray(X)&&(ae.providerData=X.map(W=>({...W}))),g&&(ae._redirectEventId=g),ae}static async _fromIdTokenResponse(e,i,r=!1){const l=new go;l.updateFromServerResponse(i);const u=new ui({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await vh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Kb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new go;p.updateFromIdToken(r);const g=new ui({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,v),g}}const kv=new Map;function ps(s){vs(s instanceof Function,"Expected a class definition");let e=kv.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,kv.set(s,e),e)}class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Xb.type="NONE";const Ov=Xb;function nh(s,e,i){return`firebase:${s}:${e}:${i}`}class yo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=nh(this.userKey,l.apiKey,u),this.fullPersistenceKey=nh("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await _h(this.auth,{idToken:e}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new yo(ps(Ov),e,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=l[0]||ps(Ov);const d=nh(r,e.config.apiKey,e.name);let p=null;for(const v of i)try{const E=await v._get(d);if(E){let S;if(typeof E=="string"){const x=await _h(e,{idToken:E}).catch(()=>{});if(!x)break;S=await ui._fromGetAccountInfoResponse(e,x,E)}else S=ui._fromJSON(e,E);v!==u&&(p=S),u=v;break}}catch{}const g=l.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new yo(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new yo(u,e,r))}}function Mv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(nE(e))return"Webos";if(Zb(e))return"Safari";if((e.includes("chrome/")||Jb(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function $b(s=dn()){return/firefox\//i.test(s)}function Zb(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(s=dn()){return/crios\//i.test(s)}function Wb(s=dn()){return/iemobile/i.test(s)}function eE(s=dn()){return/android/i.test(s)}function tE(s=dn()){return/blackberry/i.test(s)}function nE(s=dn()){return/webos/i.test(s)}function Mp(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function FI(s=dn()){return Mp(s)&&!!window.navigator?.standalone}function GI(){return q2()&&document.documentMode===10}function iE(s=dn()){return Mp(s)||eE(s)||nE(s)||tE(s)||/windows phone/i.test(s)||Wb(s)}function sE(s,e=[]){let i;switch(s){case"Browser":i=Mv(dn());break;case"Worker":i=`${Mv(dn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Co}/${r}`}class YI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QI(s,e={}){return Ar(s,"GET","/v2/passwordPolicy",ya(s,e))}const KI=6;class XI{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??KI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class $I{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await _h(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=II()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(pr(this));const i=e?Yt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),i=new XI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await HI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(s){return Yt(s)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$2(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(s){Fh=s}function rE(s){return Fh.loadJS(s)}function JI(){return Fh.recaptchaEnterpriseScript}function WI(){return Fh.gapiScript}function eC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new nC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class nC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const iC="recaptcha-enterprise",aE="NO_RECAPTCHA";class sC{constructor(e){this.type=iC,this.auth=Vo(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{VI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new MI(g);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,d(v.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;Nv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(v=>{d(v)}).catch(()=>{d(aE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&Nv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=JI();g.length!==0&&(g+=p),rE(g).then(()=>{l(p,u,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function jv(s,e,i,r=!1,l=!1){const u=new sC(s);let d;if(l)d=aE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Lv(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await jv(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await jv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function rC(s,e){const i=Ym(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(la(u,e??{}))return l;fi(l,"already-initialized")}return i.initialize({options:e})}function aC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function oC(s,e,i){const r=Vo(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=oE(e),{host:d,port:p}=lC(e),g=p===null?"":`:${p}`,v={url:`${u}//${d}${g}/`},E=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(la(v,r.config.emulator)&&la(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Io(d)?(o1(`${u}//${d}${g}`),l1("Auth",!0)):uC()}function oE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lC(s){const e=oE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Pv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Pv(d)}}}function Pv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function uC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Vp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function cC(s,e){return Ar(s,"POST","/v1/accounts:signUp",e)}async function hC(s,e){return Hh(s,"POST","/v1/accounts:signInWithPassword",ya(s,e))}async function fC(s,e){return Hh(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}async function dC(s,e){return Hh(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}class au extends Vp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new au(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new au(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,i,"signInWithPassword",hC);case"emailLink":return fC(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,r,"signUpPassword",cC);case"emailLink":return dC(e,{idToken:i,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _o(s,e){return Hh(s,"POST","/v1/accounts:signInWithIdp",ya(s,e))}const mC="http://localhost";class fa extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new fa(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return _o(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,_o(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,_o(e,i)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=uu(i)}return e}}function pC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(s){const e=Ll(Pl(s)).link,i=e?Ll(Pl(e)).deep_link_id:null,r=Ll(Pl(s)).deep_link_id;return(r?Ll(Pl(r)).link:null)||r||i||e||s}class jp{constructor(e){const i=Ll(Pl(e)),r=i.apiKey??null,l=i.oobCode??null,u=pC(i.mode??null);Te(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=gC(e);try{return new jp(i)}catch{return null}}}class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,i){return au._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=jp.parseLink(i);return Te(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends yu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return rr.credential(i,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends yu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class or extends yu{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return or.credential(i,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ui._fromIdTokenResponse(e,r,l),d=Uv(r);return new Ro({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Uv(r);return new Ro({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class bh extends bs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new bh(e,i,r,l)}}function uE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(s,u,e,r):u})}async function yC(s,e,i=!1){const r=await ru(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ro._forOperation(s,"link",r)}async function _C(s,e,i=!1){const{auth:r}=s;if(li(r.app))return Promise.reject(pr(r));const l="reauthenticate";try{const u=await ru(s,uE(r,l,e,s),i);Te(u.idToken,r,"internal-error");const d=Op(u.idToken);Te(d,r,"internal-error");const{sub:p}=d;return Te(s.uid===p,r,"user-mismatch"),Ro._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),u}}async function cE(s,e,i=!1){if(li(s.app))return Promise.reject(pr(s));const r="signIn",l=await uE(s,r,e),u=await Ro._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function vC(s,e){return cE(Vo(s),e)}async function bC(s){const e=Vo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EC(s,e,i){return li(s.app)?Promise.reject(pr(s)):vC(Yt(s),jo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bC(s),r})}function TC(s,e,i,r){return Yt(s).onIdTokenChanged(e,i,r)}function wC(s,e,i){return Yt(s).beforeAuthStateChanged(e,i)}function SC(s,e,i,r){return Yt(s).onAuthStateChanged(e,i,r)}function AC(s){return Yt(s).signOut()}const Eh="__sak";class hE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xC=1e3,RC=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);GI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,RC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const IC=fE;class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}dE.type="SESSION";const mE=dE;function CC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,u)),g=await CC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Lp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class NC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const v=Lp("",20);l.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function DC(s){zi().location.href=s}function pE(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function kC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OC(){return navigator?.serviceWorker?.controller||null}function MC(){return pE()?self:null}const gE="firebaseLocalStorageDb",VC=1,Th="firebaseLocalStorage",yE="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Yh(s,e){return s.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function jC(){const s=indexedDB.deleteDatabase(gE);return new _u(s).toPromise()}function Pm(){const s=indexedDB.open(gE,VC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Th,{keyPath:yE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Th)?e(r):(r.close(),await jC(),e(await Pm()))})})}async function zv(s,e,i){const r=Yh(s,!0).put({[yE]:e,value:i});return new _u(r).toPromise()}async function LC(s,e){const i=Yh(s,!1).get(e),r=await new _u(i).toPromise();return r===void 0?null:r.value}function Bv(s,e){const i=Yh(s,!0).delete(e);return new _u(i).toPromise()}const PC=800,UC=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>UC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await zv(e,Eh,"1"),await Bv(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>LC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Yh(l,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const zC=_E;new gu(3e4,6e4);function BC(s,e){return e?ps(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Pp extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,i){return _o(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function qC(s){return cE(s.auth,new Pp(s),s.bypassAuthState)}function HC(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),_C(i,new Pp(s),s.bypassAuthState)}async function FC(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),yC(i,new Pp(s),s.bypassAuthState)}class vE{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qC;case"linkViaPopup":case"linkViaRedirect":return FC;case"reauthViaPopup":case"reauthViaRedirect":return HC;default:fi(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GC=new gu(2e3,1e4);class fo extends vE{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GC.get())};e()}}fo.currentPopupAction=null;const YC="pendingRedirect",ih=new Map;class QC extends vE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(s,e){const i=ZC(e),r=$C(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function XC(s,e){ih.set(s._key(),e)}function $C(s){return ps(s._redirectPersistence)}function ZC(s){return nh(YC,s.config.apiKey,s.name)}async function JC(s,e,i=!1){if(li(s.app))return Promise.reject(pr(s));const r=Vo(s),l=BC(r,e),d=await new QC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const WC=600*1e3;class eN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!bE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function bE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(s);default:return!1}}async function nN(s,e={}){return Ar(s,"GET","/v1/projects",e)}const iN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function rN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nN(s);for(const i of e)try{if(aN(i))return}catch{}fi(s,"unauthorized-domain")}function aN(s){const e=jm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!sN.test(i))return!1;if(iN.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const oN=new gu(3e4,6e4);function Hv(){const s=zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function lN(s){return new Promise((e,i)=>{function r(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),i(Ui(s,"network-request-failed"))},timeout:oN.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const l=eC("iframefcb");return zi()[l]=()=>{gapi.load?r():i(Ui(s,"network-request-failed"))},rE(`${WI()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw sh=null,e})}let sh=null;function uN(s){return sh=sh||lN(s),sh}const cN=new gu(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",dN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pN(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?kp(e,fN):`https://${s.config.authDomain}/${hN}`,r={apiKey:e.apiKey,appName:s.name,v:Co},l=mN.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${uu(r).slice(1)}`}async function gN(s){const e=await uN(s),i=zi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:pN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ui(s,"network-request-failed"),p=zi().setTimeout(()=>{u(d)},cN.get());function g(){zi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const yN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,vN=600,bN="_blank",EN="http://localhost";class Fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(s,e,i,r=_N,l=vN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...yN,width:r.toString(),height:l.toString(),top:u,left:d},v=dn().toLowerCase();i&&(p=Jb(v)?bN:i),$b(v)&&(e=e||EN,g.scrollbars="yes");const E=Object.entries(g).reduce((x,[V,X])=>`${x}${V}=${X},`,"");if(FI(v)&&p!=="_self")return wN(e||"",p),new Fv(null);const S=window.open(e||"",p,E);Te(S,s,"popup-blocked");try{S.focus()}catch{}return new Fv(S)}function wN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const SN="__/auth/handler",AN="emulator/auth/handler",xN=encodeURIComponent("fac");async function Gv(s,e,i,r,l,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Co,eventId:l};if(e instanceof lE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",X2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof yu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await s._getAppCheckToken(),v=g?`#${xN}=${encodeURIComponent(g)}`:"";return`${RN(s)}?${uu(p).slice(1)}${v}`}function RN({config:s}){return s.emulator?kp(s,AN):`https://${s.authDomain}/${SN}`}const cm="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=JC,this._overrideRedirectResult=XC}async _openPopup(e,i,r,l){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Gv(e,i,r,jm(),l);return TN(e,u,Lp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await Gv(e,i,r,jm(),l);return DC(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(vs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await gN(e),r=new eN(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(cm,{type:cm},l=>{const u=l?.[0]?.[cm];u!==void 0&&i(!!u),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return iE()||Zb()||Mp()}}const CN=IN;var Yv="@firebase/auth",Qv="1.11.1";class NN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kN(s){vo(new ua("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(s)},v=new $I(r,l,u,g);return aC(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),vo(new ua("auth-internal",e=>{const i=Vo(e.getProvider("auth").getImmediate());return(r=>new NN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Yv,Qv,DN(s)),hr(Yv,Qv,"esm2020")}const ON=300,MN=a1("authIdTokenMaxAge")||ON;let Kv=null;const VN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>MN)return;const l=i?.token;Kv!==l&&(Kv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function jN(s=Qm()){const e=Ym(s,"auth");if(e.isInitialized())return e.getImmediate();const i=rC(s,{popupRedirectResolver:CN,persistence:[zC,IC,mE]}),r=a1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=VN(u.toString());wC(i,d,()=>d(i.currentUser)),TC(i,p=>d(p))}}const l=s1("auth");return l&&oC(i,`http://${l}`),i}function LN(){return document.getElementsByTagName("head")?.[0]??document}ZI({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ui("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",LN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kN("Browser");const Xv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Kc,Hl,dt;try{Xv.apiKey&&(ZS().length===0?Kc=h1(Xv):Kc=Qm(),Hl=jN(Kc),dt=lI(Kc))}catch(s){console.error("Firebase init error:",s)}const xn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",hm="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",PN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[]},$v=({message:s,type:e,onClose:i})=>{le.useEffect(()=>{const u=setTimeout(i,3e3);return()=>clearTimeout(u)},[i]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?y.jsx(ww,{size:18}):y.jsx(Bm,{size:18});return y.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[y.jsx("div",{className:"shrink-0",children:l}),y.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},UN=({title:s,message:e,onConfirm:i,onCancel:r})=>y.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:r}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-xs transform transition-all scale-100 text-center`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),y.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100/80 text-red-500 rounded-2xl flex items-center justify-center mb-4 shadow-inner border border-white/50",children:y.jsx(g2,{size:32})}),y.jsx("h3",{className:"text-xl font-[900] text-gray-800 mb-2 drop-shadow-sm",children:s}),y.jsx("p",{className:"text-sm text-gray-600 font-bold mb-6 leading-relaxed opacity-80",children:e}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-2xl font-bold text-gray-600 bg-white/40 hover:bg-white/60 transition-all border border-white/50 active:scale-95",children:""}),y.jsxs("button",{onClick:i,className:"flex-1 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/30 hover:shadow-red-500/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[y.jsx(xh,{size:16})," "]})]})]})]}),Qh=({title:s,subtitle:e,showBack:i,leftAction:r,rightAction:l,setActiveTab:u,bgImage:d,themeColor:p,coverOffsetY:g=50,coverScale:v=1})=>{const E=i&&!r?y.jsx("button",{onClick:()=>u&&u("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700 shadow-sm border border-white/20 backdrop-blur-sm",children:y.jsx(pw,{size:20})}):null;return y.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[y.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[d?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-full h-full overflow-hidden relative",children:y.jsx("img",{src:d,className:"w-full h-full object-cover opacity-100 transition-transform duration-700",style:{objectPosition:`center ${g}%`,transform:`scale(${v})`},alt:"",onError:S=>S.target.style.display="none"},d)}),y.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):y.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),y.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[r||E,y.jsxs("div",{className:"drop-shadow-sm",children:[y.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&y.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),y.jsx("div",{className:"scale-90 origin-right",children:l})]})]})},Kh=s=>new Promise(e=>{const i=new FileReader;i.readAsDataURL(s),i.onload=r=>{const l=new Image;l.src=r.target.result,l.onload=()=>{const u=document.createElement("canvas"),d=800,p=d/l.width,g=l.width>d?d:l.width,v=l.width>d?l.height*p:l.height;u.width=g,u.height=v,u.getContext("2d").drawImage(l,0,0,g,v),e(u.toDataURL("image/jpeg",.7))}}}),zN=({trip:s,onClose:e,onSave:i,onPreviewChange:r})=>{const[l,u]=le.useState({destination:s.destination||"",date:s.date||"",coverImage:s.coverImage||"",coverOffsetY:s.coverOffsetY!==void 0?s.coverOffsetY:50,coverScale:s.coverScale!==void 0?s.coverScale:1});le.useEffect(()=>{r&&r(l)},[l,r]);const[d,p]=le.useState(!1),g=le.useRef(null),v=le.useRef(null),E=le.useRef(!1),S=le.useRef(0),x=le.useRef(0),V=te=>{const{name:Ce,value:Pe}=te.target;u(Ie=>({...Ie,[Ce]:Pe}))},X=async te=>{const Ce=te.target.files[0];if(Ce){p(!0);try{const Pe=await Kh(Ce);u(Ie=>({...Ie,coverImage:Pe,coverOffsetY:50,coverScale:1}))}catch(Pe){console.error("Image process error",Pe),alert("")}finally{p(!1)}}},ee=()=>{i(s.id,l)},Z=te=>{l.coverImage&&(E.current=!0,S.current=te.clientY||te.touches[0].clientY,x.current=l.coverOffsetY)},ae=te=>{if(!E.current)return;const Ce=te.clientY||te.touches&&te.touches[0].clientY;if(!Ce)return;const Pe=S.current-Ce,Ie=160,N=1.5*l.coverScale,A=Pe/Ie*100/N;let I=x.current+A;I=Math.max(0,Math.min(100,I)),u(M=>({...M,coverOffsetY:I}))},W=()=>{E.current=!1};return le.useEffect(()=>(window.addEventListener("mouseup",W),window.addEventListener("touchend",W),()=>{window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W)}),[]),y.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),y.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[y.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),y.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:y.jsx(gr,{size:20,className:"text-gray-700"})})]}),y.jsxs("div",{className:"space-y-4 relative z-10",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:y.jsx(Wv,{size:18})}),y.jsx("input",{name:"destination",value:l.destination,onChange:V,className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:y.jsx(zm,{size:18})}),y.jsx("input",{name:"date",value:l.date,onChange:V,placeholder:"YYYY/MM/DD",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsxs("div",{className:"flex gap-2 mb-2",children:[y.jsxs("button",{onClick:()=>g.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-md",children:[d?y.jsx(da,{className:"animate-spin",size:14}):y.jsx(_2,{size:14}),""]}),y.jsx("input",{type:"file",ref:g,className:"hidden",accept:"image/*",onChange:X})]}),y.jsxs("div",{className:"relative mb-3",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:y.jsx(Sh,{size:14})}),y.jsx("input",{name:"coverImage",value:l.coverImage,onChange:V,placeholder:"...",className:"w-full bg-white/40 border border-white/50 rounded-xl py-2 pl-10 pr-4 text-gray-600 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]}),l.coverImage&&y.jsxs("div",{className:"mt-1",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1",children:[y.jsxs("div",{className:"text-[10px] text-gray-500 mb-1 ml-1 flex items-center gap-1",children:[y.jsx(Zw,{size:10})," "]}),y.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[y.jsx(w2,{size:10})," : ",l.coverScale,"x"]})]}),y.jsxs("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:Z,onMouseMove:ae,onTouchStart:Z,onTouchMove:ae,children:[y.jsx("img",{ref:v,src:l.coverImage,alt:"Preview",className:"w-full h-full object-cover pointer-events-none select-none origin-center",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},onError:te=>te.target.style.opacity=.3},l.coverImage),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 pointer-events-none",children:y.jsx("div",{className:"bg-black/50 text-white text-[10px] px-2 py-1 rounded-full backdrop-blur-sm",children:""})})]}),y.jsxs("div",{className:"mt-3 flex items-center gap-3 px-1",children:[y.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"1x"}),y.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:te=>u(Ce=>({...Ce,coverScale:parseFloat(te.target.value)})),className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"}),y.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"3x"})]})]})]}),y.jsxs("button",{onClick:ee,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all mt-4",children:[y.jsx(s2,{size:18})," "]})]})]})]})},BN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:r,onExportTrip:l,onEditTrip:u,onOpenImport:d,onClose:p,userEmail:g,onLogout:v})=>y.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:p}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),y.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[y.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),y.jsx("button",{onClick:p,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:y.jsx(gr,{size:20,className:"text-gray-700"})})]}),y.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),y.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:g})]}),y.jsxs("button",{onClick:v,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[y.jsx(Fw,{size:12})," "]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&y.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(E=>y.jsxs("div",{onClick:()=>i(E.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===E.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[y.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${E.coverImage?"":`bg-gradient-to-br ${E.themeColor||"from-gray-300 to-gray-400"}`}`,children:E.coverImage?y.jsx("img",{src:E.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${E.coverOffsetY||50}%`,transform:`scale(${E.coverScale||1})`},alt:""}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:y.jsx(wh,{size:20})})}),y.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:E.destination||""}),y.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[y.jsx(zm,{size:12,className:"mr-1"}),E.date||"--/--"]})]}),y.jsxs("div",{className:"flex items-center gap-1 z-20",children:[y.jsx("button",{onClick:S=>{S.stopPropagation(),u(E)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:"",children:y.jsx(qm,{size:18})}),y.jsx("button",{onClick:S=>{S.stopPropagation(),l(E)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:y.jsx(Dw,{size:18})}),y.jsx("button",{onClick:S=>{S.stopPropagation(),r(E.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:y.jsx(xh,{size:18})})]})]},E.id))]}),y.jsx("div",{className:"mt-auto relative z-10",children:y.jsxs("button",{onClick:d,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[y.jsx(Aw,{size:20})," /"]})})]})]}),qN=({onClose:s,onImport:e,isLoading:i})=>{const[r,l]=le.useState("json"),[u,d]=le.useState(""),p=()=>{e(u,r)};return y.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),y.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[y.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),y.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:y.jsx(gr,{size:20,className:"text-gray-700"})})]}),y.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[y.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),y.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),y.jsxs("div",{className:"space-y-4 relative z-10",children:[y.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?y.jsx("textarea",{value:u,onChange:g=>d(g.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):y.jsx("input",{type:"text",value:u,onChange:g=>d(g.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),y.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),y.jsx("button",{onClick:p,disabled:!u.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!u.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?y.jsxs(y.Fragment,{children:[y.jsx(da,{className:"animate-spin",size:16})," ..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Rw,{size:16})," "]})})]})]})]})},HN=({flights:s,onClose:e})=>y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[y.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),y.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:y.jsx(gr,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?y.jsx("div",{className:"space-y-4",children:s.map((i,r)=>y.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[y.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:y.jsx(fm,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),y.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[y.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),y.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),y.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),y.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),y.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),y.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[y.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),y.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:y.jsx(fm,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),y.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),y.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&y.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):y.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[y.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),FN=({onClose:s,onAdd:e})=>{const[i,r]=le.useState(""),[l,u]=le.useState(""),[d,p]=le.useState(""),[g,v]=le.useState(""),[E,S]=le.useState(""),[x,V]=le.useState(!1),X=le.useRef(null),ee=async ae=>{const W=ae.target.files[0];if(W){V(!0);try{const te=await Kh(W);S(te)}catch(te){console.error("Image process error",te),alert("")}finally{V(!1)}}},Z=()=>{i.trim()&&e(i,l,d,g,E)};return y.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),y.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[y.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),y.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:y.jsx(gr,{size:20,className:"text-gray-700"})})]}),y.jsxs("div",{className:"space-y-4 relative z-10",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" *"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",children:y.jsx(ou,{size:18})}),y.jsx("input",{type:"text",value:i,onChange:ae=>r(ae.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:y.jsx(Hm,{size:18})}),y.jsx("input",{type:"text",value:l,onChange:ae=>u(ae.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:y.jsx(Sh,{size:18})}),y.jsx("input",{type:"url",value:g,onChange:ae=>v(ae.target.value),placeholder:" (e.g., PChome, Amazon)",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsx("input",{type:"file",ref:X,className:"hidden",accept:"image/*",onChange:ee}),y.jsxs("button",{onClick:()=>X.current?.click(),disabled:x,className:"w-full py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[x?y.jsx(da,{className:"animate-spin",size:16}):y.jsx(wh,{size:16}),E?" ()":""]}),E&&y.jsx("img",{src:E,alt:"Preview",className:"mt-2 w-full h-20 object-cover rounded-xl border border-white/50 shadow-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:y.jsx(e1,{size:18})}),y.jsx("input",{type:"text",value:d,onChange:ae=>p(ae.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),y.jsxs("button",{onClick:Z,disabled:!i.trim()||x,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!i.trim()||x?"bg-gray-400/50 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50"}`,children:[y.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},GN=({onClose:s,onAdd:e})=>{const[i,r]=le.useState(""),[l,u]=le.useState(""),[d,p]=le.useState(""),[g,v]=le.useState(""),[E,S]=le.useState(!1),x=le.useRef(null),V=async ee=>{const Z=ee.target.files[0];if(Z){S(!0);try{const ae=await Kh(Z);v(ae)}catch(ae){console.error("Image process error",ae),alert("")}finally{S(!1)}}},X=()=>{i.trim()&&e(i,l,d,g)};return y.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),y.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[y.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),y.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:y.jsx(gr,{size:20,className:"text-gray-700"})})]}),y.jsxs("div",{className:"space-y-4 relative z-10",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" *"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500",children:y.jsx(oa,{size:18})}),y.jsx("input",{type:"text",value:i,onChange:ee=>r(ee.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:y.jsx(Sh,{size:18})}),y.jsx("input",{type:"url",value:d,onChange:ee=>p(ee.target.value),placeholder:" (e.g., )",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:V}),y.jsxs("button",{onClick:()=>x.current?.click(),disabled:E,className:"w-full py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[E?y.jsx(da,{className:"animate-spin",size:16}):y.jsx(wh,{size:16}),g?" ()":""]}),g&&y.jsx("img",{src:g,alt:"Preview",className:"mt-2 w-full h-20 object-cover rounded-xl border border-white/50 shadow-md"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(ee=>y.jsx("button",{onClick:()=>u(ee),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===ee?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:ee},ee))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:y.jsx(Hm,{size:18})}),y.jsx("input",{type:"text",value:l,onChange:ee=>u(ee.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),y.jsxs("button",{onClick:X,disabled:!i.trim()||E,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!i.trim()||E?"bg-gray-400/50 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50"}`,children:[y.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},YN=({editingState:s,onClose:e,onSave:i})=>{const{type:r,data:l}=s,[u,d]=le.useState(l),[p,g]=le.useState(!1),v=le.useRef(null),E=r==="shopping",S=E?"pink":"blue",x=E?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",V=E?"text-pink-500":"text-blue-500",X=async Z=>{const ae=Z.target.files[0];if(ae){g(!0);try{const W=await Kh(ae);d(te=>({...te,image:W}))}catch(W){console.error("Image process error",W),alert("")}finally{g(!1)}}},ee=()=>{i(u)};return y.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[y.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[y.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),y.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[y.jsxs("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:[" ",E?"":""]}),y.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:y.jsx(gr,{size:20,className:"text-gray-700"})})]}),y.jsxs("div",{className:"space-y-4 relative z-10",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${V}`,children:E?y.jsx(ou,{size:18}):y.jsx(oa,{size:18})}),y.jsx("input",{type:"text",value:u.item,onChange:Z=>d({...u,item:Z.target.value}),className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${S}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold`,autoFocus:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${V}`,children:y.jsx(Hm,{size:18})}),y.jsx("input",{type:"text",value:u.category||"",onChange:Z=>d({...u,category:Z.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${S}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${V}`,children:y.jsx(Sh,{size:18})}),y.jsx("input",{type:"url",value:u.link||"",onChange:Z=>d({...u,link:Z.target.value}),placeholder:"/",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${S}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),y.jsx("input",{type:"file",ref:v,className:"hidden",accept:"image/*",onChange:X}),y.jsxs("button",{onClick:()=>v.current?.click(),disabled:p,className:"w-full py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[p?y.jsx(da,{className:"animate-spin",size:16}):y.jsx(wh,{size:16}),u.image?" ()":""]}),u.image&&y.jsxs("div",{className:"mt-2 relative",children:[y.jsx("img",{src:u.image,alt:"Preview",className:"w-full h-20 object-cover rounded-xl border border-white/50 shadow-md"}),y.jsx("button",{onClick:()=>d(Z=>({...Z,image:""})),className:"absolute top-1 right-1 p-1 bg-red-500/80 text-white rounded-full hover:bg-red-600 transition-colors",title:"",children:y.jsx(gr,{size:12})})]})]}),E&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${V}`,children:y.jsx(e1,{size:18})}),y.jsx("input",{type:"text",value:u.note||"",onChange:Z=>d({...u,note:Z.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${S}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),y.jsxs("button",{onClick:ee,disabled:!u.item.trim()||p,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!u.item.trim()||p?"bg-gray-400/50 cursor-not-allowed":`${x} shadow-${S}-500/30 hover:shadow-${S}-500/50`}`,children:[y.jsx(oa,{size:20,strokeWidth:3}),""]})]})]})]})},QN=({onLogin:s,isLoading:e})=>{const[i,r]=le.useState(""),[l,u]=le.useState(""),d=()=>{!i||!l||s(i,l)};return y.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),y.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[y.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:y.jsx(b2,{size:40})}),y.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),y.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),y.jsxs("div",{className:"w-full space-y-4 mb-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:y.jsx(Yw,{size:18})}),y.jsx("input",{type:"email",value:i,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:y.jsx(qw,{size:18})}),y.jsx("input",{type:"password",value:l,onChange:p=>u(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),y.jsx("button",{onClick:d,disabled:e||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?y.jsx(da,{className:"animate-spin"}):""}),y.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:y.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[y.jsx(Lw,{size:10})," "]})})]})]})},KN=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:r,setShowFlightModal:l,openEditModal:u,setShowTripListModal:d,onEditCurrentTrip:p,onScroll:g,previewTrip:v,shoppingItems:E,packingItems:S})=>{const x=v||e;return y.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:g,children:[y.jsx(Qh,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:y.jsx("button",{onClick:()=>d(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:y.jsx(zw,{size:24,strokeWidth:2.5})}),rightAction:e?y.jsx("button",{onClick:p,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:y.jsx(a2,{size:22,strokeWidth:2.5})}):null,setActiveTab:r,bgImage:x?.coverImage,themeColor:x?.themeColor,coverOffsetY:x?.coverOffsetY,coverScale:x?.coverScale}),y.jsxs("div",{className:"px-6 mt-4",children:[!x||!x.date||x.date==="----/--/--"?y.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[y.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),y.jsxs("p",{className:"text-sm text-gray-500",children:["",y.jsx("br",{}),"  "]})]}):y.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${xn} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${hm} relative`,children:[y.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[x.coverImage&&y.jsx("div",{className:"w-full h-full overflow-hidden relative",children:y.jsx("img",{src:x.coverImage,alt:x.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${x.coverOffsetY||50}%`,transform:`scale(${x.coverScale||1})`},onError:V=>V.target.style.display="none"},x.coverImage)}),y.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${x.themeColor||"from-gray-400 to-gray-600"} ${x.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),y.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:y.jsx("div",{className:"flex justify-between items-end",children:y.jsxs("div",{children:[y.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),y.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:x.destination||""}),y.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[y.jsx(zm,{size:14,className:"mr-2"}),x.date||"--/--"]})]})})})]}),y.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),y.jsxs("div",{className:"flex items-baseline",children:[y.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(x.date)}),y.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),y.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:y.jsx(Ew,{size:28})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[y.jsxs("div",{onClick:()=>r("shopping"),className:`${xn} ${hm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)] flex items-center gap-4 h-24`,children:[y.jsx("div",{className:"bg-pink-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-pink-500 shadow-inner border border-white/50 shrink-0",children:y.jsx(ou,{size:24})}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),y.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[E.filter(V=>!V.checked).length," "]})]})]}),y.jsxs("div",{onClick:()=>r("packing"),className:`${xn} ${hm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)] flex items-center gap-4 h-24`,children:[y.jsx("div",{className:"bg-blue-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-blue-500 shadow-inner border border-white/50 shrink-0",children:y.jsx(oa,{size:24})}),y.jsxs("div",{className:"overflow-hidden",children:[y.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),y.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[S.filter(V=>!V.checked).length," "]})]})]})]})]})]})},XN=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l,onScroll:u})=>{const d=s&&s.days&&s.days.length>0?r(s):null,p=g=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g)}`,"_blank")};return y.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:u,children:[y.jsx(Qh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:y.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0-0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:y.jsx(fm,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),y.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&y.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((g,v)=>y.jsxs("div",{className:"relative pl-4",children:[v!==s.days.length-1&&y.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),y.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[y.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[y.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),y.jsx("span",{className:"text-xl font-black leading-none",children:g.day})]}),y.jsx("div",{children:y.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:g.title})})]}),y.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:g.activities.map((E,S)=>{const x=d===E.id;return y.jsxs("div",{ref:V=>l.current[E.id]=V,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${x?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[y.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${x?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${E.type==="transport"?"bg-purple-400":E.type==="food"?"bg-orange-400":E.type==="shopping"?"bg-pink-400":E.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:x&&y.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:E.time}),x&&y.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),y.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[E.type==="sightseeing"&&y.jsx(_w,{size:14,className:"text-gray-500"}),E.type==="food"&&y.jsx(Cw,{size:14,className:"text-gray-500"}),E.type==="transport"&&y.jsx(d2,{size:14,className:"text-gray-500"}),E.type==="shopping"&&y.jsx(ou,{size:14,className:"text-gray-500"}),E.type==="relax"&&y.jsx(c2,{size:14,className:"text-gray-500"})]})]}),y.jsxs("div",{className:"flex justify-between items-end gap-2",children:[y.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:E.title}),y.jsx("button",{onClick:V=>{V.stopPropagation(),p(E.title)},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0","aria-label":" Google Maps ",children:y.jsx(Wv,{size:18,strokeWidth:2.5})})]})]},S)})})]},v))]})]})},$N=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:r,requestDeleteShopping:l,openEditModal:u,onScroll:d,shoppingItems:p})=>{const[g,v]=le.useState(""),[E,S]=le.useState(!1),x=p||[],V=["",...new Set(x.map(W=>W.category||"").filter(W=>W))],X=[...x].filter(W=>g===""?!0:(W.category||"")===g).sort((W,te)=>E?(W.category||"").localeCompare(te.category||"","zh-Hant"):W.checked!==te.checked?W.checked?1:-1:0),ee=x.filter(W=>W.checked).length,Z=x.length,ae=W=>{try{if(!W)return null;const te=new URL(W);return te.protocol==="http:"||te.protocol==="https:"?W:null}catch{return null}};return y.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[y.jsx(Qh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),y.jsxs("div",{className:"px-6 mt-4",children:[y.jsxs("div",{className:`${xn} rounded-[2.5rem] p-6 mb-6`,children:[y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),y.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[Z>0?Math.round(ee/Z*100):0,"%"]})]}),y.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:y.jsx(Ah,{size:24,strokeWidth:3})})]}),y.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:y.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${Z>0?ee/Z*100:0}%`}})})]}),y.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 sticky top-0 z-10 py-2 -mx-1",children:[y.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1 mr-2 pb-1 mask-linear-fade pr-4",onTouchStart:W=>W.stopPropagation(),onTouchMove:W=>W.stopPropagation(),children:V.map(W=>y.jsx("button",{onClick:()=>v(W),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${g===W?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:W},W))}),y.jsx("button",{onClick:()=>S(!E),className:`p-2 rounded-xl transition-all shrink-0 border ${E?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40 hover:bg-white/80"}`,title:E?"":"",children:y.jsx(dw,{size:18})})]}),y.jsx("div",{className:"space-y-4 pb-4",children:X.length===0?y.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""}):X.map(W=>y.jsxs("div",{className:`group flex p-4 rounded-[2rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${W.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[y.jsx("div",{onClick:()=>r(W.id),className:"flex items-center cursor-pointer shrink-0",children:W.image?y.jsxs("div",{className:"w-12 h-12 rounded-xl overflow-hidden mr-3 relative shadow-md border border-white/50",children:[y.jsx("img",{src:W.image,alt:W.item,className:`w-full h-full object-cover transition-all ${W.checked?"opacity-50":"opacity-100"}`,onError:te=>{te.target.style.display="none",te.target.parentElement.classList.add("bg-gray-200")}}),y.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${W.checked?"opacity-100 bg-pink-500/60 text-white":"opacity-0 hover:opacity-100 bg-black/10"}`,children:y.jsx(Bm,{size:20,strokeWidth:3})})]}):y.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${W.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:y.jsx(oa,{size:18,strokeWidth:3})})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[W.link?y.jsxs("a",{href:ae(W.link),target:"_blank",rel:"noopener noreferrer",onClick:te=>te.stopPropagation(),className:`font-bold text-lg transition-all tracking-tight hover:underline flex items-center gap-1 ${W.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:[W.item," ",y.jsx(Jv,{size:14,className:"text-pink-500/80 shrink-0"})]}):y.jsx("span",{onClick:()=>r(W.id),className:`font-bold text-lg transition-all tracking-tight cursor-pointer ${W.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:W.item}),y.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[W.category&&y.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:W.category}),W.note&&y.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:W.note})]})]}),y.jsxs("div",{className:"flex items-center gap-1 z-20 shrink-0",children:[y.jsx("button",{onClick:te=>{te.stopPropagation(),u("shopping",W)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:y.jsx(qm,{size:18})}),y.jsx("button",{onClick:te=>{te.stopPropagation(),l(W.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:y.jsx(xh,{size:18})})]})]},W.id))})]})]})},ZN=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:r,requestDeletePacking:l,openEditModal:u,onScroll:d,packingItems:p})=>{const g=p||[],v=g.filter(V=>V.checked).length,E=g.length,S=[...g].sort((V,X)=>V.checked!==X.checked?V.checked?1:-1:0),x=V=>{try{if(!V)return null;const X=new URL(V);return X.protocol==="http:"||X.protocol==="https:"?V:null}catch{return null}};return y.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[y.jsx(Qh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),y.jsxs("div",{className:"px-6 mt-4",children:[y.jsxs("div",{className:`${xn} rounded-[2.5rem] p-6 mb-8`,children:[y.jsxs("div",{className:"flex justify-between items-end mb-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),y.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[E>0?Math.round(v/E*100):0,"%"]})]}),y.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:y.jsx(Ah,{size:24,strokeWidth:3})})]}),y.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:y.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${E>0?v/E*100:0}%`}})})]}),y.jsx("div",{className:"space-y-4",children:S.map(V=>y.jsxs("div",{className:`group flex p-4 rounded-[2rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${V.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[y.jsx("div",{onClick:()=>r(V.id),className:"flex items-center cursor-pointer shrink-0",children:V.image?y.jsxs("div",{className:"w-12 h-12 rounded-xl overflow-hidden mr-3 relative shadow-md border border-white/50",children:[y.jsx("img",{src:V.image,alt:V.item,className:`w-full h-full object-cover transition-all ${V.checked?"opacity-50":"opacity-100"}`,onError:X=>{X.target.style.display="none",X.target.parentElement.classList.add("bg-gray-200")}}),y.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${V.checked?"opacity-100 bg-blue-500/60 text-white":"opacity-0 hover:opacity-100 bg-black/10"}`,children:y.jsx(Bm,{size:20,strokeWidth:3})})]}):y.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${V.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:y.jsx(oa,{size:18,strokeWidth:3})})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[V.link?y.jsxs("a",{href:x(V.link),target:"_blank",rel:"noopener noreferrer",onClick:X=>X.stopPropagation(),className:`font-bold text-lg transition-all tracking-tight hover:underline flex items-center gap-1 ${V.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:[V.item," ",y.jsx(Jv,{size:14,className:"text-blue-500/80 shrink-0"})]}):y.jsx("span",{onClick:()=>r(V.id),className:`font-bold text-lg transition-all tracking-tight cursor-pointer ${V.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:V.item}),y.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:V.category})]}),y.jsxs("div",{className:"flex gap-1 z-20 shrink-0",children:[y.jsx("button",{onClick:X=>{X.stopPropagation(),u("packing",V)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:y.jsx(qm,{size:18})}),y.jsx("button",{onClick:X=>{X.stopPropagation(),l(V.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:y.jsx(xh,{size:18})})]})]},V.id))})]})]})},JN=({activeTab:s,setActiveTab:e,isVisible:i})=>y.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ease-in-out ${i?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:y.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[y.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:y.jsx(Mw,{size:24,strokeWidth:s==="home"?3:2})}),y.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:y.jsx(Xw,{size:24,strokeWidth:s==="itinerary"?3:2})}),y.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:y.jsx(ou,{size:24,strokeWidth:s==="shopping"?3:2})}),y.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:y.jsx(oa,{size:24,strokeWidth:s==="packing"?3:2})})]})});function WN(){const[s,e]=le.useState("home"),[i,r]=le.useState(null),[l,u]=le.useState(!1),[d,p]=le.useState(!0),g=le.useRef(0),[v,E]=le.useState([]),[S,x]=le.useState(null),[V,X]=le.useState([]),[ee,Z]=le.useState([]),[ae,W]=le.useState(!1),[te,Ce]=le.useState(!1),[Pe,Ie]=le.useState(!1),[N,A]=le.useState(!1),[I,M]=le.useState(!1),[k,L]=le.useState(!1),[R,it]=le.useState(null),[bt,F]=le.useState(!1),[re,ye]=le.useState(null),[Fe,Ye]=le.useState(null),[D,Q]=le.useState({show:!1,type:null,id:null,name:""}),[ne,oe]=le.useState({show:!1,message:"",type:"success"}),Ee=le.useRef({}),de=(ie,ge="success")=>{oe({show:!0,message:ie,type:ge})},Ve=ie=>{const ge=ie.currentTarget.scrollTop,me=ge-g.current;Math.abs(me)>10&&(me>0?p(!1):p(!0),g.current=ge)};le.useEffect(()=>{p(!0)},[s]),le.useEffect(()=>{if(!Hl)return;const ie=SC(Hl,ge=>{r(ge),ge&&de(` ${ge.email}`),u(!0)});return()=>ie()},[]);const At=async(ie,ge)=>{W(!0);try{await EC(Hl,ie,ge)}catch(me){console.error(me);let ce="";me.code==="auth/invalid-credential"&&(ce=""),me.code==="auth/user-not-found"&&(ce=""),me.code==="auth/wrong-password"&&(ce=""),de(ce,"error")}finally{W(!1)}},ut=async()=>{window.confirm("")&&(await AC(Hl),E([]),x(null),de(""))};le.useEffect(()=>{if(!i||!dt)return;const ie=nr(dt,"users",i.uid,"trips"),ge=am(ie,om("date")),me=lm(ge,ce=>{const Se=ce.docs.map(ke=>({id:ke.id,...ke.data()}));E(Se),Se.length>0?x(ke=>ke&&Se.find(We=>We.id===ke)?ke:Se[0].id):x(null)},ce=>{console.error("Firestore Error:",ce),de("","error")});return()=>me()},[i]),le.useEffect(()=>{if(!i||!dt||!S){X([]);return}const ie=nr(dt,"users",i.uid,"trips",S,"shoppingItems"),ge=am(ie,om("createdAt","asc")),me=lm(ge,ce=>{const Se=ce.docs.map(ke=>({id:ke.id,...ke.data()}));X(Se)},ce=>{console.error("Shopping list read error:",ce)});return()=>me()},[i,S]),le.useEffect(()=>{if(!i||!dt||!S){Z([]);return}const ie=nr(dt,"users",i.uid,"trips",S,"packingItems"),ge=am(ie,om("createdAt","asc")),me=lm(ge,ce=>{const Se=ce.docs.map(ke=>({id:ke.id,...ke.data()}));Z(Se)},ce=>{console.error("Packing list read error:",ce)});return()=>me()},[i,S]);const Bt=v.find(ie=>ie.id===S)||null,Es=async ie=>{if(!(!dt||!i))try{await Iv(ia(dt,"users",i.uid,"trips",ie)),de("")}catch(ge){console.error("Delete failed",ge),de("","error")}},Ts=ie=>{if(ie)try{const ge={...ie,shoppingList:V,packingList:ee},{id:me,...ce}=ge,Se=JSON.stringify(ce,null,2),ke=new Blob([Se],{type:"application/json"}),We=URL.createObjectURL(ke),pt=document.createElement("a");pt.href=We;const Fi=(ie.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");pt.download=`${Fi}_export.json`,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),URL.revokeObjectURL(We),de("")}catch(ge){console.error("Export failed",ge),de("","error")}},ws=async(ie,ge)=>{if(!dt||!i)return;W(!0);const me=new Promise(ce=>setTimeout(()=>ce("timeout"),8e3));try{let ce=[];if(ge==="url"){const We=await fetch(ie);if(!We.ok)throw new Error("Network error");const pt=await We.json();ce=Array.isArray(pt)?pt:[pt]}else{const We=JSON.parse(ie);ce=Array.isArray(We)?We:[We]}const Se=nr(dt,"users",i.uid,"trips"),ke=Promise.all(ce.map(async We=>{const{id:pt,shoppingList:Fi=[],packingList:Gi=[],...ln}=We,Yi={...PN,...ln},Ea=await jl(Se,Yi),Qi=nr(Ea,"shoppingItems");await Promise.all(Fi.map(Ki=>{const{id:Xi,...Jt}=Ki;return jl(Qi,{...Jt,link:Jt.link||"",image:Jt.image||"",createdAt:new Date().toISOString()})}));const Dr=nr(Ea,"packingItems");await Promise.all(Gi.map(Ki=>{const{id:Xi,...Jt}=Ki;return jl(Dr,{...Jt,link:Jt.link||"",image:Jt.image||"",createdAt:new Date().toISOString()})}))}));await Promise.race([ke,me]),M(!1),L(!1),de(` ${ce.length} `)}catch(ce){console.error("Import failed",ce),de("","error")}finally{W(!1)}},Rn=ie=>{ye(ie),Ye(ie),F(!0)},xr=async(ie,ge)=>{if(!(!dt||!i))try{const me=ia(dt,"users",i.uid,"trips",ie);await Yc(me,ge),F(!1),ye(null),Ye(null),de("")}catch(me){console.error("Save failed",me),de("","error")}},qi=async(ie,ge,me,ce)=>{if(!(!dt||!i||!S||!ie.trim()))try{const Se=nr(dt,"users",i.uid,"trips",S,"packingItems");await jl(Se,{item:ie,checked:!1,category:ge||"",link:me||"",image:ce||"",createdAt:new Date().toISOString()}),A(!1),de("")}catch(Se){console.error("Add packing item failed",Se),de("","error")}},Rr=async ie=>{if(!(!dt||!i||!S))try{const ge=ia(dt,"users",i.uid,"trips",S,"packingItems",ie),me=ee.find(ce=>ce.id===ie);me&&await Yc(ge,{checked:!me.checked})}catch(ge){console.error("Toggle packing item failed",ge),de("","error")}},Ir=async(ie,ge,me,ce,Se)=>{if(!(!dt||!i||!S||!ie.trim()))try{const ke=nr(dt,"users",i.uid,"trips",S,"shoppingItems");await jl(ke,{item:ie,category:ge||"",note:me,link:ce||"",image:Se||"",checked:!1,createdAt:new Date().toISOString()}),Ie(!1),de("")}catch(ke){console.error("Add shopping item failed",ke),de("","error")}},Et=async ie=>{if(!(!dt||!i||!S))try{const ge=ia(dt,"users",i.uid,"trips",S,"shoppingItems",ie),me=V.find(ce=>ce.id===ie);me&&await Yc(ge,{checked:!me.checked})}catch(ge){console.error("Toggle shopping item failed",ge),de("","error")}},Tt=(ie,ge)=>{let me="";ie==="shopping"?me=V.find(ce=>ce.id===ge)?.item||me:ie==="packing"&&(me=ee.find(ce=>ce.id===ge)?.item||me),Q({show:!0,type:ie,id:ge,name:me})},di=async()=>{const{type:ie,id:ge}=D;if(!(!dt||!i||!S))try{let me,ce;if(ie==="shopping")me="shoppingItems",ce="";else if(ie==="packing")me="packingItems",ce="";else return;const Se=ia(dt,"users",i.uid,"trips",S,me,ge);await Iv(Se),de(ce)}catch(me){console.error("Delete item failed",me),de("","error")}finally{Q({show:!1,type:null,id:null,name:""})}},Cr=(ie,ge)=>it({type:ie,data:{...ge}}),_a=async ie=>{if(!R||!dt||!i||!S)return;const{type:ge}=R,me=ge==="shopping"?"shoppingItems":"packingItems";try{const ce=ia(dt,"users",i.uid,"trips",S,me,ie.id),{id:Se,createdAt:ke,...We}=ie;await Yc(ce,We),it(null),de("")}catch(ce){console.error("Save edit item failed",ce),de("","error")}},Zt=ie=>{if(!ie||ie==="----/--/--")return 0;const ge=new Date,ce=new Date(ie)-ge;return Math.ceil(ce/(1e3*60*60*24))>0?Math.ceil(ce/(1e3*60*60*24)):0},mi=ie=>{if(!ie||!ie.days)return null;const ge=new Date;let me=null,ce=1/0;return ie.days.forEach(Se=>{const ke=new Date(ie.date);ke.setDate(ke.getDate()+(Se.day-1)),ge.toDateString()===ke.toDateString()&&Se.activities.forEach(We=>{const[pt,Fi]=We.time.split(":"),Gi=new Date(ke);Gi.setHours(pt,Fi,0,0);const ln=ge-Gi;ln>=0&&ln<ce&&(ce=ln,me=We.id)})}),me};le.useEffect(()=>{if(s==="itinerary"&&Bt&&Bt.days){const ie=mi(Bt);ie&&Ee.current[ie]&&setTimeout(()=>{Ee.current[ie].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Bt]);const pi=le.useRef(null),Hi=le.useRef(null),[In,va]=le.useState(0),[Ss,Nr]=le.useState(!1),gi=["home","itinerary","shopping","packing"],qt=gi.indexOf(s),Ht=80,gn=ie=>{te||Pe||N||I||k||R||bt||D.show||(pi.current=ie.targetTouches[0].clientX,Hi.current=ie.targetTouches[0].clientY,Nr(!0))},_t=ie=>{if(!Ss||pi.current===null)return;const ge=ie.targetTouches[0].clientX,me=ie.targetTouches[0].clientY,ce=ge-pi.current,Se=me-Hi.current;if(Math.abs(Se)>Math.abs(ce))return;let ke=ce;qt===0&&ce>0&&(ke=ce*.3),qt===gi.length-1&&ce<0&&(ke=ce*.3),va(ke)},ba=()=>{Ss&&(Math.abs(In)>Ht&&(In>0&&qt>0?e(gi[qt-1]):In<0&&qt<gi.length-1&&e(gi[qt+1])),Nr(!1),va(0),pi.current=null,Hi.current=null)};return l?i?y.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[y.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),y.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),y.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),y.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),y.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),y.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:gn,onTouchMove:_t,onTouchEnd:ba,children:[ne.show&&y.jsx($v,{message:ne.message,type:ne.type,onClose:()=>oe({...ne,show:!1})}),te&&y.jsx(HN,{onClose:()=>Ce(!1),flights:Bt?Bt.flights:[]}),Pe&&y.jsx(FN,{onClose:()=>Ie(!1),onAdd:Ir}),N&&y.jsx(GN,{onClose:()=>A(!1),onAdd:qi}),I&&y.jsx(qN,{onClose:()=>M(!1),onImport:ws,isLoading:ae}),R&&y.jsx(YN,{editingState:R,onClose:()=>it(null),onSave:_a}),bt&&re&&y.jsx(zN,{trip:re,onClose:()=>{F(!1),Ye(null)},onSave:xr,onPreviewChange:Ye}),k&&y.jsx(BN,{trips:v,activeTripId:S,onSelectTrip:ie=>{x(ie),L(!1),e("home")},onDeleteTrip:ie=>{window.confirm("")&&Es(ie)},onExportTrip:Ts,onEditTrip:Rn,onOpenImport:()=>M(!0),onClose:()=>L(!1),userEmail:i.email,onLogout:ut}),y.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${qt*100}vw + ${In}px))`,transition:Ss?"none":"transform 0.3s ease-out"},children:[y.jsx(KN,{trips:v,currentTrip:Bt,calculateDaysLeft:Zt,setActiveTab:e,setShowFlightModal:Ce,shoppingItems:V,packingItems:ee,openEditModal:Cr,setShowTripListModal:L,onEditCurrentTrip:()=>Rn(Bt),onScroll:Ve,previewTrip:Fe}),y.jsx(XN,{currentTrip:Bt,setActiveTab:e,setShowFlightModal:Ce,getCurrentActivityId:mi,activityRefs:Ee,onScroll:Ve}),y.jsx($N,{currentTrip:Bt,setActiveTab:e,setShowAddShoppingModal:Ie,toggleShoppingItem:Et,requestDeleteShopping:Tt,openEditModal:Cr,onScroll:Ve,shoppingItems:V}),y.jsx(ZN,{currentTrip:Bt,setActiveTab:e,setShowAddPackingModal:A,togglePackingItem:Rr,requestDeletePacking:Tt,openEditModal:Cr,onScroll:Ve,packingItems:ee})]}),D.show&&y.jsx(UN,{title:"",message:`${D.name}`,onConfirm:di,onCancel:()=>Q({...D,show:!1})}),y.jsx(JN,{activeTab:s,setActiveTab:e,isVisible:d})]})]}):y.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[ne.show&&y.jsx($v,{message:ne.message,type:ne.type,onClose:()=>oe({...ne,show:!1})}),y.jsx(QN,{onLogin:At,isLoading:ae})]}):y.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),y.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[y.jsx(da,{className:"animate-spin text-gray-600 mb-4",size:32}),y.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}aw.createRoot(document.getElementById("root")).render(y.jsx(le.StrictMode,{children:y.jsx(WN,{})}));
