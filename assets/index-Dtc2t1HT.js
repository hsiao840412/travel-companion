(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},El={};var B0;function IT(){if(B0)return El;B0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=e,El.jsx=i,El.jsxs=i,El}var q0;function NT(){return q0||(q0=1,kd.exports=IT()),kd.exports}var E=NT(),Vd={exports:{}},we={};var H0;function DT(){if(H0)return we;H0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),k=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,J={};function he(O,K,te){this.props=O,this.context=K,this.refs=J,this.updater=te||W}he.prototype.isReactComponent={},he.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},he.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function be(){}be.prototype=he.prototype;function me(O,K,te){this.props=O,this.context=K,this.refs=J,this.updater=te||W}var Ke=me.prototype=new be;Ke.constructor=me,ne(Ke,he.prototype),Ke.isPureReactComponent=!0;var Ye=Array.isArray;function Ie(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,K,te){var ie=te.ref;return{$$typeof:s,type:O,key:K,ref:ie!==void 0?ie:null,props:te}}function M(O,K){return x(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(te){return K[te]})}var R=/\/+/g;function at(O,K){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):K.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ie,Ie):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,te,ie,ge){var Te=typeof O;(Te==="undefined"||Te==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(Te){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case s:case e:Oe=!0;break;case w:return Oe=O._init,H(Oe(O._payload),K,te,ie,ge)}}if(Oe)return ge=ge(O),Oe=ie===""?"."+at(O,0):ie,Ye(ge)?(te="",Oe!=null&&(te=Oe.replace(R,"$&/")+"/"),H(ge,K,te,"",function(Pi){return Pi})):ge!=null&&(N(ge)&&(ge=M(ge,te+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(R,"$&/")+"/")+Oe)),K.push(ge)),1;Oe=0;var pt=ie===""?".":ie+":";if(Ye(O))for(var ot=0;ot<O.length;ot++)ie=O[ot],Te=pt+at(ie,ot),Oe+=H(ie,K,te,Te,ge);else if(ot=G(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(ie=O.next()).done;)ie=ie.value,Te=pt+at(ie,ot++),Oe+=H(ie,K,te,Te,ge);else if(Te==="object"){if(typeof O.then=="function")return H(Et(O),K,te,ie,ge);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Z(O,K,te){if(O==null)return O;var ie=[],ge=0;return H(O,ie,"","",function(Te){return K.call(te,Te,ge++)}),ie}function ae(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(te){(O._status===0||O._status===-1)&&(O._status=1,O._result=te)},function(te){(O._status===0||O._status===-1)&&(O._status=2,O._result=te)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ue=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Fe={map:Z,forEach:function(O,K,te){Z(O,function(){K.apply(this,arguments)},te)},count:function(O){var K=0;return Z(O,function(){K++}),K},toArray:function(O){return Z(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=S,we.Children=Fe,we.Component=he,we.Fragment=i,we.Profiler=l,we.PureComponent=me,we.StrictMode=r,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,K,te){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=ne({},O.props),ge=O.key;if(K!=null)for(Te in K.key!==void 0&&(ge=""+K.key),K)!A.call(K,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&K.ref===void 0||(ie[Te]=K[Te]);var Te=arguments.length-2;if(Te===1)ie.children=te;else if(1<Te){for(var Oe=Array(Te),pt=0;pt<Te;pt++)Oe[pt]=arguments[pt+2];ie.children=Oe}return x(O.type,ge,ie)},we.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,K,te){var ie,ge={},Te=null;if(K!=null)for(ie in K.key!==void 0&&(Te=""+K.key),K)A.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=K[ie]);var Oe=arguments.length-2;if(Oe===1)ge.children=te;else if(1<Oe){for(var pt=Array(Oe),ot=0;ot<Oe;ot++)pt[ot]=arguments[ot+2];ge.children=pt}if(O&&O.defaultProps)for(ie in Oe=O.defaultProps,Oe)ge[ie]===void 0&&(ge[ie]=Oe[ie]);return x(O,Te,ge)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:p,render:O}},we.isValidElement=N,we.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ae}},we.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},we.startTransition=function(O){var K=I.T,te={};I.T=te;try{var ie=O(),ge=I.S;ge!==null&&ge(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,Ue)}catch(Te){Ue(Te)}finally{K!==null&&te.types!==null&&(K.types=te.types),I.T=K}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(O){return I.H.use(O)},we.useActionState=function(O,K,te){return I.H.useActionState(O,K,te)},we.useCallback=function(O,K){return I.H.useCallback(O,K)},we.useContext=function(O){return I.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},we.useEffect=function(O,K){return I.H.useEffect(O,K)},we.useEffectEvent=function(O){return I.H.useEffectEvent(O)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(O,K,te){return I.H.useImperativeHandle(O,K,te)},we.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},we.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},we.useMemo=function(O,K){return I.H.useMemo(O,K)},we.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},we.useReducer=function(O,K,te){return I.H.useReducer(O,K,te)},we.useRef=function(O){return I.H.useRef(O)},we.useState=function(O){return I.H.useState(O)},we.useSyncExternalStore=function(O,K,te){return I.H.useSyncExternalStore(O,K,te)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.0",we}var F0;function xm(){return F0||(F0=1,Vd.exports=DT()),Vd.exports}var Ve=xm(),Ld={exports:{}},bl={},jd={exports:{}},Pd={};var G0;function OT(){return G0||(G0=1,(function(s){function e(H,Z){var ae=H.length;H.push(Z);e:for(;0<ae;){var Ue=ae-1>>>1,Fe=H[Ue];if(0<l(Fe,Z))H[Ue]=Z,H[ae]=Fe,ae=Ue;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Z=H[0],ae=H.pop();if(ae!==Z){H[0]=ae;e:for(var Ue=0,Fe=H.length,O=Fe>>>1;Ue<O;){var K=2*(Ue+1)-1,te=H[K],ie=K+1,ge=H[ie];if(0>l(te,ae))ie<Fe&&0>l(ge,te)?(H[Ue]=ge,H[ie]=ae,Ue=ie):(H[Ue]=te,H[K]=ae,Ue=K);else if(ie<Fe&&0>l(ge,ae))H[Ue]=ge,H[ie]=ae,Ue=ie;else break e}}return Z}function l(H,Z){var ae=H.sortIndex-Z.sortIndex;return ae!==0?ae:H.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],w=1,S=null,k=3,G=!1,W=!1,ne=!1,J=!1,he=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function Ke(H){for(var Z=i(_);Z!==null;){if(Z.callback===null)r(_);else if(Z.startTime<=H)r(_),Z.sortIndex=Z.expirationTime,e(g,Z);else break;Z=i(_)}}function Ye(H){if(ne=!1,Ke(H),!W)if(i(g)!==null)W=!0,Ie||(Ie=!0,L());else{var Z=i(_);Z!==null&&Et(Ye,Z.startTime-H)}}var Ie=!1,I=-1,A=5,x=-1;function M(){return J?!0:!(s.unstable_now()-x<A)}function N(){if(J=!1,Ie){var H=s.unstable_now();x=H;var Z=!0;try{e:{W=!1,ne&&(ne=!1,be(I),I=-1),G=!0;var ae=k;try{t:{for(Ke(H),S=i(g);S!==null&&!(S.expirationTime>H&&M());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,k=S.priorityLevel;var Fe=Ue(S.expirationTime<=H);if(H=s.unstable_now(),typeof Fe=="function"){S.callback=Fe,Ke(H),Z=!0;break t}S===i(g)&&r(g),Ke(H)}else r(g);S=i(g)}if(S!==null)Z=!0;else{var O=i(_);O!==null&&Et(Ye,O.startTime-H),Z=!1}}break e}finally{S=null,k=ae,G=!1}Z=void 0}}finally{Z?L():Ie=!1}}}var L;if(typeof me=="function")L=function(){me(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=N,L=function(){at.postMessage(null)}}else L=function(){he(N,0)};function Et(H,Z){I=he(function(){H(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(H){switch(k){case 1:case 2:case 3:var Z=3;break;default:Z=k}var ae=k;k=Z;try{return H()}finally{k=ae}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=k;k=H;try{return Z()}finally{k=ae}},s.unstable_scheduleCallback=function(H,Z,ae){var Ue=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ue+ae:Ue):ae=Ue,H){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ae+Fe,H={id:w++,callback:Z,priorityLevel:H,startTime:ae,expirationTime:Fe,sortIndex:-1},ae>Ue?(H.sortIndex=ae,e(_,H),i(g)===null&&H===i(_)&&(ne?(be(I),I=-1):ne=!0,Et(Ye,ae-Ue))):(H.sortIndex=Fe,e(g,H),W||G||(W=!0,Ie||(Ie=!0,L()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var Z=k;return function(){var ae=k;k=Z;try{return H.apply(this,arguments)}finally{k=ae}}}})(Pd)),Pd}var Q0;function MT(){return Q0||(Q0=1,jd.exports=OT()),jd.exports}var Ud={exports:{}},nn={};var K0;function kT(){if(K0)return nn;K0=1;var s=xm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)_+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:w}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(g,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,w)},nn.flushSync=function(g){var _=d.T,w=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=w,r.d.f()}},nn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},nn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},nn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var w=_.as,S=p(w,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;w==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:k,fetchPriority:G}):w==="script"&&r.d.X(g,{crossOrigin:S,integrity:k,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var w=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},nn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var w=_.as,S=p(w,_.crossOrigin);r.d.L(g,w,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(g,_){if(typeof g=="string")if(_){var w=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},nn.requestFormReset=function(g){r.d.r(g)},nn.unstable_batchedUpdates=function(g,_){return g(_)},nn.useFormState=function(g,_,w){return d.H.useFormState(g,_,w)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var Y0;function VT(){if(Y0)return Ud.exports;Y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=kT(),Ud.exports}var X0;function LT(){if(X0)return bl;X0=1;var s=MT(),e=xm(),i=VT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,b=h.child;b;){if(b===a){y=!0,a=h,o=f;break}if(b===o){y=!0,o=h,a=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===a){y=!0,a=f,o=h;break}if(b===o){y=!0,o=f,a=h;break}b=b.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function w(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=w(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,k=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),me=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case he:return"Profiler";case J:return"StrictMode";case Ye:return"Suspense";case Ie:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case me:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var Et=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ue=[],Fe=-1;function O(t){return{current:t}}function K(t){0>Fe||(t.current=Ue[Fe],Ue[Fe]=null,Fe--)}function te(t,n){Fe++,Ue[Fe]=t.current,t.current=n}var ie=O(null),ge=O(null),Te=O(null),Oe=O(null);function pt(t,n){switch(te(Te,n),te(ge,t),te(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?c0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=c0(n),t=h0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ie),te(ie,t)}function ot(){K(ie),K(ge),K(Te)}function Pi(t){t.memoizedState!==null&&te(Oe,t);var n=ie.current,a=h0(n,t.type);n!==a&&(te(ge,t),te(ie,a))}function Ui(t){ge.current===t&&(K(ie),K(ge)),Oe.current===t&&(K(Oe),gl._currentValue=ae)}var oe,ye;function fe(t){if(oe===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);oe=n&&n[1]||"",ye=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+t+ye}var Ae=!1;function ft(t,n){if(!t||Ae)return"";Ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var C=y.split(`
`),U=b.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{Ae=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fe(a):""}function tn(t,n){switch(t.tag){case 26:case 27:case 5:return fe(t.type);case 16:return fe("Lazy");case 13:return t.child!==n&&n!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return ft(t.type,!1);case 11:return ft(t.type.render,!1);case 1:return ft(t.type,!0);case 31:return fe("Activity");default:return""}}function Lt(t){try{var n="",a=null;do n+=tn(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var $e=Object.prototype.hasOwnProperty,gt=s.unstable_scheduleCallback,En=s.unstable_cancelCallback,mr=s.unstable_shouldYield,nu=s.unstable_requestPaint,ln=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,vo=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,Lh=s.unstable_LowPriority,iu=s.unstable_IdlePriority,su=s.log,ru=s.unstable_setDisableYieldValue,Kn=null,Qt=null;function On(t){if(typeof su=="function"&&ru(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Kn,t)}catch{}}var bt=Math.clz32?Math.clz32:ou,au=Math.log,sa=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(au(t)/sa|0)|0}var li=256,gr=262144,Rt=4194304;function ui(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=ui(o):(y&=b,y!==0?h=ui(y):a||(a=b&~t,a!==0&&(h=ui(a))))):(b=o&~f,b!==0?h=ui(b):y!==0?h=ui(y):a||(a=o&~t,a!==0&&(h=ui(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Yn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function hi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function yr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=y&~a;0<a;){var F=31-bt(a),Y=1<<F;b[F]=0,C[F]=-1;var z=U[F];if(z!==null)for(U[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&_r(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function _r(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function bo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-bt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function To(t,n){var a=n&-n;return a=(a&42)!==0?1:vr(a),(a&(t.suspendedLanes|n))!==0?0:a}function vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:k0(t.type))}function Xn(t,n){var a=Z.p;try{return Z.p=t,n()}finally{Z.p=a}}var $n=Math.random().toString(36).slice(2),xt="__reactFiber$"+$n,Bt="__reactProps$"+$n,fi="__reactContainer$"+$n,ra="__reactEvents$"+$n,Uh="__reactListeners$"+$n,cu="__reactHandles$"+$n,hu="__reactResources$"+$n,di="__reactMarker$"+$n;function aa(t){delete t[xt],delete t[Bt],delete t[ra],delete t[Uh],delete t[cu]}function mi(t){var n=t[xt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[fi]||a[xt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=_0(t);t!==null;){if(a=t[xt])return a;t=_0(t)}return n}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[xt]||t[fi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function pi(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(t){t[di]=!0}var wo=new Set,So={};function gi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(So[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},xo={};function fu(t){return $e.call(xo,t)?!0:$e.call(Ro,t)?!1:Ao.test(t)?xo[t]=!0:(Ro[t]=!0,!1)}function oa(t,n,a){if(fu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Tn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function It(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ps(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ze(t){if(!t._valueTracker){var n=ps(t)?"checked":"value";t._valueTracker=Co(t,n,""+t[n])}}function Er(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ps(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var br=/[\n"\\]/g;function hn(t){return t.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(t,n,a,o,h,f,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Io(t,y,qt(n)):a!=null?Io(t,y,qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+qt(b):t.removeAttribute("name")}function du(t,n,a,o,h,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ze(t);return}a=a!=null?""+qt(a):"",n=n!=null?""+qt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ze(t)}function Io(t,n,a){n==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,a){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+qt(a):""}function ys(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Et(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=qt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ze(t)}function fn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||pu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Do(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&No(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(t,f,n[f])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return _s.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Oo=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,vi=null;function Tr(t){var n=Mn(t);if(n&&(t=n.stateNode)){var a=t[Bt]||null;e:switch(t=n.stateNode,n.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Bt]||null;if(!h)throw Error(r(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Er(o)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&gs(t,!!a.multiple,n,!1)}}}var ha=!1;function Es(t,n,a){if(ha)return t(n,a);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(vs!==null||vi!==null)&&(uc(),vs&&(n=vs,t=vi,vi=vs=null,Tr(n),t)))for(n=0;n<t.length;n++)Tr(t[n])}}function Jn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Bt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(Vn)try{var et={};Object.defineProperty(et,"passive",{get:function(){wr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{wr=!1}var Ei=null,Mo=null,Sr=null;function ko(){if(Sr)return Sr;var t,n=Mo,a=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Sr=h.slice(t,1<o?1-o:void 0)}function Ar(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Wn(){return!1}function Kt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:Wn,this.isPropagationStopped=Wn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Kt(qi),bs=S({},qi,{view:0,detail:0}),Vo=Kt(bs),Ts,fa,Ti,da=S({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Ts=t.screenX-Ti.screenX,fa=t.screenY-Ti.screenY):fa=Ts=0,Ti=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Lo=Kt(da),Rr=S({},da,{dataTransfer:0}),yu=Kt(Rr),_u=S({},bs,{relatedTarget:0}),xr=Kt(_u),jo=S({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Kt(jo),ma=S({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Kt(ma),bu=S({},qi,{data:0}),wi=Kt(bu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function ws(){return Au}var un=S({},bs,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Kt(un),xu=S({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Kt(xu),u=S({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=Kt(u),v=S({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Kt(v),j=S({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Kt(j),ee=S({},qi,{newState:0,oldState:0}),Re=Kt(ee),Tt=[9,13,27,32],Ge=Vn&&"CompositionEvent"in window,dt=null;Vn&&"documentMode"in document&&(dt=document.documentMode);var Ln=Vn&&"TextEvent"in window&&!dt,Si=Vn&&(!Ge||dt&&8<dt&&11>=dt),ei=" ",ti=!1;function Cr(t,n){switch(t){case"keyup":return Tt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function W1(t,n){switch(t){case"compositionend":return pa(n);case"keypress":return n.which!==32?null:(ti=!0,ei);case"textInput":return t=n.data,t===ei&&ti?null:t;default:return null}}function eb(t,n){if(ga)return t==="compositionend"||!Ge&&Cr(t,n)?(t=ko(),Sr=Mo=Ei=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!tb[t.type]:n==="textarea"}function Tp(t,n,a,o){vs?vi?vi.push(o):vi=[o]:vs=o,n=gc(n,"onChange"),0<n.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Po=null,Uo=null;function nb(t){s0(t,0)}function Cu(t){var n=bn(t);if(Er(n))return t}function wp(t,n){if(t==="change")return n}var Sp=!1;if(Vn){var zh;if(Vn){var Bh="oninput"in document;if(!Bh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Bh=typeof Ap.oninput=="function"}zh=Bh}else zh=!1;Sp=zh&&(!document.documentMode||9<document.documentMode)}function Rp(){Po&&(Po.detachEvent("onpropertychange",xp),Uo=Po=null)}function xp(t){if(t.propertyName==="value"&&Cu(Uo)){var n=[];Tp(n,Uo,t,kn(t)),Es(nb,n)}}function ib(t,n,a){t==="focusin"?(Rp(),Po=n,Uo=a,Po.attachEvent("onpropertychange",xp)):t==="focusout"&&Rp()}function sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Uo)}function rb(t,n){if(t==="click")return Cu(n)}function ab(t,n){if(t==="input"||t==="change")return Cu(n)}function ob(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var wn=typeof Object.is=="function"?Object.is:ob;function zo(t,n){if(wn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!$e.call(n,h)||!wn(t[h],n[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,n){var a=Cp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cp(a)}}function Np(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Np(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=_i(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=_i(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lb=Vn&&"documentMode"in document&&11>=document.documentMode,ya=null,Hh=null,Bo=null,Fh=!1;function Op(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||ya==null||ya!==_i(o)||(o=ya,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&zo(Bo,o)||(Bo=o,o=gc(Hh,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ya)))}function Ir(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _a={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Gh={},Mp={};Vn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Nr(t){if(Gh[t])return Gh[t];if(!_a[t])return t;var n=_a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Mp)return Gh[t]=n[a];return t}var kp=Nr("animationend"),Vp=Nr("animationiteration"),Lp=Nr("animationstart"),ub=Nr("transitionrun"),cb=Nr("transitionstart"),hb=Nr("transitioncancel"),jp=Nr("transitionend"),Pp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ni(t,n){Pp.set(t,n),gi(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],va=0,Kh=0;function Nu(){for(var t=va,n=Kh=va=0;n<t;){var a=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Up(a,h,f)}}function Du(t,n,a,o){jn[va++]=t,jn[va++]=n,jn[va++]=a,jn[va++]=o,Kh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Yh(t,n,a,o){return Du(t,n,a,o),Ou(t)}function Dr(t,n){return Du(t,null,null,n),Ou(t)}function Up(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ou(t){if(50<ul)throw ul=0,sd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function fb(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,a,o){return new fb(t,n,a,o)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var a=t.alternate;return a===null?(a=Sn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Xh(t)&&(y=1);else if(typeof t=="string")y=yT(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Sn(31,a,n,h),t.elementType=x,t.lanes=f,t;case ne:return Or(a.children,h,f,n);case J:y=8,h|=24;break;case he:return t=Sn(12,a,n,h|2),t.elementType=he,t.lanes=f,t;case Ye:return t=Sn(13,a,n,h),t.elementType=Ye,t.lanes=f,t;case Ie:return t=Sn(19,a,n,h),t.elementType=Ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:y=10;break e;case be:y=9;break e;case Ke:y=11;break e;case I:y=14;break e;case A:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Sn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Or(t,n,a,o){return t=Sn(7,t,o,n),t.lanes=a,t}function $h(t,n,a){return t=Sn(6,t,null,n),t.lanes=a,t}function Bp(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,a){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function Pn(t,n){if(typeof t=="object"&&t!==null){var a=qp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Lt(n)},qp.set(t,n),n)}return{value:t,source:n,stack:Lt(n)}}var ba=[],Ta=0,ku=null,qo=0,Un=[],zn=0,Ss=null,Ai=1,Ri="";function Gi(t,n){ba[Ta++]=qo,ba[Ta++]=ku,ku=t,qo=n}function Hp(t,n,a){Un[zn++]=Ai,Un[zn++]=Ri,Un[zn++]=Ss,Ss=t;var o=Ai;t=Ri;var h=32-bt(o)-1;o&=~(1<<h),a+=1;var f=32-bt(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ai=1<<32-bt(n)+h|a<<h|o,Ri=f+t}else Ai=1<<f|a<<h|o,Ri=t}function Jh(t){t.return!==null&&(Gi(t,1),Hp(t,1,0))}function Wh(t){for(;t===ku;)ku=ba[--Ta],ba[Ta]=null,qo=ba[--Ta],ba[Ta]=null;for(;t===Ss;)Ss=Un[--zn],Un[zn]=null,Ri=Un[--zn],Un[zn]=null,Ai=Un[--zn],Un[zn]=null}function Fp(t,n){Un[zn++]=Ai,Un[zn++]=Ri,Un[zn++]=Ss,Ai=n.id,Ri=n.overflow,Ss=t}var Yt=null,lt=null,ze=!1,As=null,Bn=!1,ef=Error(r(519));function Rs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Pn(n,t)),ef}function Gp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[xt]=t,n[Bt]=o,a){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)De(hl[a],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),ys(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||l0(n.textContent,a)?(o.popover!=null&&(De("beforetoggle",n),De("toggle",n)),o.onScroll!=null&&De("scroll",n),o.onScrollEnd!=null&&De("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Rs(t,!0)}function Qp(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Yt=Yt.return}}function wa(t){if(t!==Yt)return!1;if(!ze)return Qp(t),ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vd(t.type,t.memoizedProps)),a=!a),a&&lt&&Rs(t),Qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=y0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=y0(t)}else n===27?(n=lt,zs(t.type)?(t=Sd,Sd=null,lt=t):lt=n):lt=Yt?Hn(t.stateNode.nextSibling):null;return!0}function Mr(){lt=Yt=null,ze=!1}function tf(){var t=As;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),As=null),t}function Ho(t){As===null?As=[t]:As.push(t)}var nf=O(null),kr=null,Qi=null;function xs(t,n,a){te(nf,n._currentValue),n._currentValue=a}function Ki(t){t._currentValue=nf.current,K(nf)}function sf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function rf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var C=0;C<n.length;C++)if(b.context===n[C]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),sf(f.return,a,t),o||(y=null);break e}f=b.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),sf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Sa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=h.type;wn(h.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(h===Oe.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&rf(n,t,a,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vr(t){kr=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Kp(kr,t)}function Lu(t,n){return kr===null&&Vr(t),Kp(t,n)}function Kp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(r(308));Qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Qi=Qi.next=n;return a}var db=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},mb=s.unstable_scheduleCallback,pb=s.unstable_NormalPriority,Nt={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new db,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&mb(pb,function(){t.controller.abort()})}var Go=null,of=0,Aa=0,Ra=null;function gb(t,n){if(Go===null){var a=Go=[];of=0,Aa=cd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return of++,n.then(Yp,Yp),n}function Yp(){if(--of===0&&Go!==null){Ra!==null&&(Ra.status="fulfilled");var t=Go;Go=null,Aa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function yb(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Xp=H.S;H.S=function(t,n){Oy=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gb(t,n),Xp!==null&&Xp(t,n)};var Lr=O(null);function lf(){var t=Lr.current;return t!==null?t:rt.pooledCache}function ju(t,n){n===null?te(Lr,Lr.current):te(Lr,n.pool)}function $p(){var t=lf();return t===null?null:{parent:Nt._currentValue,pool:t}}var xa=Error(r(460)),uf=Error(r(474)),Pu=Error(r(542)),Uu={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Zn,Zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,eg(t),t}throw Pr=n,xa}}function jr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Pr=a,xa):a}}var Pr=null;function Wp(){if(Pr===null)throw Error(r(459));var t=Pr;return Pr=null,t}function eg(t){if(t===xa||t===Pu)throw Error(r(483))}var Ca=null,Qo=0;function zu(t){var n=Qo;return Qo+=1,Ca===null&&(Ca=[]),Jp(Ca,t,n)}function Ko(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===k?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tg(t){function n(V,D){if(t){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function a(V,D){if(!t)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Fi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,D,P,Q){return D===null||D.tag!==6?(D=$h(P,V.mode,Q),D.return=V,D):(D=h(D,P),D.return=V,D)}function C(V,D,P,Q){var ce=P.type;return ce===ne?F(V,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&jr(ce)===D.type)?(D=h(D,P.props),Ko(D,P),D.return=V,D):(D=Mu(P.type,P.key,P.props,null,V.mode,Q),Ko(D,P),D.return=V,D)}function U(V,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zh(P,V.mode,Q),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function F(V,D,P,Q,ce){return D===null||D.tag!==7?(D=Or(P,V.mode,Q,ce),D.return=V,D):(D=h(D,P),D.return=V,D)}function Y(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Mu(D.type,D.key,D.props,null,V.mode,P),Ko(P,D),P.return=V,P;case W:return D=Zh(D,V.mode,P),D.return=V,D;case A:return D=jr(D),Y(V,D,P)}if(Et(D)||L(D))return D=Or(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return Y(V,zu(D),P);if(D.$$typeof===me)return Y(V,Lu(V,D),P);Bu(V,D)}return null}function z(V,D,P,Q){var ce=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ce!==null?null:b(V,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ce?C(V,D,P,Q):null;case W:return P.key===ce?U(V,D,P,Q):null;case A:return P=jr(P),z(V,D,P,Q)}if(Et(P)||L(P))return ce!==null?null:F(V,D,P,Q,null);if(typeof P.then=="function")return z(V,D,zu(P),Q);if(P.$$typeof===me)return z(V,D,Lu(V,P),Q);Bu(V,P)}return null}function q(V,D,P,Q,ce){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(P)||null,b(D,V,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return V=V.get(Q.key===null?P:Q.key)||null,C(D,V,Q,ce);case W:return V=V.get(Q.key===null?P:Q.key)||null,U(D,V,Q,ce);case A:return Q=jr(Q),q(V,D,P,Q,ce)}if(Et(Q)||L(Q))return V=V.get(P)||null,F(D,V,Q,ce,null);if(typeof Q.then=="function")return q(V,D,P,zu(Q),ce);if(Q.$$typeof===me)return q(V,D,P,Lu(D,Q),ce);Bu(D,Q)}return null}function re(V,D,P,Q){for(var ce=null,qe=null,le=D,Ce=D=0,ke=null;le!==null&&Ce<P.length;Ce++){le.index>Ce?(ke=le,le=null):ke=le.sibling;var He=z(V,le,P[Ce],Q);if(He===null){le===null&&(le=ke);break}t&&le&&He.alternate===null&&n(V,le),D=f(He,D,Ce),qe===null?ce=He:qe.sibling=He,qe=He,le=ke}if(Ce===P.length)return a(V,le),ze&&Gi(V,Ce),ce;if(le===null){for(;Ce<P.length;Ce++)le=Y(V,P[Ce],Q),le!==null&&(D=f(le,D,Ce),qe===null?ce=le:qe.sibling=le,qe=le);return ze&&Gi(V,Ce),ce}for(le=o(le);Ce<P.length;Ce++)ke=q(le,V,Ce,P[Ce],Q),ke!==null&&(t&&ke.alternate!==null&&le.delete(ke.key===null?Ce:ke.key),D=f(ke,D,Ce),qe===null?ce=ke:qe.sibling=ke,qe=ke);return t&&le.forEach(function(Gs){return n(V,Gs)}),ze&&Gi(V,Ce),ce}function pe(V,D,P,Q){if(P==null)throw Error(r(151));for(var ce=null,qe=null,le=D,Ce=D=0,ke=null,He=P.next();le!==null&&!He.done;Ce++,He=P.next()){le.index>Ce?(ke=le,le=null):ke=le.sibling;var Gs=z(V,le,He.value,Q);if(Gs===null){le===null&&(le=ke);break}t&&le&&Gs.alternate===null&&n(V,le),D=f(Gs,D,Ce),qe===null?ce=Gs:qe.sibling=Gs,qe=Gs,le=ke}if(He.done)return a(V,le),ze&&Gi(V,Ce),ce;if(le===null){for(;!He.done;Ce++,He=P.next())He=Y(V,He.value,Q),He!==null&&(D=f(He,D,Ce),qe===null?ce=He:qe.sibling=He,qe=He);return ze&&Gi(V,Ce),ce}for(le=o(le);!He.done;Ce++,He=P.next())He=q(le,V,Ce,He.value,Q),He!==null&&(t&&He.alternate!==null&&le.delete(He.key===null?Ce:He.key),D=f(He,D,Ce),qe===null?ce=He:qe.sibling=He,qe=He);return t&&le.forEach(function(CT){return n(V,CT)}),ze&&Gi(V,Ce),ce}function it(V,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var ce=P.key;D!==null;){if(D.key===ce){if(ce=P.type,ce===ne){if(D.tag===7){a(V,D.sibling),Q=h(D,P.props.children),Q.return=V,V=Q;break e}}else if(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===A&&jr(ce)===D.type){a(V,D.sibling),Q=h(D,P.props),Ko(Q,P),Q.return=V,V=Q;break e}a(V,D);break}else n(V,D);D=D.sibling}P.type===ne?(Q=Or(P.props.children,V.mode,Q,P.key),Q.return=V,V=Q):(Q=Mu(P.type,P.key,P.props,null,V.mode,Q),Ko(Q,P),Q.return=V,V=Q)}return y(V);case W:e:{for(ce=P.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(V,D.sibling),Q=h(D,P.children||[]),Q.return=V,V=Q;break e}else{a(V,D);break}else n(V,D);D=D.sibling}Q=Zh(P,V.mode,Q),Q.return=V,V=Q}return y(V);case A:return P=jr(P),it(V,D,P,Q)}if(Et(P))return re(V,D,P,Q);if(L(P)){if(ce=L(P),typeof ce!="function")throw Error(r(150));return P=ce.call(P),pe(V,D,P,Q)}if(typeof P.then=="function")return it(V,D,zu(P),Q);if(P.$$typeof===me)return it(V,D,Lu(V,P),Q);Bu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(V,D.sibling),Q=h(D,P),Q.return=V,V=Q):(a(V,D),Q=$h(P,V.mode,Q),Q.return=V,V=Q),y(V)):a(V,D)}return function(V,D,P,Q){try{Qo=0;var ce=it(V,D,P,Q);return Ca=null,ce}catch(le){if(le===xa||le===Pu)throw le;var qe=Sn(29,le,null,V.mode);return qe.lanes=Q,qe.return=V,qe}finally{}}}var Ur=tg(!0),ng=tg(!1),Cs=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ns(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ou(t),Up(t,null,a),n}return Du(t,o,n,a),Ou(t)}function Yo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}function ff(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var df=!1;function Xo(){if(df){var t=Ra;if(t!==null)throw t}}function $o(t,n,a,o){df=!1;var h=t.updateQueue;Cs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,U=C.next;C.next=null,y===null?f=U:y.next=U,y=C;var F=t.alternate;F!==null&&(F=F.updateQueue,b=F.lastBaseUpdate,b!==y&&(b===null?F.firstBaseUpdate=U:b.next=U,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;y=0,F=U=C=null,b=f;do{var z=b.lane&-536870913,q=z!==b.lane;if(q?(Me&z)===z:(o&z)===z){z!==0&&z===Aa&&(df=!0),F!==null&&(F=F.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var re=t,pe=b;z=n;var it=a;switch(pe.tag){case 1:if(re=pe.payload,typeof re=="function"){Y=re.call(it,Y,z);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=pe.payload,z=typeof re=="function"?re.call(it,Y,z):re,z==null)break e;Y=S({},Y,z);break e;case 2:Cs=!0}}z=b.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},F===null?(U=F=q,C=Y):F=F.next=q,y|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Vs|=y,t.lanes=y,t.memoizedState=Y}}function ig(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function sg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ig(a[t],n)}var Ia=O(null),qu=O(0);function rg(t,n){t=ns,te(qu,t),te(Ia,n),ns=t|n.baseLanes}function mf(){te(qu,ns),te(Ia,Ia.current)}function pf(){ns=qu.current,K(Ia),K(qu)}var An=O(null),qn=null;function Ds(t){var n=t.alternate;te(wt,wt.current&1),te(An,t),qn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(qn=t)}function gf(t){te(wt,wt.current),te(An,t),qn===null&&(qn=t)}function ag(t){t.tag===22?(te(wt,wt.current),te(An,t),qn===null&&(qn=t)):Os()}function Os(){te(wt,wt.current),te(An,An.current)}function Rn(t){K(An),qn===t&&(qn=null),K(wt)}var wt=O(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Td(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,xe=null,tt=null,Dt=null,Fu=!1,Na=!1,zr=!1,Gu=0,Zo=0,Da=null,_b=0;function _t(){throw Error(r(321))}function yf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!wn(t[a],n[a]))return!1;return!0}function _f(t,n,a,o,h,f){return Yi=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Hg:Mf,zr=!1,f=a(o,h),zr=!1,Na&&(f=lg(n,a,o,h)),og(t),f}function og(t){H.H=el;var n=tt!==null&&tt.next!==null;if(Yi=0,Dt=tt=xe=null,Fu=!1,Zo=0,Da=null,n)throw Error(r(300));t===null||Ot||(t=t.dependencies,t!==null&&Vu(t)&&(Ot=!0))}function lg(t,n,a,o){xe=t;var h=0;do{if(Na&&(Da=null),Zo=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,Dt=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Fg,f=n(a,o)}while(Na);return f}function vb(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Jo(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(xe.flags|=1024),n}function vf(){var t=Gu!==0;return Gu=0,t}function Ef(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function bf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}Yi=0,Dt=tt=xe=null,Na=!1,Zo=Gu=0,Da=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?xe.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function St(){if(tt===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=Dt===null?xe.memoizedState:Dt.next;if(n!==null)Dt=n,tt=t;else{if(t===null)throw xe.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Dt===null?xe.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(t){var n=Zo;return Zo+=1,Da===null&&(Da=[]),t=Jp(Da,t,n),n=xe,(Dt===null?n.memoizedState:Dt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Hg:Mf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jo(t);if(t.$$typeof===me)return Xt(t)}throw Error(r(438,String(t)))}function Tf(t){var n=null,a=xe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Qu(),xe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function Xi(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=St();return wf(n,tt,t)}function wf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=y=null,C=null,U=n,F=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Me&Y)===Y:(Yi&Y)===Y){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===Aa&&(F=!0);else if((Yi&z)===z){U=U.next,z===Aa&&(F=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=Y,y=f):C=C.next=Y,xe.lanes|=z,Vs|=z;Y=U.action,zr&&a(f,Y),f=U.hasEagerState?U.eagerState:a(f,Y)}else z={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=z,y=f):C=C.next=z,xe.lanes|=Y,Vs|=Y;U=U.next}while(U!==null&&U!==n);if(C===null?y=f:C.next=b,!wn(f,t.memoizedState)&&(Ot=!0,F&&(a=Ra,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=St(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);wn(f,n.memoizedState)||(Ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ug(t,n,a){var o=xe,h=St(),f=ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!wn((tt||h).memoizedState,a);if(y&&(h.memoizedState=a,Ot=!0),h=h.queue,xf(fg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Dt!==null&&Dt.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},hg.bind(null,o,h,a,n),null),rt===null)throw Error(r(349));f||(Yi&127)!==0||cg(o,n,a)}return a}function cg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=xe.updateQueue,n===null?(n=Qu(),xe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function hg(t,n,a,o){n.value=a,n.getSnapshot=o,dg(n)&&mg(t)}function fg(t,n,a){return a(function(){dg(n)&&mg(t)})}function dg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!wn(t,a)}catch{return!0}}function mg(t){var n=Dr(t,2);n!==null&&yn(n,t,2)}function Af(t){var n=cn();if(typeof t=="function"){var a=t;if(t=a(),zr){On(!0);try{a()}finally{On(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},n}function pg(t,n,a,o){return t.baseState=a,wf(t,tt,typeof o=="function"?o:Xi)}function Eb(t,n,a,o,h){if(Zu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,gg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function gg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var b=a(h,o),C=H.S;C!==null&&C(y,b),yg(t,n,b)}catch(U){Rf(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,o),yg(t,n,f)}catch(U){Rf(t,n,U)}}function yg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){_g(t,n,o)},function(o){return Rf(t,n,o)}):_g(t,n,a)}function _g(t,n,a){n.status="fulfilled",n.value=a,vg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,gg(t,a)))}function Rf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,vg(n),n=n.next;while(n!==o)}t.action=null}function vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Eg(t,n){return n}function bg(t,n){if(ze){var a=rt.formState;if(a!==null){e:{var o=xe;if(ze){if(lt){t:{for(var h=lt,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){lt=Hn(h.nextSibling),o=h.data==="F!";break e}}Rs(o)}o=!1}o&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},a.queue=o,a=zg.bind(null,xe,o),o.dispatch=a,o=Af(!1),f=Of.bind(null,xe,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Eb.bind(null,xe,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Tg(t){var n=St();return wg(n,tt,t)}function wg(t,n,a){if(n=wf(t,n,Eg)[0],t=Yu(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(y){throw y===xa?Pu:y}else o=n;n=St();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(xe.flags|=2048,Oa(9,{destroy:void 0},bb.bind(null,h,a),null)),[o,f,t]}function bb(t,n){t.action=n}function Sg(t){var n=St(),a=tt;if(a!==null)return wg(n,a,t);St(),n=n.memoizedState,a=St();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Oa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Qu(),xe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ag(){return St().memoizedState}function Xu(t,n,a,o){var h=cn();xe.flags|=t,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function $u(t,n,a,o){var h=St();o=o===void 0?null:o;var f=h.memoizedState.inst;tt!==null&&o!==null&&yf(o,tt.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(xe.flags|=t,h.memoizedState=Oa(1|n,f,a,o))}function Rg(t,n){Xu(8390656,8,t,n)}function xf(t,n){$u(2048,8,t,n)}function Tb(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Qu(),xe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function xg(t){var n=St().memoizedState;return Tb({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Cg(t,n){return $u(4,2,t,n)}function Ig(t,n){return $u(4,4,t,n)}function Ng(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dg(t,n,a){a=a!=null?a.concat([t]):null,$u(4,4,Ng.bind(null,n,t),a)}function Cf(){}function Og(t,n){var a=St();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Mg(t,n){var a=St();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=t(),zr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[o,n],o}function If(t,n,a){return a===void 0||(Yi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=ky(),xe.lanes|=t,Vs|=t,a)}function kg(t,n,a,o){return wn(a,n)?a:Ia.current!==null?(t=If(t,a,o),wn(t,n)||(Ot=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Me&261930)===0?(Ot=!0,t.memoizedState=a):(t=ky(),xe.lanes|=t,Vs|=t,n)}function Vg(t,n,a,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var y=H.T,b={};H.T=b,Of(t,!1,n,a);try{var C=h(),U=H.S;if(U!==null&&U(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=yb(C,o);Wo(t,n,F,In(t))}else Wo(t,n,o,In(t))}catch(Y){Wo(t,n,{then:function(){},status:"rejected",reason:Y},In())}finally{Z.p=f,y!==null&&b.types!==null&&(y.types=b.types),H.T=y}}function wb(){}function Nf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Lg(t).queue;Vg(t,h,n,ae,a===null?wb:function(){return jg(t),a(o)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ae},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),Wo(t,n.next.queue,{},In())}function Df(){return Xt(gl)}function Pg(){return St().memoizedState}function Ug(){return St().memoizedState}function Sb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=In();t=Is(a);var o=Ns(n,t,a);o!==null&&(yn(o,n,a),Yo(o,n,a)),n={cache:af()},t.payload=n;return}n=n.return}}function Ab(t,n,a){var o=In();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Bg(n,a):(a=Yh(t,n,a,o),a!==null&&(yn(a,t,o),qg(a,n,o)))}function zg(t,n,a){var o=In();Wo(t,n,a,o)}function Wo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Bg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,b=f(y,a);if(h.hasEagerState=!0,h.eagerState=b,wn(b,y))return Du(t,n,h,0),rt===null&&Nu(),!1}catch{}finally{}if(a=Yh(t,n,h,o),a!==null)return yn(a,t,o),qg(a,n,o),!0}return!1}function Of(t,n,a,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(r(479))}else n=Yh(t,a,o,2),n!==null&&yn(n,t,2)}function Zu(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function Bg(t,n){Na=Fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function qg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}var el={readContext:Xt,use:Ku,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};el.useEffectEvent=_t;var Hg={readContext:Xt,use:Ku,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Xt,useEffect:Rg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,Ng.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var a=cn();n=n===void 0?null:n;var o=t();if(zr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=cn();if(a!==void 0){var h=a(n);if(zr){On(!0);try{a(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Ab.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,a=zg.bind(null,xe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(t,n){var a=cn();return If(a,t,n)},useTransition:function(){var t=Af(!1);return t=Vg.bind(null,xe,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=xe,h=cn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),rt===null)throw Error(r(349));(Me&127)!==0||cg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Rg(fg.bind(null,o,f,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},hg.bind(null,o,f,a,n),null),a},useId:function(){var t=cn(),n=rt.identifierPrefix;if(ze){var a=Ri,o=Ai;a=(o&~(1<<32-bt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Gu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=_b++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:bg,useActionState:bg,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Of.bind(null,xe,!0,a),a.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return cn().memoizedState=Sb.bind(null,xe)},useEffectEvent:function(t){var n=cn(),a={impl:t};return n.memoizedState=a,function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Mf={readContext:Xt,use:Ku,useCallback:Og,useContext:Xt,useEffect:xf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Mg,useReducer:Yu,useRef:Ag,useState:function(){return Yu(Xi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=St();return kg(a,tt.memoizedState,t,n)},useTransition:function(){var t=Yu(Xi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Jo(t),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:Df,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var a=St();return pg(a,tt,t,n)},useMemoCache:Tf,useCacheRefresh:Ug};Mf.useEffectEvent=xg;var Fg={readContext:Xt,use:Ku,useCallback:Og,useContext:Xt,useEffect:xf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Mg,useReducer:Sf,useRef:Ag,useState:function(){return Sf(Xi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=St();return tt===null?If(a,t,n):kg(a,tt.memoizedState,t,n)},useTransition:function(){var t=Sf(Xi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:Jo(t),n]},useSyncExternalStore:ug,useId:Pg,useHostTransitionStatus:Df,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var a=St();return tt!==null?pg(a,tt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Ug};Fg.useEffectEvent=xg;function kf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=In(),h=Is(o);h.payload=n,a!=null&&(h.callback=a),n=Ns(t,h,o),n!==null&&(yn(n,t,o),Yo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=In(),h=Is(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ns(t,h,o),n!==null&&(yn(n,t,o),Yo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=In(),o=Is(a);o.tag=2,n!=null&&(o.callback=n),n=Ns(t,o,a),n!==null&&(yn(n,t,a),Yo(n,t,a))}};function Gg(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!zo(a,o)||!zo(h,f):!0}function Qg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function Br(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Kg(t){Iu(t)}function Yg(t){console.error(t)}function Xg(t){Iu(t)}function Ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $g(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,n)},a}function Zg(t){return t=Is(t),t.tag=3,t}function Jg(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){$g(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$g(n,a,o),typeof h!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Rb(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?cc():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),od(t,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),od(t,o,h)),!1}throw Error(r(435,a.tag))}return od(t,o,h),cc(),!1}if(ze)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(t=Error(r(422),{cause:o}),Ho(Pn(t,a)))):(o!==ef&&(n=Error(r(423),{cause:o}),Ho(Pn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Pn(o,a),h=Lf(t.stateNode,o,h),ff(t,h),vt!==4&&(vt=2)),!1;var f=Error(r(520),{cause:o});if(f=Pn(f,a),ll===null?ll=[f]:ll.push(f),vt!==4&&(vt=2),n===null)return!0;o=Pn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Lf(a.stateNode,o,t),ff(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ls===null||!Ls.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zg(h),Jg(h,t,a,o),ff(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),Ot=!1;function $t(t,n,a,o){n.child=t===null?ng(n,null,a,o):Ur(n,t.child,a,o)}function Wg(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var b in o)b!=="ref"&&(y[b]=o[b])}else y=o;return Vr(n),o=_f(t,n,a,y,f,h),b=vf(),t!==null&&!Ot?(Ef(t,n,h),$i(t,n,h)):(ze&&b&&Jh(n),n.flags|=1,$t(t,n,o,h),n.child)}function ey(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ty(t,n,f,o,h)):(t=Mu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Gf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(y,o)&&t.ref===n.ref)return $i(t,n,h)}return n.flags|=1,t=Fi(f,o),t.ref=n.ref,t.return=n,n.child=t}function ty(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(zo(f,o)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=o=f,Gf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,$i(t,n,h)}return Pf(t,n,a,o,h)}function ny(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return iy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?rg(n,f):mf(),ag(n);else return o=n.lanes=536870912,iy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ju(n,f.cachePool),rg(n,f),Os(),n.memoizedState=null):(t!==null&&ju(n,null),mf(),Os());return $t(t,n,h,a),n.child}function tl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(t,n,a,o,h){var f=lf();return f=f===null?null:{parent:Nt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ju(n,null),mf(),ag(n),t!==null&&Sa(t,n,o,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function sy(t,n,a){return Ur(n,t.child,null,a),t=Wu(n,n.pendingProps),t.flags|=2,Rn(n),n.memoizedState=null,t}function xb(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Wu(n,o),n.lanes=536870912,tl(null,t);if(gf(n),(t=lt)?(t=g0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Bp(t),a.return=n,n.child=a,Yt=n,lt=null)):t=null,t===null)throw Rs(n);return n.lanes=536870912,null}return Wu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=sy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ot||Sa(t,n,a,!1),h=(a&t.childLanes)!==0,Ot||h){if(o=rt,o!==null&&(y=To(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Dr(t,y),yn(o,t,y),jf;cc(),n=sy(t,n,a)}else t=f.treeContext,lt=Hn(y.nextSibling),Yt=n,ze=!0,As=null,Bn=!1,t!==null&&Fp(n,t),n=Wu(n,o),n.flags|=4096;return n}return t=Fi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Pf(t,n,a,o,h){return Vr(n),a=_f(t,n,a,o,void 0,h),o=vf(),t!==null&&!Ot?(Ef(t,n,h),$i(t,n,h)):(ze&&o&&Jh(n),n.flags|=1,$t(t,n,a,h),n.child)}function ry(t,n,a,o,h,f){return Vr(n),n.updateQueue=null,a=lg(n,o,a,h),og(t),o=vf(),t!==null&&!Ot?(Ef(t,n,f),$i(t,n,f)):(ze&&o&&Jh(n),n.flags|=1,$t(t,n,a,f),n.child)}function ay(t,n,a,o,h){if(Vr(n),n.stateNode===null){var f=Ea,y=a.contextType;typeof y=="object"&&y!==null&&(f=Xt(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Xt(y):Ea,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(kf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,C=Br(a,b);f.props=C;var U=f.context,F=a.contextType;y=Ea,typeof F=="object"&&F!==null&&(y=Xt(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||U!==y)&&Qg(n,f,o,y),Cs=!1;var z=n.memoizedState;f.state=z,$o(n,o,f,h),Xo(),U=n.memoizedState,b||z!==U||Cs?(typeof Y=="function"&&(kf(n,a,Y,o),U=n.memoizedState),(C=Cs||Gg(n,a,C,o,z,U,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(t,n),y=n.memoizedProps,F=Br(a,y),f.props=F,Y=n.pendingProps,z=f.context,U=a.contextType,C=Ea,typeof U=="object"&&U!==null&&(C=Xt(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||z!==C)&&Qg(n,f,o,C),Cs=!1,z=n.memoizedState,f.state=z,$o(n,o,f,h),Xo();var q=n.memoizedState;y!==Y||z!==q||Cs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof b=="function"&&(kf(n,a,b,o),q=n.memoizedState),(F=Cs||Gg(n,a,F,o,z,q,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ur(n,t.child,null,h),n.child=Ur(n,null,a,h)):$t(t,n,a,h),n.memoizedState=f.state,t=n.child):t=$i(t,n,h),t}function oy(t,n,a,o){return Mr(),n.flags|=256,$t(t,n,a,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:$p()}}function Bf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function ly(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Ds(n):Os(),(t=lt)?(t=g0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ss!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Bp(t),a.return=n,n.child=a,Yt=n,lt=null)):t=null,t===null)throw Rs(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Os(),h=n.mode,b=tc({mode:"hidden",children:b},h),o=Or(o,h,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=zf(a),o.childLanes=Bf(t,y,a),n.memoizedState=Uf,tl(null,o)):(Ds(n),qf(n,b))}var C=t.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Hf(t,n,a)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),b=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),b=Or(b,h,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Ur(n,t.child,null,a),o=n.child,o.memoizedState=zf(a),o.childLanes=Bf(t,y,a),n.memoizedState=Uf,n=tl(null,o));else if(Ds(n),wd(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var U=y.dgst;y=U,o=Error(r(419)),o.stack="",o.digest=y,Ho({value:o,source:null,stack:null}),n=Hf(t,n,a)}else if(Ot||Sa(t,n,a,!1),y=(a&t.childLanes)!==0,Ot||y){if(y=rt,y!==null&&(o=To(y,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Dr(t,o),yn(y,t,o),jf;Td(b)||cc(),n=Hf(t,n,a)}else Td(b)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,lt=Hn(b.nextSibling),Yt=n,ze=!0,As=null,Bn=!1,t!==null&&Fp(n,t),n=qf(n,o.children),n.flags|=4096);return n}return h?(Os(),b=o.fallback,h=n.mode,C=t.child,U=C.sibling,o=Fi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?b=Fi(U,b):(b=Or(b,h,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,tl(null,o),o=n.child,b=t.child.memoizedState,b===null?b=zf(a):(h=b.cachePool,h!==null?(C=Nt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=$p(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=Bf(t,y,a),n.memoizedState=Uf,tl(t.child,o)):(Ds(n),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function qf(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Hf(t,n,a){return Ur(n,t.child,null,a),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function uy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sf(t.return,n,a)}function Ff(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function cy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=wt.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,te(wt,y),$t(t,n,o,a),o=ze?qo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,a,n);else if(t.tag===19)uy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Ff(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ff(n,!0,a,null,f,o);break;case"together":Ff(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $i(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Vs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Sa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Fi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Gf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function Cb(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),xs(n,Nt,t.memoizedState.cache),Mr();break;case 27:case 5:Pi(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ds(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ly(t,n,a):(Ds(n),t=$i(t,n,a),t!==null?t.sibling:null);Ds(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return cy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(wt,wt.current),o)break;return null;case 22:return n.lanes=0,ny(t,n,a,n.pendingProps);case 24:xs(n,Nt,t.memoizedState.cache)}return $i(t,n,a)}function hy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!Gf(t,a)&&(n.flags&128)===0)return Ot=!1,Cb(t,n,a);Ot=(t.flags&131072)!==0}else Ot=!1,ze&&(n.flags&1048576)!==0&&Hp(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=jr(n.elementType),n.type=t,typeof t=="function")Xh(t)?(o=Br(t,o),n.tag=1,n=ay(null,n,t,o,a)):(n.tag=0,n=Pf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=Wg(null,n,t,o,a);break e}else if(h===I){n.tag=14,n=ey(null,n,t,o,a);break e}}throw n=at(t)||t,Error(r(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Br(o,n.pendingProps),ay(t,n,o,h,a);case 3:e:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),$o(n,o,null,a);var y=n.memoizedState;if(o=y.cache,xs(n,Nt,o),o!==f.cache&&rf(n,[Nt],a,!0),Xo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=oy(t,n,o,a);break e}else if(o!==h){h=Pn(Error(r(424)),n),Ho(h),n=oy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Hn(t.firstChild),Yt=n,ze=!0,As=null,Bn=!0,a=ng(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mr(),o===h){n=$i(t,n,a);break e}$t(t,n,o,a)}n=n.child}return n;case 26:return ec(t,n),t===null?(a=T0(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,t=n.pendingProps,o=yc(Te.current).createElement(a),o[xt]=n,o[Bt]=t,Zt(o,a,t),Ct(o),n.stateNode=o):n.memoizedState=T0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&ze&&(o=n.stateNode=v0(n.type,n.pendingProps,Te.current),Yt=n,Bn=!0,h=lt,zs(n.type)?(Sd=h,lt=Hn(o.firstChild)):lt=h),$t(t,n,n.pendingProps.children,a),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=lt)&&(o=sT(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Yt=n,lt=Hn(o.firstChild),Bn=!1,h=!0):h=!1),h||Rs(n)),Pi(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,vd(h,f)?o=null:y!==null&&vd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,vb,null,null,a),gl._currentValue=h),ec(t,n),$t(t,n,o,a),n.child;case 6:return t===null&&ze&&((t=a=lt)&&(a=rT(a,n.pendingProps,Bn),a!==null?(n.stateNode=a,Yt=n,lt=null,t=!0):t=!1),t||Rs(n)),null;case 13:return ly(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ur(n,null,o,a):$t(t,n,o,a),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,a);case 7:return $t(t,n,n.pendingProps,a),n.child;case 8:return $t(t,n,n.pendingProps.children,a),n.child;case 12:return $t(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,xs(n,n.type,o.value),$t(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vr(n),h=Xt(h),o=o(h),n.flags|=1,$t(t,n,o,a),n.child;case 14:return ey(t,n,n.type,n.pendingProps,a);case 15:return ty(t,n,n.type,n.pendingProps,a);case 19:return cy(t,n,a);case 31:return xb(t,n,a);case 22:return ny(t,n,a,n.pendingProps);case 24:return Vr(n),o=Xt(Nt),t===null?(h=lf(),h===null&&(h=rt,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},cf(n),xs(n,Nt,h)):((t.lanes&a)!==0&&(hf(t,n),$o(n,null,null,a),Xo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),xs(n,Nt,o)):(o=f.cache,xs(n,Nt,o),o!==h.cache&&rf(n,[Nt],a,!0))),$t(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Zi(t){t.flags|=4}function Qf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Py())t.flags|=8192;else throw Pr=Uu,uf}else t.flags&=-16777217}function fy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!x0(n))if(Py())t.flags|=8192;else throw Pr=Uu,uf}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,La|=n)}function nl(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ut(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function Ib(t,n,a){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ki(Nt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(n)?Zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),ut(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Zi(n),f!==null?(ut(n),fy(n,f)):(ut(n),Qf(n,h,null,o,a))):f?f!==t.memoizedState?(Zi(n),ut(n),fy(n,f)):(ut(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Zi(n),ut(n),Qf(n,h,t,o,a)),null;case 27:if(Ui(n),a=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ut(n),null}t=ie.current,wa(n)?Gp(n):(t=v0(h,o,a),n.stateNode=t,Zi(n))}return ut(n),null;case 5:if(Ui(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Zi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ut(n),null}if(f=ie.current,wa(n))Gp(n);else{var y=yc(Te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[xt]=n,f[Bt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Zt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Zi(n)}}return ut(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Te.current,wa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||l0(t.nodeValue,a)),t||Rs(n,!0)}else t=yc(t).createTextNode(o),t[xt]=n,n.stateNode=t}return ut(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=wa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),t=!1}else a=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ut(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xt]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),nc(n,n.updateQueue),ut(n),null);case 4:return ot(),t===null&&md(n.stateNode.containerInfo),ut(n),null;case 10:return Ki(n.type),ut(n),null;case 19:if(K(wt),o=n.memoizedState,o===null)return ut(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,nl(o,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)zp(a,t),a=a.sibling;return te(wt,wt.current&1|2),ze&&Gi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&ln()>oc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return ut(n),null}else 2*ln()-o.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ln(),t.sibling=null,a=wt.current,te(wt,h?a&1|2:a&1),ze&&Gi(n,o.treeForkCount),t):(ut(n),null);case 22:case 23:return Rn(n),pf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),a=n.updateQueue,a!==null&&nc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(Lr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ki(Nt),ut(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Nb(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(Nt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ui(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Rn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(wt),null;case 4:return ot(),null;case 10:return Ki(n.type),null;case 22:case 23:return Rn(n),pf(),t!==null&&K(Lr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(Nt),null;case 25:return null;default:return null}}function dy(t,n){switch(Wh(n),n.tag){case 3:Ki(Nt),ot();break;case 26:case 27:case 5:Ui(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:K(wt);break;case 10:Ki(n.type);break;case 22:case 23:Rn(n),pf(),t!==null&&K(Lr);break;case 24:Ki(Nt)}}function il(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(b){We(n,n.return,b)}}function Ms(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,h=n;var C=a,U=b;try{U()}catch(F){We(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){We(n,n.return,F)}}function my(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{sg(n,a)}catch(o){We(t,t.return,o)}}}function py(t,n,a){a.props=Br(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,n,o)}}function sl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){We(t,n,h)}}function xi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,n,h)}else a.current=null}function gy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Kf(t,n,a){try{var o=t.stateNode;Jb(o,t.type,a,n),o[Bt]=n}catch(h){We(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&zs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,a),t=t.sibling;t!==null;)Xf(t,n,a),t=t.sibling}function ic(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,n,a),t=t.sibling;t!==null;)ic(t,n,a),t=t.sibling}function _y(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Zt(n,o,a),n[xt]=t,n[Bt]=a}catch(f){We(t,t.return,f)}}var Ji=!1,Mt=!1,$f=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Db(t,n){if(t=t.containerInfo,yd=Sc,t=Dp(t),qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,b=-1,C=-1,U=0,F=0,Y=t,z=null;t:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(b=y+h),Y!==f||o!==0&&Y.nodeType!==3||(C=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===a&&++U===h&&(b=y),z===f&&++F===o&&(C=y),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:t,selectionRange:a},Sc=!1,Ht=n;Ht!==null;)if(n=Ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ht=t;else for(;Ht!==null;){switch(n=Ht,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var re=Br(a.type,h);t=o.getSnapshotBeforeUpdate(re,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){We(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ht=t;break}Ht=n.return}}function Ey(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:es(t,a),o&4&&il(5,a);break;case 1:if(es(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){We(a,a.return,y)}else{var h=Br(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){We(a,a.return,y)}}o&64&&my(a),o&512&&sl(a,a.return);break;case 3:if(es(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{sg(t,n)}catch(y){We(a,a.return,y)}}break;case 27:n===null&&o&4&&_y(a);case 26:case 5:es(t,a),n===null&&o&4&&gy(a),o&512&&sl(a,a.return);break;case 12:es(t,a);break;case 31:es(t,a),o&4&&wy(t,a);break;case 13:es(t,a),o&4&&Sy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zb.bind(null,a),aT(t,a))));break;case 22:if(o=a.memoizedState!==null||Ji,!o){n=n!==null&&n.memoizedState!==null||Mt,h=Ji;var f=Mt;Ji=o,(Mt=n)&&!f?ts(t,a,(a.subtreeFlags&8772)!==0):es(t,a),Ji=h,Mt=f}break;case 30:break;default:es(t,a)}}function by(t){var n=t.alternate;n!==null&&(t.alternate=null,by(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,dn=!1;function Wi(t,n,a){for(a=a.child;a!==null;)Ty(t,n,a),a=a.sibling}function Ty(t,n,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Mt||xi(a,n),Wi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||xi(a,n);var o=mt,h=dn;zs(a.type)&&(mt=a.stateNode,dn=!1),Wi(t,n,a),dl(a.stateNode),mt=o,dn=h;break;case 5:Mt||xi(a,n);case 6:if(o=mt,h=dn,mt=null,Wi(t,n,a),mt=o,dn=h,mt!==null)if(dn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(f){We(a,n,f)}else try{mt.removeChild(a.stateNode)}catch(f){We(a,n,f)}break;case 18:mt!==null&&(dn?(t=mt,m0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):m0(mt,a.stateNode));break;case 4:o=mt,h=dn,mt=a.stateNode.containerInfo,dn=!0,Wi(t,n,a),mt=o,dn=h;break;case 0:case 11:case 14:case 15:Ms(2,a,n),Mt||Ms(4,a,n),Wi(t,n,a);break;case 1:Mt||(xi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&py(a,n,o)),Wi(t,n,a);break;case 21:Wi(t,n,a);break;case 22:Mt=(o=Mt)||a.memoizedState!==null,Wi(t,n,a),Mt=o;break;default:Wi(t,n,a)}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){We(n,n.return,a)}}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){We(n,n.return,a)}}function Ob(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vy),n;default:throw Error(r(435,t.tag))}}function sc(t,n){var a=Ob(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=Bb.bind(null,t,o);o.then(h,h)}})}function mn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(zs(b.type)){mt=b.stateNode,dn=!1;break e}break;case 5:mt=b.stateNode,dn=!1;break e;case 3:case 4:mt=b.stateNode.containerInfo,dn=!0;break e}b=b.return}if(mt===null)throw Error(r(160));Ty(f,y,h),mt=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,t),n=n.sibling}var ii=null;function Ay(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),pn(t),o&4&&(Ms(3,t,t.return),il(3,t),Ms(5,t,t.return));break;case 1:mn(n,t),pn(t),o&512&&(Mt||a===null||xi(a,a.return)),o&64&&Ji&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ii;if(mn(n,t),pn(t),o&512&&(Mt||a===null||xi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,o,a),f[xt]=t,Ct(f),o=f;break e;case"link":var y=A0("link","href",h).get(o+(a.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(b,1);break t}}f=h.createElement(o),Zt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=A0("meta","content",h).get(o+(a.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(b,1);break t}}f=h.createElement(o),Zt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[xt]=t,Ct(f),o=f}t.stateNode=o}else R0(h,t.type,t.stateNode);else t.stateNode=S0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?R0(h,t.type,t.stateNode):S0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(n,t),pn(t),o&512&&(Mt||a===null||xi(a,a.return)),a!==null&&o&4&&Kf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(n,t),pn(t),o&512&&(Mt||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(re){We(t,t.return,re)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,a!==null?a.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(mn(n,t),pn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(re){We(t,t.return,re)}}break;case 3:if(Ec=null,h=ii,ii=_c(n.containerInfo),mn(n,t),ii=h,pn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(re){We(t,t.return,re)}$f&&($f=!1,Ry(t));break;case 4:o=ii,ii=_c(t.stateNode.containerInfo),mn(n,t),pn(t),ii=o;break;case 12:mn(n,t),pn(t);break;case 31:mn(n,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 13:mn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=ln()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=Ji,F=Mt;if(Ji=U||h,Mt=F||C,mn(n,t),Mt=F,Ji=U,pn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Ji||Mt||qr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(re){We(C,C.return,re)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(re){We(C,C.return,re)}}}else if(n.tag===18){if(a===null){C=n;try{var q=C.stateNode;h?p0(q,!0):p0(C.stateNode,!1)}catch(re){We(C,C.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(t,a))));break;case 19:mn(n,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 30:break;case 21:break;default:mn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(yy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Yf(t);ic(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(fn(y,""),a.flags&=-33);var b=Yf(t);ic(t,b,y);break;case 3:case 4:var C=a.stateNode.containerInfo,U=Yf(t);Xf(t,U,C);break;default:throw Error(r(161))}}catch(F){We(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function qr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ms(4,n,n.return),qr(n);break;case 1:xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&py(n,n.return,a),qr(n);break;case 27:dl(n.stateNode);case 26:case 5:xi(n,n.return),qr(n);break;case 22:n.memoizedState===null&&qr(n);break;case 30:qr(n);break;default:qr(n)}t=t.sibling}}function ts(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,a),il(4,f);break;case 1:if(ts(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){We(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ig(C[h],b)}catch(U){We(o,o.return,U)}}a&&y&64&&my(f),sl(f,f.return);break;case 27:_y(f);case 26:case 5:ts(h,f,a),a&&o===null&&y&4&&gy(f),sl(f,f.return);break;case 12:ts(h,f,a);break;case 31:ts(h,f,a),a&&y&4&&wy(h,f);break;case 13:ts(h,f,a),a&&y&4&&Sy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,a),sl(f,f.return);break;case 30:break;default:ts(h,f,a)}n=n.sibling}}function Zf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t))}function si(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xy(t,n,a,o),n=n.sibling}function xy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,a,o),h&2048&&il(9,n);break;case 1:si(t,n,a,o);break;case 3:si(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){si(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(n,n.return,C)}}else si(t,n,a,o);break;case 31:si(t,n,a,o);break;case 13:si(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?si(t,n,a,o):rl(t,n):f._visibility&2?si(t,n,a,o):(f._visibility|=2,Ma(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(y,n);break;case 24:si(t,n,a,o),h&2048&&Jf(n.alternate,n);break;default:si(t,n,a,o)}}function Ma(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,b=a,C=o,U=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(f,y,b,C,h),il(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ma(f,y,b,C,h):rl(f,y):(F._visibility|=2,Ma(f,y,b,C,h)),h&&U&2048&&Zf(y.alternate,y);break;case 24:Ma(f,y,b,C,h),h&&U&2048&&Jf(y.alternate,y);break;default:Ma(f,y,b,C,h)}n=n.sibling}}function rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:rl(a,o),h&2048&&Zf(o.alternate,o);break;case 24:rl(a,o),h&2048&&Jf(o.alternate,o);break;default:rl(a,o)}n=n.sibling}}var al=8192;function ka(t,n,a){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Cy(t,n,a),t=t.sibling}function Cy(t,n,a){switch(t.tag){case 26:ka(t,n,a),t.flags&al&&t.memoizedState!==null&&_T(a,ii,t.memoizedState,t.memoizedProps);break;case 5:ka(t,n,a);break;case 3:case 4:var o=ii;ii=_c(t.stateNode.containerInfo),ka(t,n,a),ii=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,ka(t,n,a),al=o):ka(t,n,a));break;default:ka(t,n,a)}}function Iy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ht=o,Dy(o,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):ol(t);break;default:ol(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ht=o,Dy(o,t)}Iy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ms(8,n,n.return),rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function Dy(t,n){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Ms(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ht=o;else e:for(a=t;Ht!==null;){o=Ht;var h=o.sibling,f=o.return;if(by(o),o===a){Ht=null;break e}if(h!==null){h.return=f,Ht=h;break e}Ht=f}}}var Mb={getCacheForType:function(t){var n=Xt(Nt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Xt(Nt).controller.signal}},kb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Ne=null,Me=0,Je=0,xn=null,ks=!1,Va=!1,Wf=!1,ns=0,vt=0,Vs=0,Hr=0,ed=0,Cn=0,La=0,ll=null,gn=null,td=!1,ac=0,Oy=0,oc=1/0,lc=null,Ls=null,jt=0,js=null,ja=null,is=0,nd=0,id=null,My=null,ul=0,sd=null;function In(){return(Qe&2)!==0&&Me!==0?Me&-Me:H.T!==null?cd():uu()}function ky(){if(Cn===0)if((Me&536870912)===0||ze){var t=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Cn=t}else Cn=536870912;return t=An.current,t!==null&&(t.flags|=32),Cn}function yn(t,n,a){(t===rt&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Ps(t,Me,Cn,!1)),yr(t,a),((Qe&2)===0||t!==rt)&&(t===rt&&((Qe&2)===0&&(Hr|=a),vt===4&&Ps(t,Me,Cn,!1)),Ci(t))}function Vy(t,n,a){if((Qe&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Yn(t,n),h=o?jb(t,n):ad(t,n,!0),f=o;do{if(h===0){Va&&!o&&Ps(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Vb(a)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=t;h=ll;var C=b.current.memoizedState.isDehydrated;if(C&&(Pa(b,y).flags|=256),y=ad(b,y,!1),y!==2){if(Wf&&!C){b.errorRecoveryDisabledLanes|=f,Hr|=f,h=4;break e}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Pa(t,0),Ps(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ps(o,n,Cn,!ks);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ac+300-ln(),10<h)){if(Ps(o,n,Cn,!ks),ci(o,0,!0)!==0)break e;is=n,o.timeoutHandle=f0(Ly.bind(null,o,a,gn,lc,td,n,Cn,Hr,La,ks,f,"Throttled",-0,0),h);break e}Ly(o,a,gn,lc,td,n,Cn,Hr,La,ks,f,null,-0,0)}}break}while(!0);Ci(t)}function Ly(t,n,a,o,h,f,y,b,C,U,F,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Cy(n,f,Y);var re=(f&62914560)===f?ac-ln():(f&4194048)===f?Oy-ln():0;if(re=vT(Y,re),re!==null){is=f,t.cancelPendingCommit=re(Fy.bind(null,t,n,f,a,o,h,y,b,C,F,Y,null,z,q)),Ps(t,f,y,!U);return}}Fy(t,n,f,a,o,h,y,b,C)}function Vb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ps(t,n,a,o){n&=~ed,n&=~Hr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&_r(t,a,n)}function uc(){return(Qe&6)===0?(cl(0),!1):!0}function rd(){if(Ne!==null){if(Je===0)var t=Ne.return;else t=Ne,Qi=kr=null,bf(t),Ca=null,Qo=0,t=Ne;for(;t!==null;)dy(t.alternate,t),t=t.return;Ne=null}}function Pa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),is=0,rd(),rt=t,Ne=a=Fi(t.current,null),Me=n,Je=0,xn=null,ks=!1,Va=Yn(t,n),Wf=!1,La=Cn=ed=Hr=Vs=vt=0,gn=ll=null,td=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-bt(o),f=1<<h;n|=t[h],o&=~f}return ns=n,Nu(),a}function jy(t,n){xe=null,H.H=el,n===xa||n===Pu?(n=Wp(),Je=3):n===uf?(n=Wp(),Je=4):Je=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ne===null&&(vt=1,Ju(t,Pn(n,t.current)))}function Py(){var t=An.current;return t===null?!0:(Me&4194048)===Me?qn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===qn:!1}function Uy(){var t=H.H;return H.H=el,t===null?el:t}function zy(){var t=H.A;return H.A=Mb,t}function cc(){vt=4,ks||(Me&4194048)!==Me&&An.current!==null||(Va=!0),(Vs&134217727)===0&&(Hr&134217727)===0||rt===null||Ps(rt,Me,Cn,!1)}function ad(t,n,a){var o=Qe;Qe|=2;var h=Uy(),f=zy();(rt!==t||Me!==n)&&(lc=null,Pa(t,n)),n=!1;var y=vt;e:do try{if(Je!==0&&Ne!==null){var b=Ne,C=xn;switch(Je){case 8:rd(),y=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var U=Je;if(Je=0,xn=null,Ua(t,b,C,U),a&&Va){y=0;break e}break;default:U=Je,Je=0,xn=null,Ua(t,b,C,U)}}Lb(),y=vt;break}catch(F){jy(t,F)}while(!0);return n&&t.shellSuspendCounter++,Qi=kr=null,Qe=o,H.H=h,H.A=f,Ne===null&&(rt=null,Me=0,Nu()),y}function Lb(){for(;Ne!==null;)By(Ne)}function jb(t,n){var a=Qe;Qe|=2;var o=Uy(),h=zy();rt!==t||Me!==n?(lc=null,oc=ln()+500,Pa(t,n)):Va=Yn(t,n);e:do try{if(Je!==0&&Ne!==null){n=Ne;var f=xn;t:switch(Je){case 1:Je=0,xn=null,Ua(t,n,f,1);break;case 2:case 9:if(Zp(f)){Je=0,xn=null,qy(n);break}n=function(){Je!==2&&Je!==9||rt!==t||(Je=7),Ci(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Zp(f)?(Je=0,xn=null,qy(n)):(Je=0,xn=null,Ua(t,n,f,7));break;case 5:var y=null;switch(Ne.tag){case 26:y=Ne.memoizedState;case 5:case 27:var b=Ne;if(y?x0(y):b.stateNode.complete){Je=0,xn=null;var C=b.sibling;if(C!==null)Ne=C;else{var U=b.return;U!==null?(Ne=U,hc(U)):Ne=null}break t}}Je=0,xn=null,Ua(t,n,f,5);break;case 6:Je=0,xn=null,Ua(t,n,f,6);break;case 8:rd(),vt=6;break e;default:throw Error(r(462))}}Pb();break}catch(F){jy(t,F)}while(!0);return Qi=kr=null,H.H=o,H.A=h,Qe=a,Ne!==null?0:(rt=null,Me=0,Nu(),vt)}function Pb(){for(;Ne!==null&&!mr();)By(Ne)}function By(t){var n=hy(t.alternate,t,ns);t.memoizedProps=t.pendingProps,n===null?hc(t):Ne=n}function qy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ry(a,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=ry(a,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:bf(n);default:dy(a,n),n=Ne=zp(n,ns),n=hy(a,n,ns)}t.memoizedProps=t.pendingProps,n===null?hc(t):Ne=n}function Ua(t,n,a,o){Qi=kr=null,bf(n),Ca=null,Qo=0;var h=n.return;try{if(Rb(t,h,n,a,Me)){vt=1,Ju(t,Pn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;vt=1,Ju(t,Pn(a,t.current)),Ne=null;return}n.flags&32768?(ze||o===1?t=!0:Va||(Me&536870912)!==0?t=!1:(ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hy(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){Hy(n,ks);return}t=n.return;var a=Ib(n.alternate,n,ns);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);vt===0&&(vt=5)}function Hy(t,n){do{var a=Nb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);vt=6,Ne=null}function Fy(t,n,a,o,h,f,y,b,C){t.cancelPendingCommit=null;do fc();while(jt!==0);if((Qe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Kh,Ph(t,a,f,y,b,C),t===rt&&(Ne=rt=null,Me=0),ja=n,js=t,is=a,nd=f,id=h,My=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qb(ms,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=Z.p,Z.p=2,y=Qe,Qe|=4;try{Db(t,n,a)}finally{Qe=y,Z.p=h,H.T=o}}jt=1,Gy(),Qy(),Ky()}}function Gy(){if(jt===1){jt=0;var t=js,n=ja,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=Z.p;Z.p=2;var h=Qe;Qe|=4;try{Ay(n,t);var f=_d,y=Dp(t.containerInfo),b=f.focusedElem,C=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Np(b.ownerDocument.documentElement,b)){if(C!==null&&qh(b)){var U=C.start,F=C.end;if(F===void 0&&(F=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(F,b.value.length);else{var Y=b.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),re=b.textContent.length,pe=Math.min(C.start,re),it=C.end===void 0?pe:Math.min(C.end,re);!q.extend&&pe>it&&(y=it,it=pe,pe=y);var V=Ip(b,pe),D=Ip(b,it);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),pe>it?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=b;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var Q=Y[b];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!yd,_d=yd=null}finally{Qe=h,Z.p=o,H.T=a}}t.current=n,jt=2}}function Qy(){if(jt===2){jt=0;var t=js,n=ja,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=Z.p;Z.p=2;var h=Qe;Qe|=4;try{Ey(t,n.alternate,n)}finally{Qe=h,Z.p=o,H.T=a}}jt=3}}function Ky(){if(jt===4||jt===3){jt=0,nu();var t=js,n=ja,a=is,o=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?jt=5:(jt=0,ja=js=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ls=null),zi(a),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Kn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=Z.p,Z.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var b=o[y];f(b.value,{componentStack:b.stack})}}finally{H.T=n,Z.p=h}}(is&3)!==0&&fc(),Ci(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===sd?ul++:(ul=0,sd=t):ul=0,cl(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fo(n)))}function fc(){return Gy(),Qy(),Ky(),Xy()}function Xy(){if(jt!==5)return!1;var t=js,n=nd;nd=0;var a=zi(is),o=H.T,h=Z.p;try{Z.p=32>a?32:a,H.T=null,a=id,id=null;var f=js,y=is;if(jt=0,ja=js=null,is=0,(Qe&6)!==0)throw Error(r(331));var b=Qe;if(Qe|=4,Ny(f.current),xy(f,f.current,y,a),Qe=b,cl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{Z.p=h,H.T=o,Yy(t,n)}}function $y(t,n,a){n=Pn(a,n),n=Lf(t.stateNode,n,2),t=Ns(t,n,2),t!==null&&(yr(t,2),Ci(t))}function We(t,n,a){if(t.tag===3)$y(t,t,a);else for(;n!==null;){if(n.tag===3){$y(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ls===null||!Ls.has(o))){t=Pn(a,t),a=Zg(2),o=Ns(n,a,2),o!==null&&(Jg(a,o,n,t),yr(o,2),Ci(o));break}}n=n.return}}function od(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new kb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Wf=!0,h.add(a),t=Ub.bind(null,t,n,a),n.then(t,t))}function Ub(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Me&a)===a&&(vt===4||vt===3&&(Me&62914560)===Me&&300>ln()-ac?(Qe&2)===0&&Pa(t,0):ed|=a,La===Me&&(La=0)),Ci(t)}function Zy(t,n){n===0&&(n=lu()),t=Dr(t,n),t!==null&&(yr(t,n),Ci(t))}function zb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Zy(t,a)}function Bb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Zy(t,a)}function qb(t,n){return gt(t,n)}var dc=null,za=null,ld=!1,mc=!1,ud=!1,Us=0;function Ci(t){t!==za&&t.next===null&&(za===null?dc=za=t:za=za.next=t),mc=!0,ld||(ld=!0,Fb())}function cl(t,n){if(!ud&&mc){ud=!0;do for(var a=!1,o=dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,t0(o,f))}else f=Me,f=ci(o,o===rt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yn(o,f)||(a=!0,t0(o,f));o=o.next}while(a);ud=!1}}function Hb(){Jy()}function Jy(){mc=ld=!1;var t=0;Us!==0&&eT()&&(t=Us);for(var n=ln(),a=null,o=dc;o!==null;){var h=o.next,f=Wy(o,n);f===0?(o.next=null,a===null?dc=h:a.next=h,h===null&&(za=a)):(a=o,(t!==0||(f&3)!==0)&&(mc=!0)),o=h}jt!==0&&jt!==5||cl(t),Us!==0&&(Us=0)}function Wy(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-bt(f),b=1<<y,C=h[y];C===-1?((b&a)===0||(b&o)!==0)&&(h[y]=jh(b,n)):C<=n&&(t.expiredLanes|=b),f&=~b}if(n=rt,a=Me,a=ci(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&En(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&En(o),zi(a)){case 2:case 8:a=Eo;break;case 32:a=ms;break;case 268435456:a=iu;break;default:a=ms}return o=e0.bind(null,t),a=gt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&En(o),t.callbackPriority=2,t.callbackNode=null,2}function e0(t,n){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fc()&&t.callbackNode!==a)return null;var o=Me;return o=ci(t,t===rt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vy(t,o,n),Wy(t,ln()),t.callbackNode!=null&&t.callbackNode===a?e0.bind(null,t):null)}function t0(t,n){if(fc())return null;Vy(t,n,!0)}function Fb(){nT(function(){(Qe&6)!==0?gt(vo,Hb):Jy()})}function cd(){if(Us===0){var t=Aa;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Us=t}return Us}function n0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function i0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Gb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=n0((h[Bt]||null).action),y=o.submitter;y&&(n=(n=y[Bt]||null)?n0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var b=new bi("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var C=y?i0(h,y):new FormData(h);Nf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=y?i0(h,y):new FormData(h),Nf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],Qb=fd.toLowerCase(),Kb=fd[0].toUpperCase()+fd.slice(1);ni(Qb,"on"+Kb)}ni(kp,"onAnimationEnd"),ni(Vp,"onAnimationIteration"),ni(Lp,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(ub,"onTransitionRun"),ni(cb,"onTransitionStart"),ni(hb,"onTransitionCancel"),ni(jp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function s0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var b=o[y],C=b.instance,U=b.currentTarget;if(b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=U;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(b=o[y],C=b.instance,U=b.currentTarget,b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=U;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=C}}}}function De(t,n){var a=n[ra];a===void 0&&(a=n[ra]=new Set);var o=t+"__bubble";a.has(o)||(r0(n,t,2,!1),a.add(o))}function dd(t,n,a){var o=0;n&&(o|=4),r0(a,t,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[pc]){t[pc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(Yb.has(a)||dd(a,!1,t),dd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pc]||(n[pc]=!0,dd("selectionchange",!1,n))}}function r0(t,n,a,o){switch(k0(n)){case 2:var h=TT;break;case 8:h=wT;break;default:h=Id}a=h.bind(null,n,a,t),h=void 0,!wr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function pd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var b=o.stateNode.containerInfo;if(b===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;b!==null;){if(y=mi(b),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}b=b.parentNode}}o=o.return}Es(function(){var U=f,F=kn(a),Y=[];e:{var z=Pp.get(t);if(z!==void 0){var q=bi,re=t;switch(t){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":q=Ru;break;case"focusin":re="focus",q=xr;break;case"focusout":re="blur",q=xr;break;case"beforeblur":case"afterblur":q=xr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case kp:case Vp:case Lp:q=vu;break;case jp:q=T;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Hi;break;case"toggle":case"beforetoggle":q=Re}var pe=(n&4)!==0,it=!pe&&(t==="scroll"||t==="scrollend"),V=pe?z!==null?z+"Capture":null:z;pe=[];for(var D=U,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||V===null||(Q=Jn(D,V),Q!=null&&pe.push(fl(D,Q,P))),it)break;D=D.return}0<pe.length&&(z=new q(z,re,null,a,F),Y.push({event:z,listeners:pe}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Oo&&(re=a.relatedTarget||a.fromElement)&&(mi(re)||re[fi]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(re=a.relatedTarget||a.toElement,q=U,re=re?mi(re):null,re!==null&&(it=c(re),pe=re.tag,re!==it||pe!==5&&pe!==27&&pe!==6)&&(re=null)):(q=null,re=U),q!==re)){if(pe=Lo,Q="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Hi,Q="onPointerLeave",V="onPointerEnter",D="pointer"),it=q==null?z:bn(q),P=re==null?z:bn(re),z=new pe(Q,D+"leave",q,a,F),z.target=it,z.relatedTarget=P,Q=null,mi(F)===U&&(pe=new pe(V,D+"enter",re,a,F),pe.target=P,pe.relatedTarget=it,Q=pe),it=Q,q&&re)t:{for(pe=Xb,V=q,D=re,P=0,Q=V;Q;Q=pe(Q))P++;Q=0;for(var ce=D;ce;ce=pe(ce))Q++;for(;0<P-Q;)V=pe(V),P--;for(;0<Q-P;)D=pe(D),Q--;for(;P--;){if(V===D||D!==null&&V===D.alternate){pe=V;break t}V=pe(V),D=pe(D)}pe=null}else pe=null;q!==null&&a0(Y,z,q,pe,!1),re!==null&&it!==null&&a0(Y,it,re,pe,!0)}}e:{if(z=U?bn(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var qe=wp;else if(bp(z))if(Sp)qe=ab;else{qe=sb;var le=ib}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ua(U.elementType)&&(qe=wp):qe=rb;if(qe&&(qe=qe(t,U))){Tp(Y,qe,a,F);break e}le&&le(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(le=U?bn(U):window,t){case"focusin":(bp(le)||le.contentEditable==="true")&&(ya=le,Hh=U,Bo=null);break;case"focusout":Bo=Hh=ya=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Op(Y,a,F);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":Op(Y,a,F)}var Ce;if(Ge)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ga?Cr(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Si&&a.locale!=="ko"&&(ga||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ga&&(Ce=ko()):(Ei=F,Mo="value"in Ei?Ei.value:Ei.textContent,ga=!0)),le=gc(U,ke),0<le.length&&(ke=new wi(ke,t,null,a,F),Y.push({event:ke,listeners:le}),Ce?ke.data=Ce:(Ce=pa(a),Ce!==null&&(ke.data=Ce)))),(Ce=Ln?W1(t,a):eb(t,a))&&(ke=gc(U,"onBeforeInput"),0<ke.length&&(le=new wi("onBeforeInput","beforeinput",null,a,F),Y.push({event:le,listeners:ke}),le.data=Ce)),Gb(Y,t,U,a,F)}s0(Y,n)})}function fl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function gc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(t,a),h!=null&&o.unshift(fl(t,h,f)),h=Jn(t,n),h!=null&&o.push(fl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Xb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a0(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var b=a,C=b.alternate,U=b.stateNode;if(b=b.tag,C!==null&&C===o)break;b!==5&&b!==26&&b!==27||U===null||(C=U,h?(U=Jn(a,f),U!=null&&y.unshift(fl(a,U,C))):h||(U=Jn(a,f),U!=null&&y.push(fl(a,U,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var $b=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function o0(t){return(typeof t=="string"?t:""+t).replace($b,`
`).replace(Zb,"")}function l0(t,n){return n=o0(n),o0(t)===n}function nt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(t,""+o);break;case"className":Tn(t,"class",o);break;case"tabIndex":Tn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,o);break;case"style":Do(t,o,f);break;case"data":if(n!=="object"){Tn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Zn);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":De("beforetoggle",t),De("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,oa(t,a,o))}}function gd(t,n,a,o,h,f){switch(a){case"style":Do(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?fn(t,o):(typeof o=="number"||typeof o=="bigint")&&fn(t,""+o);break;case"onScroll":o!=null&&De("scroll",t);break;case"onScrollEnd":o!=null&&De("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):oa(t,a,o)}}}function Zt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,f,y,a,null)}}h&&nt(t,n,"srcSet",a.srcSet,a,null),o&&nt(t,n,"src",a.src,a,null);return;case"input":De("invalid",t);var b=f=y=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":C=F;break;case"defaultChecked":U=F;break;case"value":f=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:nt(t,n,o,F,a,null)}}du(t,f,b,C,U,y,h,!1);return;case"select":De("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":o=b;default:nt(t,n,h,b,a,null)}n=f,a=y,t.multiple=!!o,n!=null?gs(t,!!o,n,!1):a!=null&&gs(t,!!o,a,!0);return;case"textarea":De("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(b=a[y],b!=null))switch(y){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:nt(t,n,y,b,a,null)}ys(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:nt(t,n,C,o,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(o=0;o<hl.length;o++)De(hl[o],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,U,o,a,null)}return;default:if(ua(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&gd(t,n,F,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&nt(t,n,b,o,a,null))}function Jb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,b=null,C=null,U=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||nt(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&nt(t,n,z,q,o,Y)}}la(t,y,b,C,U,F,f,h);return;case"select":q=y=b=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||nt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==C&&nt(t,n,h,f,o,C)}n=b,a=y,o=q,z!=null?gs(t,!!a,z,!1):!!o!=!!a&&(n!=null?gs(t,!!a,n,!0):gs(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:nt(t,n,b,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&nt(t,n,y,h,o,f)}mu(t,z,q);return;case"option":for(var re in a)if(z=a[re],a.hasOwnProperty(re)&&z!=null&&!o.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:nt(t,n,re,null,o,z)}for(C in o)if(z=o[C],q=a[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:nt(t,n,C,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)z=a[pe],a.hasOwnProperty(pe)&&z!=null&&!o.hasOwnProperty(pe)&&nt(t,n,pe,null,o,z);for(U in o)if(z=o[U],q=a[U],o.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:nt(t,n,U,z,o,q)}return;default:if(ua(n)){for(var it in a)z=a[it],a.hasOwnProperty(it)&&z!==void 0&&!o.hasOwnProperty(it)&&gd(t,n,it,void 0,o,z);for(F in o)z=o[F],q=a[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||gd(t,n,F,z,o,q);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&nt(t,n,V,null,o,z);for(Y in o)z=o[Y],q=a[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||nt(t,n,Y,z,o,q)}function u0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,b=h.duration;if(f&&b&&u0(y)){for(y=0,b=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>b)break;var F=C.transferSize,Y=C.initiatorType;F&&u0(Y)&&(C=C.responseEnd,y+=F*(C<b?1:(b-U)/(C-U)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function c0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function eT(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(iT)}:f0;function iT(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function m0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Fa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&dl(t.ownerDocument.body);a=h}while(a);Fa(n)}function p0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function rT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function g0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function aT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function y0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Hn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function _0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function v0(t,n,a){switch(n=yc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);aa(t)}var Fn=new Map,E0=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=Z.d;Z.d={f:oT,r:lT,D:uT,C:cT,L:hT,m:fT,X:mT,S:dT,M:pT};function oT(){var t=ss.f(),n=uc();return t||n}function lT(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?jg(n):ss.r(t)}var Ba=typeof document>"u"?null:document;function b0(t,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Zt(n,"link",t),Ct(n),o.head.appendChild(n)))}}function uT(t){ss.D(t),b0("dns-prefetch",t,null)}function cT(t,n){ss.C(t,n),b0("preconnect",t,n)}function hT(t,n,a){ss.L(t,n,a);var o=Ba;if(o&&t&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+hn(a.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Ha(t)}Fn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Fn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Zt(n,"link",t),Ct(n),o.head.appendChild(n)))}}function fT(t,n){ss.m(t,n);var a=Ba;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(t)}if(!Fn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Fn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),Zt(o,"link",t),Ct(o),a.head.appendChild(o)}}}function dT(t,n,a){ss.S(t,n,a);var o=Ba;if(o&&t){var h=pi(o).hoistableStyles,f=qa(t);n=n||"default";var y=h.get(f);if(!y){var b={loading:0,preload:null};if(y=o.querySelector(ml(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Fn.get(f))&&Ad(t,a);var C=y=o.createElement("link");Ct(C),Zt(C,"link",t),C._p=new Promise(function(U,F){C.onload=U,C.onerror=F}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:b},h.set(f,y)}}}function mT(t,n){ss.X(t,n);var a=Ba;if(a&&t){var o=pi(a).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(t=S({src:t,async:!0},n),(n=Fn.get(h))&&Rd(t,n),f=a.createElement("script"),Ct(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pT(t,n){ss.M(t,n);var a=Ba;if(a&&t){var o=pi(a).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Fn.get(h))&&Rd(t,n),f=a.createElement("script"),Ct(f),Zt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T0(t,n,a,o){var h=(h=Te.current)?_c(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=pi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var f=pi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(ml(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),f||gT(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(a),a=pi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function qa(t){return'href="'+hn(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function w0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function gT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Zt(n,"link",a),Ct(n),t.head.appendChild(n))}function Ha(t){return'[src="'+hn(t)+'"]'}function pl(t){return"script[async]"+t}function S0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return n.instance=o,Ct(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ct(o),Zt(o,"style",h),vc(o,a.precedence,t),n.instance=o;case"stylesheet":h=qa(a.href);var f=t.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;o=w0(a),(h=Fn.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),Ct(f);var y=f;return y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),Zt(f,"link",o),n.state.loading|=4,vc(f,a.precedence,t),n.instance=f;case"script":return f=Ha(a.src),(h=t.querySelector(pl(f)))?(n.instance=h,Ct(h),h):(o=a,(h=Fn.get(f))&&(o=S({},a),Rd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),Zt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,a.precedence,t));return n.instance}function vc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var b=o[y];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function A0(t,n,a){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(a,o)}else h=Ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[di]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var b=o.get(y);b?b.push(f):o.set(y,[f])}}return o}function R0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function yT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function x0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _T(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ct(f);return}f=n.ownerDocument||n,o=w0(o),(h=Fn.get(h))&&Ad(o,h),f=f.createElement("link"),Ct(f);var y=f;y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),Zt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var xd=0;function vT(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*Wb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(ET,t),Tc=null,bc.call(t))}function ET(t,n){if(!(n.state.loading&4)){var a=Tc.get(t);if(a)var o=a.get(null);else{a=new Map,Tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var gl={$$typeof:me,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function bT(t,n,a,o,h,f,y,b,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function C0(t,n,a,o,h,f,y,b,C,U,F,Y){return t=new bT(t,n,a,y,C,U,F,Y,b),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},cf(f),t}function I0(t){return t?(t=Ea,t):Ea}function N0(t,n,a,o,h,f){h=I0(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ns(t,o,n),a!==null&&(yn(a,t,n),Yo(a,t,n))}function D0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Cd(t,n){D0(t,n),(t=t.alternate)&&D0(t,n)}function O0(t){if(t.tag===13||t.tag===31){var n=Dr(t,67108864);n!==null&&yn(n,t,67108864),Cd(t,67108864)}}function M0(t){if(t.tag===13||t.tag===31){var n=In();n=vr(n);var a=Dr(t,n);a!==null&&yn(a,t,n),Cd(t,n)}}var Sc=!0;function TT(t,n,a,o){var h=H.T;H.T=null;var f=Z.p;try{Z.p=2,Id(t,n,a,o)}finally{Z.p=f,H.T=h}}function wT(t,n,a,o){var h=H.T;H.T=null;var f=Z.p;try{Z.p=8,Id(t,n,a,o)}finally{Z.p=f,H.T=h}}function Id(t,n,a,o){if(Sc){var h=Nd(o);if(h===null)pd(t,n,o,Ac,a),V0(t,o);else if(AT(h,t,n,a,o))o.stopPropagation();else if(V0(t,o),n&4&&-1<ST.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ui(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var C=1<<31-bt(y);b.entanglements[1]|=C,y&=~C}Ci(f),(Qe&6)===0&&(oc=ln()+500,cl(0))}}break;case 31:case 13:b=Dr(f,2),b!==null&&yn(b,f,2),uc(),Cd(f,2)}if(f=Nd(o),f===null&&pd(t,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(t,n,o,null,a)}}function Nd(t){return t=kn(t),Dd(t)}var Ac=null;function Dd(t){if(Ac=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function k0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case vo:return 2;case Eo:return 8;case ms:case Lh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var Od=!1,Bs=null,qs=null,Hs=null,yl=new Map,_l=new Map,Fs=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V0(t,n){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&O0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function AT(t,n,a,o,h){switch(n){case"focusin":return Bs=vl(Bs,t,n,a,o,h),!0;case"dragenter":return qs=vl(qs,t,n,a,o,h),!0;case"mouseover":return Hs=vl(Hs,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,t,n,a,o,h)),!0}return!1}function L0(t){var n=mi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Xn(t.priority,function(){M0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Xn(t.priority,function(){M0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Nd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Oo=o,a.target.dispatchEvent(o),Oo=null}else return n=Mn(a),n!==null&&O0(n),t.blockedOn=a,!1;n.shift()}return!0}function j0(t,n,a){Rc(t)&&a.delete(n)}function RT(){Od=!1,Bs!==null&&Rc(Bs)&&(Bs=null),qs!==null&&Rc(qs)&&(qs=null),Hs!==null&&Rc(Hs)&&(Hs=null),yl.forEach(j0),_l.forEach(j0)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,RT)))}var Cc=null;function P0(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Dd(o||a)===null)continue;break}var f=Mn(a);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(t){function n(C){return xc(C,t)}Bs!==null&&xc(Bs,t),qs!==null&&xc(qs,t),Hs!==null&&xc(Hs,t),yl.forEach(n),_l.forEach(n);for(var a=0;a<Fs.length;a++){var o=Fs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Bt]||null;if(typeof f=="function")y||P0(a);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Bt]||null)b=y.formAction;else if(Dd(h)!==null)continue}else b=y.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),P0(a)}}}function U0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Ic.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=In();N0(a,o,t,n,null,null)},Ic.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;N0(t.current,2,null,t,null,null),uc(),n[fi]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Fs.length&&n!==0&&n<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&L0(t)}};var z0=e.version;if(z0!=="19.2.0")throw Error(r(527,z0,"19.2.0"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var xT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Kn=Nc.inject(xT),Qt=Nc}catch{}}return bl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Kg,f=Yg,y=Xg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=C0(t,1,!1,null,null,a,o,null,h,f,y,U0),t[fi]=n.current,md(t),new Md(n)},bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Kg,y=Yg,b=Xg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=C0(t,1,!0,n,a??null,o,h,C,f,y,b,U0),n.context=I0(null),a=n.current,o=In(),o=vr(o),h=Is(o),h.callback=null,Ns(a,h,o),a=o,n.current.lanes=a,yr(n,a),Ci(n),t[fi]=n.current,md(t),new Ic(n)},bl.version="19.2.0",bl}var $0;function jT(){if($0)return Ld.exports;$0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=LT(),Ld.exports}var PT=jT();const UT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Z0=s=>{const e=zT(s);return e.charAt(0).toUpperCase()+e.slice(1)},Iv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),BT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var qT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HT=Ve.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>Ve.createElement("svg",{ref:g,...qT,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Iv("lucide",l),...!c&&!BT(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,w])=>Ve.createElement(_,w)),...Array.isArray(c)?c:[c]]));const st=(s,e)=>{const i=Ve.forwardRef(({className:r,...l},c)=>Ve.createElement(HT,{ref:c,iconNode:e,className:Iv(`lucide-${UT(Z0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Z0(s),i};const FT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nv=st("calendar",FT);const GT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],QT=st("camera",GT);const KT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],YT=st("check",KT);const XT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$T=st("chevron-right",XT);const ZT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JT=st("circle-alert",ZT);const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ew=st("circle-plus",WT);const tw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],nw=st("cloud-upload",tw);const iw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],sw=st("coffee",iw);const rw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aw=st("house",rw);const ow=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],lw=st("list",ow);const uw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cw=st("lock",uw);const hw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fw=st("log-out",hw);const dw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mw=st("mail",dw);const pw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],gw=st("map",pw);const yw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dv=st("pen-line",yw);const _w=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ov=st("pencil",_w);const vw=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Wd=st("plane",vw);const Ew=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dh=st("plus",Ew);const bw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cm=st("refresh-cw",bw);const Tw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Fl=st("shopping-bag",Tw);const ww=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yr=st("square-check-big",ww);const Sw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Aw=st("sun",Sw);const Rw=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Im=st("tag",Rw);const xw=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],Cw=st("tram-front",xw);const Iw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nm=st("trash-2",Iw);const Nw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dw=st("triangle-alert",Nw);const Ow=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mw=st("user",Ow);const kw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],co=st("x",kw),Vw=()=>{};var J0={};const Mv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Lw=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,w=c>>2,S=(c&3)<<4|p>>4;let k=(p&15)<<2|_>>6,G=_&63;g||(G=64,d||(k=64)),r.push(i[w],i[S],i[k],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Lw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new jw;const k=c<<2|p>>4;if(r.push(k),_!==64){const G=p<<4&240|_>>2;if(r.push(G),S!==64){const W=_<<6&192|S;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pw=function(s){const e=Mv(s);return kv.encodeByteArray(e,!0)},Yc=function(s){return Pw(s).replace(/\./g,"")},Vv=function(s){try{return kv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zw=()=>Uw().__FIREBASE_DEFAULTS__,Bw=()=>{if(typeof process>"u"||typeof J0>"u")return;const s=J0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Vv(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return Vw()||zw()||Bw()||qw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lv=s=>mh()?.emulatorHosts?.[s],Hw=s=>{const e=Lv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},jv=()=>mh()?.config,Pv=s=>mh()?.[`_${s}`];class Fw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function ho(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function Gw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Cl={};function Qw(){const s={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?s.emulator.push(e):s.prod.push(e);return s}function Kw(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let W0=!1;function zv(s,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||Cl[s]===e||Cl[s]||W0)return;Cl[s]=e;function i(k){return`__firebase__banner__${k}`}const r="__firebase__banner",c=Qw().prod.length>0;function d(){const k=document.getElementById(r);k&&k.remove()}function p(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function g(k,G){k.setAttribute("width","24"),k.setAttribute("id",G),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function _(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{W0=!0,d()},k}function w(k,G){k.setAttribute("id",G),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function S(){const k=Kw(r),G=i("text"),W=document.getElementById(G)||document.createElement("span"),ne=i("learnmore"),J=document.getElementById(ne)||document.createElement("a"),he=i("preprendIcon"),be=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const me=k.element;p(me),w(J,ne);const Ke=_();g(be,he),me.append(be,W,J,Ke),document.body.appendChild(me)}c?(W.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Xw(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $w(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Jw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ww(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function eS(){return!Xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const iS="FirebaseError";class ds extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=iS,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?sS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ds(l,p,r)}}function sS(s,e){return s.replace(rS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const rS=/\{\$([^}]+)}/g;function aS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(e_(c)&&e_(d)){if(!Xr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function e_(s){return s!==null&&typeof s=="object"}function Ql(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function wl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function oS(s,e){const i=new lS(s,e);return i.subscribe.bind(i)}class lS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");uS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function Gt(s){return s&&s._delegate?s._delegate:s}class $r{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fr="[DEFAULT]";class cS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Fw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fS(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(s){return s===Fr?void 0:s}function fS(s){return s.instantiationMode==="EAGER"}class dS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const mS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},pS=Le.INFO,gS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},yS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=gS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=pS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const _S=(s,e)=>e.some(i=>s instanceof i);let t_,n_;function vS(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,em=new WeakMap,qv=new WeakMap,Bd=new WeakMap,Om=new WeakMap;function bS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Js(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Bv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function TS(s){if(em.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||qv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function wS(s){tm=s(tm)}function SS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(qd(this),e,...i);return qv.set(r,e.sort?e.sort():[e]),Js(r)}:ES().includes(s)?function(...e){return s.apply(qd(this),e),Js(Bv.get(this))}:function(...e){return Js(s.apply(qd(this),e))}}function AS(s){return typeof s=="function"?SS(s):(s instanceof IDBTransaction&&TS(s),_S(s,vS())?new Proxy(s,tm):s)}function Js(s){if(s instanceof IDBRequest)return bS(s);if(Bd.has(s))return Bd.get(s);const e=AS(s);return e!==s&&(Bd.set(s,e),Om.set(e,s)),e}const qd=s=>Om.get(s);function RS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=Js(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Js(d.result),g.oldVersion,g.newVersion,Js(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const xS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],Hd=new Map;function i_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=CS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||xS.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return Hd.set(e,c),c}wS(s=>({...s,get:(e,i,r)=>i_(e,i)||s.get(e,i,r),has:(e,i)=>!!i_(e,i)||s.has(e,i)}));class IS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function NS(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",s_="0.14.6";const us=new Dm("@firebase/app"),DS="@firebase/app-compat",OS="@firebase/analytics-compat",MS="@firebase/analytics",kS="@firebase/app-check-compat",VS="@firebase/app-check",LS="@firebase/auth",jS="@firebase/auth-compat",PS="@firebase/database",US="@firebase/data-connect",zS="@firebase/database-compat",BS="@firebase/functions",qS="@firebase/functions-compat",HS="@firebase/installations",FS="@firebase/installations-compat",GS="@firebase/messaging",QS="@firebase/messaging-compat",KS="@firebase/performance",YS="@firebase/performance-compat",XS="@firebase/remote-config",$S="@firebase/remote-config-compat",ZS="@firebase/storage",JS="@firebase/storage-compat",WS="@firebase/firestore",eA="@firebase/ai",tA="@firebase/firestore-compat",nA="firebase",iA="12.6.0";const im="[DEFAULT]",sA={[nm]:"fire-core",[DS]:"fire-core-compat",[MS]:"fire-analytics",[OS]:"fire-analytics-compat",[VS]:"fire-app-check",[kS]:"fire-app-check-compat",[LS]:"fire-auth",[jS]:"fire-auth-compat",[PS]:"fire-rtdb",[US]:"fire-data-connect",[zS]:"fire-rtdb-compat",[BS]:"fire-fn",[qS]:"fire-fn-compat",[HS]:"fire-iid",[FS]:"fire-iid-compat",[GS]:"fire-fcm",[QS]:"fire-fcm-compat",[KS]:"fire-perf",[YS]:"fire-perf-compat",[XS]:"fire-rc",[$S]:"fire-rc-compat",[ZS]:"fire-gcs",[JS]:"fire-gcs-compat",[WS]:"fire-fst",[tA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[nA]:"fire-js-all"};const kl=new Map,rA=new Map,sm=new Map;function r_(s,e){try{s.container.addComponent(e)}catch(i){us.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function no(s){const e=s.name;if(sm.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of kl.values())r_(i,s);for(const i of rA.values())r_(i,s);return!0}function Mm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Gn(s){return s==null?!1:s.settings!==void 0}const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Gl("app","Firebase",aA);class oA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const fo=iA;function Hv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:im,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Ws.create("bad-app-name",{appName:String(l)});if(i||(i=jv()),!i)throw Ws.create("no-options");const c=kl.get(l);if(c){if(Xr(i,c.options)&&Xr(r,c.config))return c;throw Ws.create("duplicate-app",{appName:l})}const d=new dS(l);for(const g of sm.values())d.addComponent(g);const p=new oA(i,r,d);return kl.set(l,p),p}function km(s=im){const e=kl.get(s);if(!e&&s===im&&jv())return Hv();if(!e)throw Ws.create("no-app",{appName:s});return e}function lA(){return Array.from(kl.values())}function er(s,e,i){let r=sA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}no(new $r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const uA="firebase-heartbeat-database",cA=1,Vl="firebase-heartbeat-store";let Fd=null;function Fv(){return Fd||(Fd=RS(uA,cA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),Fd}async function hA(s){try{const i=(await Fv()).transaction(Vl),r=await i.objectStore(Vl).get(Gv(s));return await i.done,r}catch(e){if(e instanceof ds)us.warn(e.message);else{const i=Ws.create("idb-get",{originalErrorMessage:e?.message});us.warn(i.message)}}}async function a_(s,e){try{const r=(await Fv()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(e,Gv(s)),await r.done}catch(i){if(i instanceof ds)us.warn(i.message);else{const r=Ws.create("idb-set",{originalErrorMessage:i?.message});us.warn(r.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const fA=1024,dA=30;class mA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=o_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>dA){const l=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o_(),{heartbeatsToSend:i,unsentEntries:r}=pA(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return us.warn(e),""}}}function o_(){return new Date().toISOString().substring(0,10)}function pA(s,e=fA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),l_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),l_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class gA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function l_(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function yA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function _A(s){no(new $r("platform-logger",e=>new IS(e),"PRIVATE")),no(new $r("heartbeat",e=>new mA(e),"PRIVATE")),er(nm,s_,s),er(nm,s_,"esm2020"),er("fire-js","")}_A("");var vA="firebase",EA="12.6.0";er(vA,EA,"app");var u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,Qv;(function(){var s;function e(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(M,N,L){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return A.prototype[N].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)M[N]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(N=0;N<16;++N)M[N]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],N=I.g[2];let L=I.g[3],R;R=A+(L^x&(N^L))+M[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+M[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+M[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+M[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+M[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+M[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+M[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+M[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+M[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+M[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+M[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+M[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(L^x&(N^L))+M[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=L+(N^A&(x^N))+M[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(x^L&(A^x))+M[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=x+(A^N&(L^A))+M[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(N^L&(x^N))+M[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+M[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+M[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+M[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+M[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+M[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+M[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+M[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+M[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+M[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+M[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+M[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(x^N))+M[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=L+(x^N&(A^x))+M[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(L^A))+M[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=x+(L^A&(N^L))+M[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(x^N^L)+M[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+M[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+M[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+M[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+M[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+M[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+M[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+M[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+M[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+M[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+M[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+M[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^L)+M[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=L+(A^x^N)+M[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^x)+M[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=x+(N^L^A)+M[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(N^(x|~L))+M[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+M[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+M[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+M[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+M[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+M[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+M[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+M[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+M[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+M[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+M[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+M[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~L))+M[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=L+(x^(A|~N))+M[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~x))+M[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=x+(L^(N|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=x;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(M[N++]=I.charCodeAt(L++),N==this.blockSize){l(this,M),N=0;break}}else for(;L<A;)if(M[N++]=I[L++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)I[A++]=this.g[x]>>>M&255;return I};function c(I,A){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function d(I,A){this.h=A;const x=[];let M=!0;for(let N=I.length-1;N>=0;N--){const L=I[N]|0;M&&L==A||(x[N]=L,M=!1)}this.g=x}var p={};function g(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(_(-I));const A=[];let x=1;for(let M=0;I>=x;M++)A[M]=I/x|0,x*=4294967296;return new d(A,0)}function w(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return J(w(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let M=S;for(let L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L);const R=parseInt(I.substring(L,L+N),A);N<8?(N=_(Math.pow(A,N)),M=M.j(N).add(_(R))):(M=M.j(x),M=M.add(_(R)))}return M}var S=g(0),k=g(1),G=g(16777216);s=d.prototype,s.m=function(){if(ne(this))return-J(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(ne(this))return"-"+J(this).toString(I);const A=_(Math.pow(I,6));var x=this;let M="";for(;;){const N=Ke(x,A).g;x=he(x,N.j(A));let L=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,W(x))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function ne(I){return I.h==-1}s.l=function(I){return I=he(this,I),ne(I)?-1:W(I)?0:1};function J(I){const A=I.g.length,x=[];for(let M=0;M<A;M++)x[M]=~I.g[M];return new d(x,~I.h).add(k)}s.abs=function(){return ne(this)?J(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let M=0;for(let N=0;N<=A;N++){let L=M+(this.i(N)&65535)+(I.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=R>>>16,L&=65535,R&=65535,x[N]=R<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function he(I,A){return I.add(J(A))}s.j=function(I){if(W(this)||W(I))return S;if(ne(this))return ne(I)?J(this).j(J(I)):J(J(this).j(I));if(ne(I))return J(this.j(J(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const L=this.i(M)>>>16,R=this.i(M)&65535,at=I.i(N)>>>16,Et=I.i(N)&65535;x[2*M+2*N]+=R*Et,be(x,2*M+2*N),x[2*M+2*N+1]+=L*Et,be(x,2*M+2*N+1),x[2*M+2*N+1]+=R*at,be(x,2*M+2*N+1),x[2*M+2*N+2]+=L*at,be(x,2*M+2*N+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new d(x,0)};function be(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function me(I,A){this.g=I,this.h=A}function Ke(I,A){if(W(A))throw Error("division by zero");if(W(I))return new me(S,S);if(ne(I))return A=Ke(J(I),A),new me(J(A.g),J(A.h));if(ne(A))return A=Ke(I,J(A)),new me(J(A.g),A.h);if(I.g.length>30){if(ne(I)||ne(A))throw Error("slowDivide_ only works with positive integers.");for(var x=k,M=A;M.l(I)<=0;)x=Ye(x),M=Ye(M);var N=Ie(x,1),L=Ie(M,1);for(M=Ie(M,2),x=Ie(x,2);!W(M);){var R=L.add(M);R.l(I)<=0&&(N=N.add(x),L=R),M=Ie(M,1),x=Ie(x,1)}return A=he(I,N.j(A)),new me(N,A)}for(N=S;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=_(x),R=L.j(A);ne(R)||R.l(I)>0;)x-=M,L=_(x),R=L.j(A);W(L)&&(L=k),N=N.add(L),I=he(I,R)}return new me(N,I)}s.B=function(I){return Ke(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&I.i(M);return new d(x,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|I.i(M);return new d(x,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^I.i(M);return new d(x,this.h^I.h)};function Ye(I){const A=I.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(x,I.h)}function Ie(I,A){const x=A>>5;A%=32;const M=I.g.length-x,N=[];for(let L=0;L<M;L++)N[L]=A>0?I.i(L+x)>>>A|I.i(L+x+1)<<32-A:I.i(L+x);return new d(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Qv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=w,tr=d}).apply(typeof u_<"u"?u_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kv,Sl,Yv,Pc,rm,Xv,$v,Zv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in v))break e;v=v[j]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function w(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,j,B){for(var ee=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ee[Re-2]=arguments[Re];return m.prototype[j].apply(T,ee)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let ee=0;ee<B;ee++)u[v+ee]=j[ee]}else u.push(j)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function he(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const T=me.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var me=new ne(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ye,Ie=!1,I=new be,A=()=>{const u=Promise.resolve(void 0);Ye=()=>{u.then(x)}};function x(){for(var u;u=he();){try{u.h.call(u.g)}catch(v){J(v)}var m=me;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(at,N),at.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),H=0;function Z(u,m,v,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++H,this.da=this.fa=!1}function ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,v,T,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ee=Te(u,m,T,j);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new Z(m,this.src,B,!!T,j),m.fa=v,u.push(m)),m};function ge(u,m){const v=m.type;if(v in u.g){var T=u.g[v],j=Array.prototype.indexOf.call(T,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(T,j,1),B&&(ae(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Te(u,m,v,T){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return j}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),pt={};function ot(u,m,v,T,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ot(u,m[B],v,T,j);return null}return v=Lt(v),u&&u[Et]?u.J(m,v,p(T)?!!T.capture:!1,j):Pi(u,m,v,!1,T,j)}function Pi(u,m,v,T,j,B){if(!m)throw Error("Invalid event type");const ee=p(j)?!!j.capture:!!j;let Re=ft(u);if(Re||(u[Oe]=Re=new ie(u)),v=Re.add(m,v,T,ee,B),v.proxy)return v;if(T=Ui(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(j=ee),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(fe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ui(){function u(v){return m.call(u.src,u.listener,v)}const m=Ae;return u}function oe(u,m,v,T,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)oe(u,m[B],v,T,j);else T=p(T)?!!T.capture:!!T,v=Lt(v),u&&u[Et]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Te(m,v,T,j),v>-1&&(ae(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ft(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Te(m,v,T,j)),(v=u>-1?m[u]:null)&&ye(v))}function ye(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])ge(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(fe(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ft(m))?(ge(v,u),v.h==0&&(v.src=null,m[Oe]=null)):ae(u)}}}function fe(u){return u in pt?pt[u]:pt[u]="on"+u}function Ae(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ye(u),u=v.call(T,m)}return u}function ft(u){return u=u[Oe],u instanceof ie?u:null}var tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lt(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(m){return u.handleEvent(m)}),u[tn])}function $e(){M.call(this),this.i=new ie(this),this.M=this,this.G=null}S($e,M),$e.prototype[Et]=!0,$e.prototype.removeEventListener=function(u,m,v,T){oe(this,u,m,v,T)};function gt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var j=m;m=new N(T,u),te(m,j)}j=!0;let B,ee;if(v)for(ee=v.length-1;ee>=0;ee--)B=m.g=v[ee],j=En(B,T,!0,m)&&j;if(B=m.g=u,j=En(B,T,!0,m)&&j,j=En(B,T,!1,m)&&j,v)for(ee=0;ee<v.length;ee++)B=m.g=v[ee],j=En(B,T,!1,m)&&j}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ae(v[T]);delete u.g[m],u.h--}}this.G=null},$e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},$e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function En(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const ee=m[B];if(ee&&!ee.da&&ee.capture==v){const Re=ee.listener,Tt=ee.ha||ee.src;ee.fa&&ge(u.i,ee),j=Re.call(Tt,T)!==!1&&j}}return j&&!T.defaultPrevented}function mr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function nu(u){u.g=mr(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){M.call(this),this.h=u,this.g={}}S(pr,M);var vo=[];function Eo(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&ye(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Eo(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,Lh=d.JSON.parse,iu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function su(){}function ru(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){N.call(this,"d")}S(Qt,N);function On(){N.call(this,"c")}S(On,N);var bt={},au=null;function sa(){return au=au||new $e}bt.Ia="serverreachability";function ou(u){N.call(this,bt.Ia,u)}S(ou,N);function li(u){const m=sa();gt(m,new ou(m))}bt.STAT_EVENT="statevent";function gr(u,m){N.call(this,bt.STAT_EVENT,u),this.stat=m}S(gr,N);function Rt(u){const m=sa();gt(m,new gr(m,u))}bt.Ja="timingevent";function ui(u,m){N.call(this,bt.Ja,u),this.size=m}S(ui,N);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function jh(u,m,v,T,j,B){u.info(function(){if(u.g)if(B){var ee="",Re=B.split("&");for(let Ge=0;Ge<Re.length;Ge++){var Tt=Re[Ge].split("=");if(Tt.length>1){const dt=Tt[0];Tt=Tt[1];const Ln=dt.split("_");ee=Ln.length>=2&&Ln[1]=="type"?ee+(dt+"="+Tt+"&"):ee+(dt+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+ee})}function lu(u,m,v,T,j,B,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+ee})}function hi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(T?" "+T:"")})}function yr(u,m){u.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return ms(B)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function vr(){}S(vr,su),vr.prototype.g=function(){return new XMLHttpRequest},To=new vr;function zi(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Xn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var xt={},Bt={};function fi(u,m,v){u.M=1,u.A=Er(It(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),di(u),u.B=It(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new $n,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(vo[0]=j.toString()),j=vo);for(let B=0;B<j.length;B++){const ee=ot(v,j[B],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=Wn(this.g),Tt=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Re!=4||Tt==7||(Tt==8||Ge<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,Rt(12),bn(this),Mn(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<v.length;)if(dt=hu(this,v),dt==Bt){Re==4&&(this.m=4,Rt(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==xt){this.m=4,Rt(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,dt,null),pi(this,dt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,Rt(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(ee),ee.P=!0,Rt(11))}}else hi(this.i,this.l,v,null),pi(this,v);Re==4&&bn(this),this.o&&!this.K&&(Re==4?Eu(this.j,this):(this.o=!1,di(this)))}else qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),bn(this),Mn(this)}}}catch{}finally{}};function Uh(u){if(!cu(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let v="";const T=m.length,j=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Bt:(v=Number(m.substring(v,T)),isNaN(v)?xt:(T+=1,T+v>m.length?Bt:(m=m.slice(T,T+v),u.C=T+v,m)))}Xn.prototype.cancel=function(){this.K=!0,bn(this)};function di(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yr(this.i,this.B),this.M!=2&&(li(),Rt(17)),bn(this),this.m=2,Mn(this)):aa(this,this.T-u)};function Mn(u){u.j.I==0||u.K||Eu(u.j,u)}function bn(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Ts(v);else break e;xr(v),Rt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&ma(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ge=j[m];const dt=Ge[0];if(!(dt<=v.K))if(v.K=dt,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const Ln=Ge[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Si=Ge[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const ei=Ge[5];ei!=null&&typeof ei=="number"&&ei>0&&(T=1.5*ei,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ti=u.g;if(ti){const Cr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var B=T.h;B.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(T.G){const pa=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(T.wa=pa,Ze(T.J,T.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=u;if(T.na=wu(T,T.L?T.ba:null,T.W),ee.L){Ro(T.h,ee);var Re=ee,Tt=T.O;Tt&&(Re.H=Tt),Re.D&&(mi(Re),di(Re)),T.g=ee}else _u(T);v.i.length>0&&Ti(v)}else Ge[0]!="stop"&&Ge[0]!="close"||wi(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?wi(v,7):Vo(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}li(4)}catch{}}var Ct=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let j,B=null;T>=0?(j=u[v].substring(0,T),B=u[v].substring(T+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.u),this.h=u.h,Co(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,qt(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ps(this,m[4]),this.h=_i(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,la,!0),"@"),u.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?Io:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,mu)),u.join("")},Tn.prototype.resolve=function(u){const m=It(this);let v=!!u.j;v?qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ps(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let ee=0;ee<j.length;){const Re=j[ee++];Re=="."?T&&ee==j.length&&B.push(""):Re==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ee==j.length&&B.push("")):(B.push(Re),T=!0)}T=B.join("/")}else T=j}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function It(u){return new Tn(u)}function qt(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof ys?(u.i=m,ca(u.i,u.l)):(v||(m=br(m,gs)),u.i=new ys(m,u.l))}function Ze(u,m,v){u.i.set(m,v)}function Er(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,du=/[#\?:]/g,Io=/[#\?]/g,gs=/[#\?@]/g,mu=/#/g;function ys(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ys.prototype,s.add=function(u,m){fn(this),this.i=null,u=_s(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){fn(u),m=_s(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return fn(u),m=_s(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,T){v.forEach(function(j){u.call(m,j,T,this)},this)},this)};function Do(u,m){fn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(_s(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=_s(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(_s(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const j=zi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let ee=j;v[B]!==""&&(ee+="="+zi(v[B])),u.push(ee)}}return this.i=u.join("&")};function gu(u){const m=new ys;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function _s(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,T){const j=T.toLowerCase();T!=j&&(pu(this,T),ua(this,j,v))},u)),u.j=m}function Zn(u,m){const v=new Yn;if(d.Image){const T=new Image;T.onload=w(kn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=w(kn,v,"TestLoadImage: error",!1,m,T),T.onabort=w(kn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=w(kn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new Yn,T=new AbortController,j=setTimeout(()=>{T.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(j),B.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function vs(){this.g=new iu}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(vi,su),vi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){$e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,$e),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Es(this):Jn(this),this.readyState==3&&ha(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Es(this))},s.Na=function(u){this.g&&(this.response=u,Es(this))},s.ga=function(){this.g&&Es(this)};function Es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return Ue(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function wr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Vn(v),typeof u=="string"?v!=null&&zi(v):Ze(u,m,v))}function et(u){$e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,$e);var Ei=/^https?$/i,Mo=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=k(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Sr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of v)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Sr(this,B)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Bi(u)}function ko(u){u.A||(u.A=!0,gt(u,"complete"),gt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,gt(this,"complete"),gt(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(gt(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let ee=String(u.D).match(fu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!Ei.test(ee?ee.toLowerCase():"")}v=T}if(v)gt(u,"complete"),gt(u,"success");else{u.o=6;try{var j=Wn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",ko(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||gt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=uu(u[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Fe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function bs(u){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Rt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=wu(this,null,this.W),Ti(this)};function Vo(u){if(fa(u),u.I==3){var m=u.V++,v=It(u.J);if(Ze(v,"SID",u.M),Ze(v,"RID",m),Ze(v,"TYPE","terminate"),Rr(u,v),m=new Xn(u,u.j,m),m.M=2,m.A=Er(It(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}Tu(u)}function Ts(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function fa(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ye||A(),Ie||(Ye(),Ie=!0),I.add(m,u),u.D=0}}function da(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,j,m),v=It(this.J),Ze(v,"RID",u),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),Rr(this,v),B&&(this.R?m="headers="+zi(Vn(B))+"&"+m:this.u&&wr(v,this.u,B)),Ao(this.h,j),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",m),Ze(v,"SID","null"),j.U=!0,fi(j,v,null)):fi(j,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||So(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const T=It(u.J);Ze(T,"SID",u.M),Ze(T,"RID",v),Ze(T,"AID",u.K),Rr(u,T),u.u&&u.o&&wr(T,u.u,u.o),v=new Xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),fi(v,T,m)}function Rr(u,m){u.H&&Ue(u.H,function(v,T){Ze(m,T,v)}),u.l&&Ue({},function(v,T){Ze(m,T,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let Re=-1;for(;;){const Tt=["count="+v];Re==-1?v>0?(Re=j[0].g,Tt.push("ofs="+Re)):Re=0:Tt.push("ofs="+Re);let Ge=!0;for(let dt=0;dt<v;dt++){var B=j[dt].g;const Ln=j[dt].map;if(B-=Re,B<0)Re=Math.max(0,j[dt].g-100),Ge=!1;else try{B="req"+B+"_"||"";try{var ee=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Si,ei]of ee){let ti=ei;p(ei)&&(ti=ms(ei)),Tt.push(B+Si+"="+encodeURIComponent(ti))}}catch(Si){throw Tt.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(Ln)}}if(Ge){ee=Tt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ye||A(),Ie||(Ye(),Ie=!0),I.add(m,u),u.A=0}}function xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Ts(this),vu(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=It(u.na);Ze(m,"RID","rpc"),Ze(m,"SID",u.M),Ze(m,"AID",u.K),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(m,"TO",u.ia),Ze(m,"TYPE","xmlhttp"),Rr(u,m),u.u&&u.o&&wr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Er(It(m)),v.u=null,v.R=!0,ra(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),xr(this),Rt(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){ma(u),jo(u),u.g=null;var T=2}else if(yi(u.h,m))v=m.G,Ro(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;T=sa(),gt(T,new ui(T,v)),Ti(u)}else _u(u);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&da(u,m)||T==2&&xr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const j=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(T,"https"),Er(T),j?Zn(T.toString(),v):Oo(T.toString(),v)}else Rt(2);u.I=0,u.l&&u.l.pa(m),Tu(u),fa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var T=v instanceof Tn?It(v):new Tn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ps(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Tn(null);T&&qt(B,T),m&&(B.g=m),j&&ps(B,j),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ze(T,v,m),Ze(T,"VER",u.ka),Rr(u,T),T}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new vi({ab:v})):new et(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new un(u,m)};function un(u,m){$e.call(this),this.g=new bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}S(un,$e),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Vo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ms(u),u=v);m.i.push(new Ct(m.Ya++,u)),m.I==3&&Ti(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,un.Z.N.call(this)};function Ru(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ru,Qt);function xu(){On.call(this),this.status=1}S(xu,On);function Hi(u){this.g=u}S(Hi,Au),Hi.prototype.ra=function(){gt(this.g,"a")},Hi.prototype.qa=function(u){gt(this.g,new Ru(u))},Hi.prototype.pa=function(u){gt(this.g,new xu)},Hi.prototype.oa=function(){gt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Zv=function(){return new ws},$v=function(){return sa()},Xv=bt,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Pc=_r,bo.COMPLETE="complete",Yv=bo,ru.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",$e.prototype.listen=$e.prototype.J,Sl=ru,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,Kv=et}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const c_="@firebase/firestore",h_="4.9.2";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let mo="12.3.0";const Zr=new Dm("@firebase/firestore");function Ga(){return Zr.logLevel}function se(s,...e){if(Zr.logLevel<=Le.DEBUG){const i=e.map(Vm);Zr.debug(`Firestore (${mo}): ${s}`,...i)}}function cs(s,...e){if(Zr.logLevel<=Le.ERROR){const i=e.map(Vm);Zr.error(`Firestore (${mo}): ${s}`,...i)}}function io(s,...e){if(Zr.logLevel<=Le.WARN){const i=e.map(Vm);Zr.warn(`Firestore (${mo}): ${s}`,...i)}}function Vm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Jv(s,r,i)}function Jv(s,e,i){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw cs(r),new Error(r)}function Xe(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||Jv(e,l,r)}function Se(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Wv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class TA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class wA{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Xe(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new Wv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class SA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new SA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Xe(this.o===void 0,3512);const r=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Xe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new f_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=xA(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function je(s,e){return s<e?-1:s>e?1:0}function am(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Gd(l)===Gd(c)?je(l,c):Gd(l)?1:-1}return je(s.length,e.length)}const CA=55296,IA=57343;function Gd(s){const e=s.charCodeAt(0);return e>=CA&&e<=IA}function so(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const d_="__name__";class Ii{constructor(e,i,r){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ve(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Ii.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const r=Ii.isNumericId(e),l=Ii.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ii.extractNumericId(e).compare(Ii.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}}class ct extends Ii{construct(e,i,r){return new ct(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ct(i)}static emptyPath(){return new ct([])}}const NA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ii{construct(e,i,r){return new Wt(e,i,r)}static isValidIdentifier(e){return NA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new Wt([d_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(ct.fromString(e))}static fromName(e){return new de(ct.fromString(e).popFirst(5))}static empty(){return new de(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new ct(e.slice()))}}function eE(s,e,i){if(!i)throw new ue($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function DA(s,e,i,r){if(e===!0&&r===!0)throw new ue($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function m_(s){if(!de.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function p_(s){if(de.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function tE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function nr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(s);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Vt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Kl(s,e){if(!tE(s))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue($.INVALID_ARGUMENT,i);return!0}const g_=-62135596800,y_=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*y_);return new ht(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g_)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Vt("string",ht._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new ht(0,0))}static max(){return new Ee(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function OA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(r===1e9?new ht(i+1,0):new ht(i,r));return new sr(l,de.empty(),e)}function MA(s){return new sr(s.readTime,s.key,Ll)}class sr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new sr(Ee.min(),de.empty(),Ll)}static max(){return new sr(Ee.max(),de.empty(),Ll)}}function kA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(s.documentKey,e.documentKey),i!==0?i:je(s.largestBatchId,e.largestBatchId))}const VA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function po(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==VA)throw s;se("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>r(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((w=>{d[_]=w,++p,p===c&&r(d)}),(w=>l(w)))}}))}static doWhile(e,i){return new X(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function jA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function go(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;const Pm=-1;function gh(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function PA(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const nE="";function UA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=__(e)),e=zA(s.get(i),e);return __(e)}function zA(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case nE:i+="";break;default:i+=c}}return i}function __(s){return s+nE+""}function v_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function cr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function iE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Jt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Jt.RED,this.left=l??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Jt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Jt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Jt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new zt(this.comparator);return i.data=e,i}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new zt(Wt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sE("Invalid base64 string: "+c):c}})(e);return new en(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const BA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Xe(!!s,39018),typeof s=="string"){let e=0;const i=BA.exec(s);if(Xe(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const rE="server_timestamp",aE="__type__",oE="__previous_value__",lE="__local_write_time__";function Um(s){return(s?.mapValue?.fields||{})[aE]?.stringValue===rE}function yh(s){const e=s.mapValue.fields[oE];return Um(e)?yh(e):e}function jl(s){const e=rr(s.mapValue.fields[lE].timestampValue);return new ht(e.seconds,e.nanos)}class qA{constructor(e,i,r,l,c,d,p,g,_,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=w}}const $c="(default)";class Pl{constructor(e,i){this.projectId=e,this.database=i||$c}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}const uE="__type__",HA="__max__",Mc={mapValue:{}},cE="__vector__",Zc="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:GA(s)?9007199254740991:FA(s)?10:11:ve(28295,{value:s})}function Li(s,e){if(s===e)return!0;const i=or(s);if(i!==or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return At(l.geoPointValue.latitude)===At(c.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return At(l.integerValue)===At(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=At(l.doubleValue),p=At(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return so(s.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(v_(d)!==v_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Li(d[g],p[g])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Ul(s,e){return(s.values||[]).find((i=>Li(i,e)))!==void 0}function ro(s,e){if(s===e)return 0;const i=or(s),r=or(e);if(i!==r)return je(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=At(c.integerValue||c.doubleValue),g=At(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return b_(s.timestampValue,e.timestampValue);case 4:return b_(jl(s),jl(e));case 5:return am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=ar(c),g=ar(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const w=je(p[_],g[_]);if(w!==0)return w}return je(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=je(At(c.latitude),At(d.latitude));return p!==0?p:je(At(c.longitude),At(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return T_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[Zc]?.arrayValue,w=g[Zc]?.arrayValue,S=je(_?.values?.length||0,w?.values?.length||0);return S!==0?S:T_(_,w)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const k=am(g[S],w[S]);if(k!==0)return k;const G=ro(p[g[S]],_[w[S]]);if(G!==0)return G}return je(g.length,w.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function b_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const i=rr(s),r=rr(e),l=je(i.seconds,r.seconds);return l!==0?l:je(i.nanos,r.nanos)}function T_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=ro(i[l],r[l]);if(c)return c}return je(i.length,r.length)}function ao(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=rr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return de.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=om(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Uc(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return cr(r.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function lm(s){return!!s&&"integerValue"in s}function zm(s){return!!s&&"arrayValue"in s}function w_(s){return!!s&&"nullValue"in s}function S_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function FA(s){return(s?.mapValue?.fields||{})[uE]?.stringValue===cE}function Il(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return cr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Il(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Il(s.arrayValue.values[i]);return e}return{...s}}function GA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===HA}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(i)}setAll(e){let i=Wt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){cr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new vn(Il(this.value))}}function hE(s){const e=[];return cr(s.fields,((i,r)=>{const l=new Wt([i]);if(zc(r)){const c=hE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Nn(e)}class an{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new an(e,0,Ee.min(),Ee.min(),Ee.min(),vn.empty(),0)}static newFoundDocument(e,i,r,l){return new an(e,1,i,Ee.min(),r,l,0)}static newNoDocument(e,i){return new an(e,2,i,Ee.min(),Ee.min(),vn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,Ee.min(),Ee.min(),vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,i){this.position=e,this.inclusive=i}}function A_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=ro(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function R_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],e.position[i]))return!1;return!0}class Wc{constructor(e,i="asc"){this.field=e,this.dir=i}}function QA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class fE{}class Pt extends fE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new YA(e,i,r):i==="array-contains"?new ZA(e,r):i==="in"?new JA(e,r):i==="not-in"?new WA(e,r):i==="array-contains-any"?new e2(e,r):new Pt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new XA(e,r):new $A(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends fE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ji(e,i)}matches(e){return dE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(s){return s.op==="and"}function mE(s){return KA(s)&&dE(s)}function KA(s){for(const e of s.filters)if(e instanceof ji)return!1;return!0}function um(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(mE(s))return s.filters.map((e=>um(e))).join(",");{const e=s.filters.map((i=>um(i))).join(",");return`${s.op}(${e})`}}function pE(s,e){return s instanceof Pt?(function(r,l){return l instanceof Pt&&r.op===l.op&&r.field.isEqual(l.field)&&Li(r.value,l.value)})(s,e):s instanceof ji?(function(r,l){return l instanceof ji&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&pE(d,l.filters[p])),!0):!1})(s,e):void ve(19439)}function gE(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(s):s instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(gE).join(" ,")+"}"})(s):"Filter"}class YA extends Pt{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class XA extends Pt{constructor(e,i){super(e,"in",i),this.keys=yE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $A extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=yE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function yE(s,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class ZA extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zm(i)&&Ul(i.arrayValue,this.value)}}class JA extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class WA extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class e2 extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ul(this.value.arrayValue,r)))}}class t2{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function x_(s,e=null,i=[],r=[],l=null,c=null,d=null){return new t2(s,e,i,r,l,c,d)}function Bm(s){const e=Se(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>um(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ao(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ao(r))).join(",")),e.Te=i}return e.Te}function qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!QA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!pE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!R_(s.startAt,e.startAt)&&R_(s.endAt,e.endAt)}function cm(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function n2(s,e,i,r,l,c,d,p){return new _h(s,e,i,r,l,c,d,p)}function Hm(s){return new _h(s)}function C_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function i2(s){return s.collectionGroup!==null}function Nl(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(Wt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Wc(c,r))})),i.has(Wt.keyField().canonicalString())||e.Ie.push(new Wc(Wt.keyField(),r))}return e.Ie}function Ni(s){const e=Se(s);return e.Ee||(e.Ee=s2(e,Nl(s))),e.Ee}function s2(s,e){if(s.limitType==="F")return x_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=s.endAt?new Jc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Jc(s.startAt.position,s.startAt.inclusive):null;return x_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function hm(s,e,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vh(s,e){return qm(Ni(s),Ni(e))&&s.limitType===e.limitType}function _E(s){return`${Bm(Ni(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>gE(l))).join(", ")}]`),gh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):de.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Nl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const _=A_(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,Nl(r),l)||r.endAt&&!(function(d,p,g){const _=A_(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,Nl(r),l))})(s,e)}function r2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function vE(s){return(e,i)=>{let r=!1;for(const l of Nl(s)){const c=a2(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function a2(s,e,i){const r=s.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?ro(g,_):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}class ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}const o2=new yt(de.comparator);function hs(){return o2}const EE=new yt(de.comparator);function Al(...s){let e=EE;for(const i of s)e=e.insert(i.key,i);return e}function bE(s){let e=EE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Gr(){return Dl()}function TE(){return Dl()}function Dl(){return new ta((s=>s.toString()),((s,e)=>s.isEqual(e)))}const l2=new yt(de.comparator),u2=new zt(de.comparator);function Pe(...s){let e=u2;for(const i of s)e=e.add(i);return e}const c2=new zt(je);function h2(){return c2}function Fm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function wE(s){return{integerValue:""+s}}function f2(s,e){return PA(e)?wE(e):Fm(s,e)}class bh{constructor(){this._=void 0}}function d2(s,e,i){return s instanceof eh?(function(l,c){const d={fields:{[aE]:{stringValue:rE},[lE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=yh(c)),c&&(d.fields[oE]=c),{mapValue:d}})(i,e):s instanceof zl?AE(s,e):s instanceof Bl?RE(s,e):(function(l,c){const d=SE(l,c),p=I_(d)+I_(l.Ae);return lm(d)&&lm(l.Ae)?wE(p):Fm(l.serializer,p)})(s,e)}function m2(s,e,i){return s instanceof zl?AE(s,e):s instanceof Bl?RE(s,e):i}function SE(s,e){return s instanceof th?(function(r){return lm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class eh extends bh{}class zl extends bh{constructor(e){super(),this.elements=e}}function AE(s,e){const i=xE(e);for(const r of s.elements)i.some((l=>Li(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Bl extends bh{constructor(e){super(),this.elements=e}}function RE(s,e){let i=xE(e);for(const r of s.elements)i=i.filter((l=>!Li(l,r)));return{arrayValue:{values:i}}}class th extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function I_(s){return At(s.integerValue||s.doubleValue)}function xE(s){return zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function p2(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof zl&&l instanceof zl||r instanceof Bl&&l instanceof Bl?so(r.elements,l.elements,Li):r instanceof th&&l instanceof th?Li(r.Ae,l.Ae):r instanceof eh&&l instanceof eh})(s.transform,e.transform)}class g2{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Th{}function CE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,ai.none()):new Yl(s.key,s.data,ai.none());{const i=s.data,r=vn.empty();let l=new zt(Wt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new hr(s.key,r,new Nn(l.toArray()),ai.none())}}function y2(s,e,i){s instanceof Yl?(function(l,c,d){const p=l.value.clone(),g=D_(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof hr?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=D_(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(IE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ol(s,e,i,r){return s instanceof Yl?(function(c,d,p,g){if(!Bc(c.precondition,d))return p;const _=c.value.clone(),w=O_(c.fieldTransforms,g,d);return _.setAll(w),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof hr?(function(c,d,p,g){if(!Bc(c.precondition,d))return p;const _=O_(c.fieldTransforms,g,d),w=d.data;return w.setAll(IE(c)),w.setAll(_),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function _2(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=SE(r.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(r.field,c))}return i||null}function N_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&so(r,l,((c,d)=>p2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yl extends Th{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends Th{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function D_(s,e,i){const r=new Map;Xe(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,m2(d,p,i[l]))}return r}function O_(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,d2(c,d,e))}return r}class Gm extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v2 extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class E2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&y2(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ol(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ol(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=TE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=CE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,((i,r)=>N_(i,r)))&&so(this.baseMutations,e.baseMutations,((i,r)=>N_(i,r)))}}class Qm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return l2})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Qm(e,i,r,l)}}class b2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class T2{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,Be;function w2(s){switch(s){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function NE(s){if(s===void 0)return cs("GRPC error has no .code"),$.UNKNOWN;switch(s){case kt.OK:return $.OK;case kt.CANCELLED:return $.CANCELLED;case kt.UNKNOWN:return $.UNKNOWN;case kt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case kt.INTERNAL:return $.INTERNAL;case kt.UNAVAILABLE:return $.UNAVAILABLE;case kt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case kt.NOT_FOUND:return $.NOT_FOUND;case kt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case kt.ABORTED:return $.ABORTED;case kt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case kt.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:s})}}(Be=kt||(kt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function S2(){return new TextEncoder}const A2=new tr([4294967295,4294967295],0);function M_(s){const e=S2().encode(s),i=new Qv;return i.update(e),new Uint8Array(i.digest())}function k_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new tr([i,r],0),new tr([l,c],0)]}class Km{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=tr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(tr.fromNumber(r)));return l.compare(A2)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=M_(e),[r,l]=k_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=M_(e),[r,l]=k_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wh(Ee.min(),l,new yt(je),hs(),Pe())}}class Xl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Xl(r,i,Pe(),Pe(),Pe())}}class qc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class DE{constructor(e,i){this.targetId=e,this.Ce=i}}class OE{constructor(e,i,r=en.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class V_{constructor(){this.ve=0,this.Fe=L_(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),r=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ve(38017,{changeType:c})}})),new Xl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=L_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class R2{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=kc(),this.He=kc(),this.Ye=new yt(je)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(r===0){const d=new de(c.path);this.et(i,d,an.newNoDocument(d,Ee.min()))}else Xe(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ar(r).toUint8Array()}catch(g){if(g instanceof sE)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Km(d,l,c)}catch(g){return io(g instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const g=new de(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,an.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Pe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new wh(e,i,this.Ye,this.je,r);return this.je=hs(),this.Je=kc(),this.He=kc(),this.Ye=new yt(je),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new V_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new zt(je),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new zt(je),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new yt(de.comparator)}function L_(){return new yt(de.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},C2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I2={and:"AND",or:"OR"};class N2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fm(s,e){return s.useProto3Json||gh(e)?e:{value:e}}function nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ME(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function D2(s,e){return nh(s,e.toTimestamp())}function Di(s){return Xe(!!s,49232),Ee.fromTimestamp((function(i){const r=rr(i);return new ht(r.seconds,r.nanos)})(s))}function Ym(s,e){return dm(s,e).canonicalString()}function dm(s,e){const i=(function(l){return new ct(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function kE(s){const e=ct.fromString(s);return Xe(UE(e),10190,{key:e.toString()}),e}function mm(s,e){return Ym(s.databaseId,e.path)}function Qd(s,e){const i=kE(e);if(i.get(1)!==s.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new de(LE(i))}function VE(s,e){return Ym(s.databaseId,e)}function O2(s){const e=kE(s);return e.length===4?ct.emptyPath():LE(e)}function pm(s){return new ct(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function LE(s){return Xe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function j_(s,e,i){return{name:mm(s,e),fields:i.value.mapValue.fields}}function M2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,w){return _.useProto3Json?(Xe(w===void 0||typeof w=="string",58123),en.fromBase64String(w||"")):(Xe(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),en.fromUint8Array(w||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const w=_.code===void 0?$.UNKNOWN:NE(_.code);return new ue(w,_.message||"")})(d);i=new OE(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Qd(s,r.document.name),c=Di(r.document.updateTime),d=r.document.createTime?Di(r.document.createTime):Ee.min(),p=new vn({mapValue:{fields:r.document.fields}}),g=an.newFoundDocument(l,c,d,p),_=r.targetIds||[],w=r.removedTargetIds||[];i=new qc(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Qd(s,r.document),c=r.readTime?Di(r.readTime):Ee.min(),d=an.newNoDocument(l,c),p=r.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Qd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new T2(l,c),p=r.targetId;i=new DE(p,d)}}return i}function k2(s,e){let i;if(e instanceof Yl)i={update:j_(s,e.key,e.value)};else if(e instanceof Gm)i={delete:mm(s,e.key)};else if(e instanceof hr)i={update:j_(s,e.key,e.data),updateMask:H2(e.fieldMask)};else{if(!(e instanceof v2))return ve(16599,{Vt:e.type});i={verify:mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof th)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:D2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function V2(s,e){return s&&s.length>0?(Xe(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Di(l.updateTime):Di(c);return d.isEqual(Ee.min())&&(d=Di(c)),new g2(d,l.transformResults||[])})(i,e)))):[]}function L2(s,e){return{documents:[VE(s,e.path)]}}function j2(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=VE(s,l);const c=(function(_){if(_.length!==0)return PE(ji.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((w=>(function(k){return{field:Ka(k.field),direction:z2(k.dir)}})(w)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=fm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function P2(s){let e=O2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Xe(r===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let c=[];i.where&&(c=(function(S){const k=jE(S);return k instanceof ji&&mE(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((k=>(function(W){return new Wc(Ya(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(k)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let k;return k=typeof S=="object"?S.value:S,gh(k)?null:k})(i.limit));let g=null;i.startAt&&(g=(function(S){const k=!!S.before,G=S.values||[];return new Jc(G,k)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const k=!S.before,G=S.values||[];return new Jc(G,k)})(i.endAt)),n2(e,l,d,c,p,"F",g,_)}function U2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function jE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ya(i.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((r=>jE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function z2(s){return x2[s]}function B2(s){return C2[s]}function q2(s){return I2[s]}function Ka(s){return{fieldPath:s.canonicalString()}}function Ya(s){return Wt.fromServerFormat(s.fieldPath)}function PE(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(S_(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(w_(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(S_(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(w_(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:B2(i.op),value:i.value}}})(s):s instanceof ji?(function(i){const r=i.getFilters().map((l=>PE(l)));return r.length===1?r[0]:{compositeFilter:{op:q2(i.op),filters:r}}})(s):ve(54877,{filter:s})}function H2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function UE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Zs{constructor(e,i,r,l,c=Ee.min(),d=Ee.min(),p=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F2{constructor(e){this.yt=e}}function G2(s){const e=P2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(e,e.limit,"L"):e}class Q2{constructor(){this.Cn=new K2}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(sr.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class K2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new zt(ct.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new zt(ct.comparator)).toArray()}}const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(zE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const U_="LruGarbageCollector",Y2=1048576;function z_([s,e],[i,r]){const l=je(s,i);return l===0?je(e,r):l}class X2{constructor(e){this.Ir=e,this.buffer=new zt(z_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();z_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(U_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){go(i)?se(U_,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Vr(3e5)}))}}class Z2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(ph.ce);const r=new X2(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(P_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,p,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),Ga()<=Le.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function J2(s,e){return new Z2(s,e)}class W2{constructor(){this.changes=new ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class tR{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ol(r.mutation,l,Nn.empty(),ht.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Pe()){const l=Gr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Al();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Gr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Pe())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=hs();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((g,_)=>{const w=r.get(_.key);l.has(_.key)&&(w===void 0||w.mutation instanceof hr)?c=c.insert(_.key,_):w!==void 0?(d.set(_.key,w.mutation.getFieldMask()),Ol(w.mutation,_,w.mutation.getFieldMask(),ht.now())):d.set(_.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,w)=>d.set(_,w))),i.forEach(((_,w)=>p.set(_,new eR(w,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Dl();let l=new yt(((d,p)=>d-p)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let w=r.get(g)||Nn.empty();w=p.applyToLocalView(_,w),r.set(g,w);const S=(l.get(p.batchId)||Pe()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,w=g.value,S=TE();w.forEach((k=>{if(!c.has(k)){const G=CE(i.get(k),r.get(k));G!==null&&S.set(k,G),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):i2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):X.resolve(Gr());let p=Ll,g=c;return d.next((_=>X.forEach(_,((w,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next((k=>{g=g.insert(w,k)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Pe()))).next((w=>({batchId:p,changes:bE(w)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let l=Al();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(g=>{const _=(function(S,k){return new _h(k,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((w=>{w.forEach(((S,k)=>{d=d.insert(S,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((g,_)=>{const w=_.getKey();d.get(w)===null&&(d=d.insert(w,an.newInvalidDocument(w)))}));let p=Al();return d.forEach(((g,_)=>{const w=c.get(g);w!==void 0&&Ol(w.mutation,_,Nn.empty(),ht.now()),Eh(i,_)&&(p=p.insert(g,_))})),p}))}}class nR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:G2(l.bundledQuery),readTime:Di(l.readTime)}})(i)),X.resolve()}}class iR{constructor(){this.overlays=new yt(de.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Gr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const l=Gr(),c=i.length+1,d=new de(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new yt(((_,w)=>_-w));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let w=c.get(_.largestBatchId);w===null&&(w=Gr(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const p=Gr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,w)=>p.set(_,w))),!(p.size()>=l)););return X.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new b2(i,r));let c=this.qr.get(i);c===void 0&&(c=Pe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class sR{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Xm{constructor(){this.Qr=new zt(Ft.$r),this.Ur=new zt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ft(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ft(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new de(new ct([])),r=new Ft(i,e),l=new Ft(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new ct([])),r=new Ft(i,e),l=new Ft(i,e+1);let c=Pe();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||je(e.Yr,i.Yr)}static Kr(e,i){return je(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class rR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ft.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new E2(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new zt(je);return i.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;de.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new de(c),0);let p=new zt(je);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Xe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ft(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ft(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class aR{constructor(e){this.ri=e,this.docs=(function(){return new yt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let r=hs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=hs();const d=i.path,p=new de(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||kA(MA(w),r)<=0||(l.has(w.key)||Eh(i,w))&&(c=c.insert(w.key,w.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,r,l){ve(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new oR(this)}getSize(e){return X.resolve(this.size)}}class oR extends W2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class lR{constructor(e){this.persistence=e,this.si=new ta((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=oo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class BE{constructor(e,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new sR,this.referenceDelegate=e(this),this.Pi=new lR(this),this.indexManager=new Q2,this.remoteDocumentCache=(function(l){return new aR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new F2(i),this.Ii=new nR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new iR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new rR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){se("MemoryPersistence","Starting transaction:",e);const l=new uR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class uR extends LA{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=de.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ee.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ih{constructor(e,i){this.persistence=e,this.pi=new ta((r=>UA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=J2(this,i)}static mi(e,i){return new ih(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(e,i.fromCache,r,l)}}class cR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eS()?8:jA(on())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new cR;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Ga()<=Le.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ga()<=Le.DEBUG&&se("QueryEngine","Query:",Qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ga()<=Le.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(i))):X.resolve())}ys(e,i){if(C_(i))return X.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Pe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(e,hm(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,r,l){return C_(i)||l.isEqual(Ee.min())?X.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Ga()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(e,d,i,OA(l,Ll)).next((p=>p)))}))}Ds(e,i){let r=new zt(vE(e));return i.forEach(((l,c)=>{Eh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Ga()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(e,i,sr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",fR=3e8;class dR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new yt(je),this.xs=new ta((c=>Bm(c)),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function mR(s,e,i,r){return new dR(s,e,i,r)}async function qE(s,e){const i=Se(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Pe();for(const _ of l){d.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of c){p.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return i.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function pR(s,e){const i=Se(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,w){const S=_.batch,k=S.keys();let G=X.resolve();return k.forEach((W=>{G=G.next((()=>w.getEntry(g,W))).next((ne=>{const J=_.docVersions.get(W);Xe(J!==null,48541),ne.version.compareTo(J)<0&&(S.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),w.addEntry(ne)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Pe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function HE(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function gR(s,e){const i=Se(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((w,S)=>{const k=l.get(S);if(!k)return;p.push(i.Pi.removeMatchingKeys(c,w.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,w.addedDocuments,S))));let G=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?G=G.withResumeToken(en.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(w.resumeToken,r)),l=l.insert(S,G),(function(ne,J,he){return ne.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=fR?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(k,G,w)&&p.push(i.Pi.updateTargetData(c,G))}));let g=hs(),_=Pe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,w))})),p.push(yR(c,d,e.documentUpdates).next((w=>{g=w.ks,_=w.qs}))),!r.isEqual(Ee.min())){const w=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(w)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function yR(s,e,i){let r=Pe(),l=Pe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=hs();return i.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):se(Jm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function _R(s,e){const i=Se(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vR(s,e){const i=Se(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Zs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function gm(s,e,i){const r=Se(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;se(Jm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function B_(s,e,i){const r=Se(s);let l=Ee.min(),c=Pe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,w){const S=Se(g),k=S.xs.get(w);return k!==void 0?X.resolve(S.Ms.get(k)):S.Pi.getTargetData(_,w)})(r,d,Ni(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ee.min(),i?c:Pe()))).next((p=>(ER(r,r2(e),p),{documents:p,Qs:c})))))}function ER(s,e,i){let r=s.Os.get(e)||Ee.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class q_{constructor(){this.activeTargetIds=h2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bR{constructor(){this.Mo=new q_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new q_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TR{Oo(e){}shutdown(){}}const H_="ConnectivityMonitor";class F_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(H_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function ym(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Kd="RestConnection",wR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=ym(),p=this.zo(e,i.toUriEncodedString());se(Kd,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),w=ho(_);return this.Jo(e,p,g,r,w).then((S=>(se(Kd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw io(Kd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=wR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class AR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class RR extends SR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=ym();return new Promise(((p,g)=>{const _=new Kv;_.setWithCredentials(!0),_.listenOnce(Yv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const S=_.getResponseJson();se(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Pc.TIMEOUT:se(sn,`RPC '${e}' ${d} timed out`),g(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const k=_.getStatus();if(se(sn,`RPC '${e}' ${d} failed with status:`,k,"response text:",_.getResponseText()),k>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const ne=(function(he){const be=he.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(be)>=0?be:$.UNKNOWN})(W.status);g(new ue(ne,W.message))}else g(new ue($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ue($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{se(sn,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(l);se(sn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",w,r,15)}))}T_(e,i,r){const l=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Zv(),p=$v(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const w=c.join("");se(sn,`Creating RPC '${e}' stream ${l}: ${w}`,g);const S=d.createWebChannel(w,g);this.I_(S);let k=!1,G=!1;const W=new AR({Yo:J=>{G?se(sn,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(k||(se(sn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),k=!0),se(sn,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),ne=(J,he,be)=>{J.listen(he,(me=>{try{be(me)}catch(Ke){setTimeout((()=>{throw Ke}),0)}}))};return ne(S,Sl.EventType.OPEN,(()=>{G||(se(sn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),ne(S,Sl.EventType.CLOSE,(()=>{G||(G=!0,se(sn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(S))})),ne(S,Sl.EventType.ERROR,(J=>{G||(G=!0,io(sn,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),ne(S,Sl.EventType.MESSAGE,(J=>{if(!G){const he=J.data[0];Xe(!!he,16349);const be=he,me=be?.error||be[0]?.error;if(me){se(sn,`RPC '${e}' stream ${l} received error:`,me);const Ke=me.status;let Ye=(function(A){const x=kt[A];if(x!==void 0)return NE(x)})(Ke),Ie=me.message;Ye===void 0&&(Ye=$.INTERNAL,Ie="Unknown error status: "+Ke+" with message "+me.message),G=!0,W.a_(new ue(Ye,Ie)),S.close()}else se(sn,`RPC '${e}' stream ${l} received:`,he),W.u_(he)}})),ne(p,Xv.STAT_EVENT,(J=>{J.stat===rm.PROXY?se(sn,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===rm.NOPROXY&&se(sn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function Sh(s){return new N2(s,!0)}class FE{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const G_="PersistentStream";class GE{constructor(e,i,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(cs(i.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(se(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xR extends GE{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=M2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Di(d.readTime):Ee.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=cm(g)?{documents:L2(c,g)}:{query:j2(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ME(c,d.resumeToken);const _=fm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ee.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=fm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=U2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.q_(i)}}class CR extends GE{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=V2(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>k2(this.serializer,r)))};this.q_(i)}}class IR{}class NR extends IR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,dm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue($.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,dm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class OR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{na(this)&&(se(Jr,"Restarting streams for network reachability change."),await(async function(g){const _=Se(g);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ah(_)})(this))}))})),this.Ra=new DR(r,l)}}async function Ah(s){if(na(s))for(const e of s.da)await e(!0)}async function $l(s){for(const e of s.da)await e(!1)}function QE(s,e){const i=Se(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),np(i)?tp(i):yo(i).O_()&&ep(i,e))}function Wm(s,e){const i=Se(s),r=yo(i);i.Ia.delete(e),r.O_()&&KE(i,e),i.Ia.size===0&&(r.O_()?r.L_():na(i)&&i.Ra.set("Unknown"))}function ep(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}yo(s).Y_(e)}function KE(s,e){s.Va.Ue(e),yo(s).Z_(e)}function tp(s){s.Va=new R2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.Ra.ua()}function np(s){return na(s)&&!yo(s).x_()&&s.Ia.size>0}function na(s){return Se(s).Ea.size===0}function YE(s){s.Va=void 0}async function MR(s){s.Ra.set("Online")}async function kR(s){s.Ia.forEach(((e,i)=>{ep(s,e)}))}async function VR(s,e){YE(s),np(s)?(s.Ra.ha(e),tp(s)):s.Ra.set("Unknown")}async function LR(s,e,i){if(s.Ra.set("Online"),e instanceof OE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){se(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(s,r)}else if(e instanceof qc?s.Va.Ze(e):e instanceof DE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ee.min()))try{const r=await HE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.Ia.get(_);w&&c.Ia.set(_,w.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const w=c.Ia.get(g);if(!w)return;c.Ia.set(g,w.withResumeToken(en.EMPTY_BYTE_STRING,w.snapshotVersion)),KE(c,g);const S=new Zs(w.target,g,_,w.sequenceNumber);ep(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){se(Jr,"Failed to raise snapshot:",r),await sh(s,r)}}async function sh(s,e,i){if(!go(e))throw e;s.Ea.add(1),await $l(s),s.Ra.set("Offline"),i||(i=()=>HE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{se(Jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function XE(s,e){return e().catch((i=>sh(s,i,e)))}async function Rh(s){const e=Se(s),i=lr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pm;for(;jR(e);)try{const l=await _R(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,PR(e,l)}catch(l){await sh(e,l)}$E(e)&&ZE(e)}function jR(s){return na(s)&&s.Ta.length<10}function PR(s,e){s.Ta.push(e);const i=lr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function $E(s){return na(s)&&!lr(s).x_()&&s.Ta.length>0}function ZE(s){lr(s).start()}async function UR(s){lr(s).ra()}async function zR(s){const e=lr(s);for(const i of s.Ta)e.ea(i.mutations)}async function BR(s,e,i){const r=s.Ta.shift(),l=Qm.from(r,e,i);await XE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rh(s)}async function qR(s,e){e&&lr(s).X_&&await(async function(r,l){if((function(d){return w2(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();lr(r).B_(),await XE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(r)}})(s,e),$E(s)&&ZE(s)}async function Q_(s,e){const i=Se(s);i.asyncQueue.verifyOperationInProgress(),se(Jr,"RemoteStore received new credentials");const r=na(i);i.Ea.add(3),await $l(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ah(i)}async function HR(s,e){const i=Se(s);e?(i.Ea.delete(2),await Ah(i)):e||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function yo(s){return s.ma||(s.ma=(function(i,r,l){const c=Se(i);return c.sa(),new xR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:MR.bind(null,s),t_:kR.bind(null,s),r_:VR.bind(null,s),H_:LR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),np(s)?tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),YE(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,r,l){const c=Se(i);return c.sa(),new CR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:UR.bind(null,s),r_:qR.bind(null,s),ta:zR.bind(null,s),na:BR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(se(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ip{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new ip(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(s,e){if(cs("AsyncQueue",`${e}: ${s}`),go(s))return new ue($.UNAVAILABLE,`${e}: ${s}`);throw s}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=Al(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class K_{constructor(){this.ga=new yt(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class lo{constructor(e,i,r,l,c,d,p,g,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(e,i,Za.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class FR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GR{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Se(i),c=l.queries;l.queries=Y_(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function Y_(){return new ta((s=>_E(s)),vh)}async function QR(s,e){const i=Se(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new FR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=sp(d,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&rp(i)}async function KR(s,e){const i=Se(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function YR(s,e){const i=Se(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&rp(i)}function XR(s,e,i){const r=Se(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function rp(s){s.Ca.forEach((e=>{e.next()}))}var _m,X_;(X_=_m||(_m={})).Ma="default",X_.Cache="cache";class $R{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class JE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class ZR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=vE(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new K_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((w,S)=>{const k=l.get(w),G=Eh(this.query,S)?S:null,W=!!k&&this.mutatedKeys.has(k.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;k&&G?k.data.isEqual(G.data)?W!==ne&&(r.track({type:3,doc:G}),J=!0):this.su(k,G)||(r.track({type:2,doc:G}),J=!0,(g&&this.eu(G,g)>0||_&&this.eu(G,_)<0)&&(p=!0)):!k&&G?(r.track({type:0,doc:G}),J=!0):k&&!G&&(r.track({type:1,doc:k}),J=!0,(g||_)&&(p=!0)),J&&(G?(d=d.add(G),c=ne?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),r.track({type:1,doc:w})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,S)=>(function(G,W){const ne=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:J})}};return ne(G)-ne(W)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new lo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new WE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new JE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ap="SyncEngine";class JR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class WR{constructor(e){this.key=e,this.hu=!1}}class ex{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((p=>_E(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(de.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tx(s,e,i=!0){const r=r1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await e1(r,e,i,!0),l}async function nx(s,e){const i=r1(s);await e1(i,e,!0,!1)}async function e1(s,e,i,r){const l=await vR(s.localStore,Ni(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await ix(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&QE(s.remoteStore,l),p}async function ix(s,e,i,r,l){s.pu=(S,k,G)=>(async function(ne,J,he,be){let me=J.view.ru(he);me.Cs&&(me=await B_(ne.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,me))));const Ke=be&&be.targetChanges.get(J.targetId),Ye=be&&be.targetMismatches.get(J.targetId)!=null,Ie=J.view.applyChanges(me,ne.isPrimaryClient,Ke,Ye);return Z_(ne,J.targetId,Ie.au),Ie.snapshot})(s,S,k,G);const c=await B_(s.localStore,e,!0),d=new ZR(e,c.Qs),p=d.ru(c.documents),g=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,g);Z_(s,i,_.au);const w=new JR(e,i,d);return s.Tu.set(e,w),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function sx(s,e,i){const r=Se(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!vh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Wm(r.remoteStore,l.targetId),vm(r,l.targetId)})).catch(po)):(vm(r,l.targetId),await gm(r.localStore,l.targetId,!0))}async function rx(s,e){const i=Se(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(i.remoteStore,r.targetId))}async function ax(s,e,i){const r=dx(s);try{const l=await(function(d,p){const g=Se(d),_=ht.now(),w=p.reduce(((G,W)=>G.add(W.key)),Pe());let S,k;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=hs(),ne=Pe();return g.Ns.getEntries(G,w).next((J=>{W=J,W.forEach(((he,be)=>{be.isValidDocument()||(ne=ne.add(he))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,W))).next((J=>{S=J;const he=[];for(const be of p){const me=_2(be,S.get(be.key).overlayedDocument);me!=null&&he.push(new hr(be.key,me,hE(me.value.mapValue),ai.exists(!0)))}return g.mutationQueue.addMutationBatch(G,_,he,p)})).next((J=>{k=J;const he=J.applyToLocalDocumentSet(S,ne);return g.documentOverlayCache.saveOverlays(G,J.batchId,he)}))})).then((()=>({batchId:k.batchId,changes:bE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new yt(je)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Zl(r,l.changes),await Rh(r.remoteStore)}catch(l){const c=sp(l,"Failed to persist write");i.reject(c)}}async function t1(s,e){const i=Se(s);try{const r=await gR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xe(d.hu,14607):l.removedDocuments.size>0&&(Xe(d.hu,42227),d.hu=!1))})),await Zl(i,r,e)}catch(r){await po(r)}}function $_(s,e,i){const r=Se(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Se(d);g.onlineState=p;let _=!1;g.queries.forEach(((w,S)=>{for(const k of S.Sa)k.va(p)&&(_=!0)})),_&&rp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ox(s,e,i){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new yt(de.comparator);d=d.insert(c,an.newNoDocument(c,Ee.min()));const p=Pe().add(c),g=new wh(Ee.min(),new Map,new yt(je),d,p);await t1(r,g),r.du=r.du.remove(c),r.Au.delete(e),op(r)}else await gm(r.localStore,e,!1).then((()=>vm(r,e,i))).catch(po)}async function lx(s,e){const i=Se(s),r=e.batch.batchId;try{const l=await pR(i.localStore,e);i1(i,r,null),n1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Zl(i,l)}catch(l){await po(l)}}async function ux(s,e,i){const r=Se(s);try{const l=await(function(d,p){const g=Se(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let w;return g.mutationQueue.lookupMutationBatch(_,p).next((S=>(Xe(S!==null,37113),w=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w))).next((()=>g.localDocuments.getDocuments(_,w)))}))})(r.localStore,e);i1(r,e,i),n1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Zl(r,l)}catch(l){await po(l)}}function n1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function i1(s,e,i){const r=Se(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||s1(s,r)}))}function s1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Wm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),op(s))}function Z_(s,e,i){for(const r of i)r instanceof JE?(s.Ru.addReference(r.key,e),cx(s,r)):r instanceof WE?(se(ap,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||s1(s,r.key)):ve(19791,{wu:r})}function cx(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(se(ap,"New document in limbo: "+i),s.Eu.add(r),op(s))}function op(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new de(ct.fromString(e)),r=s.fu.next();s.Au.set(r,new WR(i)),s.du=s.du.insert(i,r),QE(s.remoteStore,new Zs(Ni(Hm(i.path)),r,"TargetPurposeLimboResolution",ph.ce))}}async function Zl(s,e,i){const r=Se(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const w=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(_){l.push(_);const w=Zm.As(g.targetId,_);c.push(w)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,_){const w=Se(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(k=>X.forEach(k.Es,(G=>w.persistence.referenceDelegate.addReference(S,k.targetId,G))).next((()=>X.forEach(k.ds,(G=>w.persistence.referenceDelegate.removeReference(S,k.targetId,G)))))))))}catch(S){if(!go(S))throw S;se(Jm,"Failed to update sequence numbers: "+S)}for(const S of _){const k=S.targetId;if(!S.fromCache){const G=w.Ms.get(k),W=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(W);w.Ms=w.Ms.insert(k,ne)}}})(r.localStore,c))}async function hx(s,e){const i=Se(s);if(!i.currentUser.isEqual(e)){se(ap,"User change. New user:",e.toKey());const r=await qE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zl(i,r.Ls)}}function fx(s,e){const i=Se(s),r=i.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function r1(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ox.bind(null,e),e.Pu.H_=YR.bind(null,e.eventManager),e.Pu.yu=XR.bind(null,e.eventManager),e}function dx(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ux.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return mR(this.persistence,new hR,e.initialUser,this.serializer)}Cu(e){return new BE($m.mi,this.serializer)}Du(e){return new bR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class mx extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Xe(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new BE((r=>ih.mi(r,i)),this.serializer)}}class Em{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hx.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GR})()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),r=(function(c){return new RR(c)})(e.databaseInfo);return(function(c,d,p,g){return new NR(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new OR(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>$_(this.syncEngine,i,0)),(function(){return F_.v()?new F_:new TR})())}createSyncEngine(e,i){return(function(l,c,d,p,g,_,w){const S=new ex(l,c,d,p,g,_);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Se(i);se(Jr,"RemoteStore shutting down."),r.Ea.add(5),await $l(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ur="FirestoreClient";class gx{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{se(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(se(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=sp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),se(ur,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await qE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function J_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await yx(s);se(ur,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Q_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Q_(e.remoteStore,l))),s._onlineComponents=e}async function yx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){se(ur,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;io("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new rh)}}else se(ur,"Using default OfflineComponentProvider"),await Xd(s,new mx(void 0));return s._offlineComponents}async function a1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(se(ur,"Using user provided OnlineComponentProvider"),await J_(s,s._uninitializedComponentsProvider._online)):(se(ur,"Using default OnlineComponentProvider"),await J_(s,new Em))),s._onlineComponents}function _x(s){return a1(s).then((e=>e.syncEngine))}async function W_(s){const e=await a1(s),i=e.eventManager;return i.onListen=tx.bind(null,e.syncEngine),i.onUnlisten=sx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=nx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=rx.bind(null,e.syncEngine),i}function o1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const ev=new Map;const l1="firestore.googleapis.com",tv=!0;class nv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l1,this.ssl=tv}else this.host=e.host,this.ssl=e.ssl??tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y2)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bA;switch(r.type){case"firstParty":return new AA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=ev.get(i);r&&(se("ComponentProvider","Removing Datastore"),ev.delete(i),r.terminate())})(this),Promise.resolve()}}function vx(s,e,i,r={}){s=nr(s,xh);const l=ho(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Uv(`https://${p}`),zv("Firestore",!0)),c.host!==l1&&c.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Xr(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,w;if(typeof r.mockUserToken=="string")_=r.mockUserToken,w=rn.MOCK_USER;else{_=Gw(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new rn(S)}s._authCredentials=new TA(new Wv(_,w))}}class Ch{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class Ut{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Kl(i,Ut._jsonSchema))return new Ut(e,r||null,new de(ct.fromString(i.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Vt("string",Ut._jsonSchemaVersion),referencePath:Vt("string")};class ir extends Ch{constructor(e,i,r){super(e,i,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new de(e))}withConverter(e){return new ir(this.firestore,e,this._path)}}function iv(s,e,...i){if(s=Gt(s),eE("collection","path",e),s instanceof xh){const r=ct.fromString(e,...i);return p_(r),new ir(s,null,r)}{if(!(s instanceof Ut||s instanceof ir))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...i));return p_(r),new ir(s.firestore,null,r)}}function bm(s,e,...i){if(s=Gt(s),arguments.length===1&&(e=Lm.newId()),eE("doc","path",e),s instanceof xh){const r=ct.fromString(e,...i);return m_(r),new Ut(s,null,new de(r))}{if(!(s instanceof Ut||s instanceof ir))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...i));return m_(r),new Ut(s.firestore,s instanceof ir?s.converter:null,new de(r))}}const sv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FE(this,"async_queue_retry"),this._c=()=>{const r=Yd();r&&se(sv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;se(sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",av(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ip.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function ov(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class uo extends xh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new rv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function Ex(s,e){const i=typeof s=="object"?s:km(),r=typeof s=="string"?s:$c,l=Mm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Hw("firestore");c&&vx(l,...c)}return l}function u1(s){if(s._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bx(s),s._firestoreClient}function bx(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new qA(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,o1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new gx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(en.fromBase64String(e))}catch(i){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Qn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Vt("string",Qn._jsonSchemaVersion),bytes:Vt("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lp{constructor(e){this._methodName=e}}class Oi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Vt("string",Oi._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class Mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Mi(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Vt("string",Mi._jsonSchemaVersion),vectorValues:Vt("object")};const Tx=/^__.*__$/;class wx{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}class c1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new hr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function h1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class up{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new up({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(h1(this.Ac)&&Tx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Sx{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Sh(e)}Cc(e,i,r,l=!1){return new up({Ac:e,methodName:i,Dc:r,path:Wt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f1(s){const e=s._freezeSettings(),i=Sh(s._databaseId);return new Sx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Ax(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);cp("Data must be an object, but it was:",d,r);const p=d1(r,d);let g,_;if(c.merge)g=new Nn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const S of c.mergeFields){const k=Tm(e,S,i);if(!d.contains(k))throw new ue($.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);p1(w,k)||w.push(k)}g=new Nn(w),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new wx(new vn(p),g,_)}class Nh extends lp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function Rx(s,e,i,r){const l=s.Cc(1,e,i);cp("Data must be an object, but it was:",l,r);const c=[],d=vn.empty();cr(r,((g,_)=>{const w=hp(e,g,i);_=Gt(_);const S=l.yc(w);if(_ instanceof Nh)c.push(w);else{const k=Dh(_,S);k!=null&&(c.push(w),d.set(w,k))}}));const p=new Nn(c);return new c1(d,p,l.fieldTransforms)}function xx(s,e,i,r,l,c){const d=s.Cc(1,e,i),p=[Tm(e,r,i)],g=[l];if(c.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)p.push(Tm(e,c[k])),g.push(c[k+1]);const _=[],w=vn.empty();for(let k=p.length-1;k>=0;--k)if(!p1(_,p[k])){const G=p[k];let W=g[k];W=Gt(W);const ne=d.yc(G);if(W instanceof Nh)_.push(G);else{const J=Dh(W,ne);J!=null&&(_.push(G),w.set(G,J))}}const S=new Nn(_);return new c1(w,S,d.fieldTransforms)}function Dh(s,e){if(m1(s=Gt(s)))return cp("Unsupported field value:",e,s),d1(s,e);if(s instanceof lp)return(function(r,l){if(!h1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=Dh(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ht.fromDate(r);return{timestampValue:nh(l.serializer,c)}}if(r instanceof ht){const c=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:ME(l.serializer,r._byteString)};if(r instanceof Ut){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Mi)return(function(d,p){return{mapValue:{fields:{[uE]:{stringValue:cE},[Zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${jm(r)}`)})(s,e)}function d1(s,e){const i={};return iE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(s,((r,l)=>{const c=Dh(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function m1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof Oi||s instanceof Qn||s instanceof Ut||s instanceof lp||s instanceof Mi)}function cp(s,e,i){if(!m1(i)||!tE(i)){const r=jm(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Tm(s,e,i){if((e=Gt(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return hp(s,e);throw ah("Field path arguments must be of type string or ",s,!1,void 0,i)}const Cx=new RegExp("[~\\*/\\[\\]]");function hp(s,e,i){if(e.search(Cx)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ah(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new ue($.INVALID_ARGUMENT,p+s+g)}function p1(s,e){return s.some((i=>i.isEqual(e)))}class g1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(y1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ix extends g1{data(){return super.data()}}function y1(s,e){return typeof e=="string"?hp(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function Nx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dx{convertValue(e,i="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return cr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Zc].arrayValue?.values?.map((r=>At(r.doubleValue)));return new Mi(i)}convertGeoPoint(e){return new Oi(At(e.latitude),At(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=yh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=rr(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ct.fromString(e);Xe(UE(r),9688,{name:e});const l=new Pl(r.get(1),r.get(3)),c=new de(r.popFirst(5));return l.isEqual(i)||cs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Ox(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kr extends g1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(y1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Vt("string",Kr._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Hc extends Kr{data(e={}){return super.data(e)}}class Ja{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new xl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,w=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:Mx(p.type),doc:g,oldIndex:_,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Vt("string",Ja._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class _1 extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,i)}}function kx(s,e,i,...r){s=nr(s,Ut);const l=nr(s.firestore,uo),c=f1(l);let d;return d=typeof(e=Gt(e))=="string"||e instanceof Ih?xx(c,"updateDoc",s._key,e,i,r):Rx(c,"updateDoc",s._key,e),fp(l,[d.toMutation(s._key,ai.exists(!0))])}function Vx(s){return fp(nr(s.firestore,uo),[new Gm(s._key,ai.none())])}function Lx(s,e){const i=nr(s.firestore,uo),r=bm(s),l=Ox(s.converter,e);return fp(i,[Ax(f1(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then((()=>r))}function jx(s,...e){s=Gt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ov(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ov(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof Ut)d=nr(s.firestore,uo),p=Hm(s._key.path),c={next:g=>{e[r]&&e[r](Px(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=nr(s,Ch);d=nr(g.firestore,uo),p=g._query;const _=new _1(d);c={next:w=>{e[r]&&e[r](new Ja(d,_,g,w))},error:e[r+1],complete:e[r+2]},Nx(s._query)}return(function(_,w,S,k){const G=new px(k),W=new $R(w,G,S);return _.asyncQueue.enqueueAndForget((async()=>QR(await W_(_),W))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>KR(await W_(_),W)))}})(u1(d),p,l,c)}function fp(s,e){return(function(r,l){const c=new Qr;return r.asyncQueue.enqueueAndForget((async()=>ax(await _x(r),l,c))),c.promise})(u1(s),e)}function Px(s,e,i){const r=i.docs.get(e._key),l=new _1(s);return new Kr(s,l,e._key,r,new xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){mo=l})(fo),no(new $r("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new uo(new wA(r.getProvider("auth-internal")),new RA(d,r.getProvider("app-check-internal")),(function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,w)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),er(c_,h_,e),er(c_,h_,"esm2020")})();function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ux=v1,E1=new Gl("auth","Firebase",v1());const oh=new Dm("@firebase/auth");function zx(s,...e){oh.logLevel<=Le.WARN&&oh.warn(`Auth (${fo}): ${s}`,...e)}function Fc(s,...e){oh.logLevel<=Le.ERROR&&oh.error(`Auth (${fo}): ${s}`,...e)}function oi(s,...e){throw dp(s,...e)}function ki(s,...e){return dp(s,...e)}function b1(s,e,i){const r={...Ux(),[e]:i};return new Gl("auth","Firebase",r).create(e,{appName:s.name})}function ls(s){return b1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return E1.create(s,...e)}function _e(s,e,...i){if(!s)throw dp(e,...i)}function as(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Fc(e),new Error(e)}function fs(s,e){s||as(e)}function wm(){return typeof self<"u"&&self.location?.href||""}function Bx(){return lv()==="http:"||lv()==="https:"}function lv(){return typeof self<"u"&&self.location?.protocol||null}function qx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bx()||Zw()||"connection"in navigator)?navigator.onLine:!0}function Hx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(e,i){this.shortDelay=e,this.longDelay=i,fs(i>e,"Short delay should be less than long delay!"),this.isMobile=Yw()||Jw()}get(){return qx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mp(s,e){fs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class T1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Gx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qx=new Jl(3e4,6e4);function fr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function dr(s,e,i,r,l={}){return w1(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Ql({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return $w()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ho(s.emulatorConfig.host)&&(_.credentials="include"),T1.fetch()(await S1(s,s.config.apiHost,i,p),_)})}async function w1(s,e,i){s._canInitEmulator=!1;const r={...Fx,...e};try{const l=new Yx(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Lc(s,"user-disabled",d);const w=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw b1(s,w,_);oi(s,w)}}catch(l){if(l instanceof ds)throw l;oi(s,"network-request-failed",{message:String(l)})}}async function Wl(s,e,i,r,l={}){const c=await dr(s,e,i,r,l);return"mfaPendingCredential"in c&&oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function S1(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?mp(s.config,l):`${s.config.apiScheme}://${l}`;return Gx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Kx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),Qx.get())})}}function Lc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ki(s,e,r);return l.customData._tokenResponse=i,l}function uv(s){return s!==void 0&&s.enterprise!==void 0}class Xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Kx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $x(s,e){return dr(s,"GET","/v2/recaptchaConfig",fr(s,e))}async function Zx(s,e){return dr(s,"POST","/v1/accounts:delete",e)}async function lh(s,e){return dr(s,"POST","/v1/accounts:lookup",e)}function Ml(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jx(s,e=!1){const i=Gt(s),r=await i.getIdToken(e),l=pp(r);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ml($d(l.auth_time)),issuedAtTime:Ml($d(l.iat)),expirationTime:Ml($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function pp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Vv(i);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function cv(s){const e=pp(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ql(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ds&&Wx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Wx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class eC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(s){const e=s.auth,i=await s.getIdToken(),r=await ql(s,lh(e,{idToken:i}));_e(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?A1(l.providerUserInfo):[],d=nC(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=p?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,w)}async function tC(s){const e=Gt(s);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function A1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iC(s,e){const i=await w1(s,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await S1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&ho(s.emulatorConfig.host)&&(g.credentials="include"),T1.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sC(s,e){return dr(s,"POST","/v2/accounts:revokeToken",fr(s,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=cv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await iC(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Wa;return r&&(_e(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(_e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return as("not implemented")}}function Qs(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ql(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Jx(this,e)}reload(){return tC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await ql(this,Zx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,w=i.lastLoginAt??void 0,{uid:S,emailVerified:k,isAnonymous:G,providerData:W,stsTokenManager:ne}=i;_e(S&&ne,e,"internal-error");const J=Wa.fromJSON(this.name,ne);_e(typeof S=="string",e,"internal-error"),Qs(r,e.name),Qs(l,e.name),_e(typeof k=="boolean",e,"internal-error"),_e(typeof G=="boolean",e,"internal-error"),Qs(c,e.name),Qs(d,e.name),Qs(p,e.name),Qs(g,e.name),Qs(_,e.name),Qs(w,e.name);const he=new ri({uid:S,auth:e,email:l,emailVerified:k,displayName:r,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:w});return W&&Array.isArray(W)&&(he.providerData=W.map(be=>({...be}))),g&&(he._redirectEventId=g),he}static async _fromIdTokenResponse(e,i,r=!1){const l=new Wa;l.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await uh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?A1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Wa;p.updateFromIdToken(r);const g=new ri({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const hv=new Map;function os(s){fs(s instanceof Function,"Expected a class definition");let e=hv.get(s);return e?(fs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,hv.set(s,e),e)}class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}R1.type="NONE";const fv=R1;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class eo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await lh(this.auth,{idToken:e}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new eo(os(fv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||os(fv);const d=Gc(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const w=await _._get(d);if(w){let S;if(typeof w=="string"){const k=await lh(e,{idToken:w}).catch(()=>{});if(!k)break;S=await ri._fromGetAccountInfoResponse(e,k,w)}else S=ri._fromJSON(e,w);_!==c&&(p=S),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new eo(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new eo(c,e,r))}}function dv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(C1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function x1(s=on()){return/firefox\//i.test(s)}function C1(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(s=on()){return/crios\//i.test(s)}function N1(s=on()){return/iemobile/i.test(s)}function D1(s=on()){return/android/i.test(s)}function O1(s=on()){return/blackberry/i.test(s)}function M1(s=on()){return/webos/i.test(s)}function gp(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rC(s=on()){return gp(s)&&!!window.navigator?.standalone}function aC(){return Ww()&&document.documentMode===10}function k1(s=on()){return gp(s)||D1(s)||M1(s)||O1(s)||/windows phone/i.test(s)||N1(s)}function V1(s,e=[]){let i;switch(s){case"Browser":i=dv(on());break;case"Worker":i=`${dv(on())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${fo}/${r}`}class oC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function lC(s,e={}){return dr(s,"GET","/v2/passwordPolicy",fr(s,e))}const uC=6;class cC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class hC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=os(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await lh(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(ls(this));const i=e?Gt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lC(this),i=new cC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await sC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&os(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[os(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ia(s){return Gt(s)}class mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=oS(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(s){Oh=s}function L1(s){return Oh.loadJS(s)}function dC(){return Oh.recaptchaEnterpriseScript}function mC(){return Oh.gapiScript}function pC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class gC{constructor(){this.enterprise=new yC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class yC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const _C="recaptcha-enterprise",j1="NO_RECAPTCHA";class vC{constructor(e){this.type=_C,this.auth=ia(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{$x(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new Xx(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;uv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(j1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&uv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=dC();g.length!==0&&(g+=p),L1(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function pv(s,e,i,r=!1,l=!1){const c=new vC(s);let d;if(l)d=j1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Am(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pv(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function EC(s,e){const i=Mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Xr(c,e??{}))return l;oi(l,"already-initialized")}return i.initialize({options:e})}function bC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(os);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function TC(s,e,i){const r=ia(s);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=P1(e),{host:d,port:p}=wC(e),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},w=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Xr(_,r.config.emulator)&&Xr(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,ho(d)?(Uv(`${c}//${d}${g}`),zv("Auth",!0)):SC()}function P1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function wC(s){const e=P1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:gv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:gv(d)}}}function gv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function SC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class yp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,i){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function AC(s,e){return dr(s,"POST","/v1/accounts:signUp",e)}async function RC(s,e){return Wl(s,"POST","/v1/accounts:signInWithPassword",fr(s,e))}async function xC(s,e){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,e))}async function CC(s,e){return Wl(s,"POST","/v1/accounts:signInWithEmailLink",fr(s,e))}class Hl extends yp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Hl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Hl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,i,"signInWithPassword",RC);case"emailLink":return xC(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,r,"signUpPassword",AC);case"emailLink":return CC(e,{idToken:i,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function to(s,e){return Wl(s,"POST","/v1/accounts:signInWithIdp",fr(s,e))}const IC="http://localhost";class Wr extends yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Wr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return to(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,to(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,to(e,i)}buildRequest(){const e={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ql(i)}return e}}function NC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DC(s){const e=Tl(wl(s)).link,i=e?Tl(wl(e)).deep_link_id:null,r=Tl(wl(s)).deep_link_id;return(r?Tl(wl(r)).link:null)||r||i||e||s}class _p{constructor(e){const i=Tl(wl(e)),r=i.apiKey??null,l=i.oobCode??null,c=NC(i.mode??null);_e(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=DC(e);try{return new _p(i)}catch{return null}}}class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,i){return Hl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=_p.parseLink(i);return _e(r,"argument-error"),Hl._fromEmailAndCode(e,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class U1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ks extends eu{constructor(){super("facebook.com")}static credential(e){return Wr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class Ys extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Wr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Ys.credential(i,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Xs extends eu{constructor(){super("github.com")}static credential(e){return Wr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends eu{constructor(){super("twitter.com")}static credential(e,i){return Wr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return $s.credential(i,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function OC(s,e){return Wl(s,"POST","/v1/accounts:signUp",fr(s,e))}class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await ri._fromIdTokenResponse(e,r,l),d=yv(r);return new ea({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=yv(r);return new ea({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function yv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ch extends ds{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new ch(e,i,r,l)}}function z1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,c,e,r):c})}async function MC(s,e,i=!1){const r=await ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ea._forOperation(s,"link",r)}async function kC(s,e,i=!1){const{auth:r}=s;if(Gn(r.app))return Promise.reject(ls(r));const l="reauthenticate";try{const c=await ql(s,z1(r,l,e,s),i);_e(c.idToken,r,"internal-error");const d=pp(c.idToken);_e(d,r,"internal-error");const{sub:p}=d;return _e(s.uid===p,r,"user-mismatch"),ea._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&oi(r,"user-mismatch"),c}}async function B1(s,e,i=!1){if(Gn(s.app))return Promise.reject(ls(s));const r="signIn",l=await z1(s,r,e),c=await ea._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function VC(s,e){return B1(ia(s),e)}async function q1(s){const e=ia(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LC(s,e,i){if(Gn(s.app))return Promise.reject(ls(s));const r=ia(s),d=await Am(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&q1(s),g}),p=await ea._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function jC(s,e,i){return Gn(s.app)?Promise.reject(ls(s)):VC(Gt(s),_o.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&q1(s),r})}function PC(s,e,i,r){return Gt(s).onIdTokenChanged(e,i,r)}function UC(s,e,i){return Gt(s).beforeAuthStateChanged(e,i)}function zC(s,e,i,r){return Gt(s).onAuthStateChanged(e,i,r)}function BC(s){return Gt(s).signOut()}const hh="__sak";class H1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const qC=1e3,HC=10;class F1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);aC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,HC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}F1.type="LOCAL";const FC=F1;class G1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}G1.type="SESSION";const Q1=G1;function GC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),g=await GC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function vp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class QC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=vp("",20);l.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const k=S;if(k.data.eventId===_)switch(k.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(k.data.response);break;default:clearTimeout(w),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Vi(){return window}function KC(s){Vi().location.href=s}function K1(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function YC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XC(){return navigator?.serviceWorker?.controller||null}function $C(){return K1()?self:null}const Y1="firebaseLocalStorageDb",ZC=1,fh="firebaseLocalStorage",X1="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(s,e){return s.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function JC(){const s=indexedDB.deleteDatabase(Y1);return new tu(s).toPromise()}function Rm(){const s=indexedDB.open(Y1,ZC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(fh,{keyPath:X1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await JC(),e(await Rm()))})})}async function _v(s,e,i){const r=kh(s,!0).put({[X1]:e,value:i});return new tu(r).toPromise()}async function WC(s,e){const i=kh(s,!1).get(e),r=await new tu(i).toPromise();return r===void 0?null:r.value}function vv(s,e){const i=kh(s,!0).delete(e);return new tu(i).toPromise()}const eI=800,tI=3;class $1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>tI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance($C()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YC(),!this.activeServiceWorker)return;this.sender=new QC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await _v(e,hh,"1"),await vv(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>_v(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>WC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>vv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=kh(l,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$1.type="LOCAL";const nI=$1;new Jl(3e4,6e4);function iI(s,e){return e?os(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ep extends yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,i){return to(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function sI(s){return B1(s.auth,new Ep(s),s.bypassAuthState)}function rI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),kC(i,new Ep(s),s.bypassAuthState)}async function aI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),MC(i,new Ep(s),s.bypassAuthState)}class Z1{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sI;case"linkViaPopup":case"linkViaRedirect":return aI;case"reauthViaPopup":case"reauthViaRedirect":return rI;default:oi(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oI=new Jl(2e3,1e4);class $a extends Z1{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oI.get())};e()}}$a.currentPopupAction=null;const lI="pendingRedirect",Qc=new Map;class uI extends Z1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await cI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cI(s,e){const i=dI(e),r=fI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function hI(s,e){Qc.set(s._key(),e)}function fI(s){return os(s._redirectPersistence)}function dI(s){return Gc(lI,s.config.apiKey,s.name)}async function mI(s,e,i=!1){if(Gn(s.app))return Promise.reject(ls(s));const r=ia(s),l=iI(r,e),d=await new uI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const pI=600*1e3;class gI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!J1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(e))}saveEventToCache(e){this.cachedEventUids.add(Ev(e)),this.lastProcessedEventTime=Date.now()}}function Ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function J1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function yI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(s);default:return!1}}async function _I(s,e={}){return dr(s,"GET","/v1/projects",e)}const vI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;async function bI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await _I(s);for(const i of e)try{if(TI(i))return}catch{}oi(s,"unauthorized-domain")}function TI(s){const e=wm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!EI.test(i))return!1;if(vI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const wI=new Jl(3e4,6e4);function bv(){const s=Vi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function SI(s){return new Promise((e,i)=>{function r(){bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bv(),i(ki(s,"network-request-failed"))},timeout:wI.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)r();else{const l=pC("iframefcb");return Vi()[l]=()=>{gapi.load?r():i(ki(s,"network-request-failed"))},L1(`${mC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function AI(s){return Kc=Kc||SI(s),Kc}const RI=new Jl(5e3,15e3),xI="__/auth/iframe",CI="emulator/auth/iframe",II={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DI(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?mp(e,CI):`https://${s.config.authDomain}/${xI}`,r={apiKey:e.apiKey,appName:s.name,v:fo},l=NI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ql(r).slice(1)}`}async function OI(s){const e=await AI(s),i=Vi().gapi;return _e(i,s,"internal-error"),e.open({where:document.body,url:DI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:II,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ki(s,"network-request-failed"),p=Vi().setTimeout(()=>{c(d)},RI.get());function g(){Vi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const MI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kI=500,VI=600,LI="_blank",jI="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PI(s,e,i,r=kI,l=VI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...MI,width:r.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(p=I1(_)?LI:i),x1(_)&&(e=e||jI,g.scrollbars="yes");const w=Object.entries(g).reduce((k,[G,W])=>`${k}${G}=${W},`,"");if(rC(_)&&p!=="_self")return UI(e||"",p),new Tv(null);const S=window.open(e||"",p,w);_e(S,s,"popup-blocked");try{S.focus()}catch{}return new Tv(S)}function UI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const zI="__/auth/handler",BI="emulator/auth/handler",qI=encodeURIComponent("fac");async function wv(s,e,i,r,l,c){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:fo,eventId:l};if(e instanceof U1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",aS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))d[w]=S}if(e instanceof eu){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(d.scopes=w.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await s._getAppCheckToken(),_=g?`#${qI}=${encodeURIComponent(g)}`:"";return`${HI(s)}?${Ql(p).slice(1)}${_}`}function HI({config:s}){return s.emulator?mp(s,BI):`https://${s.authDomain}/${zI}`}const Zd="webStorageSupport";class FI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q1,this._completeRedirectFn=mI,this._overrideRedirectResult=hI}async _openPopup(e,i,r,l){fs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await wv(e,i,r,wm(),l);return PI(e,c,vp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await wv(e,i,r,wm(),l);return KC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(fs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await OI(e),r=new gI(e);return i.register("authEvent",l=>(_e(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&i(!!c),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=bI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return k1()||C1()||gp()}}const GI=FI;var Sv="@firebase/auth",Av="1.11.1";class QI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YI(s){no(new $r("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(s)},_=new hC(r,l,c,g);return bC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),no(new $r("auth-internal",e=>{const i=ia(e.getProvider("auth").getImmediate());return(r=>new QI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(Sv,Av,KI(s)),er(Sv,Av,"esm2020")}const XI=300,$I=Pv("authIdTokenMaxAge")||XI;let Rv=null;const ZI=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>$I)return;const l=i?.token;Rv!==l&&(Rv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function JI(s=km()){const e=Mm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=EC(s,{popupRedirectResolver:GI,persistence:[nI,FC,Q1]}),r=Pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=ZI(c.toString());UC(i,d,()=>d(i.currentUser)),PC(i,p=>d(p))}}const l=Lv("auth");return l&&TC(i,`http://${l}`),i}function WI(){return document.getElementsByTagName("head")?.[0]??document}fC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",WI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YI("Browser");const xv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let jc,Xa,rs;try{xv.apiKey&&(lA().length===0?jc=Hv(xv):jc=km(),Xa=JI(jc),rs=Ex(jc))}catch(s){console.error("Firebase init error:",s)}const Dn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",Jd="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",eN={destination:"",date:"----/--/--",endDate:"----/--/--",themeColor:"from-blue-400 to-indigo-600",flights:[],days:[],packingList:[],shoppingList:[]},Cv=({message:s,type:e,onClose:i})=>{Ve.useEffect(()=>{const c=setTimeout(i,3e3);return()=>clearTimeout(c)},[i]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?E.jsx(JT,{size:18}):E.jsx(YT,{size:18});return E.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[E.jsx("div",{className:"shrink-0",children:l}),E.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},tN=({title:s,message:e,onConfirm:i,onCancel:r})=>E.jsxs("div",{className:"fixed inset-0 z-[250] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r}),E.jsxs("div",{className:`relative ${Dn} rounded-[2rem] p-6 w-full max-w-xs transform transition-all scale-100 text-center`,children:[E.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-500",children:E.jsx(Dw,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:s}),E.jsx("p",{className:"text-sm text-gray-500 mb-6",children:e}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl bg-white/50 font-bold text-gray-600 hover:bg-white/80 transition-all",children:""}),E.jsx("button",{onClick:i,className:"flex-1 py-3 rounded-xl bg-red-500 font-bold text-white shadow-lg shadow-red-500/30 hover:bg-red-600 transition-all",children:""})]})]})]}),Vh=({title:s,subtitle:e,showBack:i,leftAction:r,rightAction:l})=>E.jsxs("div",{className:"sticky top-0 z-40 pt-14 pb-4 px-6 transition-all duration-500",children:[E.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-sm z-[-1]"}),E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[r,E.jsxs("div",{className:"drop-shadow-sm",children:[E.jsx("h1",{className:"text-3xl font-[900] tracking-tight text-gray-800",children:s}),e&&E.jsx("p",{className:"text-gray-600 font-bold text-sm mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),l]})]}),nN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:r,onOpenImport:l,onClose:c,userEmail:d,onLogout:p})=>E.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:c}),E.jsxs("div",{className:`relative ${Dn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:c,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(co,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[E.jsxs("div",{className:"overflow-hidden",children:[E.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),E.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:d})]}),E.jsxs("button",{onClick:p,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[E.jsx(fw,{size:12})," "]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&E.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(g=>E.jsxs("div",{onClick:()=>i(g.id),className:`group p-4 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex justify-between items-center ${e===g.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[E.jsxs("div",{className:"overflow-hidden mr-2",children:[E.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:g.destination||""}),E.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[E.jsx(Nv,{size:12,className:"mr-1"}),g.date||"--/--"]})]}),E.jsx("button",{onClick:_=>{_.stopPropagation(),r(g.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all z-20",children:E.jsx(Nm,{size:18})})]},g.id))]}),E.jsx("div",{className:"mt-auto relative z-10",children:E.jsxs("button",{onClick:l,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[E.jsx(ew,{size:20})," /"]})})]})]}),iN=({onLogin:s,onRegister:e,isLoading:i})=>{const[r,l]=Ve.useState(!1),[c,d]=Ve.useState(""),[p,g]=Ve.useState(""),_=()=>{!c||!p||(r?e(c,p):s(c,p))};return E.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsxs("div",{className:`relative ${Dn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:E.jsx(Mw,{size:40})}),E.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),E.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:r?"":""}),E.jsxs("div",{className:"w-full space-y-4 mb-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:E.jsx(mw,{size:18})}),E.jsx("input",{type:"email",value:c,onChange:w=>d(w.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:E.jsx(cw,{size:18})}),E.jsx("input",{type:"password",value:p,onChange:w=>g(w.target.value),placeholder:" ( 6 )",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),E.jsx("button",{onClick:_,disabled:i||!c||!p,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!c||!p?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:i?E.jsx(Cm,{className:"animate-spin"}):r?"":""}),E.jsx("button",{onClick:()=>l(!r),className:"mt-6 text-sm font-bold text-gray-500 hover:text-blue-600 transition-colors",children:r?"":""})]})]})},sN=({onClose:s,onImport:e,isLoading:i})=>{const[r,l]=Ve.useState("json"),[c,d]=Ve.useState(""),p=()=>{e(c,r)};return E.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Dn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(co,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[E.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),E.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?E.jsx("textarea",{value:c,onChange:g=>d(g.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):E.jsx("input",{type:"text",value:c,onChange:g=>d(g.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),E.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),E.jsx("button",{onClick:p,disabled:!c.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!c.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?E.jsxs(E.Fragment,{children:[E.jsx(Cm,{className:"animate-spin",size:16})," ..."]}):E.jsxs(E.Fragment,{children:[E.jsx(nw,{size:16})," "]})})]})]})]})},rN=({flights:s,onClose:e})=>E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),E.jsxs("div",{className:`relative ${Dn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(co,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?E.jsx("div",{className:"space-y-4",children:s.map((i,r)=>E.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[E.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:E.jsx(Wd,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),E.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[E.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),E.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),E.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),E.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),E.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),E.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[E.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),E.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:E.jsx(Wd,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),E.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),E.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&E.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):E.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[E.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),E.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),aN=({onClose:s,onAdd:e})=>{const[i,r]=Ve.useState(""),[l,c]=Ve.useState(""),[d,p]=Ve.useState(""),g=()=>{i.trim()&&e(i,l,d)};return E.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Dn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(co,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",children:E.jsx(Fl,{size:18})}),E.jsx("input",{type:"text",value:i,onChange:_=>r(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:E.jsx(Im,{size:18})}),E.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:E.jsx(Dv,{size:18})}),E.jsx("input",{type:"text",value:d,onChange:_=>p(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("button",{onClick:g,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(dh,{size:20,strokeWidth:3}),""]})]})]})]})},oN=({onClose:s,onAdd:e})=>{const[i,r]=Ve.useState(""),[l,c]=Ve.useState(""),d=()=>{i.trim()&&e(i,l)};return E.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Dn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(co,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500",children:E.jsx(Yr,{size:18})}),E.jsx("input",{type:"text",value:i,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(p=>E.jsx("button",{onClick:()=>c(p),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===p?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:p},p))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:E.jsx(Im,{size:18})}),E.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("button",{onClick:d,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(dh,{size:20,strokeWidth:3}),""]})]})]})]})},lN=({editingState:s,onClose:e,onSave:i})=>{const{type:r,data:l}=s,[c,d]=Ve.useState(l),p=r==="shopping",g=p?"pink":"blue",_=p?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",w=p?"text-pink-500":"text-blue-500",S=()=>{i(c)};return E.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),E.jsxs("div",{className:`relative ${Dn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(co,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:p?E.jsx(Fl,{size:18}):E.jsx(Yr,{size:18})}),E.jsx("input",{type:"text",value:c.item,onChange:k=>d({...c,item:k.target.value}),className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${g}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold`,autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:E.jsx(Im,{size:18})}),E.jsx("input",{type:"text",value:c.category||"",onChange:k=>d({...c,category:k.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${g}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),p&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:E.jsx(Dv,{size:18})}),E.jsx("input",{type:"text",value:c.note||"",onChange:k=>d({...c,note:k.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${g}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),E.jsxs("button",{onClick:S,disabled:!c.item.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${c.item.trim()?`${_} shadow-${g}-500/30 hover:shadow-${g}-500/50`:"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(Yr,{size:20,strokeWidth:3}),""]})]})]})]})},uN=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:r,setShowFlightModal:l,toggleShoppingItem:c,deleteShoppingItem:d,togglePackingItem:p,deletePackingItem:g,openEditModal:_,setShowTripListModal:w})=>E.jsxs("div",{className:"pb-32 animate-fade-in",children:[E.jsx(Vh,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:E.jsx("button",{onClick:()=>w(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:E.jsx(lw,{size:24,strokeWidth:2.5})}),setActiveTab:r}),E.jsxs("div",{className:"px-6 mt-6",children:[!e||!e.date||e.date==="----/--/--"?E.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[E.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),E.jsxs("p",{className:"text-sm text-gray-500",children:["",E.jsx("br",{}),"  "]})]}):E.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${Dn} rounded-[2.5rem] p-1 mb-8 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${Jd} relative`,children:[E.jsxs("div",{className:"relative h-64 rounded-[2rem] overflow-hidden shadow-inner",children:[E.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.themeColor||"from-gray-400 to-gray-600"} opacity-90`}),E.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse"}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px]",children:E.jsx("div",{className:"flex justify-between items-end",children:E.jsxs("div",{children:[E.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),E.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:e.destination||""}),E.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[E.jsx(Nv,{size:14,className:"mr-2"}),e.date||"--/--"]})]})})})]}),E.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),E.jsxs("div",{className:"flex items-baseline",children:[E.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(e.date)}),E.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),E.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:E.jsx($T,{size:28})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[E.jsxs("div",{onClick:()=>r("shopping"),className:`${Dn} ${Jd} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)]`,children:[E.jsx("div",{className:"bg-pink-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-pink-500 shadow-inner border border-white/50",children:E.jsx(Fl,{size:28})}),E.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),E.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[e&&e.shoppingList?e.shoppingList.filter(S=>!S.checked).length:0," "]})]}),E.jsxs("div",{onClick:()=>r("packing"),className:`${Dn} ${Jd} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)]`,children:[E.jsx("div",{className:"bg-blue-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-blue-500 shadow-inner border border-white/50",children:E.jsx(Yr,{size:28})}),E.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),E.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[e&&e.packingList?e.packingList.filter(S=>!S.checked).length:0," "]})]})]})]})]}),cN=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l})=>{const c=s&&s.days&&s.days.length>0?r(s):null;return E.jsxs("div",{className:"pb-32 animate-fade-in",children:[E.jsx(Vh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:E.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0,0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:E.jsx(Wd,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e}),E.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&E.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((d,p)=>E.jsxs("div",{className:"relative pl-4",children:[p!==s.days.length-1&&E.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),E.jsxs("div",{className:"flex items-center mb-6 sticky top-28 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[E.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),E.jsx("span",{className:"text-xl font-black leading-none",children:d.day})]}),E.jsx("div",{children:E.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:d.title})})]}),E.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:d.activities.map((g,_)=>{const w=c===g.id;return E.jsxs("div",{ref:S=>l.current[g.id]=S,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${w?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[E.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${w?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${g.type==="transport"?"bg-purple-400":g.type==="food"?"bg-orange-400":g.type==="shopping"?"bg-pink-400":g.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:w&&E.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:g.time}),w&&E.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),E.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[g.type==="sightseeing"&&E.jsx(QT,{size:14,className:"text-gray-500"}),g.type==="food"&&E.jsx(sw,{size:14,className:"text-gray-500"}),g.type==="transport"&&E.jsx(Cw,{size:14,className:"text-gray-500"}),g.type==="shopping"&&E.jsx(Fl,{size:14,className:"text-gray-500"}),g.type==="relax"&&E.jsx(Aw,{size:14,className:"text-gray-500"})]})]}),E.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight",children:g.title})]},_)})})]},p))]})]})},hN=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:r,deleteShoppingItem:l,openEditModal:c})=>E.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen",children:[E.jsx(Vh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e}),E.jsxs("div",{className:"px-6 mt-4",children:[E.jsxs("div",{className:`${Dn} rounded-[2.5rem] p-6 mb-8`,children:[E.jsxs("div",{className:"flex justify-between items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),E.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[s&&s.shoppingList?Math.round(s.shoppingList.filter(d=>d.checked).length/(s.shoppingList.length||1)*100):0,"%"]})]}),E.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:E.jsx(dh,{size:24,strokeWidth:3})})]}),E.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:E.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${s&&s.shoppingList?s.shoppingList.filter(d=>d.checked).length/(s.shoppingList.length||1)*100:0}%`}})})]}),E.jsx("div",{className:"space-y-4",children:s&&s.shoppingList&&s.shoppingList.map(d=>E.jsxs("div",{onClick:()=>r(d.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${d.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${d.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:E.jsx(Yr,{size:18,strokeWidth:3})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${d.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:d.item}),E.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[d.category&&E.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:d.category}),d.note&&E.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:d.note})]})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:p=>{p.stopPropagation(),c("shopping",d)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Ov,{size:18})}),E.jsx("button",{onClick:p=>{p.stopPropagation(),l(d.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Nm,{size:18})})]})]},d.id))})]})]}),fN=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:r,deletePackingItem:l,openEditModal:c})=>E.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen",children:[E.jsx(Vh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e}),E.jsxs("div",{className:"px-6 mt-4",children:[E.jsxs("div",{className:`${Dn} rounded-[2.5rem] p-6 mb-8`,children:[E.jsxs("div",{className:"flex justify-between items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),E.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[Math.round(s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0),"%"]})]}),E.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:E.jsx(dh,{size:24,strokeWidth:3})})]}),E.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:E.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0}%`}})})]}),E.jsx("div",{className:"space-y-4",children:s&&s.packingList&&s.packingList.map(d=>E.jsxs("div",{onClick:()=>r(d.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${d.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${d.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:E.jsx(Yr,{size:18,strokeWidth:3})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${d.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:d.item}),E.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:d.category})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:p=>{p.stopPropagation(),c("packing",d)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Ov,{size:18})}),E.jsx("button",{onClick:p=>{p.stopPropagation(),l(d.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Nm,{size:18})})]})]},d.id))})]})]}),dN=({activeTab:s,setActiveTab:e})=>E.jsx("div",{className:"fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none",children:E.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[E.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(aw,{size:24,strokeWidth:s==="home"?3:2})}),E.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(gw,{size:24,strokeWidth:s==="itinerary"?3:2})}),E.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(Fl,{size:24,strokeWidth:s==="shopping"?3:2})}),E.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(Yr,{size:24,strokeWidth:s==="packing"?3:2})})]})});function mN(){const[s,e]=Ve.useState("home"),[i,r]=Ve.useState(null),[l,c]=Ve.useState(!1),[d,p]=Ve.useState([]),[g,_]=Ve.useState(null),[w,S]=Ve.useState(!1),[k,G]=Ve.useState(!1),[W,ne]=Ve.useState(!1),[J,he]=Ve.useState(!1),[be,me]=Ve.useState(!1),[Ke,Ye]=Ve.useState(!1),[Ie,I]=Ve.useState(null),[A,x]=Ve.useState({show:!1,message:"",type:"success"}),[M,N]=Ve.useState({show:!1,title:"",message:"",onConfirm:null}),L=Ve.useRef({}),R=(oe,ye="success")=>{x({show:!0,message:oe,type:ye})};Ve.useEffect(()=>{if(!Xa)return;const oe=zC(Xa,ye=>{r(ye),ye&&R(` ${ye.email}`),c(!0)});return()=>oe()},[]);const at=async(oe,ye)=>{S(!0);try{await jC(Xa,oe,ye)}catch(fe){console.error(fe);let Ae="";fe.code==="auth/invalid-credential"&&(Ae=""),fe.code==="auth/user-not-found"&&(Ae=""),fe.code==="auth/wrong-password"&&(Ae=""),R(Ae,"error")}finally{S(!1)}},Et=async(oe,ye)=>{S(!0);try{await LC(Xa,oe,ye),R("")}catch(fe){console.error(fe);let Ae="";fe.code==="auth/email-already-in-use"&&(Ae=" Email "),fe.code==="auth/weak-password"&&(Ae=" (6)"),R(Ae,"error")}finally{S(!1)}},H=async()=>{N({show:!0,title:"",message:"",onConfirm:async()=>{await BC(Xa),p([]),_(null),R(""),N({...M,show:!1})}})};Ve.useEffect(()=>{if(!i||!rs)return;const oe=iv(rs,"users",i.uid,"trips"),ye=jx(oe,fe=>{const Ae=fe.docs.map(ft=>({id:ft.id,...ft.data()}));Ae.sort((ft,tn)=>{const Lt=new Date(ft.date).getTime()||0,$e=new Date(tn.date).getTime()||0;return Lt-$e}),p(Ae),Ae.length>0?_(ft=>ft&&Ae.find(tn=>tn.id===ft)?ft:Ae[0].id):_(null)},fe=>{console.error("Firestore Error:",fe),R("","error")});return()=>ye()},[i]);const Z=d.find(oe=>oe.id===g)||null,ae=async oe=>{if(!rs||!i||!g)return;const ye=bm(rs,"users",i.uid,"trips",g),fe=oe(Z);try{await kx(ye,fe)}catch(Ae){console.error("Save failed",Ae),R("","error")}},Ue=oe=>{N({show:!0,title:"",message:"",onConfirm:()=>{Fe(oe),N({...M,show:!1})}})},Fe=async oe=>{if(!(!rs||!i))try{await Vx(bm(rs,"users",i.uid,"trips",oe)),R("")}catch(ye){console.error("Delete failed",ye),R("","error")}},O=async(oe,ye)=>{if(!rs||!i)return;S(!0);const fe=new Promise(Ae=>setTimeout(()=>Ae("timeout"),8e3));try{let Ae=[];if(ye==="url"){const Lt=await fetch(oe);if(!Lt.ok)throw new Error("Network error");const $e=await Lt.json();Ae=Array.isArray($e)?$e:[$e]}else{const Lt=JSON.parse(oe);Ae=Array.isArray(Lt)?Lt:[Lt]}const ft=iv(rs,"users",i.uid,"trips"),tn=Promise.all(Ae.map(async Lt=>{const{id:$e,...gt}=Lt,En={...eN,...gt};await Lx(ft,En)}));await Promise.race([tn,fe]),me(!1),Ye(!1),R(` ${Ae.length} `)}catch(Ae){console.error("Import failed",Ae),R("","error")}finally{S(!1)}},K=oe=>ae(ye=>({...ye,packingList:(ye.packingList||[]).map(fe=>fe.id===oe?{...fe,checked:!fe.checked}:fe)})),te=oe=>ae(ye=>({...ye,packingList:(ye.packingList||[]).filter(fe=>fe.id!==oe)})),ie=(oe,ye)=>{oe.trim()&&(ae(fe=>({...fe,packingList:[...fe.packingList||[],{id:Date.now(),item:oe,checked:!1,category:ye||""}]})),he(!1),R(""))},ge=oe=>ae(ye=>({...ye,shoppingList:(ye.shoppingList||[]).map(fe=>fe.id===oe?{...fe,checked:!fe.checked}:fe)})),Te=oe=>ae(ye=>({...ye,shoppingList:(ye.shoppingList||[]).filter(fe=>fe.id!==oe)})),Oe=(oe,ye,fe)=>{oe.trim()&&(ae(Ae=>({...Ae,shoppingList:[...Ae.shoppingList||[],{id:Date.now(),item:oe,category:ye||"",note:fe,checked:!1}]})),ne(!1),R(""))},pt=(oe,ye)=>I({type:oe,data:{...ye}}),ot=oe=>{if(!Ie)return;const{type:ye}=Ie,fe=ye==="shopping"?"shoppingList":"packingList";ae(Ae=>({...Ae,[fe]:(Ae[fe]||[]).map(ft=>ft.id===oe.id?oe:ft)})),I(null),R("")},Pi=oe=>{if(!oe||oe==="----/--/--")return 0;const ye=new Date,Ae=new Date(oe)-ye;return Math.ceil(Ae/(1e3*60*60*24))>0?Math.ceil(Ae/(1e3*60*60*24)):0},Ui=oe=>{if(!oe||!oe.days)return null;const ye=new Date;let fe=null,Ae=1/0;return oe.days.forEach(ft=>{const tn=new Date(oe.date);tn.setDate(tn.getDate()+(ft.day-1)),ye.toDateString()===tn.toDateString()&&ft.activities.forEach(Lt=>{const[$e,gt]=Lt.time.split(":"),En=new Date(tn);En.setHours($e,gt,0,0);const mr=ye-En;mr>=0&&mr<Ae&&(Ae=mr,fe=Lt.id)})}),fe};return Ve.useEffect(()=>{if(s==="itinerary"&&Z&&Z.days){const oe=Ui(Z);oe&&L.current[oe]&&setTimeout(()=>{L.current[oe].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Z]),l?i?E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[E.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),E.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),E.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),E.jsxs("div",{className:"relative z-10",children:[A.show&&E.jsx(Cv,{message:A.message,type:A.type,onClose:()=>x({...A,show:!1})}),M.show&&E.jsx(tN,{title:M.title,message:M.message,onConfirm:M.onConfirm,onCancel:()=>N({...M,show:!1})}),k&&E.jsx(rN,{onClose:()=>G(!1),flights:Z?Z.flights:[]}),W&&E.jsx(aN,{onClose:()=>ne(!1),onAdd:Oe}),J&&E.jsx(oN,{onClose:()=>he(!1),onAdd:ie}),be&&E.jsx(sN,{onClose:()=>me(!1),onImport:O,isLoading:w}),Ie&&E.jsx(lN,{editingState:Ie,onClose:()=>I(null),onSave:ot}),Ke&&E.jsx(nN,{trips:d,activeTripId:g,onSelectTrip:oe=>{_(oe),Ye(!1),e("home")},onDeleteTrip:Ue,onOpenImport:()=>me(!0),onClose:()=>Ye(!1),userEmail:i.email,onLogout:H}),s==="home"&&E.jsx(uN,{trips:d,currentTrip:Z,calculateDaysLeft:Pi,setActiveTab:e,setShowFlightModal:G,toggleShoppingItem:ge,deleteShoppingItem:Te,togglePackingItem:K,deletePackingItem:te,openEditModal:pt,setShowTripListModal:Ye}),s==="itinerary"&&E.jsx(cN,{currentTrip:Z,setActiveTab:e,setShowFlightModal:G,getCurrentActivityId:Ui,activityRefs:L}),s==="shopping"&&E.jsx(hN,{currentTrip:Z,setActiveTab:e,setShowAddShoppingModal:ne,toggleShoppingItem:ge,deleteShoppingItem:Te,openEditModal:pt}),s==="packing"&&E.jsx(fN,{currentTrip:Z,setActiveTab:e,setShowAddPackingModal:he,togglePackingItem:K,deletePackingItem:te,openEditModal:pt}),E.jsx(dN,{activeTab:s,setActiveTab:e})]})]}):E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[A.show&&E.jsx(Cv,{message:A.message,type:A.type,onClose:()=>x({...A,show:!1})}),E.jsx(iN,{onLogin:at,onRegister:Et,isLoading:w})]}):E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[E.jsx(Cm,{className:"animate-spin text-gray-600 mb-4",size:32}),E.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}PT.createRoot(document.getElementById("root")).render(E.jsx(Ve.StrictMode,{children:E.jsx(mN,{})}));
