(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},Sl={};var z0;function CT(){if(z0)return Sl;z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Sl.Fragment=e,Sl.jsx=i,Sl.jsxs=i,Sl}var B0;function IT(){return B0||(B0=1,kd.exports=CT()),kd.exports}var E=IT(),Vd={exports:{}},Se={};var q0;function NT(){if(q0)return Se;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,J={};function de(O,K,ee){this.props=O,this.context=K,this.refs=J,this.updater=ee||Z}de.prototype.isReactComponent={},de.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},de.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function be(){}be.prototype=de.prototype;function ge(O,K,ee){this.props=O,this.context=K,this.refs=J,this.updater=ee||Z}var qe=ge.prototype=new be;qe.constructor=ge,ne(qe,de.prototype),qe.isPureReactComponent=!0;var et=Array.isArray;function Ne(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,K,ee){var ie=ee.ref;return{$$typeof:s,type:O,key:K,ref:ie!==void 0?ie:null,props:ee}}function k(O,K){return R(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ee){return K[ee]})}var x=/\/+/g;function lt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):K.toString(36)}function Ke(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ne,Ne):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,ee,ie,Ee){var Te=typeof O;(Te==="undefined"||Te==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(Te){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case s:case e:Me=!0;break;case w:return Me=O._init,H(Me(O._payload),K,ee,ie,Ee)}}if(Me)return Ee=Ee(O),Me=ie===""?"."+lt(O,0):ie,et(Ee)?(ee="",Me!=null&&(ee=Me.replace(x,"$&/")+"/"),H(Ee,K,ee,"",function(Mn){return Mn})):Ee!=null&&(N(Ee)&&(Ee=k(Ee,ee+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Me)),K.push(Ee)),1;Me=0;var bt=ie===""?".":ie+":";if(et(O))for(var at=0;at<O.length;at++)ie=O[at],Te=bt+lt(ie,at),Me+=H(ie,K,ee,Te,Ee);else if(at=F(O),typeof at=="function")for(O=at.call(O),at=0;!(ie=O.next()).done;)ie=ie.value,Te=bt+lt(ie,at++),Me+=H(ie,K,ee,Te,Ee);else if(Te==="object"){if(typeof O.then=="function")return H(Ke(O),K,ee,ie,Ee);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Me}function te(O,K,ee){if(O==null)return O;var ie=[],Ee=0;return H(O,ie,"","",function(Te){return K.call(ee,Te,Ee++)}),ie}function ce(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=ee)},function(ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=ee)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ue=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:te,forEach:function(O,K,ee){te(O,function(){K.apply(this,arguments)},ee)},count:function(O){var K=0;return te(O,function(){K++}),K},toArray:function(O){return te(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=S,Se.Children=He,Se.Component=de,Se.Fragment=i,Se.Profiler=l,Se.PureComponent=ge,Se.StrictMode=a,Se.Suspense=_,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,K,ee){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=ne({},O.props),Ee=O.key;if(K!=null)for(Te in K.key!==void 0&&(Ee=""+K.key),K)!A.call(K,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&K.ref===void 0||(ie[Te]=K[Te]);var Te=arguments.length-2;if(Te===1)ie.children=ee;else if(1<Te){for(var Me=Array(Te),bt=0;bt<Te;bt++)Me[bt]=arguments[bt+2];ie.children=Me}return R(O.type,Ee,ie)},Se.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,K,ee){var ie,Ee={},Te=null;if(K!=null)for(ie in K.key!==void 0&&(Te=""+K.key),K)A.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(Ee[ie]=K[ie]);var Me=arguments.length-2;if(Me===1)Ee.children=ee;else if(1<Me){for(var bt=Array(Me),at=0;at<Me;at++)bt[at]=arguments[at+2];Ee.children=bt}if(O&&O.defaultProps)for(ie in Me=O.defaultProps,Me)Ee[ie]===void 0&&(Ee[ie]=Me[ie]);return R(O,Te,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:g,render:O}},Se.isValidElement=N,Se.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ce}},Se.memo=function(O,K){return{$$typeof:p,type:O,compare:K===void 0?null:K}},Se.startTransition=function(O){var K=I.T,ee={};I.T=ee;try{var ie=O(),Ee=I.S;Ee!==null&&Ee(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ne,Ue)}catch(Te){Ue(Te)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),I.T=K}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(O){return I.H.use(O)},Se.useActionState=function(O,K,ee){return I.H.useActionState(O,K,ee)},Se.useCallback=function(O,K){return I.H.useCallback(O,K)},Se.useContext=function(O){return I.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Se.useEffect=function(O,K){return I.H.useEffect(O,K)},Se.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(O,K,ee){return I.H.useImperativeHandle(O,K,ee)},Se.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Se.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Se.useMemo=function(O,K){return I.H.useMemo(O,K)},Se.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Se.useReducer=function(O,K,ee){return I.H.useReducer(O,K,ee)},Se.useRef=function(O){return I.H.useRef(O)},Se.useState=function(O){return I.H.useState(O)},Se.useSyncExternalStore=function(O,K,ee){return I.H.useSyncExternalStore(O,K,ee)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.0",Se}var H0;function Rm(){return H0||(H0=1,Vd.exports=NT()),Vd.exports}var Ie=Rm(),Ld={exports:{}},Al={},jd={exports:{}},Pd={};var G0;function DT(){return G0||(G0=1,(function(s){function e(H,te){var ce=H.length;H.push(te);e:for(;0<ce;){var Ue=ce-1>>>1,He=H[Ue];if(0<l(He,te))H[Ue]=te,H[ce]=He,ce=Ue;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var te=H[0],ce=H.pop();if(ce!==te){H[0]=ce;e:for(var Ue=0,He=H.length,O=He>>>1;Ue<O;){var K=2*(Ue+1)-1,ee=H[K],ie=K+1,Ee=H[ie];if(0>l(ee,ce))ie<He&&0>l(Ee,ee)?(H[Ue]=Ee,H[ie]=ce,Ue=ie):(H[Ue]=ee,H[K]=ce,Ue=K);else if(ie<He&&0>l(Ee,ce))H[Ue]=Ee,H[ie]=ce,Ue=ie;else break e}}return te}function l(H,te){var ce=H.sortIndex-te.sortIndex;return ce!==0?ce:H.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],p=[],w=1,S=null,M=3,F=!1,Z=!1,ne=!1,J=!1,de=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function qe(H){for(var te=i(p);te!==null;){if(te.callback===null)a(p);else if(te.startTime<=H)a(p),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(p)}}function et(H){if(ne=!1,qe(H),!Z)if(i(_)!==null)Z=!0,Ne||(Ne=!0,V());else{var te=i(p);te!==null&&Ke(et,te.startTime-H)}}var Ne=!1,I=-1,A=5,R=-1;function k(){return J?!0:!(s.unstable_now()-R<A)}function N(){if(J=!1,Ne){var H=s.unstable_now();R=H;var te=!0;try{e:{Z=!1,ne&&(ne=!1,be(I),I=-1),F=!0;var ce=M;try{t:{for(qe(H),S=i(_);S!==null&&!(S.expirationTime>H&&k());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,M=S.priorityLevel;var He=Ue(S.expirationTime<=H);if(H=s.unstable_now(),typeof He=="function"){S.callback=He,qe(H),te=!0;break t}S===i(_)&&a(_),qe(H)}else a(_);S=i(_)}if(S!==null)te=!0;else{var O=i(p);O!==null&&Ke(et,O.startTime-H),te=!1}}break e}finally{S=null,M=ce,F=!1}te=void 0}}finally{te?V():Ne=!1}}}var V;if(typeof ge=="function")V=function(){ge(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,lt=x.port2;x.port1.onmessage=N,V=function(){lt.postMessage(null)}}else V=function(){de(N,0)};function Ke(H,te){I=de(function(){H(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var te=3;break;default:te=M}var ce=M;M=te;try{return H()}finally{M=ce}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=M;M=H;try{return te()}finally{M=ce}},s.unstable_scheduleCallback=function(H,te,ce){var Ue=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ue+ce:Ue):ce=Ue,H){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ce+He,H={id:w++,callback:te,priorityLevel:H,startTime:ce,expirationTime:He,sortIndex:-1},ce>Ue?(H.sortIndex=ce,e(p,H),i(_)===null&&H===i(p)&&(ne?(be(I),I=-1):ne=!0,Ke(et,ce-Ue))):(H.sortIndex=He,e(_,H),Z||F||(Z=!0,Ne||(Ne=!0,V()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var te=M;return function(){var ce=M;M=te;try{return H.apply(this,arguments)}finally{M=ce}}}})(Pd)),Pd}var F0;function OT(){return F0||(F0=1,jd.exports=DT()),jd.exports}var Ud={exports:{}},nn={};var Q0;function MT(){if(Q0)return nn;Q0=1;var s=Rm();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:p,implementation:w}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,w)},nn.flushSync=function(_){var p=d.T,w=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=p,a.p=w,a.d.f()}},nn.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var w=p.as,S=g(w,p.crossOrigin),M=typeof p.integrity=="string"?p.integrity:void 0,F=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):w==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=g(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},nn.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,S=g(w,p.crossOrigin);a.d.L(_,w,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(_,p){if(typeof _=="string")if(p){var w=g(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,p){return _(p)},nn.useFormState=function(_,p,w){return d.H.useFormState(_,p,w)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var K0;function kT(){if(K0)return Ud.exports;K0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=MT(),Ud.exports}var Y0;function VT(){if(Y0)return Al;Y0=1;var s=OT(),e=Rm(),i=kT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var y=!1,b=h.child;b;){if(b===r){y=!0,r=h,o=f;break}if(b===o){y=!0,o=h,r=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===r){y=!0,r=f,o=h;break}if(b===o){y=!0,o=f,r=h;break}b=b.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function w(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=w(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case de:return"Profiler";case J:return"StrictMode";case et:return"Suspense";case Ne:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case ge:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case qe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var Ke=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ue=[],He=-1;function O(t){return{current:t}}function K(t){0>He||(t.current=Ue[He],Ue[He]=null,He--)}function ee(t,n){He++,Ue[He]=t.current,t.current=n}var ie=O(null),Ee=O(null),Te=O(null),Me=O(null);function bt(t,n){switch(ee(Te,n),ee(Ee,t),ee(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?u0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=u0(n),t=c0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ie),ee(ie,t)}function at(){K(ie),K(Ee),K(Te)}function Mn(t){t.memoizedState!==null&&ee(Me,t);var n=ie.current,r=c0(n,t.type);n!==r&&(ee(Ee,t),ee(ie,r))}function fi(t){Ee.current===t&&(K(ie),K(Ee)),Me.current===t&&(K(Me),El._currentValue=ce)}var Xn,Gi;function cn(t){if(Xn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xn=n&&n[1]||"",Gi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+t+Gi}var vs=!1;function bn(t,n){if(!t||vs)return"";vs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var C=y.split(`
`),U=b.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{vs=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?cn(r):""}function Tn(t,n){switch(t.tag){case 26:case 27:case 5:return cn(t.type);case 16:return cn("Lazy");case 13:return t.child!==n&&n!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return bn(t.type,!1);case 11:return bn(t.type.render,!1);case 1:return bn(t.type,!0);case 31:return cn("Activity");default:return""}}function br(t){try{var n="",r=null;do n+=Tn(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Tt=s.unstable_scheduleCallback,di=s.unstable_cancelCallback,re=s.unstable_shouldYield,pe=s.unstable_requestPaint,ue=s.unstable_now,ye=s.unstable_getCurrentPriorityLevel,ut=s.unstable_ImmediatePriority,pt=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,hn=s.unstable_LowPriority,Es=s.unstable_IdlePriority,Fi=s.log,bs=s.unstable_setDisableYieldValue,$n=null,Kt=null;function kn(t){if(typeof Fi=="function"&&bs(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode($n,t)}catch{}}var wt=Math.clz32?Math.clz32:ou,au=Math.log,ua=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(au(t)/ua|0)|0}var mi=256,Tr=262144,Ct=4194304;function gi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=gi(o):(y&=b,y!==0?h=gi(y):r||(r=b&~t,r!==0&&(h=gi(r))))):(b=o&~f,b!==0?h=gi(b):y!==0?h=gi(y):r||(r=o&~t,r!==0&&(h=gi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),t}function yi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function wr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,r,o,h,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-wt(r),Y=1<<G;b[G]=0,C[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&Sr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Sr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-wt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Ao(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-wt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Ro(t,n){var r=n&-n;return r=(r&42)!==0?1:Ar(r),(r&(t.suspendedLanes|n))!==0?0:r}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:M0(t.type))}function Zn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var Wn=Math.random().toString(36).slice(2),It="__reactFiber$"+Wn,qt="__reactProps$"+Wn,_i="__reactContainer$"+Wn,ca="__reactEvents$"+Wn,Uh="__reactListeners$"+Wn,cu="__reactHandles$"+Wn,hu="__reactResources$"+Wn,vi="__reactMarker$"+Wn;function ha(t){delete t[It],delete t[qt],delete t[ca],delete t[Uh],delete t[cu]}function Ei(t){var n=t[It];if(n)return n;for(var r=t.parentNode;r;){if(n=r[_i]||r[It]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=y0(t);t!==null;){if(r=t[It])return r;t=y0(t)}return n}t=r,r=t.parentNode}return null}function Vn(t){if(t=t[It]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function bi(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[vi]=!0}var xo=new Set,Co={};function Ti(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Co[t]=n,t=0;t<n.length;t++)xo.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Do={};function fu(t){return _t.call(Do,t)?!0:_t.call(No,t)?!1:Io.test(t)?Do[t]=!0:(No[t]=!0,!1)}function fa(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Sn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Dt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=Ts(t)?"checked":"value";t._valueTracker=Oo(t,n,""+t[n])}}function Rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ts(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function fn(t){return t.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,r,o,h,f,y,b){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Mo(t,y,Ht(n)):r!=null?Mo(t,y,Ht(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ht(b):t.removeAttribute("name")}function du(t,n,r,o,h,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}r=r!=null?""+Ht(r):"",n=n!=null?""+Ht(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Je(t)}function Mo(t,n,r){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ws(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,r){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ht(r):""}function Ss(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ke(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ht(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Je(t)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Vo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ko(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Lo=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ai=null;function Cr(t){var n=Vn(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[qt]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Rr(o)}break e;case"textarea":mu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ws(t,!!r.multiple,n,!1)}}}var pa=!1;function xs(t,n,r){if(pa)return t(n,r);pa=!0;try{var o=t(n);return o}finally{if(pa=!1,(Rs!==null||Ai!==null)&&(uc(),Rs&&(n=Rs,t=Ai,Ai=Rs=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function ti(t,n){var r=t.stateNode;if(r===null)return null;var o=r[qt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(jn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Ir=!1}var Ri=null,jo=null,Nr=null;function Po(){if(Nr)return Nr;var t,n=jo,r=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(o=1;o<=y&&n[r-o]===h[f-o];o++);return Nr=h.slice(t,1<o?1-o:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ni(){return!1}function Yt(t){function n(r,o,h,f,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Yt(Yi),Cs=S({},Yi,{view:0,detail:0}),Uo=Yt(Cs),Is,ya,Ci,_a=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Is=t.screenX-Ci.screenX,ya=t.screenY-Ci.screenY):ya=Is=0,Ci=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),zo=Yt(_a),Or=S({},_a,{dataTransfer:0}),yu=Yt(Or),_u=S({},Cs,{relatedTarget:0}),Mr=Yt(_u),Bo=S({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Yt(Bo),va=S({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Yt(va),bu=S({},Yi,{data:0}),Ii=Yt(bu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Ns(){return Au}var ln=S({},Cs,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Yt(ln),xu=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Yt(xu),u=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=Yt(u),v=S({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Yt(v),j=S({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Yt(j),W=S({},Yi,{newState:0,oldState:0}),Re=Yt(W),St=[9,13,27,32],Ye=jn&&"CompositionEvent"in window,mt=null;jn&&"documentMode"in document&&(mt=document.documentMode);var Pn=jn&&"TextEvent"in window&&!mt,Ni=jn&&(!Ye||mt&&8<mt&&11>=mt),ii=" ",si=!1;function kr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function ZE(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function WE(t,n){if(ba)return t==="compositionend"||!Ye&&kr(t,n)?(t=Po(),Nr=jo=Ri=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eb[t.type]:n==="textarea"}function bg(t,n,r,o){Rs?Ai?Ai.push(o):Ai=[o]:Rs=o,n=pc(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var qo=null,Ho=null;function tb(t){i0(t,0)}function Cu(t){var n=wn(t);if(Rr(n))return t}function Tg(t,n){if(t==="change")return n}var wg=!1;if(jn){var zh;if(jn){var Bh="oninput"in document;if(!Bh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Bh=typeof Sg.oninput=="function"}zh=Bh}else zh=!1;wg=zh&&(!document.documentMode||9<document.documentMode)}function Ag(){qo&&(qo.detachEvent("onpropertychange",Rg),Ho=qo=null)}function Rg(t){if(t.propertyName==="value"&&Cu(Ho)){var n=[];bg(n,Ho,t,Ln(t)),xs(tb,n)}}function nb(t,n,r){t==="focusin"?(Ag(),qo=n,Ho=r,qo.attachEvent("onpropertychange",Rg)):t==="focusout"&&Ag()}function ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Ho)}function sb(t,n){if(t==="click")return Cu(n)}function rb(t,n){if(t==="input"||t==="change")return Cu(n)}function ab(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:ab;function Go(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!_t.call(n,h)||!An(t[h],n[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,n){var r=xg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xg(r)}}function Ig(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ig(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Si(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ob=jn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Hh=null,Fo=null,Gh=!1;function Dg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Ta==null||Ta!==Si(o)||(o=Ta,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Go(Fo,o)||(Fo=o,o=pc(Hh,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ta)))}function Vr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var wa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Fh={},Og={};jn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Lr(t){if(Fh[t])return Fh[t];if(!wa[t])return t;var n=wa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Og)return Fh[t]=n[r];return t}var Mg=Lr("animationend"),kg=Lr("animationiteration"),Vg=Lr("animationstart"),lb=Lr("transitionrun"),ub=Lr("transitionstart"),cb=Lr("transitioncancel"),Lg=Lr("transitionend"),jg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ri(t,n){jg.set(t,n),Ti(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Sa=0,Kh=0;function Nu(){for(var t=Sa,n=Kh=Sa=0;n<t;){var r=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Pg(r,h,f)}}function Du(t,n,r,o){Un[Sa++]=t,Un[Sa++]=n,Un[Sa++]=r,Un[Sa++]=o,Kh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Yh(t,n,r,o){return Du(t,n,r,o),Ou(t)}function jr(t,n){return Du(t,null,null,n),Ou(t)}function Pg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-wt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Ou(t){if(50<dl)throw dl=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function hb(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,o){return new hb(t,n,r,o)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ug(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,o,h,f){var y=0;if(o=t,typeof t=="function")Xh(t)&&(y=1);else if(typeof t=="string")y=pT(t,r,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Rn(31,r,n,h),t.elementType=R,t.lanes=f,t;case ne:return Pr(r.children,h,f,n);case J:y=8,h|=24;break;case de:return t=Rn(12,r,n,h|2),t.elementType=de,t.lanes=f,t;case et:return t=Rn(13,r,n,h),t.elementType=et,t.lanes=f,t;case Ne:return t=Rn(19,r,n,h),t.elementType=Ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:y=10;break e;case be:y=9;break e;case qe:y=11;break e;case I:y=14;break e;case A:y=16,o=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Rn(y,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Pr(t,n,r,o){return t=Rn(7,t,o,n),t.lanes=r,t}function $h(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function zg(t){var n=Rn(18,null,null,0);return n.stateNode=t,n}function Jh(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Bg=new WeakMap;function zn(t,n){if(typeof t=="object"&&t!==null){var r=Bg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:br(n)},Bg.set(t,n),n)}return{value:t,source:n,stack:br(n)}}var Ra=[],xa=0,ku=null,Qo=0,Bn=[],qn=0,Ds=null,Di=1,Oi="";function Ji(t,n){Ra[xa++]=Qo,Ra[xa++]=ku,ku=t,Qo=n}function qg(t,n,r){Bn[qn++]=Di,Bn[qn++]=Oi,Bn[qn++]=Ds,Ds=t;var o=Di;t=Oi;var h=32-wt(o)-1;o&=~(1<<h),r+=1;var f=32-wt(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Di=1<<32-wt(n)+h|r<<h|o,Oi=f+t}else Di=1<<f|r<<h|o,Oi=t}function Zh(t){t.return!==null&&(Ji(t,1),qg(t,1,0))}function Wh(t){for(;t===ku;)ku=Ra[--xa],Ra[xa]=null,Qo=Ra[--xa],Ra[xa]=null;for(;t===Ds;)Ds=Bn[--qn],Bn[qn]=null,Oi=Bn[--qn],Bn[qn]=null,Di=Bn[--qn],Bn[qn]=null}function Hg(t,n){Bn[qn++]=Di,Bn[qn++]=Oi,Bn[qn++]=Ds,Di=n.id,Oi=n.overflow,Ds=t}var Xt=null,ct=null,ze=!1,Os=null,Hn=!1,ef=Error(a(519));function Ms(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(zn(n,t)),ef}function Gg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[It]=t,n[qt]=o,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(r=0;r<gl.length;r++)Oe(gl[r],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Ss(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||o0(n.textContent,r)?(o.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),o.onScroll!=null&&Oe("scroll",n),o.onScrollEnd!=null&&Oe("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ms(t,!0)}function Fg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xt=Xt.return}}function Ca(t){if(t!==Xt)return!1;if(!ze)return Fg(t),ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&ct&&Ms(t),Fg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=p0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=p0(t)}else n===27?(n=ct,Ks(t.type)?(t=Sd,Sd=null,ct=t):ct=n):ct=Xt?Fn(t.stateNode.nextSibling):null;return!0}function Ur(){ct=Xt=null,ze=!1}function tf(){var t=Os;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Os=null),t}function Ko(t){Os===null?Os=[t]:Os.push(t)}var nf=O(null),zr=null,Zi=null;function ks(t,n,r){ee(nf,n._currentValue),n._currentValue=r}function Wi(t){t._currentValue=nf.current,K(nf)}function sf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var C=0;C<n.length;C++)if(b.context===n[C]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),sf(f.return,r,t),o||(y=null);break e}f=b.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),sf(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ia(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var b=h.type;An(h.pendingProps.value,y.value)||(t!==null?t.push(b):t=[b])}}else if(h===Me.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&rf(n,t,r,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Qg(zr,t)}function Lu(t,n){return zr===null&&Br(t),Qg(t,n)}function Qg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zi=Zi.next=n;return r}var fb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},db=s.unstable_scheduleCallback,mb=s.unstable_NormalPriority,Ot={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new fb,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&db(mb,function(){t.controller.abort()})}var Xo=null,of=0,Na=0,Da=null;function gb(t,n){if(Xo===null){var r=Xo=[];of=0,Na=cd(),Da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Kg,Kg),n}function Kg(){if(--of===0&&Xo!==null){Da!==null&&(Da.status="fulfilled");var t=Xo;Xo=null,Na=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pb(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Yg=H.S;H.S=function(t,n){Dy=ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gb(t,n),Yg!==null&&Yg(t,n)};var qr=O(null);function lf(){var t=qr.current;return t!==null?t:ot.pooledCache}function ju(t,n){n===null?ee(qr,qr.current):ee(qr,n.pool)}function Xg(){var t=lf();return t===null?null:{parent:Ot._currentValue,pool:t}}var Oa=Error(a(460)),uf=Error(a(474)),Pu=Error(a(542)),Uu={then:function(){}};function $g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ei,ei),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wg(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wg(t),t}throw Gr=n,Oa}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Gr=r,Oa):r}}var Gr=null;function Zg(){if(Gr===null)throw Error(a(459));var t=Gr;return Gr=null,t}function Wg(t){if(t===Oa||t===Pu)throw Error(a(483))}var Ma=null,$o=0;function zu(t){var n=$o;return $o+=1,Ma===null&&(Ma=[]),Jg(Ma,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ep(t){function n(L,D){if(t){var P=L.deletions;P===null?(L.deletions=[D],L.flags|=16):P.push(D)}}function r(L,D){if(!t)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function o(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=$i(L,D),L.index=0,L.sibling=null,L}function f(L,D,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<D?(L.flags|=67108866,D):P):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function y(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,D,P,Q){return D===null||D.tag!==6?(D=$h(P,L.mode,Q),D.return=L,D):(D=h(D,P),D.return=L,D)}function C(L,D,P,Q){var he=P.type;return he===ne?G(L,D,P.props.children,Q,P.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Hr(he)===D.type)?(D=h(D,P.props),Jo(D,P),D.return=L,D):(D=Mu(P.type,P.key,P.props,null,L.mode,Q),Jo(D,P),D.return=L,D)}function U(L,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Jh(P,L.mode,Q),D.return=L,D):(D=h(D,P.children||[]),D.return=L,D)}function G(L,D,P,Q,he){return D===null||D.tag!==7?(D=Pr(P,L.mode,Q,he),D.return=L,D):(D=h(D,P),D.return=L,D)}function Y(L,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,L.mode,P),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Mu(D.type,D.key,D.props,null,L.mode,P),Jo(P,D),P.return=L,P;case Z:return D=Jh(D,L.mode,P),D.return=L,D;case A:return D=Hr(D),Y(L,D,P)}if(Ke(D)||V(D))return D=Pr(D,L.mode,P,null),D.return=L,D;if(typeof D.then=="function")return Y(L,zu(D),P);if(D.$$typeof===ge)return Y(L,Lu(L,D),P);Bu(L,D)}return null}function z(L,D,P,Q){var he=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return he!==null?null:b(L,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===he?C(L,D,P,Q):null;case Z:return P.key===he?U(L,D,P,Q):null;case A:return P=Hr(P),z(L,D,P,Q)}if(Ke(P)||V(P))return he!==null?null:G(L,D,P,Q,null);if(typeof P.then=="function")return z(L,D,zu(P),Q);if(P.$$typeof===ge)return z(L,D,Lu(L,P),Q);Bu(L,P)}return null}function q(L,D,P,Q,he){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(P)||null,b(D,L,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return L=L.get(Q.key===null?P:Q.key)||null,C(D,L,Q,he);case Z:return L=L.get(Q.key===null?P:Q.key)||null,U(D,L,Q,he);case A:return Q=Hr(Q),q(L,D,P,Q,he)}if(Ke(Q)||V(Q))return L=L.get(P)||null,G(D,L,Q,he,null);if(typeof Q.then=="function")return q(L,D,P,zu(Q),he);if(Q.$$typeof===ge)return q(L,D,P,Lu(D,Q),he);Bu(D,Q)}return null}function ae(L,D,P,Q){for(var he=null,Ge=null,oe=D,Ce=D=0,Ve=null;oe!==null&&Ce<P.length;Ce++){oe.index>Ce?(Ve=oe,oe=null):Ve=oe.sibling;var Fe=z(L,oe,P[Ce],Q);if(Fe===null){oe===null&&(oe=Ve);break}t&&oe&&Fe.alternate===null&&n(L,oe),D=f(Fe,D,Ce),Ge===null?he=Fe:Ge.sibling=Fe,Ge=Fe,oe=Ve}if(Ce===P.length)return r(L,oe),ze&&Ji(L,Ce),he;if(oe===null){for(;Ce<P.length;Ce++)oe=Y(L,P[Ce],Q),oe!==null&&(D=f(oe,D,Ce),Ge===null?he=oe:Ge.sibling=oe,Ge=oe);return ze&&Ji(L,Ce),he}for(oe=o(oe);Ce<P.length;Ce++)Ve=q(oe,L,Ce,P[Ce],Q),Ve!==null&&(t&&Ve.alternate!==null&&oe.delete(Ve.key===null?Ce:Ve.key),D=f(Ve,D,Ce),Ge===null?he=Ve:Ge.sibling=Ve,Ge=Ve);return t&&oe.forEach(function(Zs){return n(L,Zs)}),ze&&Ji(L,Ce),he}function me(L,D,P,Q){if(P==null)throw Error(a(151));for(var he=null,Ge=null,oe=D,Ce=D=0,Ve=null,Fe=P.next();oe!==null&&!Fe.done;Ce++,Fe=P.next()){oe.index>Ce?(Ve=oe,oe=null):Ve=oe.sibling;var Zs=z(L,oe,Fe.value,Q);if(Zs===null){oe===null&&(oe=Ve);break}t&&oe&&Zs.alternate===null&&n(L,oe),D=f(Zs,D,Ce),Ge===null?he=Zs:Ge.sibling=Zs,Ge=Zs,oe=Ve}if(Fe.done)return r(L,oe),ze&&Ji(L,Ce),he;if(oe===null){for(;!Fe.done;Ce++,Fe=P.next())Fe=Y(L,Fe.value,Q),Fe!==null&&(D=f(Fe,D,Ce),Ge===null?he=Fe:Ge.sibling=Fe,Ge=Fe);return ze&&Ji(L,Ce),he}for(oe=o(oe);!Fe.done;Ce++,Fe=P.next())Fe=q(oe,L,Ce,Fe.value,Q),Fe!==null&&(t&&Fe.alternate!==null&&oe.delete(Fe.key===null?Ce:Fe.key),D=f(Fe,D,Ce),Ge===null?he=Fe:Ge.sibling=Fe,Ge=Fe);return t&&oe.forEach(function(xT){return n(L,xT)}),ze&&Ji(L,Ce),he}function rt(L,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var he=P.key;D!==null;){if(D.key===he){if(he=P.type,he===ne){if(D.tag===7){r(L,D.sibling),Q=h(D,P.props.children),Q.return=L,L=Q;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&Hr(he)===D.type){r(L,D.sibling),Q=h(D,P.props),Jo(Q,P),Q.return=L,L=Q;break e}r(L,D);break}else n(L,D);D=D.sibling}P.type===ne?(Q=Pr(P.props.children,L.mode,Q,P.key),Q.return=L,L=Q):(Q=Mu(P.type,P.key,P.props,null,L.mode,Q),Jo(Q,P),Q.return=L,L=Q)}return y(L);case Z:e:{for(he=P.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(L,D.sibling),Q=h(D,P.children||[]),Q.return=L,L=Q;break e}else{r(L,D);break}else n(L,D);D=D.sibling}Q=Jh(P,L.mode,Q),Q.return=L,L=Q}return y(L);case A:return P=Hr(P),rt(L,D,P,Q)}if(Ke(P))return ae(L,D,P,Q);if(V(P)){if(he=V(P),typeof he!="function")throw Error(a(150));return P=he.call(P),me(L,D,P,Q)}if(typeof P.then=="function")return rt(L,D,zu(P),Q);if(P.$$typeof===ge)return rt(L,D,Lu(L,P),Q);Bu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(L,D.sibling),Q=h(D,P),Q.return=L,L=Q):(r(L,D),Q=$h(P,L.mode,Q),Q.return=L,L=Q),y(L)):r(L,D)}return function(L,D,P,Q){try{$o=0;var he=rt(L,D,P,Q);return Ma=null,he}catch(oe){if(oe===Oa||oe===Pu)throw oe;var Ge=Rn(29,oe,null,L.mode);return Ge.lanes=Q,Ge.return=L,Ge}finally{}}}var Fr=ep(!0),tp=ep(!1),Vs=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ou(t),Pg(t,null,r),n}return Du(t,o,n,r),Ou(t)}function Zo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ao(t,r)}}function ff(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function Wo(){if(df){var t=Da;if(t!==null)throw t}}function el(t,n,r,o){df=!1;var h=t.updateQueue;Vs=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,U=C.next;C.next=null,y===null?f=U:y.next=U,y=C;var G=t.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==y&&(b===null?G.firstBaseUpdate=U:b.next=U,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;y=0,G=U=C=null,b=f;do{var z=b.lane&-536870913,q=z!==b.lane;if(q?(ke&z)===z:(o&z)===z){z!==0&&z===Na&&(df=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ae=t,me=b;z=n;var rt=r;switch(me.tag){case 1:if(ae=me.payload,typeof ae=="function"){Y=ae.call(rt,Y,z);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=me.payload,z=typeof ae=="function"?ae.call(rt,Y,z):ae,z==null)break e;Y=S({},Y,z);break e;case 2:Vs=!0}}z=b.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(U=G=q,C=Y):G=G.next=q,y|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),qs|=y,t.lanes=y,t.memoizedState=Y}}function np(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ip(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)np(r[t],n)}var ka=O(null),qu=O(0);function sp(t,n){t=ls,ee(qu,t),ee(ka,n),ls=t|n.baseLanes}function mf(){ee(qu,ls),ee(ka,ka.current)}function gf(){ls=qu.current,K(ka),K(qu)}var xn=O(null),Gn=null;function Ps(t){var n=t.alternate;ee(At,At.current&1),ee(xn,t),Gn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Gn=t)}function pf(t){ee(At,At.current),ee(xn,t),Gn===null&&(Gn=t)}function rp(t){t.tag===22?(ee(At,At.current),ee(xn,t),Gn===null&&(Gn=t)):Us()}function Us(){ee(At,At.current),ee(xn,xn.current)}function Cn(t){K(xn),Gn===t&&(Gn=null),K(At)}var At=O(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,xe=null,it=null,Mt=null,Gu=!1,Va=!1,Qr=!1,Fu=0,tl=0,La=null,yb=0;function vt(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!An(t[r],n[r]))return!1;return!0}function _f(t,n,r,o,h,f){return es=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?qp:Mf,Qr=!1,f=r(o,h),Qr=!1,Va&&(f=op(n,r,o,h)),ap(t),f}function ap(t){H.H=sl;var n=it!==null&&it.next!==null;if(es=0,Mt=it=xe=null,Gu=!1,tl=0,La=null,n)throw Error(a(300));t===null||kt||(t=t.dependencies,t!==null&&Vu(t)&&(kt=!0))}function op(t,n,r,o){xe=t;var h=0;do{if(Va&&(La=null),tl=0,Va=!1,25<=h)throw Error(a(301));if(h+=1,Mt=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Hp,f=n(r,o)}while(Va);return f}function _b(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?nl(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(xe.flags|=1024),n}function vf(){var t=Fu!==0;return Fu=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}es=0,Mt=it=xe=null,Va=!1,tl=Fu=0,La=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?xe.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Rt(){if(it===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Mt===null?xe.memoizedState:Mt.next;if(n!==null)Mt=n,it=t;else{if(t===null)throw xe.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?xe.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var n=tl;return tl+=1,La===null&&(La=[]),t=Jg(La,t,n),n=xe,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?qp:Mf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===ge)return $t(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=xe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qu(),xe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=k;return n.index++,r}function ts(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=Rt();return wf(n,it,t)}function wf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=y=null,C=null,U=n,G=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(ke&Y)===Y:(es&Y)===Y){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===Na&&(G=!0);else if((es&z)===z){U=U.next,z===Na&&(G=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=Y,y=f):C=C.next=Y,xe.lanes|=z,qs|=z;Y=U.action,Qr&&r(f,Y),f=U.hasEagerState?U.eagerState:r(f,Y)}else z={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=z,y=f):C=C.next=z,xe.lanes|=Y,qs|=Y;U=U.next}while(U!==null&&U!==n);if(C===null?y=f:C.next=b,!An(f,t.memoizedState)&&(kt=!0,G&&(r=Da,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);An(f,n.memoizedState)||(kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function lp(t,n,r){var o=xe,h=Rt(),f=ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!An((it||h).memoizedState,r);if(y&&(h.memoizedState=r,kt=!0),h=h.queue,xf(hp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},cp.bind(null,o,h,r,n),null),ot===null)throw Error(a(349));f||(es&127)!==0||up(o,n,r)}return r}function up(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=xe.updateQueue,n===null?(n=Qu(),xe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function cp(t,n,r,o){n.value=r,n.getSnapshot=o,fp(n)&&dp(t)}function hp(t,n,r){return r(function(){fp(n)&&dp(t)})}function fp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!An(t,r)}catch{return!0}}function dp(t){var n=jr(t,2);n!==null&&_n(n,t,2)}function Af(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),Qr){kn(!0);try{r()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},n}function mp(t,n,r,o){return t.baseState=r,wf(t,it,typeof o=="function"?o:ts)}function vb(t,n,r,o,h){if(Ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,gp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function gp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var b=r(h,o),C=H.S;C!==null&&C(y,b),pp(t,n,b)}catch(U){Rf(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=r(h,o),pp(t,n,f)}catch(U){Rf(t,n,U)}}function pp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){yp(t,n,o)},function(o){return Rf(t,n,o)}):yp(t,n,r)}function yp(t,n,r){n.status="fulfilled",n.value=r,_p(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,gp(t,r)))}function Rf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,_p(n),n=n.next;while(n!==o)}t.action=null}function _p(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vp(t,n){return n}function Ep(t,n){if(ze){var r=ot.formState;if(r!==null){e:{var o=xe;if(ze){if(ct){t:{for(var h=ct,f=Hn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Fn(h.nextSibling),o=h.data==="F!";break e}}Ms(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},r.queue=o,r=Up.bind(null,xe,o),o.dispatch=r,o=Af(!1),f=Of.bind(null,xe,!1,o.queue),o=un(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=vb.bind(null,xe,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function bp(t){var n=Rt();return Tp(n,it,t)}function Tp(t,n,r){if(n=wf(t,n,vp)[0],t=Yu(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=nl(n)}catch(y){throw y===Oa?Pu:y}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(xe.flags|=2048,ja(9,{destroy:void 0},Eb.bind(null,h,r),null)),[o,f,t]}function Eb(t,n){t.action=n}function wp(t){var n=Rt(),r=it;if(r!==null)return Tp(n,r,t);Rt(),n=n.memoizedState,r=Rt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function ja(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=Qu(),xe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Sp(){return Rt().memoizedState}function Xu(t,n,r,o){var h=un();xe.flags|=t,h.memoizedState=ja(1|n,{destroy:void 0},r,o===void 0?null:o)}function $u(t,n,r,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;it!==null&&o!==null&&yf(o,it.memoizedState.deps)?h.memoizedState=ja(n,f,r,o):(xe.flags|=t,h.memoizedState=ja(1|n,f,r,o))}function Ap(t,n){Xu(8390656,8,t,n)}function xf(t,n){$u(2048,8,t,n)}function bb(t){xe.flags|=4;var n=xe.updateQueue;if(n===null)n=Qu(),xe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rp(t){var n=Rt().memoizedState;return bb({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xp(t,n){return $u(4,2,t,n)}function Cp(t,n){return $u(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Np(t,n,r){r=r!=null?r.concat([t]):null,$u(4,4,Ip.bind(null,n,t),r)}function Cf(){}function Dp(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Op(t,n){var r=Rt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=t(),Qr){kn(!0);try{t()}finally{kn(!1)}}return r.memoizedState=[o,n],o}function If(t,n,r){return r===void 0||(es&1073741824)!==0&&(ke&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=My(),xe.lanes|=t,qs|=t,r)}function Mp(t,n,r,o){return An(r,n)?r:ka.current!==null?(t=If(t,r,o),An(t,n)||(kt=!0),t):(es&42)===0||(es&1073741824)!==0&&(ke&261930)===0?(kt=!0,t.memoizedState=r):(t=My(),xe.lanes|=t,qs|=t,n)}function kp(t,n,r,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var y=H.T,b={};H.T=b,Of(t,!1,n,r);try{var C=h(),U=H.S;if(U!==null&&U(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=pb(C,o);il(t,n,G,Dn(t))}else il(t,n,o,Dn(t))}catch(Y){il(t,n,{then:function(){},status:"rejected",reason:Y},Dn())}finally{te.p=f,y!==null&&b.types!==null&&(y.types=b.types),H.T=y}}function Tb(){}function Nf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Vp(t).queue;kp(t,h,n,ce,r===null?Tb:function(){return Lp(t),r(o)})}function Vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lp(t){var n=Vp(t);n.next===null&&(n=t.alternate.memoizedState),il(t,n.next.queue,{},Dn())}function Df(){return $t(El)}function jp(){return Rt().memoizedState}function Pp(){return Rt().memoizedState}function wb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();t=Ls(r);var o=js(n,t,r);o!==null&&(_n(o,n,r),Zo(o,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function Sb(t,n,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(t)?zp(n,r):(r=Yh(t,n,r,o),r!==null&&(_n(r,t,o),Bp(r,n,o)))}function Up(t,n,r){var o=Dn();il(t,n,r,o)}function il(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))zp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,b=f(y,r);if(h.hasEagerState=!0,h.eagerState=b,An(b,y))return Du(t,n,h,0),ot===null&&Nu(),!1}catch{}finally{}if(r=Yh(t,n,h,o),r!==null)return _n(r,t,o),Bp(r,n,o),!0}return!1}function Of(t,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(a(479))}else n=Yh(t,r,o,2),n!==null&&_n(n,t,2)}function Ju(t){var n=t.alternate;return t===xe||n!==null&&n===xe}function zp(t,n){Va=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ao(t,r)}}var sl={readContext:$t,use:Ku,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};sl.useEffectEvent=vt;var qp={readContext:$t,use:Ku,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Ap,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xu(4194308,4,Ip.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var o=t();if(Qr){kn(!0);try{t()}finally{kn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=un();if(r!==void 0){var h=r(n);if(Qr){kn(!0);try{r(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Sb.bind(null,xe,t),[o.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,r=Up.bind(null,xe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=un();return If(r,t,n)},useTransition:function(){var t=Af(!1);return t=kp.bind(null,xe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=xe,h=un();if(ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ot===null)throw Error(a(349));(ke&127)!==0||up(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ap(hp.bind(null,o,f,t),[t]),o.flags|=2048,ja(9,{destroy:void 0},cp.bind(null,o,f,r,n),null),r},useId:function(){var t=un(),n=ot.identifierPrefix;if(ze){var r=Oi,o=Di;r=(o&~(1<<32-wt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=yb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:Ep,useActionState:Ep,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,xe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return un().memoizedState=wb.bind(null,xe)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if((Xe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:$t,use:Ku,useCallback:Dp,useContext:$t,useEffect:xf,useImperativeHandle:Np,useInsertionEffect:xp,useLayoutEffect:Cp,useMemo:Op,useReducer:Yu,useRef:Sp,useState:function(){return Yu(ts)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Rt();return Mp(r,it.memoizedState,t,n)},useTransition:function(){var t=Yu(ts)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:lp,useId:jp,useHostTransitionStatus:Df,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var r=Rt();return mp(r,it,t,n)},useMemoCache:Tf,useCacheRefresh:Pp};Mf.useEffectEvent=Rp;var Hp={readContext:$t,use:Ku,useCallback:Dp,useContext:$t,useEffect:xf,useImperativeHandle:Np,useInsertionEffect:xp,useLayoutEffect:Cp,useMemo:Op,useReducer:Sf,useRef:Sp,useState:function(){return Sf(ts)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Rt();return it===null?If(r,t,n):Mp(r,it.memoizedState,t,n)},useTransition:function(){var t=Sf(ts)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:nl(t),n]},useSyncExternalStore:lp,useId:jp,useHostTransitionStatus:Df,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var r=Rt();return it!==null?mp(r,it,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Pp};Hp.useEffectEvent=Rp;function kf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Ls(o);h.payload=n,r!=null&&(h.callback=r),n=js(t,h,o),n!==null&&(_n(n,t,o),Zo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Dn(),h=Ls(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=js(t,h,o),n!==null&&(_n(n,t,o),Zo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Dn(),o=Ls(r);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,r),n!==null&&(_n(n,t,r),Zo(n,t,r))}};function Gp(t,n,r,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Go(r,o)||!Go(h,f):!0}function Fp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qp(t){Iu(t)}function Kp(t){console.error(t)}function Yp(t){Iu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,r){return r=Ls(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function $p(t){return t=Ls(t),t.tag=3,t}function Jp(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Xp(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Xp(n,r,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Ab(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ia(n,r,h,!0),r=xn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?cc():r.alternate===null&&Et===0&&(Et=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(t,o,h)),!1;case 22:return r.flags|=65536,o===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(t,o,h)),!1}throw Error(a(435,r.tag))}return od(t,o,h),cc(),!1}if(ze)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(t=Error(a(422),{cause:o}),Ko(zn(t,r)))):(o!==ef&&(n=Error(a(423),{cause:o}),Ko(zn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=zn(o,r),h=Lf(t.stateNode,o,h),ff(t,h),Et!==4&&(Et=2)),!1;var f=Error(a(520),{cause:o});if(f=zn(f,r),fl===null?fl=[f]:fl.push(f),Et!==4&&(Et=2),n===null)return!0;o=zn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Lf(r.stateNode,o,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$p(h),Jp(h,t,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var jf=Error(a(461)),kt=!1;function Jt(t,n,r,o){n.child=t===null?tp(n,null,r,o):Fr(n,t.child,r,o)}function Zp(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var b in o)b!=="ref"&&(y[b]=o[b])}else y=o;return Br(n),o=_f(t,n,r,y,f,h),b=vf(),t!==null&&!kt?(Ef(t,n,h),ns(t,n,h)):(ze&&b&&Zh(n),n.flags|=1,Jt(t,n,o,h),n.child)}function Wp(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ey(t,n,f,o,h)):(t=Mu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Go,r(y,o)&&t.ref===n.ref)return ns(t,n,h)}return n.flags|=1,t=$i(f,o),t.ref=n.ref,t.return=n,n.child=t}function ey(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===n.ref)if(kt=!1,n.pendingProps=o=f,Ff(t,h))(t.flags&131072)!==0&&(kt=!0);else return n.lanes=t.lanes,ns(t,n,h)}return Pf(t,n,r,o,h)}function ty(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?sp(n,f):mf(),rp(n);else return o=n.lanes=536870912,ny(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(ju(n,f.cachePool),sp(n,f),Us(),n.memoizedState=null):(t!==null&&ju(n,null),mf(),Us());return Jt(t,n,h,r),n.child}function rl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(t,n,r,o,h){var f=lf();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&ju(n,null),mf(),rp(n),t!==null&&Ia(t,n,o,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function iy(t,n,r){return Fr(n,t.child,null,r),t=Wu(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function Rb(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=Wu(n,o),n.lanes=536870912,rl(null,t);if(pf(n),(t=ct)?(t=g0(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=zg(t),r.return=n,n.child=r,Xt=n,ct=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return Wu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=iy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(kt||Ia(t,n,r,!1),h=(r&t.childLanes)!==0,kt||h){if(o=ot,o!==null&&(y=Ro(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,jr(t,y),_n(o,t,y),jf;cc(),n=iy(t,n,r)}else t=f.treeContext,ct=Fn(y.nextSibling),Xt=n,ze=!0,Os=null,Hn=!1,t!==null&&Hg(n,t),n=Wu(n,o),n.flags|=4096;return n}return t=$i(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Pf(t,n,r,o,h){return Br(n),r=_f(t,n,r,o,void 0,h),o=vf(),t!==null&&!kt?(Ef(t,n,h),ns(t,n,h)):(ze&&o&&Zh(n),n.flags|=1,Jt(t,n,r,h),n.child)}function sy(t,n,r,o,h,f){return Br(n),n.updateQueue=null,r=op(n,o,r,h),ap(t),o=vf(),t!==null&&!kt?(Ef(t,n,f),ns(t,n,f)):(ze&&o&&Zh(n),n.flags|=1,Jt(t,n,r,f),n.child)}function ry(t,n,r,o,h){if(Br(n),n.stateNode===null){var f=Aa,y=r.contextType;typeof y=="object"&&y!==null&&(f=$t(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?$t(y):Aa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(kf(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vf.enqueueReplaceState(f,f.state,null),el(n,o,f,h),Wo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,C=Kr(r,b);f.props=C;var U=f.context,G=r.contextType;y=Aa,typeof G=="object"&&G!==null&&(y=$t(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||U!==y)&&Fp(n,f,o,y),Vs=!1;var z=n.memoizedState;f.state=z,el(n,o,f,h),Wo(),U=n.memoizedState,b||z!==U||Vs?(typeof Y=="function"&&(kf(n,r,Y,o),U=n.memoizedState),(C=Vs||Gp(n,r,C,o,z,U,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(t,n),y=n.memoizedProps,G=Kr(r,y),f.props=G,Y=n.pendingProps,z=f.context,U=r.contextType,C=Aa,typeof U=="object"&&U!==null&&(C=$t(U)),b=r.getDerivedStateFromProps,(U=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||z!==C)&&Fp(n,f,o,C),Vs=!1,z=n.memoizedState,f.state=z,el(n,o,f,h),Wo();var q=n.memoizedState;y!==Y||z!==q||Vs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof b=="function"&&(kf(n,r,b,o),q=n.memoizedState),(G=Vs||Gp(n,r,G,o,z,q,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,r,h)):Jt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ns(t,n,h),t}function ay(t,n,r,o){return Ur(),n.flags|=256,Jt(t,n,r,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:Xg()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function oy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(ze){if(h?Ps(n):Us(),(t=ct)?(t=g0(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},r=zg(t),r.return=n,n.child=r,Xt=n,ct=null)):t=null,t===null)throw Ms(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Us(),h=n.mode,b=tc({mode:"hidden",children:b},h),o=Pr(o,h,r,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,y,r),n.memoizedState=Uf,rl(null,o)):(Ps(n),qf(n,b))}var C=t.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),b=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),b=Pr(b,h,r,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Fr(n,t.child,null,r),o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,y,r),n.memoizedState=Uf,n=rl(null,o));else if(Ps(n),wd(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var U=y.dgst;y=U,o=Error(a(419)),o.stack="",o.digest=y,Ko({value:o,source:null,stack:null}),n=Hf(t,n,r)}else if(kt||Ia(t,n,r,!1),y=(r&t.childLanes)!==0,kt||y){if(y=ot,y!==null&&(o=Ro(y,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,jr(t,o),_n(y,t,o),jf;Td(b)||cc(),n=Hf(t,n,r)}else Td(b)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ct=Fn(b.nextSibling),Xt=n,ze=!0,Os=null,Hn=!1,t!==null&&Hg(n,t),n=qf(n,o.children),n.flags|=4096);return n}return h?(Us(),b=o.fallback,h=n.mode,C=t.child,U=C.sibling,o=$i(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?b=$i(U,b):(b=Pr(b,h,r,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,rl(null,o),o=n.child,b=t.child.memoizedState,b===null?b=zf(r):(h=b.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Xg(),b={baseLanes:b.baseLanes|r,cachePool:h}),o.memoizedState=b,o.childLanes=Bf(t,y,r),n.memoizedState=Uf,rl(t.child,o)):(Ps(n),r=t.child,t=r.sibling,r=$i(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=Rn(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return Fr(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ly(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function uy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=At.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,ee(At,y),Jt(t,n,o,r),o=ze?Qo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,r,n);else if(t.tag===19)ly(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Hu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ns(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ia(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=$i(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=$i(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function xb(t,n,r){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),ks(n,Ot,t.memoizedState.cache),Ur();break;case 27:case 5:Mn(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(t,n,r):(Ps(n),t=ns(t,n,r),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ia(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return uy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(At,At.current),o)break;return null;case 22:return n.lanes=0,ty(t,n,r,n.pendingProps);case 24:ks(n,Ot,t.memoizedState.cache)}return ns(t,n,r)}function cy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)kt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return kt=!1,xb(t,n,r);kt=(t.flags&131072)!==0}else kt=!1,ze&&(n.flags&1048576)!==0&&qg(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")Xh(t)?(o=Kr(t,o),n.tag=1,n=ry(null,n,t,o,r)):(n.tag=0,n=Pf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===qe){n.tag=11,n=Zp(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=Wp(null,n,t,o,r);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Kr(o,n.pendingProps),ry(t,n,o,h,r);case 3:e:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),el(n,o,null,r);var y=n.memoizedState;if(o=y.cache,ks(n,Ot,o),o!==f.cache&&rf(n,[Ot],r,!0),Wo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(t,n,o,r);break e}else if(o!==h){h=zn(Error(a(424)),n),Ko(h),n=ay(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Fn(t.firstChild),Xt=n,ze=!0,Os=null,Hn=!0,r=tp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ur(),o===h){n=ns(t,n,r);break e}Jt(t,n,o,r)}n=n.child}return n;case 26:return ec(t,n),t===null?(r=b0(n.type,null,n.pendingProps,null))?n.memoizedState=r:ze||(r=n.type,t=n.pendingProps,o=yc(Te.current).createElement(r),o[It]=n,o[qt]=t,Zt(o,r,t),Nt(o),n.stateNode=o):n.memoizedState=b0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mn(n),t===null&&ze&&(o=n.stateNode=_0(n.type,n.pendingProps,Te.current),Xt=n,Hn=!0,h=ct,Ks(n.type)?(Sd=h,ct=Fn(o.firstChild)):ct=h),Jt(t,n,n.pendingProps.children,r),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ze&&((h=o=ct)&&(o=iT(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Xt=n,ct=Fn(o.firstChild),Hn=!1,h=!0):h=!1),h||Ms(n)),Mn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,vd(h,f)?o=null:y!==null&&vd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,_b,null,null,r),El._currentValue=h),ec(t,n),Jt(t,n,o,r),n.child;case 6:return t===null&&ze&&((t=r=ct)&&(r=sT(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Xt=n,ct=null,t=!0):t=!1),t||Ms(n)),null;case 13:return oy(t,n,r);case 4:return bt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Fr(n,null,o,r):Jt(t,n,o,r),n.child;case 11:return Zp(t,n,n.type,n.pendingProps,r);case 7:return Jt(t,n,n.pendingProps,r),n.child;case 8:return Jt(t,n,n.pendingProps.children,r),n.child;case 12:return Jt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),Jt(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Br(n),h=$t(h),o=o(h),n.flags|=1,Jt(t,n,o,r),n.child;case 14:return Wp(t,n,n.type,n.pendingProps,r);case 15:return ey(t,n,n.type,n.pendingProps,r);case 19:return uy(t,n,r);case 31:return Rb(t,n,r);case 22:return ty(t,n,r,n.pendingProps);case 24:return Br(n),o=$t(Ot),t===null?(h=lf(),h===null&&(h=ot,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),ks(n,Ot,h)):((t.lanes&r)!==0&&(hf(t,n),el(n,null,null,r),Wo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,Ot,o)):(o=f.cache,ks(n,Ot,o),o!==h.cache&&rf(n,[Ot],r,!0))),Jt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function is(t){t.flags|=4}function Qf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(jy())t.flags|=8192;else throw Gr=Uu,uf}else t.flags&=-16777217}function hy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R0(n))if(jy())t.flags|=8192;else throw Gr=Uu,uf}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,Ba|=n)}function al(t,n){if(!ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function Cb(t,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(Ot),at(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ca(n)?is(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),ht(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(is(n),f!==null?(ht(n),hy(n,f)):(ht(n),Qf(n,h,null,o,r))):f?f!==t.memoizedState?(is(n),ht(n),hy(n,f)):(ht(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&is(n),ht(n),Qf(n,h,t,o,r)),null;case 27:if(fi(n),r=Te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}t=ie.current,Ca(n)?Gg(n):(t=_0(h,o,r),n.stateNode=t,is(n))}return ht(n),null;case 5:if(fi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ht(n),null}if(f=ie.current,Ca(n))Gg(n);else{var y=yc(Te.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[It]=n,f[qt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Zt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&is(n)}}return ht(n),Qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&is(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Te.current,Ca(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||o0(t.nodeValue,r)),t||Ms(n,!0)}else t=yc(t).createTextNode(o),t[It]=n,n.stateNode=t}return ht(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ca(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ht(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),nc(n,n.updateQueue),ht(n),null);case 4:return at(),t===null&&md(n.stateNode.containerInfo),ht(n),null;case 10:return Wi(n.type),ht(n),null;case 19:if(K(At),o=n.memoizedState,o===null)return ht(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)al(o,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,al(o,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ug(r,t),r=r.sibling;return ee(At,At.current&1|2),ze&&Ji(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&ue()>oc&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ze)return ht(n),null}else 2*ue()-o.renderingStartTime>oc&&r!==536870912&&(n.flags|=128,h=!0,al(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ue(),t.sibling=null,r=At.current,ee(At,h?r&1|2:r&1),ze&&Ji(n,o.treeForkCount),t):(ht(n),null);case 22:case 23:return Cn(n),gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),r=n.updateQueue,r!==null&&nc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&K(qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Wi(Ot),ht(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ib(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Wi(Ot),at(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(At),null;case 4:return at(),null;case 10:return Wi(n.type),null;case 22:case 23:return Cn(n),gf(),t!==null&&K(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Wi(Ot),null;case 25:return null;default:return null}}function fy(t,n){switch(Wh(n),n.tag){case 3:Wi(Ot),at();break;case 26:case 27:case 5:fi(n);break;case 4:at();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(At);break;case 10:Wi(n.type);break;case 22:case 23:Cn(n),gf(),t!==null&&K(qr);break;case 24:Wi(Ot)}}function ol(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==h)}}catch(b){We(n,n.return,b)}}function zs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,h=n;var C=r,U=b;try{U()}catch(G){We(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){We(n,n.return,G)}}function dy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ip(n,r)}catch(o){We(t,t.return,o)}}}function my(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){We(t,n,o)}}function ll(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){We(t,n,h)}}function Mi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){We(t,n,h)}else r.current=null}function gy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){We(t,t.return,h)}}function Kf(t,n,r){try{var o=t.stateNode;Jb(o,t.type,r,n),o[qt]=n}catch(h){We(t,t.return,h)}}function py(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||py(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Ks(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,r),t=t.sibling;t!==null;)Xf(t,n,r),t=t.sibling}function ic(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ic(t,n,r),t=t.sibling;t!==null;)ic(t,n,r),t=t.sibling}function yy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Zt(n,o,r),n[It]=t,n[qt]=r}catch(f){We(t,t.return,f)}}var ss=!1,Vt=!1,$f=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Nb(t,n){if(t=t.containerInfo,yd=Sc,t=Ng(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,b=-1,C=-1,U=0,G=0,Y=t,z=null;t:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(b=y+h),Y!==f||o!==0&&Y.nodeType!==3||(C=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===r&&++U===h&&(b=y),z===f&&++G===o&&(C=y),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}r=b===-1||C===-1?null:{start:b,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Sc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ae=Kr(r.type,h);t=o.getSnapshotBeforeUpdate(ae,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){We(r,r.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function vy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:as(t,r),o&4&&ol(5,r);break;case 1:if(as(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){We(r,r.return,y)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){We(r,r.return,y)}}o&64&&dy(r),o&512&&ll(r,r.return);break;case 3:if(as(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ip(t,n)}catch(y){We(r,r.return,y)}}break;case 27:n===null&&o&4&&yy(r);case 26:case 5:as(t,r),n===null&&o&4&&gy(r),o&512&&ll(r,r.return);break;case 12:as(t,r);break;case 31:as(t,r),o&4&&Ty(t,r);break;case 13:as(t,r),o&4&&wy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Ub.bind(null,r),rT(t,r))));break;case 22:if(o=r.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||Vt,h=ss;var f=Vt;ss=o,(Vt=n)&&!f?os(t,r,(r.subtreeFlags&8772)!==0):as(t,r),ss=h,Vt=f}break;case 30:break;default:as(t,r)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,mn=!1;function rs(t,n,r){for(r=r.child;r!==null;)by(t,n,r),r=r.sibling}function by(t,n,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount($n,r)}catch{}switch(r.tag){case 26:Vt||Mi(r,n),rs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Vt||Mi(r,n);var o=gt,h=mn;Ks(r.type)&&(gt=r.stateNode,mn=!1),rs(t,n,r),yl(r.stateNode),gt=o,mn=h;break;case 5:Vt||Mi(r,n);case 6:if(o=gt,h=mn,gt=null,rs(t,n,r),gt=o,mn=h,gt!==null)if(mn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(r.stateNode)}catch(f){We(r,n,f)}else try{gt.removeChild(r.stateNode)}catch(f){We(r,n,f)}break;case 18:gt!==null&&(mn?(t=gt,d0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Xa(t)):d0(gt,r.stateNode));break;case 4:o=gt,h=mn,gt=r.stateNode.containerInfo,mn=!0,rs(t,n,r),gt=o,mn=h;break;case 0:case 11:case 14:case 15:zs(2,r,n),Vt||zs(4,r,n),rs(t,n,r);break;case 1:Vt||(Mi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&my(r,n,o)),rs(t,n,r);break;case 21:rs(t,n,r);break;case 22:Vt=(o=Vt)||r.memoizedState!==null,rs(t,n,r),Vt=o;break;default:rs(t,n,r)}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(r){We(n,n.return,r)}}}function wy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(r){We(n,n.return,r)}}function Db(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _y),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _y),n;default:throw Error(a(435,t.tag))}}function sc(t,n){var r=Db(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=zb.bind(null,t,o);o.then(h,h)}})}function gn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,y=n,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Ks(b.type)){gt=b.stateNode,mn=!1;break e}break;case 5:gt=b.stateNode,mn=!1;break e;case 3:case 4:gt=b.stateNode.containerInfo,mn=!0;break e}b=b.return}if(gt===null)throw Error(a(160));by(f,y,h),gt=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var ai=null;function Sy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),pn(t),o&4&&(zs(3,t,t.return),ol(3,t),zs(5,t,t.return));break;case 1:gn(n,t),pn(t),o&512&&(Vt||r===null||Mi(r,r.return)),o&64&&ss&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ai;if(gn(n,t),pn(t),o&512&&(Vt||r===null||Mi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Zt(f,o,r),f[It]=t,Nt(f),o=f;break e;case"link":var y=S0("link","href",h).get(o+(r.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(b,1);break t}}f=h.createElement(o),Zt(f,o,r),h.head.appendChild(f);break;case"meta":if(y=S0("meta","content",h).get(o+(r.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(b,1);break t}}f=h.createElement(o),Zt(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[It]=t,Nt(f),o=f}t.stateNode=o}else A0(h,t.type,t.stateNode);else t.stateNode=w0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?A0(h,t.type,t.stateNode):w0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Kf(t,t.memoizedProps,r.memoizedProps)}break;case 27:gn(n,t),pn(t),o&512&&(Vt||r===null||Mi(r,r.return)),r!==null&&o&4&&Kf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,t),pn(t),o&512&&(Vt||r===null||Mi(r,r.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(ae){We(t,t.return,ae)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Kf(t,h,r!==null?r.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(gn(n,t),pn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ae){We(t,t.return,ae)}}break;case 3:if(Ec=null,h=ai,ai=_c(n.containerInfo),gn(n,t),ai=h,pn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ae){We(t,t.return,ae)}$f&&($f=!1,Ay(t));break;case 4:o=ai,ai=_c(t.stateNode.containerInfo),gn(n,t),pn(t),ai=o;break;case 12:gn(n,t),pn(t);break;case 31:gn(n,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 13:gn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=ue()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,U=ss,G=Vt;if(ss=U||h,Vt=G||C,gn(n,t),Vt=G,ss=U,pn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||ss||Vt||Yr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ae){We(C,C.return,ae)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ae){We(C,C.return,ae)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;h?m0(q,!0):m0(C.stateNode,!1)}catch(ae){We(C,C.return,ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,sc(t,r))));break;case 19:gn(n,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 30:break;case 21:break;default:gn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(py(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);ic(t,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(dn(y,""),r.flags&=-33);var b=Yf(t);ic(t,b,y);break;case 3:case 4:var C=r.stateNode.containerInfo,U=Yf(t);Xf(t,U,C);break;default:throw Error(a(161))}}catch(G){We(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function as(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Yr(n);break;case 1:Mi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&my(n,n.return,r),Yr(n);break;case 27:yl(n.stateNode);case 26:case 5:Mi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function os(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,r),ol(4,f);break;case 1:if(os(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){We(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)np(C[h],b)}catch(U){We(o,o.return,U)}}r&&y&64&&dy(f),ll(f,f.return);break;case 27:yy(f);case 26:case 5:os(h,f,r),r&&o===null&&y&4&&gy(f),ll(f,f.return);break;case 12:os(h,f,r);break;case 31:os(h,f,r),r&&y&4&&Ty(h,f);break;case 13:os(h,f,r),r&&y&4&&wy(h,f);break;case 22:f.memoizedState===null&&os(h,f,r),ll(f,f.return);break;case 30:break;default:os(h,f,r)}n=n.sibling}}function Jf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Yo(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yo(t))}function oi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,o),n=n.sibling}function Ry(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,r,o),h&2048&&ol(9,n);break;case 1:oi(t,n,r,o);break;case 3:oi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yo(t)));break;case 12:if(h&2048){oi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(n,n.return,C)}}else oi(t,n,r,o);break;case 31:oi(t,n,r,o);break;case 13:oi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,r,o):ul(t,n):f._visibility&2?oi(t,n,r,o):(f._visibility|=2,Pa(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(y,n);break;case 24:oi(t,n,r,o),h&2048&&Zf(n.alternate,n);break;default:oi(t,n,r,o)}}function Pa(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,b=r,C=o,U=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(f,y,b,C,h),ol(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Pa(f,y,b,C,h):ul(f,y):(G._visibility|=2,Pa(f,y,b,C,h)),h&&U&2048&&Jf(y.alternate,y);break;case 24:Pa(f,y,b,C,h),h&&U&2048&&Zf(y.alternate,y);break;default:Pa(f,y,b,C,h)}n=n.sibling}}function ul(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:ul(r,o),h&2048&&Jf(o.alternate,o);break;case 24:ul(r,o),h&2048&&Zf(o.alternate,o);break;default:ul(r,o)}n=n.sibling}}var cl=8192;function Ua(t,n,r){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)xy(t,n,r),t=t.sibling}function xy(t,n,r){switch(t.tag){case 26:Ua(t,n,r),t.flags&cl&&t.memoizedState!==null&&yT(r,ai,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,n,r);break;case 3:case 4:var o=ai;ai=_c(t.stateNode.containerInfo),Ua(t,n,r),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=cl,cl=16777216,Ua(t,n,r),cl=o):Ua(t,n,r));break;default:Ua(t,n,r)}}function Cy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,Ny(o,t)}Cy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&zs(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):hl(t);break;default:hl(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Gt=o,Ny(o,t)}Cy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zs(8,n,n.return),rc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function Ny(t,n){for(;Gt!==null;){var r=Gt;switch(r.tag){case 0:case 11:case 15:zs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Gt=o;else e:for(r=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(Ey(o),o===r){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var Ob={getCacheForType:function(t){var n=$t(Ot),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return $t(Ot).controller.signal}},Mb=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ot=null,De=null,ke=0,Ze=0,In=null,Bs=!1,za=!1,Wf=!1,ls=0,Et=0,qs=0,Xr=0,ed=0,Nn=0,Ba=0,fl=null,yn=null,td=!1,ac=0,Dy=0,oc=1/0,lc=null,Hs=null,Pt=0,Gs=null,qa=null,us=0,nd=0,id=null,Oy=null,dl=0,sd=null;function Dn(){return(Xe&2)!==0&&ke!==0?ke&-ke:H.T!==null?cd():uu()}function My(){if(Nn===0)if((ke&536870912)===0||ze){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Nn=t}else Nn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Nn}function _n(t,n,r){(t===ot&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Fs(t,ke,Nn,!1)),wr(t,r),((Xe&2)===0||t!==ot)&&(t===ot&&((Xe&2)===0&&(Xr|=r),Et===4&&Fs(t,ke,Nn,!1)),ki(t))}function ky(t,n,r){if((Xe&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Jn(t,n),h=o?Lb(t,n):ad(t,n,!0),f=o;do{if(h===0){za&&!o&&Fs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!kb(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var b=t;h=fl;var C=b.current.memoizedState.isDehydrated;if(C&&(Ha(b,y).flags|=256),y=ad(b,y,!1),y!==2){if(Wf&&!C){b.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ha(t,0),Fs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fs(o,n,Nn,!Bs);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-ue(),10<h)){if(Fs(o,n,Nn,!Bs),pi(o,0,!0)!==0)break e;us=n,o.timeoutHandle=h0(Vy.bind(null,o,r,yn,lc,td,n,Nn,Xr,Ba,Bs,f,"Throttled",-0,0),h);break e}Vy(o,r,yn,lc,td,n,Nn,Xr,Ba,Bs,f,null,-0,0)}}break}while(!0);ki(t)}function Vy(t,n,r,o,h,f,y,b,C,U,G,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},xy(n,f,Y);var ae=(f&62914560)===f?ac-ue():(f&4194048)===f?Dy-ue():0;if(ae=_T(Y,ae),ae!==null){us=f,t.cancelPendingCommit=ae(Hy.bind(null,t,n,f,r,o,h,y,b,C,G,Y,null,z,q)),Fs(t,f,y,!U);return}}Hy(t,n,f,r,o,h,y,b,C)}function kb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(t,n,r,o){n&=~ed,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-wt(h),y=1<<f;o[f]=-1,h&=~y}r!==0&&Sr(t,r,n)}function uc(){return(Xe&6)===0?(ml(0),!1):!0}function rd(){if(De!==null){if(Ze===0)var t=De.return;else t=De,Zi=zr=null,bf(t),Ma=null,$o=0,t=De;for(;t!==null;)fy(t.alternate,t),t=t.return;De=null}}function Ha(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,eT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,rd(),ot=t,De=r=$i(t.current,null),ke=n,Ze=0,In=null,Bs=!1,za=Jn(t,n),Wf=!1,Ba=Nn=ed=Xr=qs=Et=0,yn=fl=null,td=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-wt(o),f=1<<h;n|=t[h],o&=~f}return ls=n,Nu(),r}function Ly(t,n){xe=null,H.H=sl,n===Oa||n===Pu?(n=Zg(),Ze=3):n===uf?(n=Zg(),Ze=4):Ze=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,De===null&&(Et=1,Zu(t,zn(n,t.current)))}function jy(){var t=xn.current;return t===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Gn:!1}function Py(){var t=H.H;return H.H=sl,t===null?sl:t}function Uy(){var t=H.A;return H.A=Ob,t}function cc(){Et=4,Bs||(ke&4194048)!==ke&&xn.current!==null||(za=!0),(qs&134217727)===0&&(Xr&134217727)===0||ot===null||Fs(ot,ke,Nn,!1)}function ad(t,n,r){var o=Xe;Xe|=2;var h=Py(),f=Uy();(ot!==t||ke!==n)&&(lc=null,Ha(t,n)),n=!1;var y=Et;e:do try{if(Ze!==0&&De!==null){var b=De,C=In;switch(Ze){case 8:rd(),y=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var U=Ze;if(Ze=0,In=null,Ga(t,b,C,U),r&&za){y=0;break e}break;default:U=Ze,Ze=0,In=null,Ga(t,b,C,U)}}Vb(),y=Et;break}catch(G){Ly(t,G)}while(!0);return n&&t.shellSuspendCounter++,Zi=zr=null,Xe=o,H.H=h,H.A=f,De===null&&(ot=null,ke=0,Nu()),y}function Vb(){for(;De!==null;)zy(De)}function Lb(t,n){var r=Xe;Xe|=2;var o=Py(),h=Uy();ot!==t||ke!==n?(lc=null,oc=ue()+500,Ha(t,n)):za=Jn(t,n);e:do try{if(Ze!==0&&De!==null){n=De;var f=In;t:switch(Ze){case 1:Ze=0,In=null,Ga(t,n,f,1);break;case 2:case 9:if($g(f)){Ze=0,In=null,By(n);break}n=function(){Ze!==2&&Ze!==9||ot!==t||(Ze=7),ki(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:$g(f)?(Ze=0,In=null,By(n)):(Ze=0,In=null,Ga(t,n,f,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var b=De;if(y?R0(y):b.stateNode.complete){Ze=0,In=null;var C=b.sibling;if(C!==null)De=C;else{var U=b.return;U!==null?(De=U,hc(U)):De=null}break t}}Ze=0,In=null,Ga(t,n,f,5);break;case 6:Ze=0,In=null,Ga(t,n,f,6);break;case 8:rd(),Et=6;break e;default:throw Error(a(462))}}jb();break}catch(G){Ly(t,G)}while(!0);return Zi=zr=null,H.H=o,H.A=h,Xe=r,De!==null?0:(ot=null,ke=0,Nu(),Et)}function jb(){for(;De!==null&&!re();)zy(De)}function zy(t){var n=cy(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?hc(t):De=n}function By(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sy(r,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=sy(r,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:bf(n);default:fy(r,n),n=De=Ug(n,ls),n=cy(r,n,ls)}t.memoizedProps=t.pendingProps,n===null?hc(t):De=n}function Ga(t,n,r,o){Zi=zr=null,bf(n),Ma=null,$o=0;var h=n.return;try{if(Ab(t,h,n,r,ke)){Et=1,Zu(t,zn(r,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;Et=1,Zu(t,zn(r,t.current)),De=null;return}n.flags&32768?(ze||o===1?t=!0:za||(ke&536870912)!==0?t=!1:(Bs=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){qy(n,Bs);return}t=n.return;var r=Cb(n.alternate,n,ls);if(r!==null){De=r;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);Et===0&&(Et=5)}function qy(t,n){do{var r=Ib(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);Et=6,De=null}function Hy(t,n,r,o,h,f,y,b,C){t.cancelPendingCommit=null;do fc();while(Pt!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,Ph(t,r,f,y,b,C),t===ot&&(De=ot=null,ke=0),qa=n,Gs=t,us=r,nd=f,id=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bb(tt,function(){return Yy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=te.p,te.p=2,y=Xe,Xe|=4;try{Nb(t,n,r)}finally{Xe=y,te.p=h,H.T=o}}Pt=1,Gy(),Fy(),Qy()}}function Gy(){if(Pt===1){Pt=0;var t=Gs,n=qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=te.p;te.p=2;var h=Xe;Xe|=4;try{Sy(n,t);var f=_d,y=Ng(t.containerInfo),b=f.focusedElem,C=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&Ig(b.ownerDocument.documentElement,b)){if(C!==null&&qh(b)){var U=C.start,G=C.end;if(G===void 0&&(G=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(G,b.value.length);else{var Y=b.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),ae=b.textContent.length,me=Math.min(C.start,ae),rt=C.end===void 0?me:Math.min(C.end,ae);!q.extend&&me>rt&&(y=rt,rt=me,me=y);var L=Cg(b,me),D=Cg(b,rt);if(L&&D&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(L.node,L.offset),q.removeAllRanges(),me>rt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=b;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var Q=Y[b];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!yd,_d=yd=null}finally{Xe=h,te.p=o,H.T=r}}t.current=n,Pt=2}}function Fy(){if(Pt===2){Pt=0;var t=Gs,n=qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=te.p;te.p=2;var h=Xe;Xe|=4;try{vy(t,n.alternate,n)}finally{Xe=h,te.p=o,H.T=r}}Pt=3}}function Qy(){if(Pt===4||Pt===3){Pt=0,pe();var t=Gs,n=qa,r=us,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,qa=Gs=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hs=null),Qi(r),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var b=o[y];f(b.value,{componentStack:b.stack})}}finally{H.T=n,te.p=h}}(us&3)!==0&&fc(),ki(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?dl++:(dl=0,sd=t):dl=0,ml(0)}}function Ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yo(n)))}function fc(){return Gy(),Fy(),Qy(),Yy()}function Yy(){if(Pt!==5)return!1;var t=Gs,n=nd;nd=0;var r=Qi(us),o=H.T,h=te.p;try{te.p=32>r?32:r,H.T=null,r=id,id=null;var f=Gs,y=us;if(Pt=0,qa=Gs=null,us=0,(Xe&6)!==0)throw Error(a(331));var b=Xe;if(Xe|=4,Iy(f.current),Ry(f,f.current,y,r),Xe=b,ml(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{te.p=h,H.T=o,Ky(t,n)}}function Xy(t,n,r){n=zn(r,n),n=Lf(t.stateNode,n,2),t=js(t,n,2),t!==null&&(wr(t,2),ki(t))}function We(t,n,r){if(t.tag===3)Xy(t,t,r);else for(;n!==null;){if(n.tag===3){Xy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){t=zn(r,t),r=$p(2),o=js(n,r,2),o!==null&&(Jp(r,o,n,t),wr(o,2),ki(o));break}}n=n.return}}function od(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new Mb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=Pb.bind(null,t,n,r),n.then(t,t))}function Pb(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ot===t&&(ke&r)===r&&(Et===4||Et===3&&(ke&62914560)===ke&&300>ue()-ac?(Xe&2)===0&&Ha(t,0):ed|=r,Ba===ke&&(Ba=0)),ki(t)}function $y(t,n){n===0&&(n=lu()),t=jr(t,n),t!==null&&(wr(t,n),ki(t))}function Ub(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),$y(t,r)}function zb(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),$y(t,r)}function Bb(t,n){return Tt(t,n)}var dc=null,Fa=null,ld=!1,mc=!1,ud=!1,Qs=0;function ki(t){t!==Fa&&t.next===null&&(Fa===null?dc=Fa=t:Fa=Fa.next=t),mc=!0,ld||(ld=!0,Hb())}function ml(t,n){if(!ud&&mc){ud=!0;do for(var r=!1,o=dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-wt(42|t)+1)-1,f&=h&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,e0(o,f))}else f=ke,f=pi(o,o===ot?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jn(o,f)||(r=!0,e0(o,f));o=o.next}while(r);ud=!1}}function qb(){Jy()}function Jy(){mc=ld=!1;var t=0;Qs!==0&&Wb()&&(t=Qs);for(var n=ue(),r=null,o=dc;o!==null;){var h=o.next,f=Zy(o,n);f===0?(o.next=null,r===null?dc=h:r.next=h,h===null&&(Fa=r)):(r=o,(t!==0||(f&3)!==0)&&(mc=!0)),o=h}Pt!==0&&Pt!==5||ml(t),Qs!==0&&(Qs=0)}function Zy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-wt(f),b=1<<y,C=h[y];C===-1?((b&r)===0||(b&o)!==0)&&(h[y]=jh(b,n)):C<=n&&(t.expiredLanes|=b),f&=~b}if(n=ot,r=ke,r=pi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&di(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Jn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&di(o),Qi(r)){case 2:case 8:r=pt;break;case 32:r=tt;break;case 268435456:r=Es;break;default:r=tt}return o=Wy.bind(null,t),r=Tt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&di(o),t.callbackPriority=2,t.callbackNode=null,2}function Wy(t,n){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fc()&&t.callbackNode!==r)return null;var o=ke;return o=pi(t,t===ot?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(ky(t,o,n),Zy(t,ue()),t.callbackNode!=null&&t.callbackNode===r?Wy.bind(null,t):null)}function e0(t,n){if(fc())return null;ky(t,n,!0)}function Hb(){tT(function(){(Xe&6)!==0?Tt(ut,qb):Jy()})}function cd(){if(Qs===0){var t=Na;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Qs=t}return Qs}function t0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function n0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Gb(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=t0((h[qt]||null).action),y=o.submitter;y&&(n=(n=y[qt]||null)?t0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var b=new xi("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var C=y?n0(h,y):new FormData(h);Nf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=y?n0(h,y):new FormData(h),Nf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],Fb=fd.toLowerCase(),Qb=fd[0].toUpperCase()+fd.slice(1);ri(Fb,"on"+Qb)}ri(Mg,"onAnimationEnd"),ri(kg,"onAnimationIteration"),ri(Vg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(lb,"onTransitionRun"),ri(ub,"onTransitionStart"),ri(cb,"onTransitionCancel"),ri(Lg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function i0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var b=o[y],C=b.instance,U=b.currentTarget;if(b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=U;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(b=o[y],C=b.instance,U=b.currentTarget,b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=U;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=C}}}}function Oe(t,n){var r=n[ca];r===void 0&&(r=n[ca]=new Set);var o=t+"__bubble";r.has(o)||(s0(n,t,2,!1),r.add(o))}function dd(t,n,r){var o=0;n&&(o|=4),s0(r,t,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[gc]){t[gc]=!0,xo.forEach(function(r){r!=="selectionchange"&&(Kb.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,dd("selectionchange",!1,n))}}function s0(t,n,r,o){switch(M0(n)){case 2:var h=bT;break;case 8:h=TT;break;default:h=Id}r=h.bind(null,n,r,t),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var b=o.stateNode.containerInfo;if(b===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;b!==null;){if(y=Ei(b),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}b=b.parentNode}}o=o.return}xs(function(){var U=f,G=Ln(r),Y=[];e:{var z=jg.get(t);if(z!==void 0){var q=xi,ae=t;switch(t){case"keypress":if(Dr(r)===0)break e;case"keydown":case"keyup":q=Ru;break;case"focusin":ae="focus",q=Mr;break;case"focusout":ae="blur",q=Mr;break;case"beforeblur":case"afterblur":q=Mr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mg:case kg:case Vg:q=vu;break;case Lg:q=T;break;case"scroll":case"scrollend":q=Uo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xi;break;case"toggle":case"beforetoggle":q=Re}var me=(n&4)!==0,rt=!me&&(t==="scroll"||t==="scrollend"),L=me?z!==null?z+"Capture":null:z;me=[];for(var D=U,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||L===null||(Q=ti(D,L),Q!=null&&me.push(pl(D,Q,P))),rt)break;D=D.return}0<me.length&&(z=new q(z,ae,null,r,G),Y.push({event:z,listeners:me}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Lo&&(ae=r.relatedTarget||r.fromElement)&&(Ei(ae)||ae[_i]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ae=r.relatedTarget||r.toElement,q=U,ae=ae?Ei(ae):null,ae!==null&&(rt=c(ae),me=ae.tag,ae!==rt||me!==5&&me!==27&&me!==6)&&(ae=null)):(q=null,ae=U),q!==ae)){if(me=zo,Q="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(me=Xi,Q="onPointerLeave",L="onPointerEnter",D="pointer"),rt=q==null?z:wn(q),P=ae==null?z:wn(ae),z=new me(Q,D+"leave",q,r,G),z.target=rt,z.relatedTarget=P,Q=null,Ei(G)===U&&(me=new me(L,D+"enter",ae,r,G),me.target=P,me.relatedTarget=rt,Q=me),rt=Q,q&&ae)t:{for(me=Yb,L=q,D=ae,P=0,Q=L;Q;Q=me(Q))P++;Q=0;for(var he=D;he;he=me(he))Q++;for(;0<P-Q;)L=me(L),P--;for(;0<Q-P;)D=me(D),Q--;for(;P--;){if(L===D||D!==null&&L===D.alternate){me=L;break t}L=me(L),D=me(D)}me=null}else me=null;q!==null&&r0(Y,z,q,me,!1),ae!==null&&rt!==null&&r0(Y,rt,ae,me,!0)}}e:{if(z=U?wn(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ge=Tg;else if(Eg(z))if(wg)Ge=rb;else{Ge=ib;var oe=nb}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ma(U.elementType)&&(Ge=Tg):Ge=sb;if(Ge&&(Ge=Ge(t,U))){bg(Y,Ge,r,G);break e}oe&&oe(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Mo(z,"number",z.value)}switch(oe=U?wn(U):window,t){case"focusin":(Eg(oe)||oe.contentEditable==="true")&&(Ta=oe,Hh=U,Fo=null);break;case"focusout":Fo=Hh=Ta=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Dg(Y,r,G);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Dg(Y,r,G)}var Ce;if(Ye)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ba?kr(t,r)&&(Ve="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ni&&r.locale!=="ko"&&(ba||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ba&&(Ce=Po()):(Ri=G,jo="value"in Ri?Ri.value:Ri.textContent,ba=!0)),oe=pc(U,Ve),0<oe.length&&(Ve=new Ii(Ve,t,null,r,G),Y.push({event:Ve,listeners:oe}),Ce?Ve.data=Ce:(Ce=Ea(r),Ce!==null&&(Ve.data=Ce)))),(Ce=Pn?ZE(t,r):WE(t,r))&&(Ve=pc(U,"onBeforeInput"),0<Ve.length&&(oe=new Ii("onBeforeInput","beforeinput",null,r,G),Y.push({event:oe,listeners:Ve}),oe.data=Ce)),Gb(Y,t,U,r,G)}i0(Y,n)})}function pl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,r),h!=null&&o.unshift(pl(t,h,f)),h=ti(t,n),h!=null&&o.push(pl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Yb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r0(t,n,r,o,h){for(var f=n._reactName,y=[];r!==null&&r!==o;){var b=r,C=b.alternate,U=b.stateNode;if(b=b.tag,C!==null&&C===o)break;b!==5&&b!==26&&b!==27||U===null||(C=U,h?(U=ti(r,f),U!=null&&y.unshift(pl(r,U,C))):h||(U=ti(r,f),U!=null&&y.push(pl(r,U,C)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var Xb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function a0(t){return(typeof t=="string"?t:""+t).replace(Xb,`
`).replace($b,"")}function o0(t,n){return n=a0(n),a0(t)===n}function st(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(t,""+o);break;case"className":Sn(t,"class",o);break;case"tabIndex":Sn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,r,o);break;case"style":Vo(t,o,f);break;case"data":if(n!=="object"){Sn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ga(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=ga(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=ga(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pu.get(r)||r,fa(t,r,o))}}function pd(t,n,r,o,h,f){switch(r){case"style":Vo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?dn(t,o):(typeof o=="number"||typeof o=="bigint")&&dn(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[qt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):fa(t,r,o)}}}function Zt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,f,y,r,null)}}h&&st(t,n,"srcSet",r.srcSet,r,null),o&&st(t,n,"src",r.src,r,null);return;case"input":Oe("invalid",t);var b=f=y=h=null,C=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":C=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:st(t,n,o,G,r,null)}}du(t,f,b,C,U,y,h,!1);return;case"select":Oe("invalid",t),o=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":o=b;default:st(t,n,h,b,r,null)}n=f,r=y,t.multiple=!!o,n!=null?ws(t,!!o,n,!1):r!=null&&ws(t,!!o,r,!0);return;case"textarea":Oe("invalid",t),f=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(b=r[y],b!=null))switch(y){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:st(t,n,y,b,r,null)}Ss(t,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:st(t,n,C,o,r,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)Oe(gl[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,U,o,r,null)}return;default:if(ma(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&pd(t,n,G,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&st(t,n,b,o,r,null))}function Jb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,b=null,C=null,U=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||st(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&st(t,n,z,q,o,Y)}}da(t,y,b,C,U,G,f,h);return;case"select":q=y=b=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||st(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==C&&st(t,n,h,f,o,C)}n=b,r=y,o=q,z!=null?ws(t,!!r,z,!1):!!o!=!!r&&(n!=null?ws(t,!!r,n,!0):ws(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:st(t,n,b,null,o,h)}for(y in o)if(h=o[y],f=r[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&st(t,n,y,h,o,f)}mu(t,z,q);return;case"option":for(var ae in r)if(z=r[ae],r.hasOwnProperty(ae)&&z!=null&&!o.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:st(t,n,ae,null,o,z)}for(C in o)if(z=o[C],q=r[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:st(t,n,C,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)z=r[me],r.hasOwnProperty(me)&&z!=null&&!o.hasOwnProperty(me)&&st(t,n,me,null,o,z);for(U in o)if(z=o[U],q=r[U],o.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:st(t,n,U,z,o,q)}return;default:if(ma(n)){for(var rt in r)z=r[rt],r.hasOwnProperty(rt)&&z!==void 0&&!o.hasOwnProperty(rt)&&pd(t,n,rt,void 0,o,z);for(G in o)z=o[G],q=r[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||pd(t,n,G,z,o,q);return}}for(var L in r)z=r[L],r.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&st(t,n,L,null,o,z);for(Y in o)z=o[Y],q=r[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||st(t,n,Y,z,o,q)}function l0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,y=h.initiatorType,b=h.duration;if(f&&b&&l0(y)){for(y=0,b=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],U=C.startTime;if(U>b)break;var G=C.transferSize,Y=C.initiatorType;G&&l0(Y)&&(C=C.responseEnd,y+=G*(C<b?1:(b-U)/(C-U)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function u0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function Wb(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(t){return f0.resolve(null).then(t).catch(nT)}:h0;function nT(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function d0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Xa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")yl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,yl(r);for(var f=r.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[vi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&yl(t.ownerDocument.body);r=h}while(r);Xa(n)}function m0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),ha(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function iT(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function sT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function g0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function p0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Fn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function y0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function _0(t,n,r){switch(n=yc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var Qn=new Map,v0=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=te.d;te.d={f:aT,r:oT,D:lT,C:uT,L:cT,m:hT,X:dT,S:fT,M:mT};function aT(){var t=cs.f(),n=uc();return t||n}function oT(t){var n=Vn(t);n!==null&&n.tag===5&&n.type==="form"?Lp(n):cs.r(t)}var Qa=typeof document>"u"?null:document;function E0(t,n,r){var o=Qa;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),v0.has(h)||(v0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Zt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function lT(t){cs.D(t),E0("dns-prefetch",t,null)}function uT(t,n){cs.C(t,n),E0("preconnect",t,n)}function cT(t,n,r){cs.L(t,n,r);var o=Qa;if(o&&t&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+fn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+fn(r.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Ya(t)}Qn.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Qn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(_l(f))||n==="script"&&o.querySelector(vl(f))||(n=o.createElement("link"),Zt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function hT(t,n){cs.m(t,n);var r=Qa;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!Qn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Qn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(vl(f)))return}o=r.createElement("link"),Zt(o,"link",t),Nt(o),r.head.appendChild(o)}}}function fT(t,n,r){cs.S(t,n,r);var o=Qa;if(o&&t){var h=bi(o).hoistableStyles,f=Ka(t);n=n||"default";var y=h.get(f);if(!y){var b={loading:0,preload:null};if(y=o.querySelector(_l(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Qn.get(f))&&Ad(t,r);var C=y=o.createElement("link");Nt(C),Zt(C,"link",t),C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:b},h.set(f,y)}}}function dT(t,n){cs.X(t,n);var r=Qa;if(r&&t){var o=bi(r).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=r.querySelector(vl(h)),f||(t=S({src:t,async:!0},n),(n=Qn.get(h))&&Rd(t,n),f=r.createElement("script"),Nt(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function mT(t,n){cs.M(t,n);var r=Qa;if(r&&t){var o=bi(r).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=r.querySelector(vl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&Rd(t,n),f=r.createElement("script"),Nt(f),Zt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function b0(t,n,r,o){var h=(h=Te.current)?_c(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ka(r.href),r=bi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ka(r.href);var f=bi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(_l(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(t,r),f||gT(h,t,r,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(r),r=bi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ka(t){return'href="'+fn(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function T0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function gT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Zt(n,"link",r),Nt(n),t.head.appendChild(n))}function Ya(t){return'[src="'+fn(t)+'"]'}function vl(t){return"script[async]"+t}function w0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+fn(r.href)+'"]');if(o)return n.instance=o,Nt(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),Zt(o,"style",h),vc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Ka(r.href);var f=t.querySelector(_l(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;o=T0(r),(h=Qn.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var y=f;return y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),Zt(f,"link",o),n.state.loading|=4,vc(f,r.precedence,t),n.instance=f;case"script":return f=Ya(r.src),(h=t.querySelector(vl(f)))?(n.instance=h,Nt(h),h):(o=r,(h=Qn.get(f))&&(o=S({},r),Rd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Zt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,r.precedence,t));return n.instance}function vc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var b=o[y];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function S0(t,n,r){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(r,o)}else h=Ec,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[vi]||f[It]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var b=o.get(y);b?b.push(f):o.set(y,[f])}}return o}function A0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function pT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ka(o.href),f=n.querySelector(_l(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Nt(f);return}f=n.ownerDocument||n,o=T0(o),(h=Qn.get(h))&&Ad(o,h),f=f.createElement("link"),Nt(f);var y=f;y._p=new Promise(function(b,C){y.onload=b,y.onerror=C}),Zt(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=bc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var xd=0;function _T(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*Zb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(vT,t),Tc=null,bc.call(t))}function vT(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var o=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,h),r.set(y,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var El={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function ET(t,n,r,o,h,f,y,b,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function x0(t,n,r,o,h,f,y,b,C,U,G,Y){return t=new ET(t,n,r,y,C,U,G,Y,b),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),t}function C0(t){return t?(t=Aa,t):Aa}function I0(t,n,r,o,h,f){h=C0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=js(t,o,n),r!==null&&(_n(r,t,n),Zo(r,t,n))}function N0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){N0(t,n),(t=t.alternate)&&N0(t,n)}function D0(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&_n(n,t,67108864),Cd(t,67108864)}}function O0(t){if(t.tag===13||t.tag===31){var n=Dn();n=Ar(n);var r=jr(t,n);r!==null&&_n(r,t,n),Cd(t,n)}}var Sc=!0;function bT(t,n,r,o){var h=H.T;H.T=null;var f=te.p;try{te.p=2,Id(t,n,r,o)}finally{te.p=f,H.T=h}}function TT(t,n,r,o){var h=H.T;H.T=null;var f=te.p;try{te.p=8,Id(t,n,r,o)}finally{te.p=f,H.T=h}}function Id(t,n,r,o){if(Sc){var h=Nd(o);if(h===null)gd(t,n,o,Ac,r),k0(t,o);else if(ST(h,t,n,r,o))o.stopPropagation();else if(k0(t,o),n&4&&-1<wT.indexOf(t)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=gi(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var C=1<<31-wt(y);b.entanglements[1]|=C,y&=~C}ki(f),(Xe&6)===0&&(oc=ue()+500,ml(0))}}break;case 31:case 13:b=jr(f,2),b!==null&&_n(b,f,2),uc(),Cd(f,2)}if(f=Nd(o),f===null&&gd(t,n,o,Ac,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(t,n,o,null,r)}}function Nd(t){return t=Ln(t),Dd(t)}var Ac=null;function Dd(t){if(Ac=null,t=Ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function M0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case ut:return 2;case pt:return 8;case tt:case hn:return 32;case Es:return 268435456;default:return 32}default:return 32}}var Od=!1,Ys=null,Xs=null,$s=null,bl=new Map,Tl=new Map,Js=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(t,n){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function wl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&D0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ST(t,n,r,o,h){switch(n){case"focusin":return Ys=wl(Ys,t,n,r,o,h),!0;case"dragenter":return Xs=wl(Xs,t,n,r,o,h),!0;case"mouseover":return $s=wl($s,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return bl.set(f,wl(bl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,wl(Tl.get(f)||null,t,n,r,o,h)),!0}return!1}function V0(t){var n=Ei(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Zn(t.priority,function(){O0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Zn(t.priority,function(){O0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Lo=o,r.target.dispatchEvent(o),Lo=null}else return n=Vn(r),n!==null&&D0(n),t.blockedOn=r,!1;n.shift()}return!0}function L0(t,n,r){Rc(t)&&r.delete(n)}function AT(){Od=!1,Ys!==null&&Rc(Ys)&&(Ys=null),Xs!==null&&Rc(Xs)&&(Xs=null),$s!==null&&Rc($s)&&($s=null),bl.forEach(L0),Tl.forEach(L0)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,AT)))}var Cc=null;function j0(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=Vn(r);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Xa(t){function n(C){return xc(C,t)}Ys!==null&&xc(Ys,t),Xs!==null&&xc(Xs,t),$s!==null&&xc($s,t),bl.forEach(n),Tl.forEach(n);for(var r=0;r<Js.length;r++){var o=Js[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)V0(r),r.blockedOn===null&&Js.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],y=h[qt]||null;if(typeof f=="function")y||j0(r);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[qt]||null)b=y.formAction;else if(Dd(h)!==null)continue}else b=y.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),j0(r)}}}function P0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Ic.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Dn();I0(r,o,t,n,null,null)},Ic.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I0(t.current,2,null,t,null,null),uc(),n[_i]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Js.length&&n!==0&&n<Js[r].priority;r++);Js.splice(r,0,t),r===0&&V0(t)}};var U0=e.version;if(U0!=="19.2.0")throw Error(a(527,U0,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var RT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{$n=Nc.inject(RT),Kt=Nc}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Qp,f=Kp,y=Yp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=x0(t,1,!1,null,null,r,o,null,h,f,y,P0),t[_i]=n.current,md(t),new Md(n)},Al.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Qp,y=Kp,b=Yp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=x0(t,1,!0,n,r??null,o,h,C,f,y,b,P0),n.context=C0(null),r=n.current,o=Dn(),o=Ar(o),h=Ls(o),h.callback=null,js(r,h,o),r=o,n.current.lanes=r,wr(n,r),ki(n),t[_i]=n.current,md(t),new Ic(n)},Al.version="19.2.0",Al}var X0;function LT(){if(X0)return Ld.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=VT(),Ld.exports}var jT=LT();const PT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),$0=s=>{const e=UT(s);return e.charAt(0).toUpperCase()+e.slice(1)},Iv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),zT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var BT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qT=Ie.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>Ie.createElement("svg",{ref:_,...BT,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Iv("lucide",l),...!c&&!zT(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,w])=>Ie.createElement(p,w)),...Array.isArray(c)?c:[c]]));const Qe=(s,e)=>{const i=Ie.forwardRef(({className:a,...l},c)=>Ie.createElement(qT,{ref:c,iconNode:e,className:Iv(`lucide-${PT($0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=$0(s),i};const HT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],GT=Qe("arrow-left",HT);const FT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nv=Qe("calendar",FT);const QT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],KT=Qe("camera",QT);const YT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XT=Qe("check",YT);const $T=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JT=Qe("chevron-right",$T);const ZT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],WT=Qe("circle-alert",ZT);const ew=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tw=Qe("circle-plus",ew);const nw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],iw=Qe("cloud-upload",nw);const sw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],rw=Qe("coffee",sw);const aw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ow=Qe("download",aw);const lw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],uw=Qe("house",lw);const cw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],hw=Qe("image",cw);const fw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],dw=Qe("info",fw);const mw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],gw=Qe("list",mw);const pw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yw=Qe("lock",pw);const _w=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vw=Qe("log-out",_w);const Ew=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bw=Qe("mail",Ew);const Tw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ww=Qe("map-pin",Tw);const Sw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Aw=Qe("map",Sw);const Rw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dv=Qe("pen-line",Rw);const xw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ov=Qe("pencil",xw);const Cw=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Wd=Qe("plane",Cw);const Iw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dh=Qe("plus",Iw);const Nw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xm=Qe("refresh-cw",Nw);const Dw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Xl=Qe("shopping-bag",Dw);const Ow=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ea=Qe("square-check-big",Ow);const Mw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kw=Qe("sun",Mw);const Vw=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Cm=Qe("tag",Vw);const Lw=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],jw=Qe("tram-front",Lw);const Pw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Im=Qe("trash-2",Pw);const Uw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zw=Qe("user",Uw);const Bw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],po=Qe("x",Bw),qw=()=>{};var J0={};const Mv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Hw=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,p=_?s[l+2]:0,w=c>>2,S=(c&3)<<4|g>>4;let M=(g&15)<<2|p>>6,F=p&63;_||(F=64,d||(M=64)),a.push(i[w],i[S],i[M],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Mv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Hw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const p=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||p==null||S==null)throw new Gw;const M=c<<2|g>>4;if(a.push(M),p!==64){const F=g<<4&240|p>>2;if(a.push(F),S!==64){const Z=p<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(s){const e=Mv(s);return kv.encodeByteArray(e,!0)},Yc=function(s){return Fw(s).replace(/\./g,"")},Vv=function(s){try{return kv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Kw=()=>Qw().__FIREBASE_DEFAULTS__,Yw=()=>{if(typeof process>"u"||typeof J0>"u")return;const s=J0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Xw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Vv(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return qw()||Kw()||Yw()||Xw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lv=s=>mh()?.emulatorHosts?.[s],$w=s=>{const e=Lv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},jv=()=>mh()?.config,Pv=s=>mh()?.[`_${s}`];class Jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function yo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function Zw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Ml={};function Ww(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function eS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Z0=!1;function zv(s,e){if(typeof window>"u"||typeof document>"u"||!yo(window.location.host)||Ml[s]===e||Ml[s]||Z0)return;Ml[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Ww().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function p(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Z0=!0,d()},M}function w(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=eS(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),J=document.getElementById(ne)||document.createElement("a"),de=i("preprendIcon"),be=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ge=M.element;g(ge),w(J,ne);const qe=p();_(be,de),ge.append(be,Z,J,qe),document.body.appendChild(ge)}c?(Z.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function nS(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function rS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aS(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function oS(){return!nS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const cS="FirebaseError";class _s extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=cS,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?hS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new _s(l,g,a)}}function hS(s,e){return s.replace(fS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const fS=/\{\$([^}]+)}/g;function dS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ta(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(W0(c)&&W0(d)){if(!ta(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function W0(s){return s!==null&&typeof s=="object"}function Jl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Rl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function xl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function mS(s,e){const i=new gS(s,e);return i.subscribe.bind(i)}class gS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");pS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function Qt(s){return s&&s._delegate?s._delegate:s}class na{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class yS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Jw;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vS(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_S(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(s){return s===$r?void 0:s}function vS(s){return s.instantiationMode==="EAGER"}class ES{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new yS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const bS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},TS=Le.INFO,wS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},SS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=wS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=TS,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const AS=(s,e)=>e.some(i=>s instanceof i);let e_,t_;function RS(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,em=new WeakMap,qv=new WeakMap,Bd=new WeakMap,Dm=new WeakMap;function CS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Bv.set(i,s)}).catch(()=>{}),Dm.set(e,s),e}function IS(s){if(em.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||qv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function NS(s){tm=s(tm)}function DS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return qv.set(a,e.sort?e.sort():[e]),rr(a)}:xS().includes(s)?function(...e){return s.apply(qd(this),e),rr(Bv.get(this))}:function(...e){return rr(s.apply(qd(this),e))}}function OS(s){return typeof s=="function"?DS(s):(s instanceof IDBTransaction&&IS(s),AS(s,RS())?new Proxy(s,tm):s)}function rr(s){if(s instanceof IDBRequest)return CS(s);if(Bd.has(s))return Bd.get(s);const e=OS(s);return e!==s&&(Bd.set(s,e),Dm.set(e,s)),e}const qd=s=>Dm.get(s);function MS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=rr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(rr(d.result),_.oldVersion,_.newVersion,rr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const kS=["get","getKey","getAll","getAllKeys","count"],VS=["put","add","delete","clear"],Hd=new Map;function n_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=VS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return Hd.set(e,c),c}NS(s=>({...s,get:(e,i,a)=>n_(e,i)||s.get(e,i,a),has:(e,i)=>!!n_(e,i)||s.has(e,i)}));class LS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",i_="0.14.6";const ms=new Nm("@firebase/app"),PS="@firebase/app-compat",US="@firebase/analytics-compat",zS="@firebase/analytics",BS="@firebase/app-check-compat",qS="@firebase/app-check",HS="@firebase/auth",GS="@firebase/auth-compat",FS="@firebase/database",QS="@firebase/data-connect",KS="@firebase/database-compat",YS="@firebase/functions",XS="@firebase/functions-compat",$S="@firebase/installations",JS="@firebase/installations-compat",ZS="@firebase/messaging",WS="@firebase/messaging-compat",eA="@firebase/performance",tA="@firebase/performance-compat",nA="@firebase/remote-config",iA="@firebase/remote-config-compat",sA="@firebase/storage",rA="@firebase/storage-compat",aA="@firebase/firestore",oA="@firebase/ai",lA="@firebase/firestore-compat",uA="firebase",cA="12.6.0";const im="[DEFAULT]",hA={[nm]:"fire-core",[PS]:"fire-core-compat",[zS]:"fire-analytics",[US]:"fire-analytics-compat",[qS]:"fire-app-check",[BS]:"fire-app-check-compat",[HS]:"fire-auth",[GS]:"fire-auth-compat",[FS]:"fire-rtdb",[QS]:"fire-data-connect",[KS]:"fire-rtdb-compat",[YS]:"fire-fn",[XS]:"fire-fn-compat",[$S]:"fire-iid",[JS]:"fire-iid-compat",[ZS]:"fire-fcm",[WS]:"fire-fcm-compat",[eA]:"fire-perf",[tA]:"fire-perf-compat",[nA]:"fire-rc",[iA]:"fire-rc-compat",[sA]:"fire-gcs",[rA]:"fire-gcs-compat",[aA]:"fire-fst",[lA]:"fire-fst-compat",[oA]:"fire-vertex","fire-js":"fire-js",[uA]:"fire-js-all"};const Ul=new Map,fA=new Map,sm=new Map;function s_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ao(s){const e=s.name;if(sm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of Ul.values())s_(i,s);for(const i of fA.values())s_(i,s);return!0}function Om(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function li(s){return s==null?!1:s.settings!==void 0}const dA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new $l("app","Firebase",dA);class mA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const _o=cA;function Hv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:im,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=jv()),!i)throw ar.create("no-options");const c=Ul.get(l);if(c){if(ta(i,c.options)&&ta(a,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new ES(l);for(const _ of sm.values())d.addComponent(_);const g=new mA(i,a,d);return Ul.set(l,g),g}function Mm(s=im){const e=Ul.get(s);if(!e&&s===im&&jv())return Hv();if(!e)throw ar.create("no-app",{appName:s});return e}function gA(){return Array.from(Ul.values())}function or(s,e,i){let a=hA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ao(new na(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const pA="firebase-heartbeat-database",yA=1,zl="firebase-heartbeat-store";let Gd=null;function Gv(){return Gd||(Gd=MS(pA,yA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function _A(s){try{const i=(await Gv()).transaction(zl),a=await i.objectStore(zl).get(Fv(s));return await i.done,a}catch(e){if(e instanceof _s)ms.warn(e.message);else{const i=ar.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function r_(s,e){try{const a=(await Gv()).transaction(zl,"readwrite");await a.objectStore(zl).put(e,Fv(s)),await a.done}catch(i){if(i instanceof _s)ms.warn(i.message);else{const a=ar.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const vA=1024,EA=30;class bA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>EA){const l=SA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:a}=TA(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ms.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function TA(s,e=vA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),o_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),o_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function o_(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function SA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function AA(s){ao(new na("platform-logger",e=>new LS(e),"PRIVATE")),ao(new na("heartbeat",e=>new bA(e),"PRIVATE")),or(nm,i_,s),or(nm,i_,"esm2020"),or("fire-js","")}AA("");var RA="firebase",xA="12.6.0";or(RA,xA,"app");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,Qv;(function(){var s;function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,N,V){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return A.prototype[N].apply(k,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)k[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)k[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],N=I.g[2];let V=I.g[3],x;x=A+(V^R&(N^V))+k[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[1]+3905402710&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[2]+606105819&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[3]+3250441966&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(V^R&(N^V))+k[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[5]+1200080426&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[6]+2821735955&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[7]+4249261313&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(V^R&(N^V))+k[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[9]+2336552879&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[10]+4294925233&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[11]+2304563134&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(V^R&(N^V))+k[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[13]+4254626195&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[14]+2792965006&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[15]+1236535329&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(N^V&(R^N))+k[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[6]+3225465664&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[11]+643717713&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[0]+3921069994&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^V&(R^N))+k[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[10]+38016083&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[15]+3634488961&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[4]+3889429448&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^V&(R^N))+k[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[14]+3275163606&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[3]+4107603335&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[8]+1163531501&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^V&(R^N))+k[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[2]+4243563512&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[7]+1735328473&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[12]+2368359562&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(R^N^V)+k[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[8]+2272392833&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[11]+1839030562&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[14]+4259657740&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^V)+k[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[4]+1272893353&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[7]+4139469664&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[10]+3200236656&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^V)+k[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[0]+3936430074&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[3]+3572445317&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[6]+76029189&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^V)+k[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[12]+3873151461&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[15]+530742520&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[2]+3299628645&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(N^(R|~V))+k[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[7]+1126891415&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[14]+2878612391&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[5]+4237533241&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~V))+k[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[3]+2399980690&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[10]+4293915773&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[1]+2240044497&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~V))+k[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[15]+4264355552&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[6]+2734768916&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[13]+1309151649&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~V))+k[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[11]+3174756917&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[2]+718787259&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,k=this.C;let N=this.h,V=0;for(;V<A;){if(N==0)for(;V<=R;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<A;)if(k[N++]=I.charCodeAt(V++),N==this.blockSize){l(this,k),N=0;break}}else for(;V<A;)if(k[N++]=I[V++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[A++]=this.g[R]>>>k&255;return I};function c(I,A){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function d(I,A){this.h=A;const R=[];let k=!0;for(let N=I.length-1;N>=0;N--){const V=I[N]|0;k&&V==A||(R[N]=V,k=!1)}this.g=R}var g={};function _(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(p(-I));const A=[];let R=1;for(let k=0;I>=R;k++)A[k]=I/R|0,R*=4294967296;return new d(A,0)}function w(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return J(w(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let k=S;for(let V=0;V<I.length;V+=8){var N=Math.min(8,I.length-V);const x=parseInt(I.substring(V,V+N),A);N<8?(N=p(Math.pow(A,N)),k=k.j(N).add(p(x))):(k=k.j(R),k=k.add(p(x)))}return k}var S=_(0),M=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(ne(this))return-J(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(ne(this))return"-"+J(this).toString(I);const A=p(Math.pow(I,6));var R=this;let k="";for(;;){const N=qe(R,A).g;R=de(R,N.j(A));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,Z(R))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function ne(I){return I.h==-1}s.l=function(I){return I=de(this,I),ne(I)?-1:Z(I)?0:1};function J(I){const A=I.g.length,R=[];for(let k=0;k<A;k++)R[k]=~I.g[k];return new d(R,~I.h).add(M)}s.abs=function(){return ne(this)?J(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let N=0;N<=A;N++){let V=k+(this.i(N)&65535)+(I.i(N)&65535),x=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=x>>>16,V&=65535,x&=65535,R[N]=x<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function de(I,A){return I.add(J(A))}s.j=function(I){if(Z(this)||Z(I))return S;if(ne(this))return ne(I)?J(this).j(J(I)):J(J(this).j(I));if(ne(I))return J(this.j(J(I)));if(this.l(F)<0&&I.l(F)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<I.g.length;N++){const V=this.i(k)>>>16,x=this.i(k)&65535,lt=I.i(N)>>>16,Ke=I.i(N)&65535;R[2*k+2*N]+=x*Ke,be(R,2*k+2*N),R[2*k+2*N+1]+=V*Ke,be(R,2*k+2*N+1),R[2*k+2*N+1]+=x*lt,be(R,2*k+2*N+1),R[2*k+2*N+2]+=V*lt,be(R,2*k+2*N+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new d(R,0)};function be(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function ge(I,A){this.g=I,this.h=A}function qe(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new ge(S,S);if(ne(I))return A=qe(J(I),A),new ge(J(A.g),J(A.h));if(ne(A))return A=qe(I,J(A)),new ge(J(A.g),A.h);if(I.g.length>30){if(ne(I)||ne(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,k=A;k.l(I)<=0;)R=et(R),k=et(k);var N=Ne(R,1),V=Ne(k,1);for(k=Ne(k,2),R=Ne(R,2);!Z(k);){var x=V.add(k);x.l(I)<=0&&(N=N.add(R),V=x),k=Ne(k,1),R=Ne(R,1)}return A=de(I,N.j(A)),new ge(N,A)}for(N=S;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=p(R),x=V.j(A);ne(x)||x.l(I)>0;)R-=k,V=p(R),x=V.j(A);Z(V)&&(V=M),N=N.add(V),I=de(I,x)}return new ge(N,I)}s.B=function(I){return qe(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&I.i(k);return new d(R,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|I.i(k);return new d(R,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^I.i(k);return new d(R,this.h^I.h)};function et(I){const A=I.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(R,I.h)}function Ne(I,A){const R=A>>5;A%=32;const k=I.g.length-R,N=[];for(let V=0;V<k;V++)N[V]=A>0?I.i(V+R)>>>A|I.i(V+R+1)<<32-A:I.i(V+R);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Qv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=w,lr=d}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kv,Cl,Yv,Pc,rm,Xv,$v,Jv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in v))break e;v=v[j]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function w(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,j,B){for(var W=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)W[Re-2]=arguments[Re];return m.prototype[j].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=j[W]}else u.push(j)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function de(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const T=ge.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new ne(()=>new qe,u=>u.reset());class qe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,Ne=!1,I=new be,A=()=>{const u=Promise.resolve(void 0);et=()=>{u.then(R)}};function R(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){J(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ne=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(lt,N),lt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(u,m,v,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++H,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function He(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(u,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,v,T,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=Te(u,m,T,j);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new te(m,this.src,B,!!T,j),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var T=u.g[v],j=Array.prototype.indexOf.call(T,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(T,j,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Te(u,m,v,T){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return j}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),bt={};function at(u,m,v,T,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)at(u,m[B],v,T,j);return null}return v=br(v),u&&u[Ke]?u.J(m,v,g(T)?!!T.capture:!1,j):Mn(u,m,v,!1,T,j)}function Mn(u,m,v,T,j,B){if(!m)throw Error("Invalid event type");const W=g(j)?!!j.capture:!!j;let Re=bn(u);if(Re||(u[Me]=Re=new ie(u)),v=Re.add(m,v,T,W,B),v.proxy)return v;if(T=fi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(j=W),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(cn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function fi(){function u(v){return m.call(u.src,u.listener,v)}const m=vs;return u}function Xn(u,m,v,T,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xn(u,m[B],v,T,j);else T=g(T)?!!T.capture:!!T,v=br(v),u&&u[Ke]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Te(m,v,T,j),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=bn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Te(m,v,T,j)),(v=u>-1?m[u]:null)&&Gi(v))}function Gi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ke])Ee(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(cn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=bn(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Me]=null)):ce(u)}}}function cn(u){return u in bt?bt[u]:bt[u]="on"+u}function vs(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gi(u),u=v.call(T,m)}return u}function bn(u){return u=u[Me],u instanceof ie?u:null}var Tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function br(u){return typeof u=="function"?u:(u[Tn]||(u[Tn]=function(m){return u.handleEvent(m)}),u[Tn])}function _t(){k.call(this),this.i=new ie(this),this.M=this,this.G=null}S(_t,k),_t.prototype[Ke]=!0,_t.prototype.removeEventListener=function(u,m,v,T){Xn(this,u,m,v,T)};function Tt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var j=m;m=new N(T,u),ee(m,j)}j=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],j=di(B,T,!0,m)&&j;if(B=m.g=u,j=di(B,T,!0,m)&&j,j=di(B,T,!1,m)&&j,v)for(W=0;W<v.length;W++)B=m.g=v[W],j=di(B,T,!1,m)&&j}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ce(v[T]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_t.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function di(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const Re=W.listener,St=W.ha||W.src;W.fa&&Ee(u.i,W),j=Re.call(St,T)!==!1&&j}}return j&&!T.defaultPrevented}function re(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pe(u){u.g=re(()=>{u.g=null,u.i&&(u.i=!1,pe(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ue extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(u){k.call(this),this.h=u,this.g={}}S(ye,k);var ut=[];function pt(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gi(m)},u),u.g={}}ye.prototype.N=function(){ye.Z.N.call(this),pt(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tt=d.JSON.stringify,hn=d.JSON.parse,Es=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Fi(){}function bs(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){N.call(this,"d")}S(Kt,N);function kn(){N.call(this,"c")}S(kn,N);var wt={},au=null;function ua(){return au=au||new _t}wt.Ia="serverreachability";function ou(u){N.call(this,wt.Ia,u)}S(ou,N);function mi(u){const m=ua();Tt(m,new ou(m))}wt.STAT_EVENT="statevent";function Tr(u,m){N.call(this,wt.STAT_EVENT,u),this.stat=m}S(Tr,N);function Ct(u){const m=ua();Tt(m,new Tr(m,u))}wt.Ja="timingevent";function gi(u,m){N.call(this,wt.Ja,u),this.size=m}S(gi,N);function pi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function jh(u,m,v,T,j,B){u.info(function(){if(u.g)if(B){var W="",Re=B.split("&");for(let Ye=0;Ye<Re.length;Ye++){var St=Re[Ye].split("=");if(St.length>1){const mt=St[0];St=St[1];const Pn=mt.split("_");W=Pn.length>=2&&Pn[1]=="type"?W+(mt+"="+St+"&"):W+(mt+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+W})}function lu(u,m,v,T,j,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+W})}function yi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(T?" "+T:"")})}function wr(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return tt(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Ar(){}S(Ar,Fi),Ar.prototype.g=function(){return new XMLHttpRequest},Ro=new Ar;function Qi(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var It={},qt={};function _i(u,m,v){u.M=1,u.A=Rr(Dt(m)),u.u=v,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),vi(u),u.B=Dt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Wn,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ue(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(ut[0]=j.toString()),j=ut);for(let B=0;B<j.length;B++){const W=at(v,j[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=ni(this.g),St=this.g.ya(),Ye=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Re!=4||St==7||(St==8||Ye<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Re,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ct(12),wn(this),Vn(this);break e}}if(this.R){u=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=hu(this,v),mt==qt){Re==4&&(this.m=4,Ct(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,Ct(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,mt,null),bi(this,mt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,Ct(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(W),W.P=!0,Ct(11))}}else yi(this.i,this.l,v,null),bi(this,v);Re==4&&wn(this),this.o&&!this.K&&(Re==4?Eu(this.j,this):(this.o=!1,vi(this)))}else Yi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),wn(this),Vn(this)}}}catch{}finally{}};function Uh(u){if(!cu(u))return u.g.la();const m=Yt(u.g);if(m==="")return"";let v="";const T=m.length,j=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?qt:(v=Number(m.substring(v,T)),isNaN(v)?It:(T+=1,T+v>m.length?qt:(m=m.slice(T,T+v),u.C=T+v,m)))}Zn.prototype.cancel=function(){this.K=!0,wn(this)};function vi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(p(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(mi(),Ct(17)),wn(this),this.m=2,Vn(this)):ha(this,this.T-u)};function Vn(u){u.j.I==0||u.K||Eu(u.j,u)}function wn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)va(v),Is(v);else break e;Mr(v),Ct(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(p(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&va(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ye=j[m];const mt=Ye[0];if(!(mt<=v.K))if(v.K=mt,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Pn=Ye[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ni=Ye[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ii=Ye[5];ii!=null&&typeof ii=="number"&&ii>0&&(T=1.5*ii,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const si=u.g;if(si){const kr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=T.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(T.G){const Ea=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,Je(T.J,T.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=wu(T,T.L?T.ba:null,T.W),W.L){No(T.h,W);var Re=W,St=T.O;St&&(Re.H=St),Re.D&&(Ei(Re),vi(Re)),T.g=W}else _u(T);v.i.length>0&&Ci(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Ii(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ii(v,7):Uo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}mi(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function xo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function No(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}xo.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let j,B=null;T>=0?(j=u[v].substring(0,T),B=u[v].substring(T+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Oo(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Ht(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),Ts(this,m[4]),this.h=Si(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(xr(m,da,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(xr(m,da,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(xr(v,v.charAt(0)=="/"?Mo:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",xr(v,mu)),u.join("")},Sn.prototype.resolve=function(u){const m=Dt(this);let v=!!u.j;v?Ht(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ts(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let W=0;W<j.length;){const Re=j[W++];Re=="."?T&&W==j.length&&B.push(""):Re==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==j.length&&B.push("")):(B.push(Re),T=!0)}T=B.join("/")}else T=j}return v?m.h=T:v=u.i.toString()!=="",v?Oo(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Dt(u){return new Sn(u)}function Ht(u,m,v){u.j=v?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof Ss?(u.i=m,ga(u.i,u.l)):(v||(m=xr(m,ws)),u.i=new Ss(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function Rr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,du=/[#\?:]/g,Mo=/[#\?]/g,ws=/[#\?@]/g,mu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){dn(this),this.i=null,u=As(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){dn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return dn(u),m=As(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(v,T){v.forEach(function(j){u.call(m,j,T,this)},this)},this)};function Vo(u,m){dn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return dn(this),this.i=null,u=As(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Vo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(As(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const j=Qi(v);v=Vo(this,v);for(let B=0;B<v.length;B++){let W=j;v[B]!==""&&(W+="="+Qi(v[B])),u.push(W)}}return this.i=u.join("&")};function pu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ga(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,T){const j=T.toLowerCase();T!=j&&(gu(this,T),ma(this,j,v))},u)),u.j=m}function ei(u,m){const v=new Jn;if(d.Image){const T=new Image;T.onload=w(Ln,v,"TestLoadImage: loaded",!0,m,T),T.onerror=w(Ln,v,"TestLoadImage: error",!1,m,T),T.onabort=w(Ln,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=w(Ln,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lo(u,m){const v=new Jn,T=new AbortController,j=setTimeout(()=>{T.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(j),B.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function Rs(){this.g=new Es}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ai,Fi),Ai.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cr,_t),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?xs(this):ti(this),this.readyState==3&&pa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,xs(this))},s.Na=function(u){this.g&&(this.response=u,xs(this))},s.ga=function(){this.g&&xs(this)};function xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return Ue(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=jn(v),typeof u=="string"?v!=null&&Qi(v):Je(u,m,v))}function nt(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(nt,_t);var Ri=/^https?$/i,jo=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=M(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jo,m,void 0)>=0)||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Ki(u)}function Po(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Tt(this,"complete"),Tt(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(Tt(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(fu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ri.test(W?W.toLowerCase():"")}v=T}if(v)Tt(u,"complete"),Tt(u,"success");else{u.o=6;try{var j=ni(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Po(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Tt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),hn(m)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=uu(u[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}He(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ct(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=wu(this,null,this.W),Ci(this)};function Uo(u){if(ya(u),u.I==3){var m=u.V++,v=Dt(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),Or(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=Rr(Dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Tu(u)}function Is(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function ya(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;et||A(),Ne||(et(),Ne=!0),I.add(m,u),u.D=0}}function _a(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(p(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ee(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,j,m),v=Dt(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),Or(this,v),B&&(this.R?m="headers="+Qi(jn(B))+"&"+m:this.u&&Ir(v,this.u,B)),Io(this.h,j),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),j.U=!0,_i(j,v,null)):_i(j,v,m),this.I=2}}else this.I==3&&(u?zo(this,u):this.i.length==0||Co(this.h)||zo(this))};function zo(u,m){var v;m?v=m.l:v=u.V++;const T=Dt(u.J);Je(T,"SID",u.M),Je(T,"RID",v),Je(T,"AID",u.K),Or(u,T),u.u&&u.o&&Ir(T,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),_i(v,T,m)}function Or(u,m){u.H&&Ue(u.H,function(v,T){Je(m,T,v)}),u.l&&Ue({},function(v,T){Je(m,T,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?p(u.l.Ka,u.l,u):null;e:{var j=u.i;let Re=-1;for(;;){const St=["count="+v];Re==-1?v>0?(Re=j[0].g,St.push("ofs="+Re)):Re=0:St.push("ofs="+Re);let Ye=!0;for(let mt=0;mt<v;mt++){var B=j[mt].g;const Pn=j[mt].map;if(B-=Re,B<0)Re=Math.max(0,j[mt].g-100),Ye=!1;else try{B="req"+B+"_"||"";try{var W=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ni,ii]of W){let si=ii;g(ii)&&(si=tt(ii)),St.push(B+Ni+"="+encodeURIComponent(si))}}catch(Ni){throw St.push(B+"type="+encodeURIComponent("_badmap")),Ni}}catch{T&&T(Pn)}}if(Ye){W=St.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;et||A(),Ne||(et(),Ne=!0),I.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(p(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(p(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),Is(this),vu(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dt(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Rr(Dt(m)),v.u=null,v.R=!0,ca(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Mr(this),Ct(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){va(u),Bo(u),u.g=null;var T=2}else if(wi(u.h,m))v=m.G,No(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;T=ua(),Tt(T,new gi(T,v)),Ci(u)}else _u(u);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),T=u.Ua;const j=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(T,"https"),Rr(T),j?ei(T.toString(),v):Lo(T.toString(),v)}else Ct(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ya(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var T=v instanceof Sn?Dt(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new Sn(null);T&&Ht(B,T),m&&(B.g=m),j&&Ts(B,j),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Je(T,v,m),Je(T,"VER",u.ka),Or(u,T),T}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new Ai({ab:v})):new nt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){_t.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}S(ln,_t),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Uo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=tt(u),u=v);m.i.push(new Nt(m.Ya++,u)),m.I==3&&Ci(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,ln.Z.N.call(this)};function Ru(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ru,Kt);function xu(){kn.call(this),this.status=1}S(xu,kn);function Xi(u){this.g=u}S(Xi,Au),Xi.prototype.ra=function(){Tt(this.g,"a")},Xi.prototype.qa=function(u){Tt(this.g,new Ru(u))},Xi.prototype.pa=function(u){Tt(this.g,new xu)},Xi.prototype.oa=function(){Tt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Jv=function(){return new Ns},$v=function(){return ua()},Xv=wt,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Pc=Sr,Ao.COMPLETE="complete",Yv=Ao,bs.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Cl=bs,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,Kv=nt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const u_="@firebase/firestore",c_="4.9.2";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let vo="12.3.0";const ia=new Nm("@firebase/firestore");function $a(){return ia.logLevel}function se(s,...e){if(ia.logLevel<=Le.DEBUG){const i=e.map(km);ia.debug(`Firestore (${vo}): ${s}`,...i)}}function gs(s,...e){if(ia.logLevel<=Le.ERROR){const i=e.map(km);ia.error(`Firestore (${vo}): ${s}`,...i)}}function oo(s,...e){if(ia.logLevel<=Le.WARN){const i=e.map(km);ia.warn(`Firestore (${vo}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Zv(s,a,i)}function Zv(s,e,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function $e(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Zv(e,l,a)}function Ae(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Wv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class IA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NA{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new Wv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class DA{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OA{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new DA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new h_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=kA(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function je(s,e){return s<e?-1:s>e?1:0}function am(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Fd(l)===Fd(c)?je(l,c):Fd(l)?1:-1}return je(s.length,e.length)}const VA=55296,LA=57343;function Fd(s){const e=s.charCodeAt(0);return e>=VA&&e<=LA}function lo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const f_="__name__";class Vi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Vi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const a=Vi.isNumericId(e),l=Vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Vi.extractNumericId(e).compare(Vi.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class ft extends Vi{construct(e,i,a){return new ft(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const jA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Vi{construct(e,i,a){return new en(e,i,a)}static isValidIdentifier(e){return jA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new en([f_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(ft.fromString(e))}static fromName(e){return new fe(ft.fromString(e).popFirst(5))}static empty(){return new fe(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new ft(e.slice()))}}function e1(s,e,i){if(!i)throw new le($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function PA(s,e,i,a){if(e===!0&&a===!0)throw new le($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function d_(s){if(!fe.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function m_(s){if(fe.isDocumentKey(s))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function t1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function ur(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(s);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Zl(s,e){if(!t1(s))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new le($.INVALID_ARGUMENT,i);return!0}const g_=-62135596800,p_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*p_);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g_)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:jt("string",dt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new dt(0,0))}static max(){return new we(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bl=-1;function UA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new fr(l,fe.empty(),e)}function zA(s){return new fr(s.readTime,s.key,Bl)}class fr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(we.min(),fe.empty(),Bl)}static max(){return new fr(we.max(),fe.empty(),Bl)}}function BA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(s.documentKey,e.documentKey),i!==0?i:je(s.largestBatchId,e.largestBatchId))}const qA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==qA)throw s;se("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((w=>{d[p]=w,++g,g===c&&a(d)}),(w=>l(w)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function GA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bo(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const jm=-1;function ph(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function FA(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const n1="";function QA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=y_(e)),e=KA(s.get(i),e);return y_(e)}function KA(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case n1:i+="";break;default:i+=c}}return i}function y_(s){return s+n1+""}function __(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function _r(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function i1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yt{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new yt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Wt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new On([])}unionWith(e){let i=new Bt(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class s1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new s1("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const YA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=YA.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(s.seconds),nanos:xt(s.nanos)}}function xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const r1="server_timestamp",a1="__type__",o1="__previous_value__",l1="__local_write_time__";function Pm(s){return(s?.mapValue?.fields||{})[a1]?.stringValue===r1}function yh(s){const e=s.mapValue.fields[o1];return Pm(e)?yh(e):e}function ql(s){const e=dr(s.mapValue.fields[l1].timestampValue);return new dt(e.seconds,e.nanos)}class XA{constructor(e,i,a,l,c,d,g,_,p,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=w}}const $c="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||$c}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}const u1="__type__",$A="__max__",Mc={mapValue:{}},c1="__vector__",Jc="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:ZA(s)?9007199254740991:JA(s)?10:11:ve(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ql(s).isEqual(ql(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=dr(l.timestampValue),g=dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return mr(l.bytesValue).isEqual(mr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return xt(l.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(l.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return xt(l.integerValue)===xt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=xt(l.doubleValue),g=xt(c.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return lo(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(__(d)!==__(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!qi(d[_],g[_])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Gl(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function uo(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return je(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=xt(c.integerValue||c.doubleValue),_=xt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return E_(s.timestampValue,e.timestampValue);case 4:return E_(ql(s),ql(e));case 5:return am(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=mr(c),_=mr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const w=je(g[p],_[p]);if(w!==0)return w}return je(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=je(xt(c.latitude),xt(d.latitude));return g!==0?g:je(xt(c.longitude),xt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return b_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[Jc]?.arrayValue,w=_[Jc]?.arrayValue,S=je(p?.values?.length||0,w?.values?.length||0);return S!==0?S:b_(p,w)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},w=Object.keys(p);_.sort(),w.sort();for(let S=0;S<_.length&&S<w.length;++S){const M=am(_[S],w[S]);if(M!==0)return M;const F=uo(g[_[S]],p[w[S]]);if(F!==0)return F}return je(_.length,w.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function E_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const i=dr(s),a=dr(e),l=je(i.seconds,a.seconds);return l!==0?l:je(i.nanos,a.nanos)}function b_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return je(i.length,a.length)}function co(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return mr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return fe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Uc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return _r(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function lm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function T_(s){return!!s&&"nullValue"in s}function w_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function JA(s){return(s?.mapValue?.fields||{})[u1]?.stringValue===c1}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=kl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return{...s}}function ZA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$A}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=en.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=kl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){_r(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new En(kl(this.value))}}function h1(s){const e=[];return _r(s.fields,((i,a)=>{const l=new en([i]);if(zc(a)){const c=h1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new On(e)}class an{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new an(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,i,a,l){return new an(e,1,i,we.min(),a,l,0)}static newNoDocument(e,i){return new an(e,2,i,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(e,i){this.position=e,this.inclusive=i}}function S_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=fe.comparator(fe.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function A_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}class Wc{constructor(e,i="asc"){this.field=e,this.dir=i}}function WA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class f1{}class Ut extends f1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new t2(e,i,a):i==="array-contains"?new s2(e,a):i==="in"?new r2(e,a):i==="not-in"?new a2(e,a):i==="array-contains-any"?new o2(e,a):new Ut(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new n2(e,a):new i2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends f1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return d1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d1(s){return s.op==="and"}function m1(s){return e2(s)&&d1(s)}function e2(s){for(const e of s.filters)if(e instanceof Hi)return!1;return!0}function um(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+co(s.value);if(m1(s))return s.filters.map((e=>um(e))).join(",");{const e=s.filters.map((i=>um(i))).join(",");return`${s.op}(${e})`}}function g1(s,e){return s instanceof Ut?(function(a,l){return l instanceof Ut&&a.op===l.op&&a.field.isEqual(l.field)&&qi(a.value,l.value)})(s,e):s instanceof Hi?(function(a,l){return l instanceof Hi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&g1(d,l.filters[g])),!0):!1})(s,e):void ve(19439)}function p1(s){return s instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(s):s instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(p1).join(" ,")+"}"})(s):"Filter"}class t2 extends Ut{constructor(e,i,a){super(e,i,a),this.key=fe.fromName(a.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class n2 extends Ut{constructor(e,i){super(e,"in",i),this.keys=y1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class i2 extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=y1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function y1(s,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class s2 extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&Gl(i.arrayValue,this.value)}}class r2 extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class a2 extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class o2 extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Gl(this.value.arrayValue,a)))}}class l2{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function R_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new l2(s,e,i,a,l,c,d)}function zm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>um(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>co(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>co(a))).join(",")),e.Te=i}return e.Te}function Bm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!WA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!g1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!A_(s.startAt,e.startAt)&&A_(s.endAt,e.endAt)}function cm(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u2(s,e,i,a,l,c,d,g){return new _h(s,e,i,a,l,c,d,g)}function qm(s){return new _h(s)}function x_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function c2(s){return s.collectionGroup!==null}function Vl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Bt(en.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Wc(c,a))})),i.has(en.keyField().canonicalString())||e.Ie.push(new Wc(en.keyField(),a))}return e.Ie}function Li(s){const e=Ae(s);return e.Ee||(e.Ee=h2(e,Vl(s))),e.Ee}function h2(s,e){if(s.limitType==="F")return R_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return R_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function hm(s,e,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vh(s,e){return Bm(Li(s),Li(e))&&s.limitType===e.limitType}function _1(s){return`${zm(Li(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>p1(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(Li(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):fe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Vl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const p=S_(d,g,_);return d.inclusive?p<=0:p<0})(a.startAt,Vl(a),l)||a.endAt&&!(function(d,g,_){const p=S_(d,g,_);return d.inclusive?p>=0:p>0})(a.endAt,Vl(a),l))})(s,e)}function f2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function v1(s){return(e,i)=>{let a=!1;for(const l of Vl(s)){const c=d2(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function d2(s,e,i){const a=s.field.isKeyField()?fe.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?uo(_,p):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}const m2=new yt(fe.comparator);function ps(){return m2}const E1=new yt(fe.comparator);function Il(...s){let e=E1;for(const i of s)e=e.insert(i.key,i);return e}function b1(s){let e=E1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Jr(){return Ll()}function T1(){return Ll()}function Ll(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const g2=new yt(fe.comparator),p2=new Bt(fe.comparator);function Pe(...s){let e=p2;for(const i of s)e=e.add(i);return e}const y2=new Bt(je);function _2(){return y2}function Hm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function w1(s){return{integerValue:""+s}}function v2(s,e){return FA(e)?w1(e):Hm(s,e)}class bh{constructor(){this._=void 0}}function E2(s,e,i){return s instanceof eh?(function(l,c){const d={fields:{[a1]:{stringValue:r1},[l1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=yh(c)),c&&(d.fields[o1]=c),{mapValue:d}})(i,e):s instanceof Fl?A1(s,e):s instanceof Ql?R1(s,e):(function(l,c){const d=S1(l,c),g=C_(d)+C_(l.Ae);return lm(d)&&lm(l.Ae)?w1(g):Hm(l.serializer,g)})(s,e)}function b2(s,e,i){return s instanceof Fl?A1(s,e):s instanceof Ql?R1(s,e):i}function S1(s,e){return s instanceof th?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class eh extends bh{}class Fl extends bh{constructor(e){super(),this.elements=e}}function A1(s,e){const i=x1(e);for(const a of s.elements)i.some((l=>qi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ql extends bh{constructor(e){super(),this.elements=e}}function R1(s,e){let i=x1(e);for(const a of s.elements)i=i.filter((l=>!qi(l,a)));return{arrayValue:{values:i}}}class th extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function C_(s){return xt(s.integerValue||s.doubleValue)}function x1(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function T2(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Fl&&l instanceof Fl||a instanceof Ql&&l instanceof Ql?lo(a.elements,l.elements,qi):a instanceof th&&l instanceof th?qi(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(s.transform,e.transform)}class w2{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Th{}function C1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,ci.none()):new Wl(s.key,s.data,ci.none());{const i=s.data,a=En.empty();let l=new Bt(en.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new vr(s.key,a,new On(l.toArray()),ci.none())}}function S2(s,e,i){s instanceof Wl?(function(l,c,d){const g=l.value.clone(),_=N_(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof vr?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=N_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(I1(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jl(s,e,i,a){return s instanceof Wl?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const p=c.value.clone(),w=D_(c.fieldTransforms,_,d);return p.setAll(w),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,i,a):s instanceof vr?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const p=D_(c.fieldTransforms,_,d),w=d.data;return w.setAll(I1(c)),w.setAll(p),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function A2(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=S1(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function I_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>T2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Wl extends Th{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends Th{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function I1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function N_(s,e,i){const a=new Map;$e(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,b2(d,g,i[l]))}return a}function D_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,E2(c,d,e))}return a}class Gm extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends Th{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class x2{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&S2(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=T1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=C1(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((i,a)=>I_(i,a)))&&lo(this.baseMutations,e.baseMutations,((i,a)=>I_(i,a)))}}class Fm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return g2})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(e,i,a,l)}}class C2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class I2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Be;function N2(s){switch(s){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function N1(s){if(s===void 0)return gs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:s})}}(Be=Lt||(Lt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function D2(){return new TextEncoder}const O2=new lr([4294967295,4294967295],0);function O_(s){const e=D2().encode(s),i=new Qv;return i.update(e),new Uint8Array(i.digest())}function M_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new lr([i,a],0),new lr([l,c],0)]}class Qm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=lr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(lr.fromNumber(a)));return l.compare(O2)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=O_(e),[a,l]=M_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=O_(e),[a,l]=M_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new wh(we.min(),l,new yt(je),ps(),Pe())}}class eu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,Pe(),Pe(),Pe())}}class qc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class D1{constructor(e,i){this.targetId=e,this.Ce=i}}class O1{constructor(e,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class k_{constructor(){this.ve=0,this.Fe=V_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),i=Pe(),a=Pe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ve(38017,{changeType:c})}})),new eu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=V_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=kc(),this.He=kc(),this.Ye=new yt(je)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new fe(c.path);this.et(i,d,an.newNoDocument(d,we.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=mr(a).toUint8Array()}catch(_){if(_ instanceof s1)return oo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Qm(d,l,c)}catch(_){return oo(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&cm(g.target)){const _=new fe(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new wh(e,i,this.Ye,this.je,a);return this.je=ps(),this.Je=kc(),this.He=kc(),this.Ye=new yt(je),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new k_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Bt(je),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Bt(je),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new k_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new yt(fe.comparator)}function V_(){return new yt(fe.comparator)}const k2={asc:"ASCENDING",desc:"DESCENDING"},V2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L2={and:"AND",or:"OR"};class j2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function fm(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function P2(s,e){return nh(s,e.toTimestamp())}function ji(s){return $e(!!s,49232),we.fromTimestamp((function(i){const a=dr(i);return new dt(a.seconds,a.nanos)})(s))}function Km(s,e){return dm(s,e).canonicalString()}function dm(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function k1(s){const e=ft.fromString(s);return $e(U1(e),10190,{key:e.toString()}),e}function mm(s,e){return Km(s.databaseId,e.path)}function Qd(s,e){const i=k1(e);if(i.get(1)!==s.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new fe(L1(i))}function V1(s,e){return Km(s.databaseId,e)}function U2(s){const e=k1(s);return e.length===4?ft.emptyPath():L1(e)}function gm(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function L1(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function L_(s,e,i){return{name:mm(s,e),fields:i.value.mapValue.fields}}function z2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ve(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(p,w){return p.useProto3Json?($e(w===void 0||typeof w=="string",58123),tn.fromBase64String(w||"")):($e(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),tn.fromUint8Array(w||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const w=p.code===void 0?$.UNKNOWN:N1(p.code);return new le(w,p.message||"")})(d);i=new O1(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(s,a.document.name),c=ji(a.document.updateTime),d=a.document.createTime?ji(a.document.createTime):we.min(),g=new En({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(l,c,d,g),p=a.targetIds||[],w=a.removedTargetIds||[];i=new qc(p,w,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Qd(s,a.document),c=a.readTime?ji(a.readTime):we.min(),d=an.newNoDocument(l,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Qd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new I2(l,c),g=a.targetId;i=new D1(g,d)}}return i}function B2(s,e){let i;if(e instanceof Wl)i={update:L_(s,e.key,e.value)};else if(e instanceof Gm)i={delete:mm(s,e.key)};else if(e instanceof vr)i={update:L_(s,e.key,e.data),updateMask:$2(e.fieldMask)};else{if(!(e instanceof R2))return ve(16599,{Vt:e.type});i={verify:mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof th)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:P2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function q2(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(we.min())&&(d=ji(c)),new w2(d,l.transformResults||[])})(i,e)))):[]}function H2(s,e){return{documents:[V1(s,e.path)]}}function G2(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=V1(s,l);const c=(function(p){if(p.length!==0)return P1(Hi.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((w=>(function(M){return{field:Za(M.field),direction:K2(M.dir)}})(w)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:l}}function F2(s){let e=U2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){$e(a===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:e=e.child(w.collectionId)}let c=[];i.where&&(c=(function(S){const M=j1(S);return M instanceof Hi&&m1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(Z){return new Wc(Wa(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,ph(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,F=S.values||[];return new Zc(F,M)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const M=!S.before,F=S.values||[];return new Zc(F,M)})(i.endAt)),u2(e,l,d,c,g,"F",_,p)}function Q2(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function j1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Ut.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ut.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((a=>j1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function K2(s){return k2[s]}function Y2(s){return V2[s]}function X2(s){return L2[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Wa(s){return en.fromServerFormat(s.fieldPath)}function P1(s){return s instanceof Ut?(function(i){if(i.op==="=="){if(w_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(T_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(w_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(T_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:Y2(i.op),value:i.value}}})(s):s instanceof Hi?(function(i){const a=i.getFilters().map((l=>P1(l)));return a.length===1?a[0]:{compositeFilter:{op:X2(i.op),filters:a}}})(s):ve(54877,{filter:s})}function $2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function U1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class sr{constructor(e,i,a,l,c=we.min(),d=we.min(),g=tn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J2{constructor(e){this.yt=e}}function Z2(s){const e=F2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(e,e.limit,"L"):e}class W2{constructor(){this.Cn=new eR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(fr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class eR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Bt(ft.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Bt(ft.comparator)).toArray()}}const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(z1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const P_="LruGarbageCollector",tR=1048576;function U_([s,e],[i,a]){const l=je(s,i);return l===0?je(e,a):l}class nR{constructor(e){this.Ir=e,this.buffer=new Bt(U_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();U_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bo(i)?se(P_,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class sR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(gh.ce);const a=new nR(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(j_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,_,p;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(p=Date.now(),$a()<=Le.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(p-_)+`ms
Total Duration: ${p-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function rR(s,e){return new sR(s,e)}class aR{constructor(){this.changes=new aa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class lR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&jl(a.mutation,l,On.empty(),dt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Pe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Pe()){const l=Jr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Il();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Pe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=ps();const d=Ll(),g=(function(){return Ll()})();return i.forEach(((_,p)=>{const w=a.get(p.key);l.has(p.key)&&(w===void 0||w.mutation instanceof vr)?c=c.insert(p.key,p):w!==void 0?(d.set(p.key,w.mutation.getFieldMask()),jl(w.mutation,p,w.mutation.getFieldMask(),dt.now())):d.set(p.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,w)=>d.set(p,w))),i.forEach(((p,w)=>g.set(p,new oR(w,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ll();let l=new yt(((d,g)=>d-g)),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let w=a.get(_)||On.empty();w=g.applyToLocalView(p,w),a.set(_,w);const S=(l.get(g.batchId)||Pe()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,w=_.value,S=T1();w.forEach((M=>{if(!c.has(M)){const F=C1(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):c2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(Jr());let g=Bl,_=c;return d.next((p=>X.forEach(p,((w,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(w)?X.resolve():this.remoteDocumentCache.getEntry(e,w).next((M=>{_=_.insert(w,M)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,Pe()))).next((w=>({batchId:g,changes:b1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((a=>{let l=Il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const p=(function(S,M){return new _h(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,a,l).next((w=>{w.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,p)=>{const w=p.getKey();d.get(w)===null&&(d=d.insert(w,an.newInvalidDocument(w)))}));let g=Il();return d.forEach(((_,p)=>{const w=c.get(_);w!==void 0&&jl(w.mutation,p,On.empty(),dt.now()),Eh(i,p)&&(g=g.insert(_,p))})),g}))}}class uR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Z2(l.bundledQuery),readTime:ji(l.readTime)}})(i)),X.resolve()}}class cR{constructor(){this.overlays=new yt(fe.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Jr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=Jr(),c=i.length+1,d=new fe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new yt(((p,w)=>p-w));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let w=c.get(p.largestBatchId);w===null&&(w=Jr(),c=c.insert(p.largestBatchId,w)),w.set(p.getKey(),p)}}const g=Jr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,w)=>g.set(p,w))),!(g.size()>=l)););return X.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new C2(i,a));let c=this.qr.get(i);c===void 0&&(c=Pe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class hR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class Ym{constructor(){this.Qr=new Bt(Ft.$r),this.Ur=new Bt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ft(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ft(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new fe(new ft([])),a=new Ft(i,e),l=new Ft(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new fe(new ft([])),a=new Ft(i,e),l=new Ft(i,e+1);let c=Pe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ft(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return fe.comparator(e.key,i.key)||je(e.Yr,i.Yr)}static Kr(e,i){return je(e.Yr,i.Yr)||fe.comparator(e.key,i.key)}}class fR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Ft.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new x2(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ft(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ft(i,0),l=new Ft(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Bt(je);return i.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;fe.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new fe(c),0);let g=new Bt(je);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){$e(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ft(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ft(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dR{constructor(e){this.ri=e,this.docs=(function(){return new yt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=ps();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ps();const d=i.path,g=new fe(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:w}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||BA(zA(w),a)<=0||(l.has(w.key)||Eh(i,w))&&(c=c.insert(w.key,w.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){ve(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new mR(this)}getSize(e){return X.resolve(this.size)}}class mR extends aR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gR{constructor(e){this.persistence=e,this.si=new aa((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ho(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class B1{constructor(e,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new hR,this.referenceDelegate=e(this),this.Pi=new gR(this),this.indexManager=new W2,this.remoteDocumentCache=(function(l){return new dR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new J2(i),this.Ii=new uR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new fR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){se("MemoryPersistence","Starting transaction:",e);const l=new pR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class pR extends HA{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new Ym,this.Vi=null}static mi(e){return new Xm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=fe.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ih{constructor(e,i){this.persistence=e,this.pi=new aa((a=>QA(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=rR(this,i)}static mi(e,i){return new ih(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $m{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Pe(),l=Pe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(e,i.fromCache,a,l)}}class yR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oS()?8:GA(on())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?($a()<=Le.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):($a()<=Le.DEBUG&&se("QueryEngine","Query:",Ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?($a()<=Le.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(i))):X.resolve())}ys(e,i){if(x_(i))return X.resolve(null);let a=Li(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Pe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(e,hm(i,null,"F")):this.vs(e,p,i,_)}))))})))))}ws(e,i,a,l){return x_(i)||l.isEqual(we.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):($a()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(i)),this.vs(e,d,i,UA(l,Bl)).next((g=>g)))}))}Ds(e,i){let a=new Bt(v1(e));return i.forEach(((l,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return $a()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(e,i,fr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",vR=3e8;class ER{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new yt(je),this.xs=new aa((c=>zm(c)),Bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bR(s,e,i,a){return new ER(s,e,i,a)}async function q1(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Pe();for(const p of l){d.push(p.batchId);for(const w of p.mutations)_=_.add(w.key)}for(const p of c){g.push(p.batchId);for(const w of p.mutations)_=_.add(w.key)}return i.localDocuments.getDocuments(a,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function TR(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,w){const S=p.batch,M=S.keys();let F=X.resolve();return M.forEach((Z=>{F=F.next((()=>w.getEntry(_,Z))).next((ne=>{const J=p.docVersions.get(Z);$e(J!==null,48541),ne.version.compareTo(J)<0&&(S.applyToRemoteDocument(ne,p),ne.isValidDocument()&&(ne.setReadTime(p.commitVersion),w.addEntry(ne)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Pe();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function H1(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function wR(s,e){const i=Ae(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((w,S)=>{const M=l.get(S);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,w.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,w.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(tn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,a)),l=l.insert(S,F),(function(ne,J,de){return ne.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=vR?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(M,F,w)&&g.push(i.Pi.updateTargetData(c,F))}));let _=ps(),p=Pe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,w))})),g.push(SR(c,d,e.documentUpdates).next((w=>{_=w.ks,p=w.qs}))),!a.isEqual(we.min())){const w=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(w)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function SR(s,e,i){let a=Pe(),l=Pe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ps();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):se(Jm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function AR(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function RR(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new sr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function pm(s,e,i){const a=Ae(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!bo(d))throw d;se(Jm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function z_(s,e,i){const a=Ae(s);let l=we.min(),c=Pe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,w){const S=Ae(_),M=S.xs.get(w);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(p,w)})(a,d,Li(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:Pe()))).next((g=>(xR(a,f2(e),g),{documents:g,Qs:c})))))}function xR(s,e,i){let a=s.Os.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class B_{constructor(){this.activeTargetIds=_2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CR{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IR{Oo(e){}shutdown(){}}const q_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function ym(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Kd="RestConnection",NR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=ym(),g=this.zo(e,i.toUriEncodedString());se(Kd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:p}=new URL(g),w=yo(p);return this.Jo(e,g,_,a,w).then((S=>(se(Kd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw oo(Kd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=NR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class OR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class MR extends DR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=ym();return new Promise(((g,_)=>{const p=new Kv;p.setWithCredentials(!0),p.listenOnce(Yv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pc.NO_ERROR:const S=p.getResponseJson();se(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Pc.TIMEOUT:se(sn,`RPC '${e}' ${d} timed out`),_(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=p.getStatus();if(se(sn,`RPC '${e}' ${d} failed with status:`,M,"response text:",p.getResponseText()),M>0){let F=p.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const ne=(function(de){const be=de.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(be)>=0?be:$.UNKNOWN})(Z.status);_(new le(ne,Z.message))}else _(new le($.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new le($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{se(sn,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(l);se(sn,`RPC '${e}' ${d} sending request:`,l),p.send(i,"POST",w,a,15)}))}T_(e,i,a){const l=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Jv(),g=$v(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const w=c.join("");se(sn,`Creating RPC '${e}' stream ${l}: ${w}`,_);const S=d.createWebChannel(w,_);this.I_(S);let M=!1,F=!1;const Z=new OR({Yo:J=>{F?se(sn,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(M||(se(sn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),se(sn,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),ne=(J,de,be)=>{J.listen(de,(ge=>{try{be(ge)}catch(qe){setTimeout((()=>{throw qe}),0)}}))};return ne(S,Cl.EventType.OPEN,(()=>{F||(se(sn,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),ne(S,Cl.EventType.CLOSE,(()=>{F||(F=!0,se(sn,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),ne(S,Cl.EventType.ERROR,(J=>{F||(F=!0,oo(sn,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new le($.UNAVAILABLE,"The operation could not be completed")))})),ne(S,Cl.EventType.MESSAGE,(J=>{if(!F){const de=J.data[0];$e(!!de,16349);const be=de,ge=be?.error||be[0]?.error;if(ge){se(sn,`RPC '${e}' stream ${l} received error:`,ge);const qe=ge.status;let et=(function(A){const R=Lt[A];if(R!==void 0)return N1(R)})(qe),Ne=ge.message;et===void 0&&(et=$.INTERNAL,Ne="Unknown error status: "+qe+" with message "+ge.message),F=!0,Z.a_(new le(et,Ne)),S.close()}else se(sn,`RPC '${e}' stream ${l} received:`,de),Z.u_(de)}})),ne(g,Xv.STAT_EVENT,(J=>{J.stat===rm.PROXY?se(sn,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===rm.NOPROXY&&se(sn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function Sh(s){return new j2(s,!0)}class G1{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const G_="PersistentStream";class F1{constructor(e,i,a,l,c,d,g,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new le($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(se(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kR extends F1{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=z2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?ji(d.readTime):we.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=cm(_)?{documents:H2(c,_)}:{query:G2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=M1(c,d.resumeToken);const p=fm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=nh(c,d.snapshotVersion.toTimestamp());const p=fm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const a=Q2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=gm(this.serializer),i.removeTarget=e,this.q_(i)}}class VR extends F1{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=q2(e.writeResults,e.commitTime),a=ji(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=gm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>B2(this.serializer,a)))};this.q_(i)}}class LR{}class jR extends LR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le($.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,dm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class UR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{oa(this)&&(se(sa,"Restarting streams for network reachability change."),await(async function(_){const p=Ae(_);p.Ea.add(4),await tu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Ah(p)})(this))}))})),this.Ra=new PR(a,l)}}async function Ah(s){if(oa(s))for(const e of s.da)await e(!0)}async function tu(s){for(const e of s.da)await e(!1)}function Q1(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tg(i)?eg(i):To(i).O_()&&Wm(i,e))}function Zm(s,e){const i=Ae(s),a=To(i);i.Ia.delete(e),a.O_()&&K1(i,e),i.Ia.size===0&&(a.O_()?a.L_():oa(i)&&i.Ra.set("Unknown"))}function Wm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}To(s).Y_(e)}function K1(s,e){s.Va.Ue(e),To(s).Z_(e)}function eg(s){s.Va=new M2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),To(s).start(),s.Ra.ua()}function tg(s){return oa(s)&&!To(s).x_()&&s.Ia.size>0}function oa(s){return Ae(s).Ea.size===0}function Y1(s){s.Va=void 0}async function zR(s){s.Ra.set("Online")}async function BR(s){s.Ia.forEach(((e,i)=>{Wm(s,e)}))}async function qR(s,e){Y1(s),tg(s)?(s.Ra.ha(e),eg(s)):s.Ra.set("Unknown")}async function HR(s,e,i){if(s.Ra.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(a){se(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await sh(s,a)}else if(e instanceof qc?s.Va.Ze(e):e instanceof D1?s.Va.st(e):s.Va.tt(e),!i.isEqual(we.min()))try{const a=await H1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const w=c.Ia.get(p);w&&c.Ia.set(p,w.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const w=c.Ia.get(_);if(!w)return;c.Ia.set(_,w.withResumeToken(tn.EMPTY_BYTE_STRING,w.snapshotVersion)),K1(c,_);const S=new sr(w.target,_,p,w.sequenceNumber);Wm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){se(sa,"Failed to raise snapshot:",a),await sh(s,a)}}async function sh(s,e,i){if(!bo(e))throw e;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>H1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{se(sa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function X1(s,e){return e().catch((i=>sh(s,i,e)))}async function Rh(s){const e=Ae(s),i=pr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;GR(e);)try{const l=await AR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,FR(e,l)}catch(l){await sh(e,l)}$1(e)&&J1(e)}function GR(s){return oa(s)&&s.Ta.length<10}function FR(s,e){s.Ta.push(e);const i=pr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function $1(s){return oa(s)&&!pr(s).x_()&&s.Ta.length>0}function J1(s){pr(s).start()}async function QR(s){pr(s).ra()}async function KR(s){const e=pr(s);for(const i of s.Ta)e.ea(i.mutations)}async function YR(s,e,i){const a=s.Ta.shift(),l=Fm.from(a,e,i);await X1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rh(s)}async function XR(s,e){e&&pr(s).X_&&await(async function(a,l){if((function(d){return N2(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();pr(a).B_(),await X1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(s,e),$1(s)&&J1(s)}async function F_(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),se(sa,"RemoteStore received new credentials");const a=oa(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ah(i)}async function $R(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Ah(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function To(s){return s.ma||(s.ma=(function(i,a,l){const c=Ae(i);return c.sa(),new kR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:zR.bind(null,s),t_:BR.bind(null,s),r_:qR.bind(null,s),H_:HR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),tg(s)?eg(s):s.Ra.set("Unknown")):(await s.ma.stop(),Y1(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ae(i);return c.sa(),new VR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:QR.bind(null,s),r_:XR.bind(null,s),ta:KR.bind(null,s),na:YR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(se(sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ng{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new ng(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(s,e){if(gs("AsyncQueue",`${e}: ${s}`),bo(s))return new le($.UNAVAILABLE,`${e}: ${s}`);throw s}class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||fe.comparator(i.key,a.key):(i,a)=>fe.comparator(i.key,a.key),this.keyedMap=Il(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Q_{constructor(){this.ga=new yt(fe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class fo{constructor(e,i,a,l,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new fo(e,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class JR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZR{constructor(){this.queries=K_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ae(i),c=l.queries;l.queries=K_(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function K_(){return new aa((s=>_1(s)),vh)}async function WR(s,e){const i=Ae(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new JR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ig(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&sg(i)}async function ex(s,e){const i=Ae(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function tx(s,e){const i=Ae(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&sg(i)}function nx(s,e,i){const a=Ae(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function sg(s){s.Ca.forEach((e=>{e.next()}))}var _m,Y_;(Y_=_m||(_m={})).Ma="default",Y_.Cache="cache";class ix{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new fo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class Z1{constructor(e){this.key=e}}class W1{constructor(e){this.key=e}}class sx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=v1(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Q_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((w,S)=>{const M=l.get(w),F=Eh(this.query,S)?S:null,Z=!!M&&this.mutatedKeys.has(M.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?Z!==ne&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||p&&this.eu(F,p)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(_||p)&&(g=!0)),J&&(F?(d=d.add(F),c=ne?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),a.track({type:1,doc:w})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,S)=>(function(F,Z){const ne=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:J})}};return ne(F)-ne(Z)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new fo(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new W1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Z1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Pe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class rx{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class ax{constructor(e){this.key=e,this.hu=!1}}class ox{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((g=>_1(g)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new yt(fe.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lx(s,e,i=!0){const a=rE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await eE(a,e,i,!0),l}async function ux(s,e){const i=rE(s);await eE(i,e,!0,!1)}async function eE(s,e,i,a){const l=await RR(s.localStore,Li(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await cx(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&Q1(s.remoteStore,l),g}async function cx(s,e,i,a,l){s.pu=(S,M,F)=>(async function(ne,J,de,be){let ge=J.view.ru(de);ge.Cs&&(ge=await z_(ne.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,ge))));const qe=be&&be.targetChanges.get(J.targetId),et=be&&be.targetMismatches.get(J.targetId)!=null,Ne=J.view.applyChanges(ge,ne.isPrimaryClient,qe,et);return $_(ne,J.targetId,Ne.au),Ne.snapshot})(s,S,M,F);const c=await z_(s.localStore,e,!0),d=new sx(e,c.Qs),g=d.ru(c.documents),_=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,_);$_(s,i,p.au);const w=new rx(e,i,d);return s.Tu.set(e,w),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),p.snapshot}async function hx(s,e,i){const a=Ae(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(Eo)):(vm(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function fx(s,e){const i=Ae(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function dx(s,e,i){const a=Ex(s);try{const l=await(function(d,g){const _=Ae(d),p=dt.now(),w=g.reduce(((F,Z)=>F.add(Z.key)),Pe());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=ps(),ne=Pe();return _.Ns.getEntries(F,w).next((J=>{Z=J,Z.forEach(((de,be)=>{be.isValidDocument()||(ne=ne.add(de))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Z))).next((J=>{S=J;const de=[];for(const be of g){const ge=A2(be,S.get(be.key).overlayedDocument);ge!=null&&de.push(new vr(be.key,ge,h1(ge.value.mapValue),ci.exists(!0)))}return _.mutationQueue.addMutationBatch(F,p,de,g)})).next((J=>{M=J;const de=J.applyToLocalDocumentSet(S,ne);return _.documentOverlayCache.saveOverlays(F,J.batchId,de)}))})).then((()=>({batchId:M.batchId,changes:b1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new yt(je)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(a,l.batchId,i),await nu(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=ig(l,"Failed to persist write");i.reject(c)}}async function tE(s,e){const i=Ae(s);try{const a=await wR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await nu(i,a,e)}catch(a){await Eo(a)}}function X_(s,e,i){const a=Ae(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Ae(d);_.onlineState=g;let p=!1;_.queries.forEach(((w,S)=>{for(const M of S.Sa)M.va(g)&&(p=!0)})),p&&sg(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mx(s,e,i){const a=Ae(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new yt(fe.comparator);d=d.insert(c,an.newNoDocument(c,we.min()));const g=Pe().add(c),_=new wh(we.min(),new Map,new yt(je),d,g);await tE(a,_),a.du=a.du.remove(c),a.Au.delete(e),ag(a)}else await pm(a.localStore,e,!1).then((()=>vm(a,e,i))).catch(Eo)}async function gx(s,e){const i=Ae(s),a=e.batch.batchId;try{const l=await TR(i.localStore,e);iE(i,a,null),nE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,l)}catch(l){await Eo(l)}}async function px(s,e,i){const a=Ae(s);try{const l=await(function(d,g){const _=Ae(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let w;return _.mutationQueue.lookupMutationBatch(p,g).next((S=>($e(S!==null,37113),w=S.keys(),_.mutationQueue.removeMutationBatch(p,S)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,w,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,w))).next((()=>_.localDocuments.getDocuments(p,w)))}))})(a.localStore,e);iE(a,e,i),nE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,l)}catch(l){await Eo(l)}}function nE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function iE(s,e,i){const a=Ae(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||sE(s,a)}))}function sE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Zm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),ag(s))}function $_(s,e,i){for(const a of i)a instanceof Z1?(s.Ru.addReference(a.key,e),yx(s,a)):a instanceof W1?(se(rg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||sE(s,a.key)):ve(19791,{wu:a})}function yx(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(se(rg,"New document in limbo: "+i),s.Eu.add(a),ag(s))}function ag(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new fe(ft.fromString(e)),a=s.fu.next();s.Au.set(a,new ax(i)),s.du=s.du.insert(i,a),Q1(s.remoteStore,new sr(Li(qm(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function nu(s,e,i){const a=Ae(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((p=>{if((p||i)&&a.isPrimaryClient){const w=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(p){l.push(p);const w=$m.As(_.targetId,p);c.push(w)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,p){const w=Ae(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(p,(M=>X.forEach(M.Es,(F=>w.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>w.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!bo(S))throw S;se(Jm,"Failed to update sequence numbers: "+S)}for(const S of p){const M=S.targetId;if(!S.fromCache){const F=w.Ms.get(M),Z=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(Z);w.Ms=w.Ms.insert(M,ne)}}})(a.localStore,c))}async function _x(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){se(rg,"User change. New user:",e.toKey());const a=await q1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new le($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function vx(s,e){const i=Ae(s),a=i.Au.get(e);if(a&&a.hu)return Pe().add(a.key);{let l=Pe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function rE(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=tE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mx.bind(null,e),e.Pu.H_=tx.bind(null,e.eventManager),e.Pu.yu=nx.bind(null,e.eventManager),e}function Ex(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=px.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bR(this.persistence,new _R,e.initialUser,this.serializer)}Cu(e){return new B1(Xm.mi,this.serializer)}Du(e){return new CR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class bx extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new iR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new B1((a=>ih.mi(a,i)),this.serializer)}}class Em{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>X_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_x.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZR})()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),a=(function(c){return new MR(c)})(e.databaseInfo);return(function(c,d,g,_){return new jR(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new UR(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>X_(this.syncEngine,i,0)),(function(){return H_.v()?new H_:new IR})())}createSyncEngine(e,i){return(function(l,c,d,g,_,p,w){const S=new ox(l,c,d,g,_,p);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ae(i);se(sa,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class Tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const yr="FirestoreClient";class wx{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{se(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(se(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ig(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),se(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await q1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function J_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Sx(s);se(yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>F_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>F_(e.remoteStore,l))),s._onlineComponents=e}async function Sx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){se(yr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new rh)}}else se(yr,"Using default OfflineComponentProvider"),await Xd(s,new bx(void 0));return s._offlineComponents}async function aE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(se(yr,"Using user provided OnlineComponentProvider"),await J_(s,s._uninitializedComponentsProvider._online)):(se(yr,"Using default OnlineComponentProvider"),await J_(s,new Em))),s._onlineComponents}function Ax(s){return aE(s).then((e=>e.syncEngine))}async function Z_(s){const e=await aE(s),i=e.eventManager;return i.onListen=lx.bind(null,e.syncEngine),i.onUnlisten=hx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ux.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fx.bind(null,e.syncEngine),i}function oE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const W_=new Map;const lE="firestore.googleapis.com",ev=!0;class tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lE,this.ssl=ev}else this.host=e.host,this.ssl=e.ssl??ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tR)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new CA;switch(a.type){case"firstParty":return new OA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=W_.get(i);a&&(se("ComponentProvider","Removing Datastore"),W_.delete(i),a.terminate())})(this),Promise.resolve()}}function Rx(s,e,i,a={}){s=ur(s,xh);const l=yo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Uv(`https://${g}`),zv("Firestore",!0)),c.host!==lE&&c.host!==g&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!ta(_,d)&&(s._setSettings(_),a.mockUserToken)){let p,w;if(typeof a.mockUserToken=="string")p=a.mockUserToken,w=rn.MOCK_USER;else{p=Zw(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new rn(S)}s._authCredentials=new IA(new Wv(p,w))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Zl(i,zt._jsonSchema))return new zt(e,a||null,new fe(ft.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:jt("string",zt._jsonSchemaVersion),referencePath:jt("string")};class cr extends Ch{constructor(e,i,a){super(e,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new fe(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function nv(s,e,...i){if(s=Qt(s),e1("collection","path",e),s instanceof xh){const a=ft.fromString(e,...i);return m_(a),new cr(s,null,a)}{if(!(s instanceof zt||s instanceof cr))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return m_(a),new cr(s.firestore,null,a)}}function bm(s,e,...i){if(s=Qt(s),arguments.length===1&&(e=Vm.newId()),e1("doc","path",e),s instanceof xh){const a=ft.fromString(e,...i);return d_(a),new zt(s,null,new fe(a))}{if(!(s instanceof zt||s instanceof cr))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return d_(a),new zt(s.firestore,s instanceof cr?s.converter:null,new fe(a))}}const iv="AsyncQueue";class sv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G1(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&se(iv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;se(iv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",rv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ng.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function av(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class mo extends xh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new sv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sv(e),this._firestoreClient=void 0,await e}}}function xx(s,e){const i=typeof s=="object"?s:Mm(),a=typeof s=="string"?s:$c,l=Om(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=$w("firestore");c&&Rx(l,...c)}return l}function uE(s){if(s._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Cx(s),s._firestoreClient}function Cx(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new XA(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,oE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new wx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(tn.fromBase64String(e))}catch(i){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:jt("string",Kn._jsonSchemaVersion),bytes:jt("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class Pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:jt("string",Pi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:jt("string",Ui._jsonSchemaVersion),vectorValues:jt("object")};const Ix=/^__.*__$/;class Nx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class cE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function hE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class lg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hE(this.Ac)&&Ix.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(e)}Cc(e,i,a,l=!1){return new lg({Ac:e,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fE(s){const e=s._freezeSettings(),i=Sh(s._databaseId);return new Dx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Ox(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);ug("Data must be an object, but it was:",d,a);const g=dE(a,d);let _,p;if(c.merge)_=new On(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const S of c.mergeFields){const M=Tm(e,S,i);if(!d.contains(M))throw new le($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);gE(w,M)||w.push(M)}_=new On(w),p=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,p=d.fieldTransforms;return new Nx(new En(g),_,p)}class Nh extends og{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function Mx(s,e,i,a){const l=s.Cc(1,e,i);ug("Data must be an object, but it was:",l,a);const c=[],d=En.empty();_r(a,((_,p)=>{const w=cg(e,_,i);p=Qt(p);const S=l.yc(w);if(p instanceof Nh)c.push(w);else{const M=Dh(p,S);M!=null&&(c.push(w),d.set(w,M))}}));const g=new On(c);return new cE(d,g,l.fieldTransforms)}function kx(s,e,i,a,l,c){const d=s.Cc(1,e,i),g=[Tm(e,a,i)],_=[l];if(c.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Tm(e,c[M])),_.push(c[M+1]);const p=[],w=En.empty();for(let M=g.length-1;M>=0;--M)if(!gE(p,g[M])){const F=g[M];let Z=_[M];Z=Qt(Z);const ne=d.yc(F);if(Z instanceof Nh)p.push(F);else{const J=Dh(Z,ne);J!=null&&(p.push(F),w.set(F,J))}}const S=new On(p);return new cE(w,S,d.fieldTransforms)}function Dh(s,e){if(mE(s=Qt(s)))return ug("Unsupported field value:",e,s),dE(s,e);if(s instanceof og)return(function(a,l){if(!hE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=Dh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Qt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return v2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:M1(l.serializer,a._byteString)};if(a instanceof zt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ui)return(function(d,g){return{mapValue:{fields:{[u1]:{stringValue:c1},[Jc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Hm(g.serializer,p)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Lm(a)}`)})(s,e)}function dE(s,e){const i={};return i1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(s,((a,l)=>{const c=Dh(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function mE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Pi||s instanceof Kn||s instanceof zt||s instanceof og||s instanceof Ui)}function ug(s,e,i){if(!mE(i)||!t1(i)){const a=Lm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Tm(s,e,i){if((e=Qt(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return cg(s,e);throw ah("Field path arguments must be of type string or ",s,!1,void 0,i)}const Vx=new RegExp("[~\\*/\\[\\]]");function cg(s,e,i){if(e.search(Vx)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ah(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new le($.INVALID_ARGUMENT,g+s+_)}function gE(s,e){return s.some((i=>i.isEqual(e)))}class pE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(yE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Lx extends pE{data(){return super.data()}}function yE(s,e){return typeof e=="string"?cg(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function jx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Px{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return _r(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((a=>xt(a.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new Pi(xt(e.latitude),xt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=dr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ft.fromString(e);$e(U1(a),9688,{name:e});const l=new Hl(a.get(1),a.get(3)),c=new fe(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Ux(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends pE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(yE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:jt("string",Wr._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Hc extends Wr{data(e={}){return super.data(e)}}class no{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,w=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),w=d.indexOf(g.doc.key)),{type:zx(g.type),doc:_,oldIndex:p,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:jt("string",no._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class _E extends Px{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function Bx(s,e,i,...a){s=ur(s,zt);const l=ur(s.firestore,mo),c=fE(l);let d;return d=typeof(e=Qt(e))=="string"||e instanceof Ih?kx(c,"updateDoc",s._key,e,i,a):Mx(c,"updateDoc",s._key,e),hg(l,[d.toMutation(s._key,ci.exists(!0))])}function qx(s){return hg(ur(s.firestore,mo),[new Gm(s._key,ci.none())])}function Hx(s,e){const i=ur(s.firestore,mo),a=bm(s),l=Ux(s.converter,e);return hg(i,[Ox(fE(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,ci.exists(!1))]).then((()=>a))}function Gx(s,...e){s=Qt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||av(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(av(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof zt)d=ur(s.firestore,mo),g=qm(s._key.path),c={next:_=>{e[a]&&e[a](Fx(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=ur(s,Ch);d=ur(_.firestore,mo),g=_._query;const p=new _E(d);c={next:w=>{e[a]&&e[a](new no(d,p,_,w))},error:e[a+1],complete:e[a+2]},jx(s._query)}return(function(p,w,S,M){const F=new Tx(M),Z=new ix(w,F,S);return p.asyncQueue.enqueueAndForget((async()=>WR(await Z_(p),Z))),()=>{F.Nu(),p.asyncQueue.enqueueAndForget((async()=>ex(await Z_(p),Z)))}})(uE(d),g,l,c)}function hg(s,e){return(function(a,l){const c=new Zr;return a.asyncQueue.enqueueAndForget((async()=>dx(await Ax(a),l,c))),c.promise})(uE(s),e)}function Fx(s,e,i){const a=i.docs.get(e._key),l=new _E(s);return new Wr(s,l,e._key,a,new Dl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){vo=l})(_o),ao(new na("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new mo(new NA(a.getProvider("auth-internal")),new MA(d,a.getProvider("app-check-internal")),(function(p,w){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(p.options.projectId,w)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),or(u_,c_,e),or(u_,c_,"esm2020")})();function vE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qx=vE,EE=new $l("auth","Firebase",vE());const oh=new Nm("@firebase/auth");function Kx(s,...e){oh.logLevel<=Le.WARN&&oh.warn(`Auth (${_o}): ${s}`,...e)}function Gc(s,...e){oh.logLevel<=Le.ERROR&&oh.error(`Auth (${_o}): ${s}`,...e)}function hi(s,...e){throw fg(s,...e)}function zi(s,...e){return fg(s,...e)}function bE(s,e,i){const a={...Qx(),[e]:i};return new $l("auth","Firebase",a).create(e,{appName:s.name})}function hr(s){return bE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return EE.create(s,...e)}function _e(s,e,...i){if(!s)throw fg(e,...i)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function ys(s,e){s||fs(e)}function wm(){return typeof self<"u"&&self.location?.href||""}function Yx(){return ov()==="http:"||ov()==="https:"}function ov(){return typeof self<"u"&&self.location?.protocol||null}function Xx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yx()||sS()||"connection"in navigator)?navigator.onLine:!0}function $x(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=tS()||rS()}get(){return Xx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dg(s,e){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class TE{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wx=new iu(3e4,6e4);function la(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Er(s,e,i,a,l={}){return wE(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Jl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:_,...c};return iS()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&yo(s.emulatorConfig.host)&&(p.credentials="include"),TE.fetch()(await SE(s,s.config.apiHost,i,g),p)})}async function wE(s,e,i){s._canInitEmulator=!1;const a={...Jx,...e};try{const l=new tC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Lc(s,"user-disabled",d);const w=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bE(s,w,p);hi(s,w)}}catch(l){if(l instanceof _s)throw l;hi(s,"network-request-failed",{message:String(l)})}}async function Oh(s,e,i,a,l={}){const c=await Er(s,e,i,a,l);return"mfaPendingCredential"in c&&hi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function SE(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?dg(s.config,l):`${s.config.apiScheme}://${l}`;return Zx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function eC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),Wx.get())})}}function Lc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=zi(s,e,a);return l.customData._tokenResponse=i,l}function lv(s){return s!==void 0&&s.enterprise!==void 0}class nC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return eC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iC(s,e){return Er(s,"GET","/v2/recaptchaConfig",la(s,e))}async function sC(s,e){return Er(s,"POST","/v1/accounts:delete",e)}async function lh(s,e){return Er(s,"POST","/v1/accounts:lookup",e)}function Pl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(s,e=!1){const i=Qt(s),a=await i.getIdToken(e),l=mg(a);_e(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Pl($d(l.auth_time)),issuedAtTime:Pl($d(l.iat)),expirationTime:Pl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function mg(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Vv(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function uv(s){const e=mg(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Kl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof _s&&aC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function aC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class oC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uh(s){const e=s.auth,i=await s.getIdToken(),a=await Kl(s,lh(e,{idToken:i}));_e(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?AE(l.providerUserInfo):[],d=uC(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,p=g?_:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,w)}async function lC(s){const e=Qt(s);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uC(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function AE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function cC(s,e){const i=await wE(s,{},async()=>{const a=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await SE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&yo(s.emulatorConfig.host)&&(_.credentials="include"),TE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function hC(s,e){return Er(s,"POST","/v2/accounts:revokeToken",la(s,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=uv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await cC(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new io;return a&&(_e(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(_e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return fs("not implemented")}}function Ws(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return rC(this,e)}reload(){return lC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await uh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await Kl(this,sC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,w=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:Z,stsTokenManager:ne}=i;_e(S&&ne,e,"internal-error");const J=io.fromJSON(this.name,ne);_e(typeof S=="string",e,"internal-error"),Ws(a,e.name),Ws(l,e.name),_e(typeof M=="boolean",e,"internal-error"),_e(typeof F=="boolean",e,"internal-error"),Ws(c,e.name),Ws(d,e.name),Ws(g,e.name),Ws(_,e.name),Ws(p,e.name),Ws(w,e.name);const de=new ui({uid:S,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:p,lastLoginAt:w});return Z&&Array.isArray(Z)&&(de.providerData=Z.map(be=>({...be}))),_&&(de._redirectEventId=_),de}static async _fromIdTokenResponse(e,i,a=!1){const l=new io;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await uh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];_e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?AE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new io;g.updateFromIdToken(a);const _=new ui({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const cv=new Map;function ds(s){ys(s instanceof Function,"Expected a class definition");let e=cv.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,cv.set(s,e),e)}class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}RE.type="NONE";const hv=RE;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class so{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await lh(this.auth,{idToken:e}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new so(ds(hv),e,a);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||ds(hv);const d=Fc(a,e.config.apiKey,e.name);let g=null;for(const p of i)try{const w=await p._get(d);if(w){let S;if(typeof w=="string"){const M=await lh(e,{idToken:w}).catch(()=>{});if(!M)break;S=await ui._fromGetAccountInfoResponse(e,M,w)}else S=ui._fromJSON(e,w);p!==c&&(g=S),c=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new so(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new so(c,e,a))}}function fv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OE(e))return"Blackberry";if(ME(e))return"Webos";if(CE(e))return"Safari";if((e.includes("chrome/")||IE(e))&&!e.includes("edge/"))return"Chrome";if(DE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function xE(s=on()){return/firefox\//i.test(s)}function CE(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(s=on()){return/crios\//i.test(s)}function NE(s=on()){return/iemobile/i.test(s)}function DE(s=on()){return/android/i.test(s)}function OE(s=on()){return/blackberry/i.test(s)}function ME(s=on()){return/webos/i.test(s)}function gg(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function fC(s=on()){return gg(s)&&!!window.navigator?.standalone}function dC(){return aS()&&document.documentMode===10}function kE(s=on()){return gg(s)||DE(s)||ME(s)||OE(s)||/windows phone/i.test(s)||NE(s)}function VE(s,e=[]){let i;switch(s){case"Browser":i=fv(on());break;case"Worker":i=`${fv(on())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${_o}/${a}`}class mC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function gC(s,e={}){return Er(s,"GET","/v2/passwordPolicy",la(s,e))}const pC=6;class yC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??pC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class _C{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dv(this),this.idTokenSubscription=new dv(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await lh(this,{idToken:e}),a=await ui._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$x()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(hr(this));const i=e?Qt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gC(this),i=new yC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await hC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Kx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wo(s){return Qt(s)}class dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mS(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(s){Mh=s}function LE(s){return Mh.loadJS(s)}function EC(){return Mh.recaptchaEnterpriseScript}function bC(){return Mh.gapiScript}function TC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class wC{constructor(){this.enterprise=new SC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class SC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const AC="recaptcha-enterprise",jE="NO_RECAPTCHA";class RC{constructor(e){this.type=AC,this.auth=wo(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{iC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new nC(_);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,d(p.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;lv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(p=>{d(p)}).catch(()=>{d(jE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&lv(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=EC();_.length!==0&&(_+=g),LE(_).then(()=>{l(g,c,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function mv(s,e,i,a=!1,l=!1){const c=new RC(s);let d;if(l)d=jE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function gv(s,e,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await mv(s,e,i,i==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mv(s,e,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function xC(s,e){const i=Om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ta(c,e??{}))return l;hi(l,"already-initialized")}return i.initialize({options:e})}function CC(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function IC(s,e,i){const a=wo(s);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=PE(e),{host:d,port:g}=NC(e),_=g===null?"":`:${g}`,p={url:`${c}//${d}${_}/`},w=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(ta(p,a.config.emulator)&&ta(w,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=w,a.settings.appVerificationDisabledForTesting=!0,yo(d)?(Uv(`${c}//${d}${_}`),zv("Auth",!0)):DC()}function PE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function NC(s){const e=PE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:pv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:pv(d)}}}function pv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function DC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class pg{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,i){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function OC(s,e){return Er(s,"POST","/v1/accounts:signUp",e)}async function MC(s,e){return Oh(s,"POST","/v1/accounts:signInWithPassword",la(s,e))}async function kC(s,e){return Oh(s,"POST","/v1/accounts:signInWithEmailLink",la(s,e))}async function VC(s,e){return Oh(s,"POST","/v1/accounts:signInWithEmailLink",la(s,e))}class Yl extends pg{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Yl(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Yl(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(e,i,"signInWithPassword",MC);case"emailLink":return kC(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(e,a,"signUpPassword",OC);case"emailLink":return VC(e,{idToken:i,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(s,e){return Oh(s,"POST","/v1/accounts:signInWithIdp",la(s,e))}const LC="http://localhost";class ra extends pg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ra(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ro(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ro(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ro(e,i)}buildRequest(){const e={requestUri:LC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Jl(i)}return e}}function jC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PC(s){const e=Rl(xl(s)).link,i=e?Rl(xl(e)).deep_link_id:null,a=Rl(xl(s)).deep_link_id;return(a?Rl(xl(a)).link:null)||a||i||e||s}class yg{constructor(e){const i=Rl(xl(e)),a=i.apiKey??null,l=i.oobCode??null,c=jC(i.mode??null);_e(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=PC(e);try{return new yg(i)}catch{return null}}}class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,i){return Yl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=yg.parseLink(i);return _e(a,"argument-error"),Yl._fromEmailAndCode(e,a.code,a.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class UE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends UE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er extends su{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class tr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class nr extends su{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends su{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await ui._fromIdTokenResponse(e,a,l),d=yv(a);return new go({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=yv(a);return new go({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function yv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ch extends _s{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new ch(e,i,a,l)}}function zE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(s,c,e,a):c})}async function UC(s,e,i=!1){const a=await Kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return go._forOperation(s,"link",a)}async function zC(s,e,i=!1){const{auth:a}=s;if(li(a.app))return Promise.reject(hr(a));const l="reauthenticate";try{const c=await Kl(s,zE(a,l,e,s),i);_e(c.idToken,a,"internal-error");const d=mg(c.idToken);_e(d,a,"internal-error");const{sub:g}=d;return _e(s.uid===g,a,"user-mismatch"),go._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&hi(a,"user-mismatch"),c}}async function BE(s,e,i=!1){if(li(s.app))return Promise.reject(hr(s));const a="signIn",l=await zE(s,a,e),c=await go._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function BC(s,e){return BE(wo(s),e)}async function qC(s){const e=wo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HC(s,e,i){return li(s.app)?Promise.reject(hr(s)):BC(Qt(s),So.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&qC(s),a})}function GC(s,e,i,a){return Qt(s).onIdTokenChanged(e,i,a)}function FC(s,e,i){return Qt(s).beforeAuthStateChanged(e,i)}function QC(s,e,i,a){return Qt(s).onAuthStateChanged(e,i,a)}function KC(s){return Qt(s).signOut()}const hh="__sak";class qE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YC=1e3,XC=10;class HE extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);dC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,XC):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}HE.type="LOCAL";const $C=HE;class GE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}GE.type="SESSION";const FE=GE;function JC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new kh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,c)),_=await JC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];function _g(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class ZC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const p=_g("",20);l.port1.start();const w=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===p)switch(M.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(w),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function WC(s){Bi().location.href=s}function QE(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tI(){return navigator?.serviceWorker?.controller||null}function nI(){return QE()?self:null}const KE="firebaseLocalStorageDb",iI=1,fh="firebaseLocalStorage",YE="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(s,e){return s.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function sI(){const s=indexedDB.deleteDatabase(KE);return new ru(s).toPromise()}function Am(){const s=indexedDB.open(KE,iI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(fh,{keyPath:YE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(fh)?e(a):(a.close(),await sI(),e(await Am()))})})}async function _v(s,e,i){const a=Vh(s,!0).put({[YE]:e,value:i});return new ru(a).toPromise()}async function rI(s,e){const i=Vh(s,!1).get(e),a=await new ru(i).toPromise();return a===void 0?null:a.value}function vv(s,e){const i=Vh(s,!0).delete(e);return new ru(i).toPromise()}const aI=800,oI=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>oI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(nI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new ZC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await _v(e,hh,"1"),await vv(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_v(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>rI(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>vv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Vh(l,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const lI=XE;new iu(3e4,6e4);function uI(s,e){return e?ds(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class vg extends pg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ro(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function cI(s){return BE(s.auth,new vg(s),s.bypassAuthState)}function hI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),zC(i,new vg(s),s.bypassAuthState)}async function fI(s){const{auth:e,user:i}=s;return _e(i,e,"internal-error"),UC(i,new vg(s),s.bypassAuthState)}class $E{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return hI;default:hi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dI=new iu(2e3,1e4);class eo extends $E{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dI.get())};e()}}eo.currentPopupAction=null;const mI="pendingRedirect",Qc=new Map;class gI extends $E{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const a=await pI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pI(s,e){const i=vI(e),a=_I(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function yI(s,e){Qc.set(s._key(),e)}function _I(s){return ds(s._redirectPersistence)}function vI(s){return Fc(mI,s.config.apiKey,s.name)}async function EI(s,e,i=!1){if(li(s.app))return Promise.reject(hr(s));const a=wo(s),l=uI(a,e),d=await new gI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const bI=600*1e3;class TI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!JE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(e))}saveEventToCache(e){this.cachedEventUids.add(Ev(e)),this.lastProcessedEventTime=Date.now()}}function Ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function JE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function wI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JE(s);default:return!1}}async function SI(s,e={}){return Er(s,"GET","/v1/projects",e)}const AI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function xI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await SI(s);for(const i of e)try{if(CI(i))return}catch{}hi(s,"unauthorized-domain")}function CI(s){const e=wm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!RI.test(i))return!1;if(AI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const II=new iu(3e4,6e4);function bv(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function NI(s){return new Promise((e,i)=>{function a(){bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bv(),i(zi(s,"network-request-failed"))},timeout:II.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const l=TC("iframefcb");return Bi()[l]=()=>{gapi.load?a():i(zi(s,"network-request-failed"))},LE(`${bC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function DI(s){return Kc=Kc||NI(s),Kc}const OI=new iu(5e3,15e3),MI="__/auth/iframe",kI="emulator/auth/iframe",VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?dg(e,kI):`https://${s.config.authDomain}/${MI}`,a={apiKey:e.apiKey,appName:s.name,v:_o},l=LI.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Jl(a).slice(1)}`}async function PI(s){const e=await DI(s),i=Bi().gapi;return _e(i,s,"internal-error"),e.open({where:document.body,url:jI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),g=Bi().setTimeout(()=>{c(d)},OI.get());function _(){Bi().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,BI=600,qI="_blank",HI="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GI(s,e,i,a=zI,l=BI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...UI,width:a.toString(),height:l.toString(),top:c,left:d},p=on().toLowerCase();i&&(g=IE(p)?qI:i),xE(p)&&(e=e||HI,_.scrollbars="yes");const w=Object.entries(_).reduce((M,[F,Z])=>`${M}${F}=${Z},`,"");if(fC(p)&&g!=="_self")return FI(e||"",g),new Tv(null);const S=window.open(e||"",g,w);_e(S,s,"popup-blocked");try{S.focus()}catch{}return new Tv(S)}function FI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const QI="__/auth/handler",KI="emulator/auth/handler",YI=encodeURIComponent("fac");async function wv(s,e,i,a,l,c){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:_o,eventId:l};if(e instanceof UE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",dS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,S]of Object.entries({}))d[w]=S}if(e instanceof su){const w=e.getScopes().filter(S=>S!=="");w.length>0&&(d.scopes=w.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const _=await s._getAppCheckToken(),p=_?`#${YI}=${encodeURIComponent(_)}`:"";return`${XI(s)}?${Jl(g).slice(1)}${p}`}function XI({config:s}){return s.emulator?dg(s,KI):`https://${s.authDomain}/${QI}`}const Jd="webStorageSupport";class $I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=EI,this._overrideRedirectResult=yI}async _openPopup(e,i,a,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await wv(e,i,a,wm(),l);return GI(e,c,_g())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await wv(e,i,a,wm(),l);return WC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await PI(e),a=new TI(e);return i.register("authEvent",l=>(_e(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Jd,{type:Jd},l=>{const c=l?.[0]?.[Jd];c!==void 0&&i(!!c),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return kE()||CE()||gg()}}const JI=$I;var Sv="@firebase/auth",Av="1.11.1";class ZI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eN(s){ao(new na("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VE(s)},p=new _C(a,l,c,_);return CC(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ao(new na("auth-internal",e=>{const i=wo(e.getProvider("auth").getImmediate());return(a=>new ZI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Sv,Av,WI(s)),or(Sv,Av,"esm2020")}const tN=300,nN=Pv("authIdTokenMaxAge")||tN;let Rv=null;const iN=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>nN)return;const l=i?.token;Rv!==l&&(Rv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function sN(s=Mm()){const e=Om(s,"auth");if(e.isInitialized())return e.getImmediate();const i=xC(s,{popupRedirectResolver:JI,persistence:[lI,$C,FE]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=iN(c.toString());FC(i,d,()=>d(i.currentUser)),GC(i,g=>d(g))}}const l=Lv("auth");return l&&IC(i,`http://${l}`),i}function rN(){return document.getElementsByTagName("head")?.[0]??document}vC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",rN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eN("Browser");const xv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let jc,Ol,hs;try{xv.apiKey&&(gA().length===0?jc=Hv(xv):jc=Mm(),Ol=sN(jc),hs=xx(jc))}catch(s){console.error("Firebase init error:",s)}const Yn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",Zd="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",aN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",themeColor:"from-blue-400 to-indigo-600",flights:[],days:[],packingList:[],shoppingList:[]},Cv=({message:s,type:e,onClose:i})=>{Ie.useEffect(()=>{const c=setTimeout(i,3e3);return()=>clearTimeout(c)},[i]);const a=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?E.jsx(WT,{size:18}):E.jsx(XT,{size:18});return E.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${a} min-w-[300px] justify-center`,children:[E.jsx("div",{className:"shrink-0",children:l}),E.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},Lh=({title:s,subtitle:e,showBack:i,leftAction:a,rightAction:l,setActiveTab:c})=>{const d=i&&!a?E.jsx("button",{onClick:()=>c&&c("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700",children:E.jsx(GT,{size:20})}):null;return E.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500",children:[E.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-sm z-[-1]"}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[" ",a||d,E.jsxs("div",{className:"drop-shadow-sm",children:[E.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&E.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),E.jsxs("div",{className:"scale-90 origin-right",children:[" ",l]})]})]})},oN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:a,onExportTrip:l,onOpenImport:c,onClose:d,userEmail:g,onLogout:_})=>E.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:d}),E.jsxs("div",{className:`relative ${Yn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:d,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(po,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[E.jsxs("div",{className:"overflow-hidden",children:[E.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),E.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:g})]}),E.jsxs("button",{onClick:_,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[E.jsx(vw,{size:12})," "]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&E.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(p=>E.jsxs("div",{onClick:()=>i(p.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===p.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[E.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${p.coverImage?"":`bg-gradient-to-br ${p.themeColor||"from-gray-300 to-gray-400"}`}`,children:p.coverImage?E.jsx("img",{src:p.coverImage,className:"w-full h-full object-cover",alt:""}):E.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:E.jsx(hw,{size:20})})}),E.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[E.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:p.destination||""}),E.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[E.jsx(Nv,{size:12,className:"mr-1"}),p.date||"--/--"]})]}),E.jsxs("div",{className:"flex items-center gap-1 z-20",children:[E.jsx("button",{onClick:w=>{w.stopPropagation(),l(p)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:E.jsx(ow,{size:18})}),E.jsx("button",{onClick:w=>{w.stopPropagation(),a(p.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:E.jsx(Im,{size:18})})]})]},p.id))]}),E.jsx("div",{className:"mt-auto relative z-10",children:E.jsxs("button",{onClick:c,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[E.jsx(tw,{size:20})," /"]})})]})]}),lN=({onClose:s,onImport:e,isLoading:i})=>{const[a,l]=Ie.useState("json"),[c,d]=Ie.useState(""),g=()=>{e(c,a)};return E.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Yn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(po,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[E.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${a==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),E.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${a==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[a==="json"?E.jsx("textarea",{value:c,onChange:_=>d(_.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):E.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),E.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),E.jsx("button",{onClick:g,disabled:!c.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!c.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?E.jsxs(E.Fragment,{children:[E.jsx(xm,{className:"animate-spin",size:16})," ..."]}):E.jsxs(E.Fragment,{children:[E.jsx(iw,{size:16})," "]})})]})]})]})},uN=({flights:s,onClose:e})=>E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),E.jsxs("div",{className:`relative ${Yn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(po,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?E.jsx("div",{className:"space-y-4",children:s.map((i,a)=>E.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[E.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:E.jsx(Wd,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),E.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[E.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),E.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),E.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),E.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),E.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),E.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[E.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),E.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:E.jsx(Wd,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),E.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),E.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&E.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},a))}):E.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[E.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),E.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),cN=({onClose:s,onAdd:e})=>{const[i,a]=Ie.useState(""),[l,c]=Ie.useState(""),[d,g]=Ie.useState(""),_=()=>{i.trim()&&e(i,l,d)};return E.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Yn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(po,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",children:E.jsx(Xl,{size:18})}),E.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:E.jsx(Cm,{size:18})}),E.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:E.jsx(Dv,{size:18})}),E.jsx("input",{type:"text",value:d,onChange:p=>g(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("button",{onClick:_,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(dh,{size:20,strokeWidth:3}),""]})]})]})]})},hN=({onClose:s,onAdd:e})=>{const[i,a]=Ie.useState(""),[l,c]=Ie.useState(""),d=()=>{i.trim()&&e(i,l)};return E.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Yn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(po,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500",children:E.jsx(ea,{size:18})}),E.jsx("input",{type:"text",value:i,onChange:g=>a(g.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(g=>E.jsx("button",{onClick:()=>c(g),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===g?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:g},g))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:E.jsx(Cm,{size:18})}),E.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("button",{onClick:d,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(dh,{size:20,strokeWidth:3}),""]})]})]})]})},fN=({editingState:s,onClose:e,onSave:i})=>{const{type:a,data:l}=s,[c,d]=Ie.useState(l),g=a==="shopping",_=g?"pink":"blue",p=g?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",w=g?"text-pink-500":"text-blue-500",S=()=>{i(c)};return E.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),E.jsxs("div",{className:`relative ${Yn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(po,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:g?E.jsx(Xl,{size:18}):E.jsx(ea,{size:18})}),E.jsx("input",{type:"text",value:c.item,onChange:M=>d({...c,item:M.target.value}),className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold`,autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:E.jsx(Cm,{size:18})}),E.jsx("input",{type:"text",value:c.category||"",onChange:M=>d({...c,category:M.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),g&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:E.jsx(Dv,{size:18})}),E.jsx("input",{type:"text",value:c.note||"",onChange:M=>d({...c,note:M.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),E.jsxs("button",{onClick:S,disabled:!c.item.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${c.item.trim()?`${p} shadow-${_}-500/30 hover:shadow-${_}-500/50`:"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(ea,{size:20,strokeWidth:3}),""]})]})]})]})},dN=({onLogin:s,isLoading:e})=>{const[i,a]=Ie.useState(""),[l,c]=Ie.useState(""),d=()=>{!i||!l||s(i,l)};return E.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsxs("div",{className:`relative ${Yn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:E.jsx(zw,{size:40})}),E.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),E.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),E.jsxs("div",{className:"w-full space-y-4 mb-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:E.jsx(bw,{size:18})}),E.jsx("input",{type:"email",value:i,onChange:g=>a(g.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:E.jsx(yw,{size:18})}),E.jsx("input",{type:"password",value:l,onChange:g=>c(g.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),E.jsx("button",{onClick:d,disabled:e||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?E.jsx(xm,{className:"animate-spin"}):""}),E.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:E.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[E.jsx(dw,{size:10})," "]})})]})]})},mN=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:a,setShowFlightModal:l,toggleShoppingItem:c,deleteShoppingItem:d,togglePackingItem:g,deletePackingItem:_,openEditModal:p,setShowTripListModal:w})=>E.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[E.jsx(Lh,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:E.jsx("button",{onClick:()=>w(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:E.jsx(gw,{size:24,strokeWidth:2.5})}),setActiveTab:a}),E.jsxs("div",{className:"px-6 mt-6",children:[!e||!e.date||e.date==="----/--/--"?E.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[E.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),E.jsxs("p",{className:"text-sm text-gray-500",children:["",E.jsx("br",{}),"  "]})]}):E.jsxs("div",{onClick:()=>a("itinerary"),className:`group ${Yn} rounded-[2.5rem] p-1 mb-8 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${Zd} relative`,children:[E.jsxs("div",{className:"relative h-64 rounded-[2rem] overflow-hidden shadow-inner",children:[e.coverImage&&E.jsx("img",{src:e.coverImage,alt:e.destination,className:"absolute inset-0 w-full h-full object-cover z-0 transition-transform duration-700 group-hover:scale-110",onError:S=>S.target.style.display="none"}),E.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${e.themeColor||"from-gray-400 to-gray-600"} ${e.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),e.coverImage&&E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),E.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:E.jsx("div",{className:"flex justify-between items-end",children:E.jsxs("div",{children:[E.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),E.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:e.destination||""}),E.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[E.jsx(Nv,{size:14,className:"mr-2"}),e.date||"--/--"]})]})})})]}),E.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),E.jsxs("div",{className:"flex items-baseline",children:[E.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(e.date)}),E.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),E.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:E.jsx(JT,{size:28})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[E.jsxs("div",{onClick:()=>a("shopping"),className:`${Yn} ${Zd} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)]`,children:[E.jsx("div",{className:"bg-pink-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-pink-500 shadow-inner border border-white/50",children:E.jsx(Xl,{size:28})}),E.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),E.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[e&&e.shoppingList?e.shoppingList.filter(S=>!S.checked).length:0," "]})]}),E.jsxs("div",{onClick:()=>a("packing"),className:`${Yn} ${Zd} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)]`,children:[E.jsx("div",{className:"bg-blue-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-blue-500 shadow-inner border border-white/50",children:E.jsx(ea,{size:28})}),E.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),E.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[e&&e.packingList?e.packingList.filter(S=>!S.checked).length:0," "]})]})]})]})]}),gN=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:a,activityRefs:l})=>{const c=s&&s.days&&s.days.length>0?a(s):null,d=g=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g)}`,"_blank")};return E.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[E.jsx(Lh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:E.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0,0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:E.jsx(Wd,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e}),E.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&E.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((g,_)=>E.jsxs("div",{className:"relative pl-4",children:[_!==s.days.length-1&&E.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),E.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[E.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),E.jsx("span",{className:"text-xl font-black leading-none",children:g.day})]}),E.jsx("div",{children:E.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:g.title})})]}),E.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:g.activities.map((p,w)=>{const S=c===p.id;return E.jsxs("div",{ref:M=>l.current[p.id]=M,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${S?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[E.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${S?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${p.type==="transport"?"bg-purple-400":p.type==="food"?"bg-orange-400":p.type==="shopping"?"bg-pink-400":p.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:S&&E.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:p.time}),S&&E.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),E.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[p.type==="sightseeing"&&E.jsx(KT,{size:14,className:"text-gray-500"}),p.type==="food"&&E.jsx(rw,{size:14,className:"text-gray-500"}),p.type==="transport"&&E.jsx(jw,{size:14,className:"text-gray-500"}),p.type==="shopping"&&E.jsx(Xl,{size:14,className:"text-gray-500"}),p.type==="relax"&&E.jsx(kw,{size:14,className:"text-gray-500"})]})]}),E.jsxs("div",{className:"flex justify-between items-end gap-2",children:[E.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:p.title}),E.jsx("button",{onClick:M=>{M.stopPropagation(),d(p.title)},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0","aria-label":" Google Maps ",children:E.jsx(ww,{size:18,strokeWidth:2.5})})]})]},w)})})]},_))]})]})},pN=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:a,deleteShoppingItem:l,openEditModal:c})=>E.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[E.jsx(Lh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e}),E.jsxs("div",{className:"px-6 mt-4",children:[E.jsxs("div",{className:`${Yn} rounded-[2.5rem] p-6 mb-8`,children:[E.jsxs("div",{className:"flex justify-between items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),E.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[s&&s.shoppingList?Math.round(s.shoppingList.filter(d=>d.checked).length/(s.shoppingList.length||1)*100):0,"%"]})]}),E.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:E.jsx(dh,{size:24,strokeWidth:3})})]}),E.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:E.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${s&&s.shoppingList?s.shoppingList.filter(d=>d.checked).length/(s.shoppingList.length||1)*100:0}%`}})})]}),E.jsx("div",{className:"space-y-4",children:s&&s.shoppingList&&s.shoppingList.map(d=>E.jsxs("div",{onClick:()=>a(d.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${d.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${d.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:E.jsx(ea,{size:18,strokeWidth:3})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${d.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:d.item}),E.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[d.category&&E.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:d.category}),d.note&&E.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:d.note})]})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:g=>{g.stopPropagation(),c("shopping",d)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Ov,{size:18})}),E.jsx("button",{onClick:g=>{g.stopPropagation(),l(d.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Im,{size:18})})]})]},d.id))})]})]}),yN=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:a,deletePackingItem:l,openEditModal:c})=>E.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[E.jsx(Lh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e}),E.jsxs("div",{className:"px-6 mt-4",children:[E.jsxs("div",{className:`${Yn} rounded-[2.5rem] p-6 mb-8`,children:[E.jsxs("div",{className:"flex justify-between items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),E.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[Math.round(s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0),"%"]})]}),E.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:E.jsx(dh,{size:24,strokeWidth:3})})]}),E.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:E.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0}%`}})})]}),E.jsx("div",{className:"space-y-4",children:s&&s.packingList&&s.packingList.map(d=>E.jsxs("div",{onClick:()=>a(d.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${d.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${d.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:E.jsx(ea,{size:18,strokeWidth:3})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${d.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:d.item}),E.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:d.category})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:g=>{g.stopPropagation(),c("packing",d)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Ov,{size:18})}),E.jsx("button",{onClick:g=>{g.stopPropagation(),l(d.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Im,{size:18})})]})]},d.id))})]})]}),_N=({activeTab:s,setActiveTab:e})=>E.jsx("div",{className:"fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none",children:E.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[E.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(uw,{size:24,strokeWidth:s==="home"?3:2})}),E.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(Aw,{size:24,strokeWidth:s==="itinerary"?3:2})}),E.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(Xl,{size:24,strokeWidth:s==="shopping"?3:2})}),E.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(ea,{size:24,strokeWidth:s==="packing"?3:2})})]})});function vN(){const[s,e]=Ie.useState("home"),[i,a]=Ie.useState(null),[l,c]=Ie.useState(!1),[d]=Ie.useState("travel-companion-v1"),[g,_]=Ie.useState([]),[p,w]=Ie.useState(null),[S,M]=Ie.useState(!1),[F,Z]=Ie.useState(!1),[ne,J]=Ie.useState(!1),[de,be]=Ie.useState(!1),[ge,qe]=Ie.useState(!1),[et,Ne]=Ie.useState(!1),[I,A]=Ie.useState(null),[R,k]=Ie.useState({show:!1,message:"",type:"success"}),N=Ie.useRef({}),V=(re,pe="success")=>{k({show:!0,message:re,type:pe})};Ie.useEffect(()=>{if(!Ol)return;const re=QC(Ol,pe=>{a(pe),pe&&V(` ${pe.email}`),c(!0)});return()=>re()},[]);const x=async(re,pe)=>{M(!0);try{await HC(Ol,re,pe)}catch(ue){console.error(ue);let ye="";ue.code==="auth/invalid-credential"&&(ye=""),ue.code==="auth/user-not-found"&&(ye=""),ue.code==="auth/wrong-password"&&(ye=""),V(ye,"error")}finally{M(!1)}},lt=async()=>{confirm("")&&(await KC(Ol),_([]),w(null),V(""))};Ie.useEffect(()=>{if(!i||!hs)return;const re=nv(hs,"users",i.uid,"trips"),pe=Gx(re,ue=>{const ye=ue.docs.map(ut=>({id:ut.id,...ut.data()}));ye.sort((ut,pt)=>{const tt=new Date(ut.date).getTime()||0,hn=new Date(pt.date).getTime()||0;return tt-hn}),_(ye),ye.length>0?w(ut=>ut&&ye.find(pt=>pt.id===ut)?ut:ye[0].id):w(null)},ue=>{console.error("Firestore Error:",ue),V("","error")});return()=>pe()},[i]);const Ke=g.find(re=>re.id===p)||null,H=async re=>{if(!hs||!i||!p)return;const pe=bm(hs,"users",i.uid,"trips",p),ue=re(Ke);try{await Bx(pe,ue)}catch(ye){console.error("Save failed",ye),V("","error")}},te=async re=>{if(!(!hs||!i))try{await qx(bm(hs,"users",i.uid,"trips",re)),V("")}catch(pe){console.error("Delete failed",pe),V("","error")}},ce=re=>{if(re)try{const{id:pe,...ue}=re,ye=JSON.stringify(ue,null,2),ut=new Blob([ye],{type:"application/json"}),pt=URL.createObjectURL(ut),tt=document.createElement("a");tt.href=pt;const hn=(re.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");tt.download=`${hn}_export.json`,document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL(pt),V("")}catch(pe){console.error("Export failed",pe),V("","error")}},Ue=async(re,pe)=>{if(!hs||!i)return;M(!0);const ue=new Promise(ye=>setTimeout(()=>ye("timeout"),8e3));try{let ye=[];if(pe==="url"){const tt=await fetch(re);if(!tt.ok)throw new Error("Network error");const hn=await tt.json();ye=Array.isArray(hn)?hn:[hn]}else{const tt=JSON.parse(re);ye=Array.isArray(tt)?tt:[tt]}const ut=nv(hs,"users",i.uid,"trips"),pt=Promise.all(ye.map(async tt=>{const{id:hn,...Es}=tt,Fi={...aN,...Es};await Hx(ut,Fi)}));await Promise.race([pt,ue]),qe(!1),Ne(!1),V(` ${ye.length} `)}catch(ye){console.error("Import failed",ye),V("","error")}finally{M(!1)}},He=re=>H(pe=>({...pe,packingList:(pe.packingList||[]).map(ue=>ue.id===re?{...ue,checked:!ue.checked}:ue)})),O=re=>H(pe=>({...pe,packingList:(pe.packingList||[]).filter(ue=>ue.id!==re)})),K=(re,pe)=>{re.trim()&&(H(ue=>({...ue,packingList:[...ue.packingList||[],{id:Date.now(),item:re,checked:!1,category:pe||""}]})),be(!1),V(""))},ee=re=>H(pe=>({...pe,shoppingList:(pe.shoppingList||[]).map(ue=>ue.id===re?{...ue,checked:!ue.checked}:ue)})),ie=re=>H(pe=>({...pe,shoppingList:(pe.shoppingList||[]).filter(ue=>ue.id!==re)})),Ee=(re,pe,ue)=>{re.trim()&&(H(ye=>({...ye,shoppingList:[...ye.shoppingList||[],{id:Date.now(),item:re,category:pe||"",note:ue,checked:!1}]})),J(!1),V(""))},Te=(re,pe)=>A({type:re,data:{...pe}}),Me=re=>{if(!I)return;const{type:pe}=I,ue=pe==="shopping"?"shoppingList":"packingList";H(ye=>({...ye,[ue]:(ye[ue]||[]).map(ut=>ut.id===re.id?re:ut)})),A(null),V("")},bt=re=>{if(!re||re==="----/--/--")return 0;const pe=new Date,ye=new Date(re)-pe;return Math.ceil(ye/(1e3*60*60*24))>0?Math.ceil(ye/(1e3*60*60*24)):0},at=re=>{if(!re||!re.days)return null;const pe=new Date;let ue=null,ye=1/0;return re.days.forEach(ut=>{const pt=new Date(re.date);pt.setDate(pt.getDate()+(ut.day-1)),pe.toDateString()===pt.toDateString()&&ut.activities.forEach(tt=>{const[hn,Es]=tt.time.split(":"),Fi=new Date(pt);Fi.setHours(hn,Es,0,0);const bs=pe-Fi;bs>=0&&bs<ye&&(ye=bs,ue=tt.id)})}),ue};Ie.useEffect(()=>{if(s==="itinerary"&&Ke&&Ke.days){const re=at(Ke);re&&N.current[re]&&setTimeout(()=>{N.current[re].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Ke]);const Mn=Ie.useRef(null),fi=Ie.useRef(null),[Xn,Gi]=Ie.useState(0),[cn,vs]=Ie.useState(!1),bn=["home","itinerary","shopping","packing"],Tn=bn.indexOf(s),br=80,_t=re=>{F||ne||de||ge||et||I||(Mn.current=re.targetTouches[0].clientX,fi.current=re.targetTouches[0].clientY,vs(!0))},Tt=re=>{if(!cn||Mn.current===null)return;const pe=re.targetTouches[0].clientX,ue=re.targetTouches[0].clientY,ye=pe-Mn.current,ut=ue-fi.current;if(Math.abs(ut)>Math.abs(ye))return;let pt=ye;Tn===0&&ye>0&&(pt=ye*.3),Tn===bn.length-1&&ye<0&&(pt=ye*.3),Gi(pt)},di=()=>{cn&&(Math.abs(Xn)>br&&(Xn>0&&Tn>0?e(bn[Tn-1]):Xn<0&&Tn<bn.length-1&&e(bn[Tn+1])),vs(!1),Gi(0),Mn.current=null,fi.current=null)};return l?i?E.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[E.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),E.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),E.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),E.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:_t,onTouchMove:Tt,onTouchEnd:di,children:[R.show&&E.jsx(Cv,{message:R.message,type:R.type,onClose:()=>k({...R,show:!1})}),F&&E.jsx(uN,{onClose:()=>Z(!1),flights:Ke?Ke.flights:[]}),ne&&E.jsx(cN,{onClose:()=>J(!1),onAdd:Ee}),de&&E.jsx(hN,{onClose:()=>be(!1),onAdd:K}),ge&&E.jsx(lN,{onClose:()=>qe(!1),onImport:Ue,isLoading:S}),I&&E.jsx(fN,{editingState:I,onClose:()=>A(null),onSave:Me}),et&&E.jsx(oN,{trips:g,activeTripId:p,onSelectTrip:re=>{w(re),Ne(!1),e("home")},onDeleteTrip:re=>{confirm("")&&te(re)},onExportTrip:ce,onOpenImport:()=>qe(!0),onClose:()=>Ne(!1),userEmail:i.email,onLogout:lt}),E.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${Tn*100}vw + ${Xn}px))`,transition:cn?"none":"transform 0.3s ease-out"},children:[E.jsx(mN,{trips:g,currentTrip:Ke,calculateDaysLeft:bt,setActiveTab:e,setShowFlightModal:Z,toggleShoppingItem:ee,deleteShoppingItem:ie,togglePackingItem:He,deletePackingItem:O,openEditModal:Te,setShowTripListModal:Ne}),E.jsx(gN,{currentTrip:Ke,setActiveTab:e,setShowFlightModal:Z,getCurrentActivityId:at,activityRefs:N}),E.jsx(pN,{currentTrip:Ke,setActiveTab:e,setShowAddShoppingModal:J,toggleShoppingItem:ee,deleteShoppingItem:ie,openEditModal:Te}),E.jsx(yN,{currentTrip:Ke,setActiveTab:e,setShowAddPackingModal:be,togglePackingItem:He,deletePackingItem:O,openEditModal:Te})]}),E.jsx(_N,{activeTab:s,setActiveTab:e})]})]}):E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[R.show&&E.jsx(Cv,{message:R.message,type:R.type,onClose:()=>k({...R,show:!1})}),E.jsx(dN,{onLogin:x,isLoading:S})]}):E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[E.jsx(xm,{className:"animate-spin text-gray-600 mb-4",size:32}),E.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}jT.createRoot(document.getElementById("root")).render(E.jsx(Ie.StrictMode,{children:E.jsx(vN,{})}));
