(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var qd={exports:{}},Ml={};var i_;function JT(){if(i_)return Ml;i_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var s_;function WT(){return s_||(s_=1,qd.exports=JT()),qd.exports}var g=WT(),Hd={exports:{}},Ie={};var r_;function ew(){if(r_)return Ie;r_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function ue(M,Y,te){this.props=M,this.context=Y,this.refs=W,this.updater=te||K}ue.prototype.isReactComponent={},ue.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},ue.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pe(){}pe.prototype=ue.prototype;function ne(M,Y,te){this.props=M,this.context=Y,this.refs=W,this.updater=te||K}var ye=ne.prototype=new pe;ye.constructor=ne,J(ye,ue.prototype),ye.isPureReactComponent=!0;var _e=Array.isArray;function fe(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function S(M,Y,te){var ae=te.ref;return{$$typeof:s,type:M,key:Y,ref:ae!==void 0?ae:null,props:te}}function D(M,Y){return S(M.type,Y,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function V(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var R=/\/+/g;function Xe(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):Y.toString(36)}function Et(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(fe,fe):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,Y,te,ae,be){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case s:case e:je=!0;break;case T:return je=M._init,F(je(M._payload),Y,te,ae,be)}}if(je)return be=be(M),je=ae===""?"."+Xe(M,0):ae,_e(be)?(te="",je!=null&&(te=je.replace(R,"$&/")+"/"),F(be,Y,te,"",function(Gi){return Gi})):be!=null&&(k(be)&&(be=D(be,te+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+je)),Y.push(be)),1;je=0;var Ve=ae===""?".":ae+":";if(_e(M))for(var nt=0;nt<M.length;nt++)ae=M[nt],xe=Ve+Xe(ae,nt),je+=F(ae,Y,te,xe,be);else if(nt=P(M),typeof nt=="function")for(M=nt.call(M),nt=0;!(ae=M.next()).done;)ae=ae.value,xe=Ve+Xe(ae,nt++),je+=F(ae,Y,te,xe,be);else if(xe==="object"){if(typeof M.then=="function")return F(Et(M),Y,te,ae,be);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return je}function ie(M,Y,te){if(M==null)return M;var ae=[],be=0;return F(M,ae,"","",function(xe){return Y.call(te,xe,be++)}),ae}function ve(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:ie,forEach:function(M,Y,te){ie(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return ie(M,function(){Y++}),Y},toArray:function(M){return ie(M,function(Y){return Y})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ie.Activity=A,Ie.Children=Ke,Ie.Component=ue,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=ne,Ie.StrictMode=r,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=J({},M.props),be=M.key;if(Y!=null)for(xe in Y.key!==void 0&&(be=""+Y.key),Y)!x.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(ae[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)ae.children=te;else if(1<xe){for(var je=Array(xe),Ve=0;Ve<xe;Ve++)je[Ve]=arguments[Ve+2];ae.children=je}return S(M.type,be,ae)},Ie.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,Y,te){var ae,be={},xe=null;if(Y!=null)for(ae in Y.key!==void 0&&(xe=""+Y.key),Y)x.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=Y[ae]);var je=arguments.length-2;if(je===1)be.children=te;else if(1<je){for(var Ve=Array(je),nt=0;nt<je;nt++)Ve[nt]=arguments[nt+2];be.children=Ve}if(M&&M.defaultProps)for(ae in je=M.defaultProps,je)be[ae]===void 0&&(be[ae]=je[ae]);return S(M,xe,be)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:p,render:M}},Ie.isValidElement=k,Ie.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:ve}},Ie.memo=function(M,Y){return{$$typeof:_,type:M,compare:Y===void 0?null:Y}},Ie.startTransition=function(M){var Y=I.T,te={};I.T=te;try{var ae=M(),be=I.S;be!==null&&be(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(fe,Ge)}catch(xe){Ge(xe)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),I.T=Y}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(M){return I.H.use(M)},Ie.useActionState=function(M,Y,te){return I.H.useActionState(M,Y,te)},Ie.useCallback=function(M,Y){return I.H.useCallback(M,Y)},Ie.useContext=function(M){return I.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},Ie.useEffect=function(M,Y){return I.H.useEffect(M,Y)},Ie.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(M,Y,te){return I.H.useImperativeHandle(M,Y,te)},Ie.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},Ie.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},Ie.useMemo=function(M,Y){return I.H.useMemo(M,Y)},Ie.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},Ie.useReducer=function(M,Y,te){return I.H.useReducer(M,Y,te)},Ie.useRef=function(M){return I.H.useRef(M)},Ie.useState=function(M){return I.H.useState(M)},Ie.useSyncExternalStore=function(M,Y,te){return I.H.useSyncExternalStore(M,Y,te)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var a_;function Vm(){return a_||(a_=1,Hd.exports=ew()),Hd.exports}var oe=Vm(),Fd={exports:{}},Vl={},Gd={exports:{}},Yd={};var o_;function tw(){return o_||(o_=1,(function(s){function e(F,ie){var ve=F.length;F.push(ie);e:for(;0<ve;){var Ge=ve-1>>>1,Ke=F[Ge];if(0<l(Ke,ie))F[Ge]=ie,F[ve]=Ke,ve=Ge;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ie=F[0],ve=F.pop();if(ve!==ie){F[0]=ve;e:for(var Ge=0,Ke=F.length,M=Ke>>>1;Ge<M;){var Y=2*(Ge+1)-1,te=F[Y],ae=Y+1,be=F[ae];if(0>l(te,ve))ae<Ke&&0>l(be,te)?(F[Ge]=be,F[ae]=ve,Ge=ae):(F[Ge]=te,F[Y]=ve,Ge=Y);else if(ae<Ke&&0>l(be,ve))F[Ge]=be,F[ae]=ve,Ge=ae;else break e}}return ie}function l(F,ie){var ve=F.sortIndex-ie.sortIndex;return ve!==0?ve:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],T=1,A=null,N=3,P=!1,K=!1,J=!1,W=!1,ue=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ye(F){for(var ie=i(_);ie!==null;){if(ie.callback===null)r(_);else if(ie.startTime<=F)r(_),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(_)}}function _e(F){if(J=!1,ye(F),!K)if(i(y)!==null)K=!0,fe||(fe=!0,V());else{var ie=i(_);ie!==null&&Et(_e,ie.startTime-F)}}var fe=!1,I=-1,x=5,S=-1;function D(){return W?!0:!(s.unstable_now()-S<x)}function k(){if(W=!1,fe){var F=s.unstable_now();S=F;var ie=!0;try{e:{K=!1,J&&(J=!1,pe(I),I=-1),P=!0;var ve=N;try{t:{for(ye(F),A=i(y);A!==null&&!(A.expirationTime>F&&D());){var Ge=A.callback;if(typeof Ge=="function"){A.callback=null,N=A.priorityLevel;var Ke=Ge(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ke=="function"){A.callback=Ke,ye(F),ie=!0;break t}A===i(y)&&r(y),ye(F)}else r(y);A=i(y)}if(A!==null)ie=!0;else{var M=i(_);M!==null&&Et(_e,M.startTime-F),ie=!1}}break e}finally{A=null,N=ve,P=!1}ie=void 0}}finally{ie?V():fe=!1}}}var V;if(typeof ne=="function")V=function(){ne(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xe=R.port2;R.port1.onmessage=k,V=function(){Xe.postMessage(null)}}else V=function(){ue(k,0)};function Et(F,ie){I=ue(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ie=3;break;default:ie=N}var ve=N;N=ie;try{return F()}finally{N=ve}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ve=N;N=F;try{return ie()}finally{N=ve}},s.unstable_scheduleCallback=function(F,ie,ve){var Ge=s.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ge+ve:Ge):ve=Ge,F){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ve+Ke,F={id:T++,callback:ie,priorityLevel:F,startTime:ve,expirationTime:Ke,sortIndex:-1},ve>Ge?(F.sortIndex=ve,e(_,F),i(y)===null&&F===i(_)&&(J?(pe(I),I=-1):J=!0,Et(_e,ve-Ge))):(F.sortIndex=Ke,e(y,F),K||P||(K=!0,fe||(fe=!0,V()))),F},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(F){var ie=N;return function(){var ve=N;N=ie;try{return F.apply(this,arguments)}finally{N=ve}}}})(Yd)),Yd}var l_;function nw(){return l_||(l_=1,Gd.exports=tw()),Gd.exports}var Qd={exports:{}},ln={};var c_;function iw(){if(c_)return ln;c_=1;var s=Vm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(y,_,null,T)},ln.flushSync=function(y){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=T,r.d.f()}},ln.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},ln.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},ln.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:P}):T==="script"&&r.d.X(y,{crossOrigin:A,integrity:N,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ln.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},ln.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ln.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},ln.requestFormReset=function(y){r.d.r(y)},ln.unstable_batchedUpdates=function(y,_){return y(_)},ln.useFormState=function(y,_,T){return d.H.useFormState(y,_,T)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var u_;function sw(){if(u_)return Qd.exports;u_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=iw(),Qd.exports}var h_;function rw(){if(h_)return Vl;h_=1;var s=nw(),e=Vm(),i=sw();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ue:return"Profiler";case W:return"StrictMode";case _e:return"Suspense";case fe:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ne:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Xe(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Xe(t(n))}catch{}}return null}var Et=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ge=[],Ke=-1;function M(t){return{current:t}}function Y(t){0>Ke||(t.current=Ge[Ke],Ge[Ke]=null,Ke--)}function te(t,n){Ke++,Ge[Ke]=t.current,t.current=n}var ae=M(null),be=M(null),xe=M(null),je=M(null);function Ve(t,n){switch(te(xe,n),te(be,t),te(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?x0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=x0(n),t=R0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),te(ae,t)}function nt(){Y(ae),Y(be),Y(xe)}function Gi(t){t.memoizedState!==null&&te(je,t);var n=ae.current,a=R0(n,t.type);n!==a&&(te(be,t),te(ae,a))}function vs(t){be.current===t&&(Y(ae),Y(be)),je.current===t&&(Y(je),Nl._currentValue=ve)}var Ft,bs;function Pn(t){if(Ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ft=n&&n[1]||"",bs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+t+bs}var Es=!1;function Yi(t,n){if(!t||Es)return"";Es=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){B=H}t.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var C=v.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Es=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pn(a):""}function Cr(t,n){switch(t.tag){case 26:case 27:case 5:return Pn(t.type);case 16:return Pn("Lazy");case 13:return t.child!==n&&n!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return Yi(t.type,!1);case 11:return Yi(t.type.render,!1);case 1:return Yi(t.type,!0);case 31:return Pn("Activity");default:return""}}function Ts(t){try{var n="",a=null;do n+=Cr(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Tt=Object.prototype.hasOwnProperty,At=s.unstable_scheduleCallback,gi=s.unstable_cancelCallback,Vo=s.unstable_shouldYield,ws=s.unstable_requestPaint,Xt=s.unstable_now,Qi=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,yi=s.unstable_UserBlockingPriority,Un=s.unstable_NormalPriority,As=s.unstable_LowPriority,Nr=s.unstable_IdlePriority,xs=s.log,Dr=s.unstable_setDisableYieldValue,Zt=null,ft=null;function gn(t){if(typeof xs=="function"&&Dr(t),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Zt,t)}catch{}}var _t=Math.clz32?Math.clz32:se,ya=Math.log,Rs=Math.LN2;function se(t){return t>>>=0,t===0?32:31-(ya(t)/Rs|0)|0}var de=256,ge=262144,re=4194304;function Ye(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ue(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ye(o):(v&=E,v!==0?h=Ye(v):a||(a=E&~t,a!==0&&(h=Ye(a))))):(E=o&~f,E!==0?h=Ye(E):v!==0?h=Ye(v):a||(a=o&~t,a!==0&&(h=Ye(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function De(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var t=re;return re<<=1,(re&62914560)===0&&(re=4194304),t}function dn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Rn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jo(t,n,a,o,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-_t(a),$=1<<G;E[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&vi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function vi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function kr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-_t(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Or(t,n){var a=n&-n;return a=(a&42)!==0?1:Wn(a),(a&(t.suspendedLanes|n))!==0?0:a}function Wn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function on(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:X0(t.type))}function ti(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var ni=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ni,Yt="__reactProps$"+ni,bi="__reactContainer$"+ni,_a="__reactEvents$"+ni,Qh="__reactListeners$"+ni,Ec="__reactHandles$"+ni,Tc="__reactResources$"+ni,Ei="__reactMarker$"+ni;function va(t){delete t[Nt],delete t[Yt],delete t[_a],delete t[Qh],delete t[Ec]}function Ti(t){var n=t[Nt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[bi]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=M0(t);t!==null;){if(a=t[Nt])return a;t=M0(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Nt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function wi(t){var n=t[Tc];return n||(n=t[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Ei]=!0}var Lo=new Set,Po={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(Po[t]=n,t=0;t<n.length;t++)Lo.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function wc(t){return Tt.call(Bo,t)?!0:Tt.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ba(t,n,a){if(wc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function kt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=Is(t)?"checked":"value";t._valueTracker=qo(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function yn(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,a,o,h,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Ho(t,v,Qt(n)):a!=null?Ho(t,v,Qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qt(E):t.removeAttribute("name")}function Sc(t,n,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){it(t);return}a=a!=null?""+Qt(a):"",n=n!=null?""+Qt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),it(t)}function Ho(t,n,a){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ac(t,n,a){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Qt(a):""}function Ns(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Et(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Qt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),it(t)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||xc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Go(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(t,f,n[f])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Yo=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Ri=null;function jr(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[Yt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Yt]||null;if(!h)throw Error(r(90));Ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Mr(o)}break e;case"textarea":Ac(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Cs(t,!!a.multiple,n,!1)}}}var Sa=!1;function Os(t,n,a){if(Sa)return t(n,a);Sa=!0;try{var o=t(n);return o}finally{if(Sa=!1,(ks!==null||Ri!==null)&&(bu(),ks&&(n=ks,t=Ri,Ri=ks=null,jr(n),t)))for(n=0;n<t.length;n++)jr(t[n])}}function si(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Yt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(qn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Lr=!1}var Ii=null,Qo=null,Pr=null;function Ko(){if(Pr)return Pr;var t,n=Qo,a=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&n[a-o]===h[f-o];o++);return Pr=h.slice(t,1<o?1-o:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ri(){return!1}function Jt(t){function n(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ri,this.isPropagationStopped=ri,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Jt($i),Ms=A({},$i,{view:0,detail:0}),$o=Jt(Ms),Vs,Aa,Ni,xa=A({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Vs=t.screenX-Ni.screenX,Aa=t.screenY-Ni.screenY):Aa=Vs=0,Ni=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Xo=Jt(xa),zr=A({},xa,{dataTransfer:0}),Ic=Jt(zr),Cc=A({},Ms,{relatedTarget:0}),Br=Jt(Cc),Zo=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Nc=Jt(Zo),Ra=A({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dc=Jt(Ra),kc=A({},$i,{data:0}),Di=Jt(kc),Oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vc[t])?!!n[t]:!1}function js(){return jc}var mn=A({},Ms,{key:function(t){if(t.key){var n=Oc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lc=Jt(mn),Pc=A({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Jt(Pc),c=A({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),m=Jt(c),b=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Jt(b),L=A({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Jt(L),ee=A({},$i,{newState:0,oldState:0}),ke=Jt(ee),xt=[9,13,27,32],We=qn&&"CompositionEvent"in window,gt=null;qn&&"documentMode"in document&&(gt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!gt,ki=qn&&(!We||gt&&8<gt&&11>=gt),ai=" ",oi=!1;function qr(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function TE(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(oi=!0,ai);case"textInput":return t=n.data,t===ai&&oi?null:t;default:return null}}function wE(t,n){if(Ca)return t==="compositionend"||!We&&qr(t,n)?(t=Ko(),Pr=Qo=Ii=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!SE[t.type]:n==="textarea"}function Pp(t,n,a,o){ks?Ri?Ri.push(o):Ri=[o]:ks=o,n=Ru(n,"onChange"),0<n.length&&(a=new Ci("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Jo=null,Wo=null;function AE(t){b0(t,0)}function Uc(t){var n=In(t);if(Mr(n))return t}function Up(t,n){if(t==="change")return n}var zp=!1;if(qn){var Kh;if(qn){var $h="oninput"in document;if(!$h){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),$h=typeof Bp.oninput=="function"}Kh=$h}else Kh=!1;zp=Kh&&(!document.documentMode||9<document.documentMode)}function qp(){Jo&&(Jo.detachEvent("onpropertychange",Hp),Wo=Jo=null)}function Hp(t){if(t.propertyName==="value"&&Uc(Wo)){var n=[];Pp(n,Wo,t,Bn(t)),Os(AE,n)}}function xE(t,n,a){t==="focusin"?(qp(),Jo=n,Wo=a,Jo.attachEvent("onpropertychange",Hp)):t==="focusout"&&qp()}function RE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uc(Wo)}function IE(t,n){if(t==="click")return Uc(n)}function CE(t,n){if(t==="input"||t==="change")return Uc(n)}function NE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nn=typeof Object.is=="function"?Object.is:NE;function el(t,n){if(Nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Tt.call(n,h)||!Nn(t[h],n[h]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,n){var a=Fp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Yp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Yp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=xi(t.document)}return n}function Xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var DE=qn&&"documentMode"in document&&11>=document.documentMode,Na=null,Zh=null,tl=null,Jh=!1;function Kp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||Na==null||Na!==xi(o)||(o=Na,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tl&&el(tl,o)||(tl=o,o=Ru(Zh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Na)))}function Hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Da={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Wh={},$p={};qn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Fr(t){if(Wh[t])return Wh[t];if(!Da[t])return t;var n=Da[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $p)return Wh[t]=n[a];return t}var Xp=Fr("animationend"),Zp=Fr("animationiteration"),Jp=Fr("animationstart"),kE=Fr("transitionrun"),OE=Fr("transitionstart"),ME=Fr("transitioncancel"),Wp=Fr("transitionend"),eg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function li(t,n){eg.set(t,n),Si(n,[t])}var zc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],ka=0,tf=0;function Bc(){for(var t=ka,n=tf=ka=0;n<t;){var a=Fn[n];Fn[n++]=null;var o=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&tg(a,h,f)}}function qc(t,n,a,o){Fn[ka++]=t,Fn[ka++]=n,Fn[ka++]=a,Fn[ka++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,n,a,o){return qc(t,n,a,o),Hc(t)}function Gr(t,n){return qc(t,null,null,n),Hc(t)}function tg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Hc(t){if(50<wl)throw wl=0,fd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Oa={};function VE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,a,o){return new VE(t,n,a,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=Dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fc(t,n,a,o,h,f){var v=0;if(o=t,typeof t=="function")sf(t)&&(v=1);else if(typeof t=="string")v=zT(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=Dn(31,a,n,h),t.elementType=S,t.lanes=f,t;case J:return Yr(a.children,h,f,n);case W:v=8,h|=24;break;case ue:return t=Dn(12,a,n,h|2),t.elementType=ue,t.lanes=f,t;case _e:return t=Dn(13,a,n,h),t.elementType=_e,t.lanes=f,t;case fe:return t=Dn(19,a,n,h),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case pe:v=9;break e;case ye:v=11;break e;case I:v=14;break e;case x:v=16,o=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Dn(v,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Yr(t,n,a,o){return t=Dn(7,t,o,n),t.lanes=a,t}function rf(t,n,a){return t=Dn(6,t,null,n),t.lanes=a,t}function ig(t){var n=Dn(18,null,null,0);return n.stateNode=t,n}function af(t,n,a){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var sg=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var a=sg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ts(n)},sg.set(t,n),n)}return{value:t,source:n,stack:Ts(n)}}var Ma=[],Va=0,Gc=null,nl=0,Yn=[],Qn=0,Ls=null,Oi=1,Mi="";function Ji(t,n){Ma[Va++]=nl,Ma[Va++]=Gc,Gc=t,nl=n}function rg(t,n,a){Yn[Qn++]=Oi,Yn[Qn++]=Mi,Yn[Qn++]=Ls,Ls=t;var o=Oi;t=Mi;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var f=32-_t(n)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Oi=1<<32-_t(n)+h|a<<h|o,Mi=f+t}else Oi=1<<f|a<<h|o,Mi=t}function of(t){t.return!==null&&(Ji(t,1),rg(t,1,0))}function lf(t){for(;t===Gc;)Gc=Ma[--Va],Ma[Va]=null,nl=Ma[--Va],Ma[Va]=null;for(;t===Ls;)Ls=Yn[--Qn],Yn[Qn]=null,Mi=Yn[--Qn],Yn[Qn]=null,Oi=Yn[--Qn],Yn[Qn]=null}function ag(t,n){Yn[Qn++]=Oi,Yn[Qn++]=Mi,Yn[Qn++]=Ls,Oi=n.id,Mi=n.overflow,Ls=t}var Wt=null,dt=null,Qe=!1,Ps=null,Kn=!1,cf=Error(r(519));function Us(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Gn(n,t)),cf}function og(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Yt]=o,a){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Pe(Al[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),Sc(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Ns(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||S0(n.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Us(t,!0)}function lg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Wt=Wt.return}}function ja(t){if(t!==Wt)return!1;if(!Qe)return lg(t),Qe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&dt&&Us(t),lg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=O0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=O0(t)}else n===27?(n=dt,Ws(t.type)?(t=kd,kd=null,dt=t):dt=n):dt=Wt?Xn(t.stateNode.nextSibling):null;return!0}function Qr(){dt=Wt=null,Qe=!1}function uf(){var t=Ps;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Ps=null),t}function il(t){Ps===null?Ps=[t]:Ps.push(t)}var hf=M(null),Kr=null,Wi=null;function zs(t,n,a){te(hf,n._currentValue),n._currentValue=a}function es(t){t._currentValue=hf.current,Y(hf)}function ff(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function df(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ff(f.return,a,t),o||(v=null);break e}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),ff(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function La(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;Nn(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===je.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&df(n,t,a,o),n.flags|=262144}function Yc(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Kr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return cg(Kr,t)}function Qc(t,n){return Kr===null&&$r(t),cg(t,n)}function cg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var jE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},LE=s.unstable_scheduleCallback,PE=s.unstable_NormalPriority,Ot={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new jE,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&LE(PE,function(){t.controller.abort()})}var rl=null,pf=0,Pa=0,Ua=null;function UE(t,n){if(rl===null){var a=rl=[];pf=0,Pa=_d(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pf++,n.then(ug,ug),n}function ug(){if(--pf===0&&rl!==null){Ua!==null&&(Ua.status="fulfilled");var t=rl;rl=null,Pa=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hg=F.S;F.S=function(t,n){Ky=Xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&UE(t,n),hg!==null&&hg(t,n)};var Xr=M(null);function gf(){var t=Xr.current;return t!==null?t:ut.pooledCache}function Kc(t,n){n===null?te(Xr,Xr.current):te(Xr,n.pool)}function fg(){var t=gf();return t===null?null:{parent:Ot._currentValue,pool:t}}var za=Error(r(460)),yf=Error(r(474)),$c=Error(r(542)),Xc={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ii,ii),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t;default:if(typeof n.status=="string")n.then(ii,ii);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t}throw Jr=n,za}}function Zr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Jr=a,za):a}}var Jr=null;function pg(){if(Jr===null)throw Error(r(459));var t=Jr;return Jr=null,t}function gg(t){if(t===za||t===$c)throw Error(r(483))}var Ba=null,al=0;function Zc(t){var n=al;return al+=1,Ba===null&&(Ba=[]),mg(Ba,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jc(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yg(t){function n(j,O){if(t){var U=j.deletions;U===null?(j.deletions=[O],j.flags|=16):U.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Zi(j,O),j.index=0,j.sibling=null,j}function f(j,O,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<O?(j.flags|=67108866,O):U):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,U,Q){return O===null||O.tag!==6?(O=rf(U,j.mode,Q),O.return=j,O):(O=h(O,U),O.return=j,O)}function C(j,O,U,Q){var Ee=U.type;return Ee===J?G(j,O,U.props.children,Q,U.key):O!==null&&(O.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Zr(Ee)===O.type)?(O=h(O,U.props),ol(O,U),O.return=j,O):(O=Fc(U.type,U.key,U.props,null,j.mode,Q),ol(O,U),O.return=j,O)}function z(j,O,U,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=af(U,j.mode,Q),O.return=j,O):(O=h(O,U.children||[]),O.return=j,O)}function G(j,O,U,Q,Ee){return O===null||O.tag!==7?(O=Yr(U,j.mode,Q,Ee),O.return=j,O):(O=h(O,U),O.return=j,O)}function $(j,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=rf(""+O,j.mode,U),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return U=Fc(O.type,O.key,O.props,null,j.mode,U),ol(U,O),U.return=j,U;case K:return O=af(O,j.mode,U),O.return=j,O;case x:return O=Zr(O),$(j,O,U)}if(Et(O)||V(O))return O=Yr(O,j.mode,U,null),O.return=j,O;if(typeof O.then=="function")return $(j,Zc(O),U);if(O.$$typeof===ne)return $(j,Qc(j,O),U);Jc(j,O)}return null}function B(j,O,U,Q){var Ee=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Ee!==null?null:E(j,O,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===Ee?C(j,O,U,Q):null;case K:return U.key===Ee?z(j,O,U,Q):null;case x:return U=Zr(U),B(j,O,U,Q)}if(Et(U)||V(U))return Ee!==null?null:G(j,O,U,Q,null);if(typeof U.then=="function")return B(j,O,Zc(U),Q);if(U.$$typeof===ne)return B(j,O,Qc(j,U),Q);Jc(j,U)}return null}function H(j,O,U,Q,Ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(U)||null,E(O,j,""+Q,Ee);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return j=j.get(Q.key===null?U:Q.key)||null,C(O,j,Q,Ee);case K:return j=j.get(Q.key===null?U:Q.key)||null,z(O,j,Q,Ee);case x:return Q=Zr(Q),H(j,O,U,Q,Ee)}if(Et(Q)||V(Q))return j=j.get(U)||null,G(O,j,Q,Ee,null);if(typeof Q.then=="function")return H(j,O,U,Zc(Q),Ee);if(Q.$$typeof===ne)return H(j,O,U,Qc(O,Q),Ee);Jc(O,Q)}return null}function he(j,O,U,Q){for(var Ee=null,Ze=null,me=O,Me=O=0,Be=null;me!==null&&Me<U.length;Me++){me.index>Me?(Be=me,me=null):Be=me.sibling;var Je=B(j,me,U[Me],Q);if(Je===null){me===null&&(me=Be);break}t&&me&&Je.alternate===null&&n(j,me),O=f(Je,O,Me),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je,me=Be}if(Me===U.length)return a(j,me),Qe&&Ji(j,Me),Ee;if(me===null){for(;Me<U.length;Me++)me=$(j,U[Me],Q),me!==null&&(O=f(me,O,Me),Ze===null?Ee=me:Ze.sibling=me,Ze=me);return Qe&&Ji(j,Me),Ee}for(me=o(me);Me<U.length;Me++)Be=H(me,j,Me,U[Me],Q),Be!==null&&(t&&Be.alternate!==null&&me.delete(Be.key===null?Me:Be.key),O=f(Be,O,Me),Ze===null?Ee=Be:Ze.sibling=Be,Ze=Be);return t&&me.forEach(function(sr){return n(j,sr)}),Qe&&Ji(j,Me),Ee}function we(j,O,U,Q){if(U==null)throw Error(r(151));for(var Ee=null,Ze=null,me=O,Me=O=0,Be=null,Je=U.next();me!==null&&!Je.done;Me++,Je=U.next()){me.index>Me?(Be=me,me=null):Be=me.sibling;var sr=B(j,me,Je.value,Q);if(sr===null){me===null&&(me=Be);break}t&&me&&sr.alternate===null&&n(j,me),O=f(sr,O,Me),Ze===null?Ee=sr:Ze.sibling=sr,Ze=sr,me=Be}if(Je.done)return a(j,me),Qe&&Ji(j,Me),Ee;if(me===null){for(;!Je.done;Me++,Je=U.next())Je=$(j,Je.value,Q),Je!==null&&(O=f(Je,O,Me),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je);return Qe&&Ji(j,Me),Ee}for(me=o(me);!Je.done;Me++,Je=U.next())Je=H(me,j,Me,Je.value,Q),Je!==null&&(t&&Je.alternate!==null&&me.delete(Je.key===null?Me:Je.key),O=f(Je,O,Me),Ze===null?Ee=Je:Ze.sibling=Je,Ze=Je);return t&&me.forEach(function(ZT){return n(j,ZT)}),Qe&&Ji(j,Me),Ee}function ct(j,O,U,Q){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var Ee=U.key;O!==null;){if(O.key===Ee){if(Ee=U.type,Ee===J){if(O.tag===7){a(j,O.sibling),Q=h(O,U.props.children),Q.return=j,j=Q;break e}}else if(O.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Zr(Ee)===O.type){a(j,O.sibling),Q=h(O,U.props),ol(Q,U),Q.return=j,j=Q;break e}a(j,O);break}else n(j,O);O=O.sibling}U.type===J?(Q=Yr(U.props.children,j.mode,Q,U.key),Q.return=j,j=Q):(Q=Fc(U.type,U.key,U.props,null,j.mode,Q),ol(Q,U),Q.return=j,j=Q)}return v(j);case K:e:{for(Ee=U.key;O!==null;){if(O.key===Ee)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(j,O.sibling),Q=h(O,U.children||[]),Q.return=j,j=Q;break e}else{a(j,O);break}else n(j,O);O=O.sibling}Q=af(U,j.mode,Q),Q.return=j,j=Q}return v(j);case x:return U=Zr(U),ct(j,O,U,Q)}if(Et(U))return he(j,O,U,Q);if(V(U)){if(Ee=V(U),typeof Ee!="function")throw Error(r(150));return U=Ee.call(U),we(j,O,U,Q)}if(typeof U.then=="function")return ct(j,O,Zc(U),Q);if(U.$$typeof===ne)return ct(j,O,Qc(j,U),Q);Jc(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(j,O.sibling),Q=h(O,U),Q.return=j,j=Q):(a(j,O),Q=rf(U,j.mode,Q),Q.return=j,j=Q),v(j)):a(j,O)}return function(j,O,U,Q){try{al=0;var Ee=ct(j,O,U,Q);return Ba=null,Ee}catch(me){if(me===za||me===$c)throw me;var Ze=Dn(29,me,null,j.mode);return Ze.lanes=Q,Ze.return=j,Ze}finally{}}}var Wr=yg(!0),_g=yg(!1),Bs=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hc(t),tg(t,null,a),n}return qc(t,o,n,a),Hc(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,kr(t,a)}}function bf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ef=!1;function cl(){if(Ef){var t=Ua;if(t!==null)throw t}}function ul(t,n,a,o){Ef=!1;var h=t.updateQueue;Bs=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,v===null?f=z:v.next=z,v=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;v=0,G=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(ze&B)===B:(o&B)===B){B!==0&&B===Pa&&(Ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,we=E;B=n;var ct=a;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){$=he.call(ct,$,B);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,B=typeof he=="function"?he.call(ct,$,B):he,B==null)break e;$=A({},$,B);break e;case 2:Bs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,C=$):G=G.next=H,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ks|=v,t.lanes=v,t.memoizedState=$}}function vg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function bg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],n)}var qa=M(null),Wc=M(0);function Eg(t,n){t=cs,te(Wc,t),te(qa,n),cs=t|n.baseLanes}function Tf(){te(Wc,cs),te(qa,qa.current)}function wf(){cs=Wc.current,Y(qa),Y(Wc)}var kn=M(null),$n=null;function Fs(t){var n=t.alternate;te(Rt,Rt.current&1),te(kn,t),$n===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&($n=t)}function Sf(t){te(Rt,Rt.current),te(kn,t),$n===null&&($n=t)}function Tg(t){t.tag===22?(te(Rt,Rt.current),te(kn,t),$n===null&&($n=t)):Gs()}function Gs(){te(Rt,Rt.current),te(kn,kn.current)}function On(t){Y(kn),$n===t&&($n=null),Y(Rt)}var Rt=M(0);function eu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nd(a)||Dd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Oe=null,ot=null,Mt=null,tu=!1,Ha=!1,ea=!1,nu=0,hl=0,Fa=null,BE=0;function wt(){throw Error(r(321))}function Af(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Nn(t[a],n[a]))return!1;return!0}function xf(t,n,a,o,h,f){return ts=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?ry:Bf,ea=!1,f=a(o,h),ea=!1,Ha&&(f=Sg(n,a,o,h)),wg(t),f}function wg(t){F.H=ml;var n=ot!==null&&ot.next!==null;if(ts=0,Mt=ot=Oe=null,tu=!1,hl=0,Fa=null,n)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Yc(t)&&(Vt=!0))}function Sg(t,n,a,o){Oe=t;var h=0;do{if(Ha&&(Fa=null),hl=0,Ha=!1,25<=h)throw Error(r(301));if(h+=1,Mt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ay,f=n(a,o)}while(Ha);return f}function qE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Rf(){var t=nu!==0;return nu=0,t}function If(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Cf(t){if(tu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tu=!1}ts=0,Mt=ot=Oe=null,Ha=!1,hl=nu=0,Fa=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Oe.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function It(){if(ot===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Mt===null?Oe.memoizedState:Mt.next;if(n!==null)Mt=n,ot=t;else{if(t===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Mt===null?Oe.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Fa===null&&(Fa=[]),t=mg(Fa,t,n),n=Oe,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?ry:Bf),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ne)return en(t)}throw Error(r(438,String(t)))}function Nf(t){var n=null,a=Oe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=iu(),Oe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=D;return n.index++,a}function ns(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=It();return Df(n,ot,t)}function Df(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=v=null,C=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(ze&$)===$:(ts&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Pa&&(G=!0);else if((ts&B)===B){z=z.next,B===Pa&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,v=f):C=C.next=$,Oe.lanes|=B,Ks|=B;$=z.action,ea&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,v=f):C=C.next=B,Oe.lanes|=$,Ks|=$;z=z.next}while(z!==null&&z!==n);if(C===null?v=f:C.next=E,!Nn(f,t.memoizedState)&&(Vt=!0,G&&(a=Ua,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function kf(t){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Nn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Ag(t,n,a){var o=Oe,h=It(),f=Qe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!Nn((ot||h).memoizedState,a);if(v&&(h.memoizedState=a,Vt=!0),h=h.queue,Vf(Ig.bind(null,o,h,t),[t]),h.getSnapshot!==n||v||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},Rg.bind(null,o,h,a,n),null),ut===null)throw Error(r(349));f||(ts&127)!==0||xg(o,n,a)}return a}function xg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Oe.updateQueue,n===null?(n=iu(),Oe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Rg(t,n,a,o){n.value=a,n.getSnapshot=o,Cg(n)&&Ng(t)}function Ig(t,n,a){return a(function(){Cg(n)&&Ng(t)})}function Cg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Nn(t,a)}catch{return!0}}function Ng(t){var n=Gr(t,2);n!==null&&wn(n,t,2)}function Of(t){var n=pn();if(typeof t=="function"){var a=t;if(t=a(),ea){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function Dg(t,n,a,o){return t.baseState=a,Df(t,ot,typeof o=="function"?o:ns)}function HE(t,n,a,o,h){if(lu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,kg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function kg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var E=a(h,o),C=F.S;C!==null&&C(v,E),Og(t,n,E)}catch(z){Mf(t,n,z)}finally{f!==null&&v.types!==null&&(f.types=v.types),F.T=f}}else try{f=a(h,o),Og(t,n,f)}catch(z){Mf(t,n,z)}}function Og(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Mg(t,n,o)},function(o){return Mf(t,n,o)}):Mg(t,n,a)}function Mg(t,n,a){n.status="fulfilled",n.value=a,Vg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,kg(t,a)))}function Mf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Vg(n),n=n.next;while(n!==o)}t.action=null}function Vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jg(t,n){return n}function Lg(t,n){if(Qe){var a=ut.formState;if(a!==null){e:{var o=Oe;if(Qe){if(dt){t:{for(var h=dt,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Xn(h.nextSibling),o=h.data==="F!";break e}}Us(o)}o=!1}o&&(n=a[0])}}return a=pn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},a.queue=o,a=ny.bind(null,Oe,o),o.dispatch=a,o=Of(!1),f=zf.bind(null,Oe,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=HE.bind(null,Oe,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Pg(t){var n=It();return Ug(n,ot,t)}function Ug(t,n,a){if(n=Df(t,n,jg)[0],t=ru(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(v){throw v===za?$c:v}else o=n;n=It();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Oe.flags|=2048,Ga(9,{destroy:void 0},FE.bind(null,h,a),null)),[o,f,t]}function FE(t,n){t.action=n}function zg(t){var n=It(),a=ot;if(a!==null)return Ug(n,a,t);It(),n=n.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ga(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=iu(),Oe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Bg(){return It().memoizedState}function au(t,n,a,o){var h=pn();Oe.flags|=t,h.memoizedState=Ga(1|n,{destroy:void 0},a,o===void 0?null:o)}function ou(t,n,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&Af(o,ot.memoizedState.deps)?h.memoizedState=Ga(n,f,a,o):(Oe.flags|=t,h.memoizedState=Ga(1|n,f,a,o))}function qg(t,n){au(8390656,8,t,n)}function Vf(t,n){ou(2048,8,t,n)}function GE(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=iu(),Oe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Hg(t){var n=It().memoizedState;return GE({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fg(t,n){return ou(4,2,t,n)}function Gg(t,n){return ou(4,4,t,n)}function Yg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qg(t,n,a){a=a!=null?a.concat([t]):null,ou(4,4,Yg.bind(null,n,t),a)}function jf(){}function Kg(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Af(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function $g(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Af(n,o[1]))return o[0];if(o=t(),ea){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[o,n],o}function Lf(t,n,a){return a===void 0||(ts&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Xy(),Oe.lanes|=t,Ks|=t,a)}function Xg(t,n,a,o){return Nn(a,n)?a:qa.current!==null?(t=Lf(t,a,o),Nn(t,n)||(Vt=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(ze&261930)===0?(Vt=!0,t.memoizedState=a):(t=Xy(),Oe.lanes|=t,Ks|=t,n)}function Zg(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var v=F.T,E={};F.T=E,zf(t,!1,n,a);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=zE(C,o);dl(t,n,G,jn(t))}else dl(t,n,o,jn(t))}catch($){dl(t,n,{then:function(){},status:"rejected",reason:$},jn())}finally{ie.p=f,v!==null&&E.types!==null&&(v.types=E.types),F.T=v}}function YE(){}function Pf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Jg(t).queue;Zg(t,h,n,ve,a===null?YE:function(){return Wg(t),a(o)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ve},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wg(t){var n=Jg(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},jn())}function Uf(){return en(Nl)}function ey(){return It().memoizedState}function ty(){return It().memoizedState}function QE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jn();t=qs(a);var o=Hs(n,t,a);o!==null&&(wn(o,n,a),ll(o,n,a)),n={cache:mf()},t.payload=n;return}n=n.return}}function KE(t,n,a){var o=jn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lu(t)?iy(n,a):(a=nf(t,n,a,o),a!==null&&(wn(a,t,o),sy(a,n,o)))}function ny(t,n,a){var o=jn();dl(t,n,a,o)}function dl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(t))iy(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,v))return qc(t,n,h,0),ut===null&&Bc(),!1}catch{}finally{}if(a=nf(t,n,h,o),a!==null)return wn(a,t,o),sy(a,n,o),!0}return!1}function zf(t,n,a,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lu(t)){if(n)throw Error(r(479))}else n=nf(t,a,o,2),n!==null&&wn(n,t,2)}function lu(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function iy(t,n){Ha=tu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function sy(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,kr(t,a)}}var ml={readContext:en,use:su,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};ml.useEffectEvent=wt;var ry={readContext:en,use:su,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:en,useEffect:qg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,au(4194308,4,Yg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return au(4194308,4,t,n)},useInsertionEffect:function(t,n){au(4,2,t,n)},useMemo:function(t,n){var a=pn();n=n===void 0?null:n;var o=t();if(ea){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=pn();if(a!==void 0){var h=a(n);if(ea){gn(!0);try{a(n)}finally{gn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=KE.bind(null,Oe,t),[o.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,a=ny.bind(null,Oe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,n){var a=pn();return Lf(a,t,n)},useTransition:function(){var t=Of(!1);return t=Zg.bind(null,Oe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Oe,h=pn();if(Qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ut===null)throw Error(r(349));(ze&127)!==0||xg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,qg(Ig.bind(null,o,f,t),[t]),o.flags|=2048,Ga(9,{destroy:void 0},Rg.bind(null,o,f,a,n),null),a},useId:function(){var t=pn(),n=ut.identifierPrefix;if(Qe){var a=Mi,o=Oi;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=BE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zf.bind(null,Oe,!0,a),a.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return pn().memoizedState=QE.bind(null,Oe)},useEffectEvent:function(t){var n=pn(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:en,use:su,useCallback:Kg,useContext:en,useEffect:Vf,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:$g,useReducer:ru,useRef:Bg,useState:function(){return ru(ns)},useDebugValue:jf,useDeferredValue:function(t,n){var a=It();return Xg(a,ot.memoizedState,t,n)},useTransition:function(){var t=ru(ns)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Ag,useId:ey,useHostTransitionStatus:Uf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var a=It();return Dg(a,ot,t,n)},useMemoCache:Nf,useCacheRefresh:ty};Bf.useEffectEvent=Hg;var ay={readContext:en,use:su,useCallback:Kg,useContext:en,useEffect:Vf,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:$g,useReducer:kf,useRef:Bg,useState:function(){return kf(ns)},useDebugValue:jf,useDeferredValue:function(t,n){var a=It();return ot===null?Lf(a,t,n):Xg(a,ot.memoizedState,t,n)},useTransition:function(){var t=kf(ns)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Ag,useId:ey,useHostTransitionStatus:Uf,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var a=It();return ot!==null?Dg(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:ty};ay.useEffectEvent=Hg;function qf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=jn(),h=qs(o);h.payload=n,a!=null&&(h.callback=a),n=Hs(t,h,o),n!==null&&(wn(n,t,o),ll(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=jn(),h=qs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Hs(t,h,o),n!==null&&(wn(n,t,o),ll(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jn(),o=qs(a);o.tag=2,n!=null&&(o.callback=n),n=Hs(t,o,a),n!==null&&(wn(n,t,a),ll(n,t,a))}};function oy(t,n,a,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!el(a,o)||!el(h,f):!0}function ly(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Hf.enqueueReplaceState(n,n.state,null)}function ta(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function cy(t){zc(t)}function uy(t){console.error(t)}function hy(t){zc(t)}function cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,n,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){cu(t,n)},a}function dy(t){return t=qs(t),t.tag=3,t}function my(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){fy(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fy(n,a,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $E(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&La(n,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Eu():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Xc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),pd(t,o,h)),!1;case 22:return a.flags|=65536,o===Xc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),pd(t,o,h)),!1}throw Error(r(435,a.tag))}return pd(t,o,h),Eu(),!1}if(Qe)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==cf&&(t=Error(r(422),{cause:o}),il(Gn(t,a)))):(o!==cf&&(n=Error(r(423),{cause:o}),il(Gn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Gn(o,a),h=Ff(t.stateNode,o,h),bf(t,h),St!==4&&(St=2)),!1;var f=Error(r(520),{cause:o});if(f=Gn(f,a),Tl===null?Tl=[f]:Tl.push(f),St!==4&&(St=2),n===null)return!0;o=Gn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,o,t),bf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,t,a,o),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Gf=Error(r(461)),Vt=!1;function tn(t,n,a,o){n.child=t===null?_g(n,null,a,o):Wr(n,t.child,a,o)}function py(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return $r(n),o=xf(t,n,a,v,f,h),E=Rf(),t!==null&&!Vt?(If(t,n,h),is(t,n,h)):(Qe&&E&&of(n),n.flags|=1,tn(t,n,o,h),n.child)}function gy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yy(t,n,f,o,h)):(t=Fc(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Wf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(v,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Zi(f,o),t.ref=n.ref,t.return=n,n.child=t}function yy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(el(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Wf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,is(t,n,h)}return Yf(t,n,a,o,h)}function _y(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return vy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kc(n,f!==null?f.cachePool:null),f!==null?Eg(n,f):Tf(),Tg(n);else return o=n.lanes=536870912,vy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Kc(n,f.cachePool),Eg(n,f),Gs(),n.memoizedState=null):(t!==null&&Kc(n,null),Tf(),Gs());return tn(t,n,h,a),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(t,n,a,o,h){var f=gf();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Kc(n,null),Tf(),Tg(n),t!==null&&La(t,n,o,!0),n.childLanes=h,null}function uu(t,n){return n=fu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function by(t,n,a){return Wr(n,t.child,null,a),t=uu(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function XE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=uu(n,o),n.lanes=536870912,pl(null,t);if(Sf(n),(t=dt)?(t=k0(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=n,n.child=a,Wt=n,dt=null)):t=null,t===null)throw Us(n);return n.lanes=536870912,null}return uu(n,o)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Sf(n),h)if(n.flags&256)n.flags&=-257,n=by(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Vt||La(t,n,a,!1),h=(a&t.childLanes)!==0,Vt||h){if(o=ut,o!==null&&(v=Or(o,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Gr(t,v),wn(o,t,v),Gf;Eu(),n=by(t,n,a)}else t=f.treeContext,dt=Xn(v.nextSibling),Wt=n,Qe=!0,Ps=null,Kn=!1,t!==null&&ag(n,t),n=uu(n,o),n.flags|=4096;return n}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Yf(t,n,a,o,h){return $r(n),a=xf(t,n,a,o,void 0,h),o=Rf(),t!==null&&!Vt?(If(t,n,h),is(t,n,h)):(Qe&&o&&of(n),n.flags|=1,tn(t,n,a,h),n.child)}function Ey(t,n,a,o,h,f){return $r(n),n.updateQueue=null,a=Sg(n,o,a,h),wg(t),o=Rf(),t!==null&&!Vt?(If(t,n,f),is(t,n,f)):(Qe&&o&&of(n),n.flags|=1,tn(t,n,a,f),n.child)}function Ty(t,n,a,o,h){if($r(n),n.stateNode===null){var f=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(f=en(v)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},_f(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?en(v):Oa,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(qf(n,a,v,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Hf.enqueueReplaceState(f,f.state,null),ul(n,o,f,h),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ta(a,E);f.props=C;var z=f.context,G=a.contextType;v=Oa,typeof G=="object"&&G!==null&&(v=en(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&ly(n,f,o,v),Bs=!1;var B=n.memoizedState;f.state=B,ul(n,o,f,h),cl(),z=n.memoizedState,E||B!==z||Bs?(typeof $=="function"&&(qf(n,a,$,o),z=n.memoizedState),(C=Bs||oy(n,a,C,o,B,z,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=v,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,vf(t,n),v=n.memoizedProps,G=ta(a,v),f.props=G,$=n.pendingProps,B=f.context,z=a.contextType,C=Oa,typeof z=="object"&&z!==null&&(C=en(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==$||B!==C)&&ly(n,f,o,C),Bs=!1,B=n.memoizedState,f.state=B,ul(n,o,f,h),cl();var H=n.memoizedState;v!==$||B!==H||Bs||t!==null&&t.dependencies!==null&&Yc(t.dependencies)?(typeof E=="function"&&(qf(n,a,E,o),H=n.memoizedState),(G=Bs||oy(n,a,G,o,B,H,C)||t!==null&&t.dependencies!==null&&Yc(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Wr(n,t.child,null,h),n.child=Wr(n,null,a,h)):tn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function wy(t,n,a,o){return Qr(),n.flags|=256,tn(t,n,a,o),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:fg()}}function $f(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Vn),t}function Sy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Qe){if(h?Fs(n):Gs(),(t=dt)?(t=k0(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=n,n.child=a,Wt=n,dt=null)):t=null,t===null)throw Us(n);return Dd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Gs(),h=n.mode,E=fu({mode:"hidden",children:E},h),o=Yr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Kf(a),o.childLanes=$f(t,v,a),n.memoizedState=Qf,pl(null,o)):(Fs(n),Xf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Fs(n),n.flags&=-257,n=Zf(t,n,a)):n.memoizedState!==null?(Gs(),n.child=t.child,n.flags|=128,n=null):(Gs(),E=o.fallback,h=n.mode,o=fu({mode:"visible",children:o.children},h),E=Yr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Wr(n,t.child,null,a),o=n.child,o.memoizedState=Kf(a),o.childLanes=$f(t,v,a),n.memoizedState=Qf,n=pl(null,o));else if(Fs(n),Dd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(r(419)),o.stack="",o.digest=v,il({value:o,source:null,stack:null}),n=Zf(t,n,a)}else if(Vt||La(t,n,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=ut,v!==null&&(o=Or(v,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Gr(t,o),wn(v,t,o),Gf;Nd(E)||Eu(),n=Zf(t,n,a)}else Nd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,dt=Xn(E.nextSibling),Wt=n,Qe=!0,Ps=null,Kn=!1,t!==null&&ag(n,t),n=Xf(n,o.children),n.flags|=4096);return n}return h?(Gs(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Zi(z,E):(E=Yr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,pl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Kf(a):(h=E.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=fg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=$f(t,v,a),n.memoizedState=Qf,pl(t.child,o)):(Fs(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function Xf(t,n){return n=fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fu(t,n){return t=Dn(22,t,null,n),t.lanes=0,t}function Zf(t,n,a){return Wr(n,t.child,null,a),t=Xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ay(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ff(t.return,n,a)}function Jf(t,n,a,o,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=f)}function xy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var v=Rt.current,E=(v&2)!==0;if(E?(v=v&1|2,n.flags|=128):v&=1,te(Rt,v),tn(t,n,o,a),o=Qe?nl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,a,n);else if(t.tag===19)Ay(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&eu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&eu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Jf(n,!0,a,null,f,o);break;case"together":Jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ks|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(La(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Wf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yc(t)))}function ZE(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),zs(n,Ot,t.memoizedState.cache),Qr();break;case 27:case 5:Gi(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sy(t,n,a):(Fs(n),t=is(t,n,a),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(La(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return xy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Rt,Rt.current),o)break;return null;case 22:return n.lanes=0,_y(t,n,a,n.pendingProps);case 24:zs(n,Ot,t.memoizedState.cache)}return is(t,n,a)}function Ry(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Wf(t,a)&&(n.flags&128)===0)return Vt=!1,ZE(t,n,a);Vt=(t.flags&131072)!==0}else Vt=!1,Qe&&(n.flags&1048576)!==0&&rg(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Zr(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=ta(t,o),n.tag=1,n=Ty(null,n,t,o,a)):(n.tag=0,n=Yf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ye){n.tag=11,n=py(null,n,t,o,a);break e}else if(h===I){n.tag=14,n=gy(null,n,t,o,a);break e}}throw n=Xe(t)||t,Error(r(306,n,""))}}return n;case 0:return Yf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ta(o,n.pendingProps),Ty(t,n,o,h,a);case 3:e:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,vf(t,n),ul(n,o,null,a);var v=n.memoizedState;if(o=v.cache,zs(n,Ot,o),o!==f.cache&&df(n,[Ot],a,!0),cl(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wy(t,n,o,a);break e}else if(o!==h){h=Gn(Error(r(424)),n),il(h),n=wy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Xn(t.firstChild),Wt=n,Qe=!0,Ps=null,Kn=!0,a=_g(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),o===h){n=is(t,n,a);break e}tn(t,n,o,a)}n=n.child}return n;case 26:return hu(t,n),t===null?(a=P0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Qe||(a=n.type,t=n.pendingProps,o=Iu(xe.current).createElement(a),o[Nt]=n,o[Yt]=t,nn(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=P0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Gi(n),t===null&&Qe&&(o=n.stateNode=V0(n.type,n.pendingProps,xe.current),Wt=n,Kn=!0,h=dt,Ws(n.type)?(kd=h,dt=Xn(o.firstChild)):dt=h),tn(t,n,n.pendingProps.children,a),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Qe&&((h=o=dt)&&(o=RT(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,Wt=n,dt=Xn(o.firstChild),Kn=!1,h=!0):h=!1),h||Us(n)),Gi(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:v!==null&&Rd(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=xf(t,n,qE,null,null,a),Nl._currentValue=h),hu(t,n),tn(t,n,o,a),n.child;case 6:return t===null&&Qe&&((t=a=dt)&&(a=IT(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Wt=n,dt=null,t=!0):t=!1),t||Us(n)),null;case 13:return Sy(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Wr(n,null,o,a):tn(t,n,o,a),n.child;case 11:return py(t,n,n.type,n.pendingProps,a);case 7:return tn(t,n,n.pendingProps,a),n.child;case 8:return tn(t,n,n.pendingProps.children,a),n.child;case 12:return tn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,zs(n,n.type,o.value),tn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,$r(n),h=en(h),o=o(h),n.flags|=1,tn(t,n,o,a),n.child;case 14:return gy(t,n,n.type,n.pendingProps,a);case 15:return yy(t,n,n.type,n.pendingProps,a);case 19:return xy(t,n,a);case 31:return XE(t,n,a);case 22:return _y(t,n,a,n.pendingProps);case 24:return $r(n),o=en(Ot),t===null?(h=gf(),h===null&&(h=ut,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},_f(n),zs(n,Ot,h)):((t.lanes&a)!==0&&(vf(t,n),ul(n,null,null,a),cl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,Ot,o)):(o=f.cache,zs(n,Ot,o),o!==h.cache&&df(n,[Ot],a,!0))),tn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ss(t){t.flags|=4}function ed(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(e0())t.flags|=8192;else throw Jr=Xc,yf}else t.flags&=-16777217}function Iy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!H0(n))if(e0())t.flags|=8192;else throw Jr=Xc,yf}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_i():536870912,t.lanes|=n,$a|=n)}function gl(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function JE(t,n,a){var o=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Ot),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(mt(n),Iy(n,f)):(mt(n),ed(n,h,null,o,a))):f?f!==t.memoizedState?(ss(n),mt(n),Iy(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),mt(n),ed(n,h,t,o,a)),null;case 27:if(vs(n),a=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}t=ae.current,ja(n)?og(n):(t=V0(h,o,a),n.stateNode=t,ss(n))}return mt(n),null;case 5:if(vs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}if(f=ae.current,ja(n))og(n);else{var v=Iu(xe.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}f[Nt]=n,f[Yt]=o;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=f;e:switch(nn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return mt(n),ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=xe.current,ja(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||S0(t.nodeValue,a)),t||Us(n,!0)}else t=Iu(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return mt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ja(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(r(558))}return mt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Nt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),du(n,n.updateQueue),mt(n),null);case 4:return nt(),t===null&&Td(n.stateNode.containerInfo),mt(n),null;case 10:return es(n.type),mt(n),null;case 19:if(Y(Rt),o=n.memoizedState,o===null)return mt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)gl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=eu(t),f!==null){for(n.flags|=128,gl(o,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ng(a,t),a=a.sibling;return te(Rt,Rt.current&1|2),Qe&&Ji(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Xt()>_u&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304)}else{if(!h)if(t=eu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Qe)return mt(n),null}else 2*Xt()-o.renderingStartTime>_u&&a!==536870912&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,a=Rt.current,te(Rt,h?a&1|2:a&1),Qe&&Ji(n,o.treeForkCount),t):(mt(n),null);case 22:case 23:return On(n),wf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),a=n.updateQueue,a!==null&&du(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Y(Xr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),es(Ot),mt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function WE(t,n){switch(lf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Ot),nt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(r(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Rt),null;case 4:return nt(),null;case 10:return es(n.type),null;case 22:case 23:return On(n),wf(),t!==null&&Y(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Ot),null;case 25:return null;default:return null}}function Cy(t,n){switch(lf(n),n.tag){case 3:es(Ot),nt();break;case 26:case 27:case 5:vs(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:Y(Rt);break;case 10:es(n.type);break;case 22:case 23:On(n),wf(),t!==null&&Y(Xr);break;case 24:es(Ot)}}function yl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){rt(n,n.return,E)}}function Ys(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(G){rt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){rt(n,n.return,G)}}function Ny(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{bg(n,a)}catch(o){rt(t,t.return,o)}}}function Dy(t,n,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){rt(t,n,o)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){rt(t,n,h)}}function Vi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,n,h)}else a.current=null}function ky(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function td(t,n,a){try{var o=t.stateNode;ET(o,t.type,a,n),o[Yt]=n}catch(h){rt(t,t.return,h)}}function Oy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ws(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ws(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ii));else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(id(t,n,a),t=t.sibling;t!==null;)id(t,n,a),t=t.sibling}function mu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ws(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mu(t,n,a),t=t.sibling;t!==null;)mu(t,n,a),t=t.sibling}function My(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,o,a),n[Nt]=t,n[Yt]=a}catch(f){rt(t,t.return,f)}}var rs=!1,jt=!1,sd=!1,Vy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function eT(t,n){if(t=t.containerInfo,Ad=Vu,t=Qp(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,E=-1,C=-1,z=0,G=0,$=t,B=null;t:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=v+h),$!==f||o!==0&&$.nodeType!==3||(C=v+o),$.nodeType===3&&(v+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===t)break t;if(B===a&&++z===h&&(E=v),B===f&&++G===o&&(C=v),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Vu=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=ta(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){rt(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function jy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:os(t,a),o&4&&yl(5,a);break;case 1:if(os(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){rt(a,a.return,v)}else{var h=ta(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){rt(a,a.return,v)}}o&64&&Ny(a),o&512&&_l(a,a.return);break;case 3:if(os(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bg(t,n)}catch(v){rt(a,a.return,v)}}break;case 27:n===null&&o&4&&My(a);case 26:case 5:os(t,a),n===null&&o&4&&ky(a),o&512&&_l(a,a.return);break;case 12:os(t,a);break;case 31:os(t,a),o&4&&Uy(t,a);break;case 13:os(t,a),o&4&&zy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cT.bind(null,a),CT(t,a))));break;case 22:if(o=a.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||jt,h=rs;var f=jt;rs=o,(jt=n)&&!f?ls(t,a,(a.subtreeFlags&8772)!==0):os(t,a),rs=h,jt=f}break;case 30:break;default:os(t,a)}}function Ly(t){var n=t.alternate;n!==null&&(t.alternate=null,Ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,vn=!1;function as(t,n,a){for(a=a.child;a!==null;)Py(t,n,a),a=a.sibling}function Py(t,n,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Zt,a)}catch{}switch(a.tag){case 26:jt||Vi(a,n),as(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Vi(a,n);var o=yt,h=vn;Ws(a.type)&&(yt=a.stateNode,vn=!1),as(t,n,a),Rl(a.stateNode),yt=o,vn=h;break;case 5:jt||Vi(a,n);case 6:if(o=yt,h=vn,yt=null,as(t,n,a),yt=o,vn=h,yt!==null)if(vn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){rt(a,n,f)}else try{yt.removeChild(a.stateNode)}catch(f){rt(a,n,f)}break;case 18:yt!==null&&(vn?(t=yt,N0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):N0(yt,a.stateNode));break;case 4:o=yt,h=vn,yt=a.stateNode.containerInfo,vn=!0,as(t,n,a),yt=o,vn=h;break;case 0:case 11:case 14:case 15:Ys(2,a,n),jt||Ys(4,a,n),as(t,n,a);break;case 1:jt||(Vi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,n,o)),as(t,n,a);break;case 21:as(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,as(t,n,a),jt=o;break;default:as(t,n,a)}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){rt(n,n.return,a)}}}function zy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){rt(n,n.return,a)}}function tT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vy),n;default:throw Error(r(435,t.tag))}}function pu(t,n){var a=tT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=uT.bind(null,t,o);o.then(h,h)}})}function bn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,v=n,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){yt=E.stateNode,vn=!1;break e}break;case 5:yt=E.stateNode,vn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,vn=!0;break e}E=E.return}if(yt===null)throw Error(r(160));Py(f,v,h),yt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)By(n,t),n=n.sibling}var ci=null;function By(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),En(t),o&4&&(Ys(3,t,t.return),yl(3,t),Ys(5,t,t.return));break;case 1:bn(n,t),En(t),o&512&&(jt||a===null||Vi(a,a.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ci;if(bn(n,t),En(t),o&512&&(jt||a===null||Vi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,o,a),f[Nt]=t,Dt(f),o=f;break e;case"link":var v=B0("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;case"meta":if(v=B0("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Nt]=t,Dt(f),o=f}t.stateNode=o}else q0(h,t.type,t.stateNode);else t.stateNode=z0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?q0(h,t.type,t.stateNode):z0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(n,t),En(t),o&512&&(jt||a===null||Vi(a,a.return)),a!==null&&o&4&&td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(n,t),En(t),o&512&&(jt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(he){rt(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(bn(n,t),En(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){rt(t,t.return,he)}}break;case 3:if(Du=null,h=ci,ci=Cu(n.containerInfo),bn(n,t),ci=h,En(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(he){rt(t,t.return,he)}sd&&(sd=!1,qy(t));break;case 4:o=ci,ci=Cu(t.stateNode.containerInfo),bn(n,t),En(t),ci=o;break;case 12:bn(n,t),En(t);break;case 31:bn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pu(t,o)));break;case 13:bn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yu=Xt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pu(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=rs,G=jt;if(rs=z||h,jt=G||C,bn(n,t),jt=G,rs=z,En(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||rs||jt||na(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){rt(C,C.return,he)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){rt(C,C.return,he)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?D0(H,!0):D0(C.stateNode,!1)}catch(he){rt(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pu(t,a))));break;case 19:bn(n,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pu(t,o)));break;case 30:break;case 21:break;default:bn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Oy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=nd(t);mu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var E=nd(t);mu(t,E,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=nd(t);id(t,z,C);break;default:throw Error(r(161))}}catch(G){rt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jy(t,n.alternate,n),n=n.sibling}function na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ys(4,n,n.return),na(n);break;case 1:Vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dy(n,n.return,a),na(n);break;case 27:Rl(n.stateNode);case 26:case 5:Vi(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}t=t.sibling}}function ls(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,a),yl(4,f);break;case 1:if(ls(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)vg(C[h],E)}catch(z){rt(o,o.return,z)}}a&&v&64&&Ny(f),_l(f,f.return);break;case 27:My(f);case 26:case 5:ls(h,f,a),a&&o===null&&v&4&&ky(f),_l(f,f.return);break;case 12:ls(h,f,a);break;case 31:ls(h,f,a),a&&v&4&&Uy(h,f);break;case 13:ls(h,f,a),a&&v&4&&zy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,a),_l(f,f.return);break;case 30:break;default:ls(h,f,a)}n=n.sibling}}function rd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function ui(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(t,n,a,o),n=n.sibling}function Hy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,a,o),h&2048&&yl(9,n);break;case 1:ui(t,n,a,o);break;case 3:ui(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){ui(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else ui(t,n,a,o);break;case 31:ui(t,n,a,o);break;case 13:ui(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,a,o):vl(t,n):f._visibility&2?ui(t,n,a,o):(f._visibility|=2,Ya(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(v,n);break;case 24:ui(t,n,a,o),h&2048&&ad(n.alternate,n);break;default:ui(t,n,a,o)}}function Ya(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,v=n,E=a,C=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:Ya(f,v,E,C,h),yl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Ya(f,v,E,C,h):vl(f,v):(G._visibility|=2,Ya(f,v,E,C,h)),h&&z&2048&&rd(v.alternate,v);break;case 24:Ya(f,v,E,C,h),h&&z&2048&&ad(v.alternate,v);break;default:Ya(f,v,E,C,h)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&rd(o.alternate,o);break;case 24:vl(a,o),h&2048&&ad(o.alternate,o);break;default:vl(a,o)}n=n.sibling}}var bl=8192;function Qa(t,n,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)Fy(t,n,a),t=t.sibling}function Fy(t,n,a){switch(t.tag){case 26:Qa(t,n,a),t.flags&bl&&t.memoizedState!==null&&BT(a,ci,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,a);break;case 3:case 4:var o=ci;ci=Cu(t.stateNode.containerInfo),Qa(t,n,a),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=bl,bl=16777216,Qa(t,n,a),bl=o):Qa(t,n,a));break;default:Qa(t,n,a)}}function Gy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Qy(o,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yy(t),t=t.sibling}function Yy(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gu(t)):El(t);break;default:El(t)}}function gu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Qy(o,t)}Gy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ys(8,n,n.return),gu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gu(n));break;default:gu(n)}t=t.sibling}}function Qy(t,n){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Ys(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(Ly(o),o===a){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var nT={getCacheForType:function(t){var n=en(Ot),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return en(Ot).controller.signal}},iT=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,Le=null,ze=0,st=0,Mn=null,Qs=!1,Ka=!1,od=!1,cs=0,St=0,Ks=0,ia=0,ld=0,Vn=0,$a=0,Tl=null,Tn=null,cd=!1,yu=0,Ky=0,_u=1/0,vu=null,$s=null,Bt=0,Xs=null,Xa=null,us=0,ud=0,hd=null,$y=null,wl=0,fd=null;function jn(){return(et&2)!==0&&ze!==0?ze&-ze:F.T!==null?_d():on()}function Xy(){if(Vn===0)if((ze&536870912)===0||Qe){var t=ge;ge<<=1,(ge&3932160)===0&&(ge=262144),Vn=t}else Vn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Vn}function wn(t,n,a){(t===ut&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Zs(t,ze,Vn,!1)),Rn(t,a),((et&2)===0||t!==ut)&&(t===ut&&((et&2)===0&&(ia|=a),St===4&&Zs(t,ze,Vn,!1)),ji(t))}function Zy(t,n,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||De(t,n),h=o?aT(t,n):md(t,n,!0),f=o;do{if(h===0){Ka&&!o&&Zs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!sT(a)){h=md(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var E=t;h=Tl;var C=E.current.memoizedState.isDehydrated;if(C&&(Za(E,v).flags|=256),v=md(E,v,!1),v!==2){if(od&&!C){E.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),Zs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,Vn,!Qs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yu+300-Xt(),10<h)){if(Zs(o,n,Vn,!Qs),Ue(o,0,!0)!==0)break e;us=n,o.timeoutHandle=I0(Jy.bind(null,o,a,Tn,vu,cd,n,Vn,ia,$a,Qs,f,"Throttled",-0,0),h);break e}Jy(o,a,Tn,vu,cd,n,Vn,ia,$a,Qs,f,null,-0,0)}}break}while(!0);ji(t)}function Jy(t,n,a,o,h,f,v,E,C,z,G,$,B,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Fy(n,f,$);var he=(f&62914560)===f?yu-Xt():(f&4194048)===f?Ky-Xt():0;if(he=qT($,he),he!==null){us=f,t.cancelPendingCommit=he(a0.bind(null,t,n,f,a,o,h,v,E,C,G,$,null,B,H)),Zs(t,f,v,!z);return}}a0(t,n,f,a,o,h,v,E,C)}function sT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(t,n,a,o){n&=~ld,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&vi(t,a,n)}function bu(){return(et&6)===0?(Sl(0),!1):!0}function dd(){if(Le!==null){if(st===0)var t=Le.return;else t=Le,Wi=Kr=null,Cf(t),Ba=null,al=0,t=Le;for(;t!==null;)Cy(t.alternate,t),t=t.return;Le=null}}function Za(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ST(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),us=0,dd(),ut=t,Le=a=Zi(t.current,null),ze=n,st=0,Mn=null,Qs=!1,Ka=De(t,n),od=!1,$a=Vn=ld=ia=Ks=St=0,Tn=Tl=null,cd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_t(o),f=1<<h;n|=t[h],o&=~f}return cs=n,Bc(),a}function Wy(t,n){Oe=null,F.H=ml,n===za||n===$c?(n=pg(),st=3):n===yf?(n=pg(),st=4):st=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Le===null&&(St=1,cu(t,Gn(n,t.current)))}function e0(){var t=kn.current;return t===null?!0:(ze&4194048)===ze?$n===null:(ze&62914560)===ze||(ze&536870912)!==0?t===$n:!1}function t0(){var t=F.H;return F.H=ml,t===null?ml:t}function n0(){var t=F.A;return F.A=nT,t}function Eu(){St=4,Qs||(ze&4194048)!==ze&&kn.current!==null||(Ka=!0),(Ks&134217727)===0&&(ia&134217727)===0||ut===null||Zs(ut,ze,Vn,!1)}function md(t,n,a){var o=et;et|=2;var h=t0(),f=n0();(ut!==t||ze!==n)&&(vu=null,Za(t,n)),n=!1;var v=St;e:do try{if(st!==0&&Le!==null){var E=Le,C=Mn;switch(st){case 8:dd(),v=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var z=st;if(st=0,Mn=null,Ja(t,E,C,z),a&&Ka){v=0;break e}break;default:z=st,st=0,Mn=null,Ja(t,E,C,z)}}rT(),v=St;break}catch(G){Wy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Wi=Kr=null,et=o,F.H=h,F.A=f,Le===null&&(ut=null,ze=0,Bc()),v}function rT(){for(;Le!==null;)i0(Le)}function aT(t,n){var a=et;et|=2;var o=t0(),h=n0();ut!==t||ze!==n?(vu=null,_u=Xt()+500,Za(t,n)):Ka=De(t,n);e:do try{if(st!==0&&Le!==null){n=Le;var f=Mn;t:switch(st){case 1:st=0,Mn=null,Ja(t,n,f,1);break;case 2:case 9:if(dg(f)){st=0,Mn=null,s0(n);break}n=function(){st!==2&&st!==9||ut!==t||(st=7),ji(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:dg(f)?(st=0,Mn=null,s0(n)):(st=0,Mn=null,Ja(t,n,f,7));break;case 5:var v=null;switch(Le.tag){case 26:v=Le.memoizedState;case 5:case 27:var E=Le;if(v?H0(v):E.stateNode.complete){st=0,Mn=null;var C=E.sibling;if(C!==null)Le=C;else{var z=E.return;z!==null?(Le=z,Tu(z)):Le=null}break t}}st=0,Mn=null,Ja(t,n,f,5);break;case 6:st=0,Mn=null,Ja(t,n,f,6);break;case 8:dd(),St=6;break e;default:throw Error(r(462))}}oT();break}catch(G){Wy(t,G)}while(!0);return Wi=Kr=null,F.H=o,F.A=h,et=a,Le!==null?0:(ut=null,ze=0,Bc(),St)}function oT(){for(;Le!==null&&!Vo();)i0(Le)}function i0(t){var n=Ry(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?Tu(t):Le=n}function s0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Ey(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=Ey(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Cf(n);default:Cy(a,n),n=Le=ng(n,cs),n=Ry(a,n,cs)}t.memoizedProps=t.pendingProps,n===null?Tu(t):Le=n}function Ja(t,n,a,o){Wi=Kr=null,Cf(n),Ba=null,al=0;var h=n.return;try{if($E(t,h,n,a,ze)){St=1,cu(t,Gn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;St=1,cu(t,Gn(a,t.current)),Le=null;return}n.flags&32768?(Qe||o===1?t=!0:Ka||(ze&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),r0(n,t)):Tu(n)}function Tu(t){var n=t;do{if((n.flags&32768)!==0){r0(n,Qs);return}t=n.return;var a=JE(n.alternate,n,cs);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);St===0&&(St=5)}function r0(t,n){do{var a=WE(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);St=6,Le=null}function a0(t,n,a,o,h,f,v,E,C){t.cancelPendingCommit=null;do wu();while(Bt!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=tf,jo(t,a,f,v,E,C),t===ut&&(Le=ut=null,ze=0),Xa=n,Xs=t,us=a,ud=f,hd=h,$y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hT(Un,function(){return h0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ie.p,ie.p=2,v=et,et|=4;try{eT(t,n,a)}finally{et=v,ie.p=h,F.T=o}}Bt=1,o0(),l0(),c0()}}function o0(){if(Bt===1){Bt=0;var t=Xs,n=Xa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ie.p;ie.p=2;var h=et;et|=4;try{By(n,t);var f=xd,v=Qp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Yp(E.ownerDocument.documentElement,E)){if(C!==null&&Xh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=E.textContent.length,we=Math.min(C.start,he),ct=C.end===void 0?we:Math.min(C.end,he);!H.extend&&we>ct&&(v=ct,ct=we,we=v);var j=Gp(E,we),O=Gp(E,ct);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=$.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),we>ct?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Q=$[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vu=!!Ad,xd=Ad=null}finally{et=h,ie.p=o,F.T=a}}t.current=n,Bt=2}}function l0(){if(Bt===2){Bt=0;var t=Xs,n=Xa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ie.p;ie.p=2;var h=et;et|=4;try{jy(t,n.alternate,n)}finally{et=h,ie.p=o,F.T=a}}Bt=3}}function c0(){if(Bt===4||Bt===3){Bt=0,ws();var t=Xs,n=Xa,a=us,o=$y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Xa=Xs=null,u0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),ei(a),n=n.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Zt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{F.T=n,ie.p=h}}(us&3)!==0&&wu(),ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===fd?wl++:(wl=0,fd=t):wl=0,Sl(0)}}function u0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function wu(){return o0(),l0(),c0(),h0()}function h0(){if(Bt!==5)return!1;var t=Xs,n=ud;ud=0;var a=ei(us),o=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=hd,hd=null;var f=Xs,v=us;if(Bt=0,Xa=Xs=null,us=0,(et&6)!==0)throw Error(r(331));var E=et;if(et|=4,Yy(f.current),Hy(f,f.current,v,a),et=E,Sl(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Zt,f)}catch{}return!0}finally{ie.p=h,F.T=o,u0(t,n)}}function f0(t,n,a){n=Gn(a,n),n=Ff(t.stateNode,n,2),t=Hs(t,n,2),t!==null&&(Rn(t,2),ji(t))}function rt(t,n,a){if(t.tag===3)f0(t,t,a);else for(;n!==null;){if(n.tag===3){f0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=Gn(a,t),a=dy(2),o=Hs(n,a,2),o!==null&&(my(a,o,n,t),Rn(o,2),ji(o));break}}n=n.return}}function pd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new iT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(od=!0,h.add(a),t=lT.bind(null,t,n,a),n.then(t,t))}function lT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ut===t&&(ze&a)===a&&(St===4||St===3&&(ze&62914560)===ze&&300>Xt()-yu?(et&2)===0&&Za(t,0):ld|=a,$a===ze&&($a=0)),ji(t)}function d0(t,n){n===0&&(n=_i()),t=Gr(t,n),t!==null&&(Rn(t,n),ji(t))}function cT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),d0(t,a)}function uT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),d0(t,a)}function hT(t,n){return At(t,n)}var Su=null,Wa=null,gd=!1,Au=!1,yd=!1,Js=0;function ji(t){t!==Wa&&t.next===null&&(Wa===null?Su=Wa=t:Wa=Wa.next=t),Au=!0,gd||(gd=!0,dT())}function Sl(t,n){if(!yd&&Au){yd=!0;do for(var a=!1,o=Su;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y0(o,f))}else f=ze,f=Ue(o,o===ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||De(o,f)||(a=!0,y0(o,f));o=o.next}while(a);yd=!1}}function fT(){m0()}function m0(){Au=gd=!1;var t=0;Js!==0&&wT()&&(t=Js);for(var n=Xt(),a=null,o=Su;o!==null;){var h=o.next,f=p0(o,n);f===0?(o.next=null,a===null?Su=h:a.next=h,h===null&&(Wa=a)):(a=o,(t!==0||(f&3)!==0)&&(Au=!0)),o=h}Bt!==0&&Bt!==5||Sl(t),Js!==0&&(Js=0)}function p0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-_t(f),E=1<<v,C=h[v];C===-1?((E&a)===0||(E&o)!==0)&&(h[v]=Gt(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ut,a=ze,a=Ue(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&gi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||De(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&gi(o),ei(a)){case 2:case 8:a=yi;break;case 32:a=Un;break;case 268435456:a=Nr;break;default:a=Un}return o=g0.bind(null,t),a=At(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&gi(o),t.callbackPriority=2,t.callbackNode=null,2}function g0(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wu()&&t.callbackNode!==a)return null;var o=ze;return o=Ue(t,t===ut?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Zy(t,o,n),p0(t,Xt()),t.callbackNode!=null&&t.callbackNode===a?g0.bind(null,t):null)}function y0(t,n){if(wu())return null;Zy(t,n,!0)}function dT(){AT(function(){(et&6)!==0?At(Ss,fT):m0()})}function _d(){if(Js===0){var t=Pa;t===0&&(t=de,de<<=1,(de&261888)===0&&(de=256)),Js=t}return Js}function _0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function v0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function mT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=_0((h[Yt]||null).action),v=o.submitter;v&&(n=(n=v[Yt]||null)?_0(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ci("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Js!==0){var C=v?v0(h,v):new FormData(h);Pf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=v?v0(h,v):new FormData(h),Pf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var bd=ef[vd],pT=bd.toLowerCase(),gT=bd[0].toUpperCase()+bd.slice(1);li(pT,"on"+gT)}li(Xp,"onAnimationEnd"),li(Zp,"onAnimationIteration"),li(Jp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(kE,"onTransitionRun"),li(OE,"onTransitionStart"),li(ME,"onTransitionCancel"),li(Wp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function b0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){zc(G)}h.currentTarget=null,f=C}else for(v=0;v<o.length;v++){if(E=o[v],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){zc(G)}h.currentTarget=null,f=C}}}}function Pe(t,n){var a=n[_a];a===void 0&&(a=n[_a]=new Set);var o=t+"__bubble";a.has(o)||(E0(n,t,2,!1),a.add(o))}function Ed(t,n,a){var o=0;n&&(o|=4),E0(a,t,o,n)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[xu]){t[xu]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(yT.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xu]||(n[xu]=!0,Ed("selectionchange",!1,n))}}function E0(t,n,a,o){switch(X0(n)){case 2:var h=GT;break;case 8:h=YT;break;default:h=Ld}a=h.bind(null,n,a,t),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function wd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ti(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){o=f=v;continue e}E=E.parentNode}}o=o.return}Os(function(){var z=f,G=Bn(a),$=[];e:{var B=eg.get(t);if(B!==void 0){var H=Ci,he=t;switch(t){case"keypress":if(Ur(a)===0)break e;case"keydown":case"keyup":H=Lc;break;case"focusin":he="focus",H=Br;break;case"focusout":he="blur",H=Br;break;case"beforeblur":case"afterblur":H=Br;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Xp:case Zp:case Jp:H=Nc;break;case Wp:H=w;break;case"scroll":case"scrollend":H=$o;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xi;break;case"toggle":case"beforetoggle":H=ke}var we=(n&4)!==0,ct=!we&&(t==="scroll"||t==="scrollend"),j=we?B!==null?B+"Capture":null:B;we=[];for(var O=z,U;O!==null;){var Q=O;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||j===null||(Q=si(O,j),Q!=null&&we.push(xl(O,Q,U))),ct)break;O=O.return}0<we.length&&(B=new H(B,he,null,a,G),$.push({event:B,listeners:we}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Yo&&(he=a.relatedTarget||a.fromElement)&&(Ti(he)||he[bi]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=z,he=he?Ti(he):null,he!==null&&(ct=u(he),we=he.tag,he!==ct||we!==5&&we!==27&&we!==6)&&(he=null)):(H=null,he=z),H!==he)){if(we=Xo,Q="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(we=Xi,Q="onPointerLeave",j="onPointerEnter",O="pointer"),ct=H==null?B:In(H),U=he==null?B:In(he),B=new we(Q,O+"leave",H,a,G),B.target=ct,B.relatedTarget=U,Q=null,Ti(G)===z&&(we=new we(j,O+"enter",he,a,G),we.target=U,we.relatedTarget=ct,Q=we),ct=Q,H&&he)t:{for(we=_T,j=H,O=he,U=0,Q=j;Q;Q=we(Q))U++;Q=0;for(var Ee=O;Ee;Ee=we(Ee))Q++;for(;0<U-Q;)j=we(j),U--;for(;0<Q-U;)O=we(O),Q--;for(;U--;){if(j===O||O!==null&&j===O.alternate){we=j;break t}j=we(j),O=we(O)}we=null}else we=null;H!==null&&T0($,B,H,we,!1),he!==null&&ct!==null&&T0($,ct,he,we,!0)}}e:{if(B=z?In(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ze=Up;else if(Lp(B))if(zp)Ze=CE;else{Ze=RE;var me=xE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ta(z.elementType)&&(Ze=Up):Ze=IE;if(Ze&&(Ze=Ze(t,z))){Pp($,Ze,a,G);break e}me&&me(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(me=z?In(z):window,t){case"focusin":(Lp(me)||me.contentEditable==="true")&&(Na=me,Zh=z,tl=null);break;case"focusout":tl=Zh=Na=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Kp($,a,G);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":Kp($,a,G)}var Me;if(We)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ca?qr(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(ki&&a.locale!=="ko"&&(Ca||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ca&&(Me=Ko()):(Ii=G,Qo="value"in Ii?Ii.value:Ii.textContent,Ca=!0)),me=Ru(z,Be),0<me.length&&(Be=new Di(Be,t,null,a,G),$.push({event:Be,listeners:me}),Me?Be.data=Me:(Me=Ia(a),Me!==null&&(Be.data=Me)))),(Me=Hn?TE(t,a):wE(t,a))&&(Be=Ru(z,"onBeforeInput"),0<Be.length&&(me=new Di("onBeforeInput","beforeinput",null,a,G),$.push({event:me,listeners:Be}),me.data=Me)),mT($,t,z,a,G)}b0($,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ru(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,a),h!=null&&o.unshift(xl(t,h,f)),h=si(t,n),h!=null&&o.push(xl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function _T(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T0(t,n,a,o,h){for(var f=n._reactName,v=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=si(a,f),z!=null&&v.unshift(xl(a,z,C))):h||(z=si(a,f),z!=null&&v.push(xl(a,z,C)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var vT=/\r\n?/g,bT=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(vT,`
`).replace(bT,"")}function S0(t,n){return n=w0(n),w0(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(t,""+o);break;case"className":Cn(t,"class",o);break;case"tabIndex":Cn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,a,o);break;case"style":Go(t,o,f);break;case"data":if(n!=="object"){Cn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ba(t,"popover",o);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ba(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,ba(t,a,o))}}function Sd(t,n,a,o,h,f){switch(a){case"style":Go(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Yt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ba(t,a,o)}}}function nn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,v,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":Pe("invalid",t);var E=f=v=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:lt(t,n,o,G,a,null)}}Sc(t,f,E,C,z,v,h,!1);return;case"select":Pe("invalid",t),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:lt(t,n,h,E,a,null)}n=f,a=v,t.multiple=!!o,n!=null?Cs(t,!!o,n,!1):a!=null&&Cs(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:lt(t,n,v,E,a,null)}Ns(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:lt(t,n,C,o,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<Al.length;o++)Pe(Al[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,z,o,a,null)}return;default:if(Ta(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Sd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&lt(t,n,E,o,a,null))}function ET(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,C=null,z=null,G=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||lt(t,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=a[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&lt(t,n,B,H,o,$)}}Ea(t,v,E,C,z,G,f,h);return;case"select":H=v=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==C&&lt(t,n,h,f,o,C)}n=E,a=v,o=H,B!=null?Cs(t,!!a,B,!1):!!o!=!!a&&(n!=null?Cs(t,!!a,n,!0):Cs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,v,h,o,f)}Ac(t,B,H);return;case"option":for(var he in a)if(B=a[he],a.hasOwnProperty(he)&&B!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:lt(t,n,he,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:lt(t,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)B=a[we],a.hasOwnProperty(we)&&B!=null&&!o.hasOwnProperty(we)&&lt(t,n,we,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,z,B,o,H)}return;default:if(Ta(n)){for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!==void 0&&!o.hasOwnProperty(ct)&&Sd(t,n,ct,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Sd(t,n,G,B,o,H);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!o.hasOwnProperty(j)&&lt(t,n,j,null,o,B);for($ in o)B=o[$],H=a[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||lt(t,n,$,B,o,H)}function A0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,v=h.initiatorType,E=h.duration;if(f&&E&&A0(v)){for(v=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var G=C.transferSize,$=C.initiatorType;G&&A0($)&&(C=C.responseEnd,v+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,xd=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function x0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function wT(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,ST=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(t){return C0.resolve(null).then(t).catch(xT)}:I0;function xT(t){setTimeout(function(){throw t})}function Ws(t){return t==="head"}function N0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),io(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var v=f.nextSibling,E=f.nodeName;f[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);io(n)}function D0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Cd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function IT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function k0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function CT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var kd=null;function O0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Xn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function M0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function V0(t,n,a){switch(n=Iu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var Zn=new Map,j0=new Set;function Cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=ie.d;ie.d={f:NT,r:DT,D:kT,C:OT,L:MT,m:VT,X:LT,S:jT,M:PT};function NT(){var t=hs.f(),n=bu();return t||n}function DT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Wg(n):hs.r(t)}var eo=typeof document>"u"?null:document;function L0(t,n,a){var o=eo;if(o&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),j0.has(h)||(j0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),nn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function kT(t){hs.D(t),L0("dns-prefetch",t,null)}function OT(t,n){hs.C(t,n),L0("preconnect",t,n)}function MT(t,n,a){hs.L(t,n,a);var o=eo;if(o&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(n){case"style":f=to(t);break;case"script":f=no(t)}Zn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Zn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Il(f))||n==="script"&&o.querySelector(Cl(f))||(n=o.createElement("link"),nn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function VT(t,n){hs.m(t,n);var a=eo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!Zn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Zn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(f)))return}o=a.createElement("link"),nn(o,"link",t),Dt(o),a.head.appendChild(o)}}}function jT(t,n,a){hs.S(t,n,a);var o=eo;if(o&&t){var h=wi(o).hoistableStyles,f=to(t);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Il(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Zn.get(f))&&Od(t,a);var C=v=o.createElement("link");Dt(C),nn(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function LT(t,n){hs.X(t,n);var a=eo;if(a&&t){var o=wi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=A({src:t,async:!0},n),(n=Zn.get(h))&&Md(t,n),f=a.createElement("script"),Dt(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function PT(t,n){hs.M(t,n);var a=eo;if(a&&t){var o=wi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&Md(t,n),f=a.createElement("script"),Dt(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function P0(t,n,a,o){var h=(h=xe.current)?Cu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=to(a.href),a=wi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var f=wi(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Il(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),f||UT(h,t,a,v.state))),n&&o===null)throw Error(r(528,""));return v}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(a),a=wi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function to(t){return'href="'+yn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function U0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function UT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),nn(n,"link",a),Dt(n),t.head.appendChild(n))}function no(t){return'[src="'+yn(t)+'"]'}function Cl(t){return"script[async]"+t}function z0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),nn(o,"style",h),Nu(o,a.precedence,t),n.instance=o;case"stylesheet":h=to(a.href);var f=t.querySelector(Il(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=U0(a),(h=Zn.get(h))&&Od(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var v=f;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),nn(f,"link",o),n.state.loading|=4,Nu(f,a.precedence,t),n.instance=f;case"script":return f=no(a.src),(h=t.querySelector(Cl(f)))?(n.instance=h,Dt(h),h):(o=a,(h=Zn.get(f))&&(o=A({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),nn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nu(o,a.precedence,t));return n.instance}function Nu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function B0(t,n,a){if(Du===null){var o=new Map,h=Du=new Map;h.set(a,o)}else h=Du,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ei]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function q0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function zT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function H0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(o.href),f=n.querySelector(Il(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=ku.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=n.ownerDocument||n,o=U0(o),(h=Zn.get(h))&&Od(o,h),f=f.createElement("link"),Dt(f);var v=f;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),nn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ku.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Vd=0;function qT(t,n){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*TT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ou=null;function Mu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ou=new Map,n.forEach(HT,t),Ou=null,ku.call(t))}function HT(t,n){if(!(n.state.loading&4)){var a=Ou.get(t);if(a)var o=a.get(null);else{a=new Map,Ou.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=ku.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function FT(t,n,a,o,h,f,v,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function F0(t,n,a,o,h,f,v,E,C,z,G,$){return t=new FT(t,n,a,v,C,z,G,$,E),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=mf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},_f(f),t}function G0(t){return t?(t=Oa,t):Oa}function Y0(t,n,a,o,h,f){h=G0(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Hs(t,o,n),a!==null&&(wn(a,t,n),ll(a,t,n))}function Q0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function jd(t,n){Q0(t,n),(t=t.alternate)&&Q0(t,n)}function K0(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&wn(n,t,67108864),jd(t,67108864)}}function $0(t){if(t.tag===13||t.tag===31){var n=jn();n=Wn(n);var a=Gr(t,n);a!==null&&wn(a,t,n),jd(t,n)}}var Vu=!0;function GT(t,n,a,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=2,Ld(t,n,a,o)}finally{ie.p=f,F.T=h}}function YT(t,n,a,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=8,Ld(t,n,a,o)}finally{ie.p=f,F.T=h}}function Ld(t,n,a,o){if(Vu){var h=Pd(o);if(h===null)wd(t,n,o,ju,a),Z0(t,o);else if(KT(h,t,n,a,o))o.stopPropagation();else if(Z0(t,o),n&4&&-1<QT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ye(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-_t(v);E.entanglements[1]|=C,v&=~C}ji(f),(et&6)===0&&(_u=Xt()+500,Sl(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&wn(E,f,2),bu(),jd(f,2)}if(f=Pd(o),f===null&&wd(t,n,o,ju,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else wd(t,n,o,null,a)}}function Pd(t){return t=Bn(t),Ud(t)}var ju=null;function Ud(t){if(ju=null,t=Ti(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ju=t,null}function X0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case Ss:return 2;case yi:return 8;case Un:case As:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var zd=!1,er=null,tr=null,nr=null,Dl=new Map,kl=new Map,ir=[],QT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z0(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ol(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&K0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function KT(t,n,a,o,h){switch(n){case"focusin":return er=Ol(er,t,n,a,o,h),!0;case"dragenter":return tr=Ol(tr,t,n,a,o,h),!0;case"mouseover":return nr=Ol(nr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ol(Dl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,Ol(kl.get(f)||null,t,n,a,o,h)),!0}return!1}function J0(t){var n=Ti(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ti(t.priority,function(){$0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,ti(t.priority,function(){$0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Yo=o,a.target.dispatchEvent(o),Yo=null}else return n=zn(a),n!==null&&K0(n),t.blockedOn=a,!1;n.shift()}return!0}function W0(t,n,a){Lu(t)&&a.delete(n)}function $T(){zd=!1,er!==null&&Lu(er)&&(er=null),tr!==null&&Lu(tr)&&(tr=null),nr!==null&&Lu(nr)&&(nr=null),Dl.forEach(W0),kl.forEach(W0)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$T)))}var Uu=null;function e_(t){Uu!==t&&(Uu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,Pf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function io(t){function n(C){return Pu(C,t)}er!==null&&Pu(er,t),tr!==null&&Pu(tr,t),nr!==null&&Pu(nr,t),Dl.forEach(n),kl.forEach(n);for(var a=0;a<ir.length;a++){var o=ir[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)J0(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[Yt]||null;if(typeof f=="function")v||e_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Yt]||null)E=v.formAction;else if(Ud(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),e_(a)}}}function t_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}zu.prototype.render=Bd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=jn();Y0(a,o,t,n,null,null)},zu.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Y0(t.current,2,null,t,null,null),bu(),n[bi]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=on();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ir.length&&n!==0&&n<ir[a].priority;a++);ir.splice(a,0,t),a===0&&J0(t)}};var n_=e.version;if(n_!=="19.2.0")throw Error(r(527,n_,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var XT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Zt=Bu.inject(XT),ft=Bu}catch{}}return Vl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=cy,f=uy,v=hy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=F0(t,1,!1,null,null,a,o,null,h,f,v,t_),t[bi]=n.current,Td(t),new Bd(n)},Vl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=cy,v=uy,E=hy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=F0(t,1,!0,n,a??null,o,h,C,f,v,E,t_),n.context=G0(null),a=n.current,o=jn(),o=Wn(o),h=qs(o),h.callback=null,Hs(a,h,o),a=o,n.current.lanes=a,Rn(n,a),ji(n),t[bi]=n.current,Td(t),new zu(n)},Vl.version="19.2.0",Vl}var f_;function aw(){if(f_)return Fd.exports;f_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=rw(),Fd.exports}var ow=aw();const lw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),d_=s=>{const e=cw(s);return e.charAt(0).toUpperCase()+e.slice(1)},Xv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),uw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var hw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fw=oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},y)=>oe.createElement("svg",{ref:y,...hw,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Xv("lucide",l),...!u&&!uw(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>oe.createElement(_,T)),...Array.isArray(u)?u:[u]]));const Ne=(s,e)=>{const i=oe.forwardRef(({className:r,...l},u)=>oe.createElement(fw,{ref:u,iconNode:e,className:Xv(`lucide-${lw(d_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=d_(s),i};const dw=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],mw=Ne("arrow-down-a-z",dw);const pw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gw=Ne("arrow-left",pw);const yw=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],oc=Ne("briefcase",yw);const _w=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jm=Ne("calendar",_w);const vw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bw=Ne("camera",vw);const Ew=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sh=Ne("check",Ew);const Tw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ww=Ne("chevron-right",Tw);const Sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Aw=Ne("circle-alert",Sw);const xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Rw=Ne("circle-plus",xw);const Iw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Cw=Ne("cloud-upload",Iw);const Nw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Dw=Ne("coffee",Nw);const kw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ow=Ne("download",kw);const Mw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vw=Ne("external-link",Mw);const jw=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Zv=Ne("gift",jw);const Lw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Pw=Ne("house",Lw);const Uw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jv=Ne("image",Uw);const zw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bw=Ne("info",zw);const qw=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lm=Ne("link",qw);const Hw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Fw=Ne("list",Hw);const Gw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yw=Ne("lock",Gw);const Qw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Kw=Ne("log-out",Qw);const $w=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xw=Ne("mail",$w);const Zw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Jw=Ne("map-pin",Zw);const Ww=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],e2=Ne("map",Ww);const t2=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],n2=Ne("move-vertical",t2);const i2=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wv=Ne("pen-line",i2);const s2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pm=Ne("pencil",s2);const r2=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],lm=Ne("plane",r2);const a2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ah=Ne("plus",a2);const o2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ao=Ne("refresh-cw",o2);const l2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],c2=Ne("save",l2);const u2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h2=Ne("settings",u2);const f2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],lc=Ne("shopping-bag",f2);const d2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m2=Ne("square-check-big",d2);const p2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],g2=Ne("sun",p2);const y2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Um=Ne("tag",y2);const _2=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],v2=Ne("tram-front",_2);const b2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cc=Ne("trash-2",b2);const E2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],T2=Ne("triangle-alert",E2);const w2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],e1=Ne("upload",w2);const S2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],A2=Ne("user",S2);const x2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ar=Ne("x",x2);const R2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],zm=Ne("zoom-in",R2),I2=()=>{};var m_={};const t1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},C2=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let N=(p&15)<<2|_>>6,P=_&63;y||(P=64,d||(N=64)),r.push(i[T],i[A],i[N],i[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(t1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):C2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||_==null||A==null)throw new N2;const N=u<<2|p>>4;if(r.push(N),_!==64){const P=p<<4&240|_>>2;if(r.push(P),A!==64){const K=_<<6&192|A;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class N2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D2=function(s){const e=t1(s);return n1.encodeByteArray(e,!0)},ah=function(s){return D2(s).replace(/\./g,"")},i1=function(s){try{return n1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const O2=()=>k2().__FIREBASE_DEFAULTS__,M2=()=>{if(typeof process>"u"||typeof m_>"u")return;const s=m_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},V2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&i1(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return I2()||O2()||M2()||V2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},s1=s=>xh()?.emulatorHosts?.[s],j2=s=>{const e=s1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},r1=()=>xh()?.config,a1=s=>xh()?.[`_${s}`];class L2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function xo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o1(s){return(await fetch(s,{credentials:"include"})).ok}function P2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(i)),ah(JSON.stringify(d)),""].join(".")}const Fl={};function U2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function z2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let p_=!1;function l1(s,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Fl[s]===e||Fl[s]||p_)return;Fl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=U2().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,P){N.setAttribute("width","24"),N.setAttribute("id",P),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{p_=!0,d()},N}function T(N,P){N.setAttribute("id",P),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=z2(r),P=i("text"),K=document.getElementById(P)||document.createElement("span"),J=i("learnmore"),W=document.getElementById(J)||document.createElement("a"),ue=i("preprendIcon"),pe=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ne=N.element;p(ne),T(W,J);const ye=_();y(pe,ue),ne.append(pe,K,W,ye),document.body.appendChild(ne)}u?(K.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function q2(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function G2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y2(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Q2(){return!q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K2(){try{return typeof indexedDB=="object"}catch{return!1}}function $2(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const X2="FirebaseError";class _s extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=X2,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Z2(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new _s(l,p,r)}}function Z2(s,e){return s.replace(J2,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const J2=/\{\$([^}]+)}/g;function W2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function la(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(g_(u)&&g_(d)){if(!la(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function g_(s){return s!==null&&typeof s=="object"}function hc(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Pl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function eS(s,e){const i=new tS(s,e);return i.subscribe.bind(i)}class tS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");nS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Kd),l.error===void 0&&(l.error=Kd),l.complete===void 0&&(l.complete=Kd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function Ht(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class iS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new L2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(s){return s===sa?void 0:s}function rS(s){return s.instantiationMode==="EAGER"}class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new iS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const oS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},lS=qe.INFO,cS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},uS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=cS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=lS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const hS=(s,e)=>e.some(i=>s instanceof i);let y_,__;function fS(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c1=new WeakMap,cm=new WeakMap,u1=new WeakMap,$d=new WeakMap,qm=new WeakMap;function mS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(fr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&c1.set(i,s)}).catch(()=>{}),qm.set(e,s),e}function pS(s){if(cm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});cm.set(s,e)}let um={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||u1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function gS(s){um=s(um)}function yS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Xd(this),e,...i);return u1.set(r,e.sort?e.sort():[e]),fr(r)}:dS().includes(s)?function(...e){return s.apply(Xd(this),e),fr(c1.get(this))}:function(...e){return fr(s.apply(Xd(this),e))}}function _S(s){return typeof s=="function"?yS(s):(s instanceof IDBTransaction&&pS(s),hS(s,fS())?new Proxy(s,um):s)}function fr(s){if(s instanceof IDBRequest)return mS(s);if($d.has(s))return $d.get(s);const e=_S(s);return e!==s&&($d.set(s,e),qm.set(e,s)),e}const Xd=s=>qm.get(s);function vS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=fr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(fr(d.result),y.oldVersion,y.newVersion,fr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const bS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],Zd=new Map;function v_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=ES.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||bS.includes(i)))return;const u=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Zd.set(e,u),u}gS(s=>({...s,get:(e,i,r)=>v_(e,i)||s.get(e,i,r),has:(e,i)=>!!v_(e,i)||s.has(e,i)}));class TS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function wS(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",b_="0.14.6";const ms=new Bm("@firebase/app"),SS="@firebase/app-compat",AS="@firebase/analytics-compat",xS="@firebase/analytics",RS="@firebase/app-check-compat",IS="@firebase/app-check",CS="@firebase/auth",NS="@firebase/auth-compat",DS="@firebase/database",kS="@firebase/data-connect",OS="@firebase/database-compat",MS="@firebase/functions",VS="@firebase/functions-compat",jS="@firebase/installations",LS="@firebase/installations-compat",PS="@firebase/messaging",US="@firebase/messaging-compat",zS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",HS="@firebase/remote-config-compat",FS="@firebase/storage",GS="@firebase/storage-compat",YS="@firebase/firestore",QS="@firebase/ai",KS="@firebase/firestore-compat",$S="firebase",XS="12.6.0";const fm="[DEFAULT]",ZS={[hm]:"fire-core",[SS]:"fire-core-compat",[xS]:"fire-analytics",[AS]:"fire-analytics-compat",[IS]:"fire-app-check",[RS]:"fire-app-check-compat",[CS]:"fire-auth",[NS]:"fire-auth-compat",[DS]:"fire-rtdb",[kS]:"fire-data-connect",[OS]:"fire-rtdb-compat",[MS]:"fire-fn",[VS]:"fire-fn-compat",[jS]:"fire-iid",[LS]:"fire-iid-compat",[PS]:"fire-fcm",[US]:"fire-fcm-compat",[zS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[HS]:"fire-rc-compat",[FS]:"fire-gcs",[GS]:"fire-gcs-compat",[YS]:"fire-fst",[KS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};const Xl=new Map,JS=new Map,dm=new Map;function E_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function go(s){const e=s.name;if(dm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,s);for(const i of Xl.values())E_(i,s);for(const i of JS.values())E_(i,s);return!0}function Hm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function hi(s){return s==null?!1:s.settings!==void 0}const WS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new uc("app","Firebase",WS);class eA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Ro=XS;function h1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:fm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw dr.create("bad-app-name",{appName:String(l)});if(i||(i=r1()),!i)throw dr.create("no-options");const u=Xl.get(l);if(u){if(la(i,u.options)&&la(r,u.config))return u;throw dr.create("duplicate-app",{appName:l})}const d=new aS(l);for(const y of dm.values())d.addComponent(y);const p=new eA(i,r,d);return Xl.set(l,p),p}function Fm(s=fm){const e=Xl.get(s);if(!e&&s===fm&&r1())return h1();if(!e)throw dr.create("no-app",{appName:s});return e}function tA(){return Array.from(Xl.values())}function mr(s,e,i){let r=ZS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}go(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const nA="firebase-heartbeat-database",iA=1,Zl="firebase-heartbeat-store";let Jd=null;function f1(){return Jd||(Jd=vS(nA,iA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function sA(s){try{const i=(await f1()).transaction(Zl),r=await i.objectStore(Zl).get(d1(s));return await i.done,r}catch(e){if(e instanceof _s)ms.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function T_(s,e){try{const r=(await f1()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,d1(s)),await r.done}catch(i){if(i instanceof _s)ms.warn(i.message);else{const r=dr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(r.message)}}}function d1(s){return`${s.name}!${s.options.appId}`}const rA=1024,aA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>aA){const l=uA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w_(),{heartbeatsToSend:i,unsentEntries:r}=lA(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ms.warn(e),""}}}function w_(){return new Date().toISOString().substring(0,10)}function lA(s,e=rA){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),S_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),S_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K2()?$2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function uA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function hA(s){go(new ca("platform-logger",e=>new TS(e),"PRIVATE")),go(new ca("heartbeat",e=>new oA(e),"PRIVATE")),mr(hm,b_,s),mr(hm,b_,"esm2020"),mr("fire-js","")}hA("");var fA="firebase",dA="12.6.0";mr(fA,dA,"app");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,m1;(function(){var s;function e(I,x){function S(){}S.prototype=x.prototype,I.F=x.prototype,I.prototype=new S,I.prototype.constructor=I,I.D=function(D,k,V){for(var R=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)R[Xe-2]=arguments[Xe];return x.prototype[k].apply(D,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,S){S||(S=0);const D=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)D[k]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(k=0;k<16;++k)D[k]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=I.g[0],S=I.g[1],k=I.g[2];let V=I.g[3],R;R=x+(V^S&(k^V))+D[0]+3614090360&4294967295,x=S+(R<<7&4294967295|R>>>25),R=V+(k^x&(S^k))+D[1]+3905402710&4294967295,V=x+(R<<12&4294967295|R>>>20),R=k+(S^V&(x^S))+D[2]+606105819&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(x^k&(V^x))+D[3]+3250441966&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(V^S&(k^V))+D[4]+4118548399&4294967295,x=S+(R<<7&4294967295|R>>>25),R=V+(k^x&(S^k))+D[5]+1200080426&4294967295,V=x+(R<<12&4294967295|R>>>20),R=k+(S^V&(x^S))+D[6]+2821735955&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(x^k&(V^x))+D[7]+4249261313&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(V^S&(k^V))+D[8]+1770035416&4294967295,x=S+(R<<7&4294967295|R>>>25),R=V+(k^x&(S^k))+D[9]+2336552879&4294967295,V=x+(R<<12&4294967295|R>>>20),R=k+(S^V&(x^S))+D[10]+4294925233&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(x^k&(V^x))+D[11]+2304563134&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(V^S&(k^V))+D[12]+1804603682&4294967295,x=S+(R<<7&4294967295|R>>>25),R=V+(k^x&(S^k))+D[13]+4254626195&4294967295,V=x+(R<<12&4294967295|R>>>20),R=k+(S^V&(x^S))+D[14]+2792965006&4294967295,k=V+(R<<17&4294967295|R>>>15),R=S+(x^k&(V^x))+D[15]+1236535329&4294967295,S=k+(R<<22&4294967295|R>>>10),R=x+(k^V&(S^k))+D[1]+4129170786&4294967295,x=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(x^S))+D[6]+3225465664&4294967295,V=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(V^x))+D[11]+643717713&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^x&(k^V))+D[0]+3921069994&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(k^V&(S^k))+D[5]+3593408605&4294967295,x=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(x^S))+D[10]+38016083&4294967295,V=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(V^x))+D[15]+3634488961&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^x&(k^V))+D[4]+3889429448&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(k^V&(S^k))+D[9]+568446438&4294967295,x=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(x^S))+D[14]+3275163606&4294967295,V=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(V^x))+D[3]+4107603335&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^x&(k^V))+D[8]+1163531501&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(k^V&(S^k))+D[13]+2850285829&4294967295,x=S+(R<<5&4294967295|R>>>27),R=V+(S^k&(x^S))+D[2]+4243563512&4294967295,V=x+(R<<9&4294967295|R>>>23),R=k+(x^S&(V^x))+D[7]+1735328473&4294967295,k=V+(R<<14&4294967295|R>>>18),R=S+(V^x&(k^V))+D[12]+2368359562&4294967295,S=k+(R<<20&4294967295|R>>>12),R=x+(S^k^V)+D[5]+4294588738&4294967295,x=S+(R<<4&4294967295|R>>>28),R=V+(x^S^k)+D[8]+2272392833&4294967295,V=x+(R<<11&4294967295|R>>>21),R=k+(V^x^S)+D[11]+1839030562&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^x)+D[14]+4259657740&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(S^k^V)+D[1]+2763975236&4294967295,x=S+(R<<4&4294967295|R>>>28),R=V+(x^S^k)+D[4]+1272893353&4294967295,V=x+(R<<11&4294967295|R>>>21),R=k+(V^x^S)+D[7]+4139469664&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^x)+D[10]+3200236656&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(S^k^V)+D[13]+681279174&4294967295,x=S+(R<<4&4294967295|R>>>28),R=V+(x^S^k)+D[0]+3936430074&4294967295,V=x+(R<<11&4294967295|R>>>21),R=k+(V^x^S)+D[3]+3572445317&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^x)+D[6]+76029189&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(S^k^V)+D[9]+3654602809&4294967295,x=S+(R<<4&4294967295|R>>>28),R=V+(x^S^k)+D[12]+3873151461&4294967295,V=x+(R<<11&4294967295|R>>>21),R=k+(V^x^S)+D[15]+530742520&4294967295,k=V+(R<<16&4294967295|R>>>16),R=S+(k^V^x)+D[2]+3299628645&4294967295,S=k+(R<<23&4294967295|R>>>9),R=x+(k^(S|~V))+D[0]+4096336452&4294967295,x=S+(R<<6&4294967295|R>>>26),R=V+(S^(x|~k))+D[7]+1126891415&4294967295,V=x+(R<<10&4294967295|R>>>22),R=k+(x^(V|~S))+D[14]+2878612391&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~x))+D[5]+4237533241&4294967295,S=k+(R<<21&4294967295|R>>>11),R=x+(k^(S|~V))+D[12]+1700485571&4294967295,x=S+(R<<6&4294967295|R>>>26),R=V+(S^(x|~k))+D[3]+2399980690&4294967295,V=x+(R<<10&4294967295|R>>>22),R=k+(x^(V|~S))+D[10]+4293915773&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~x))+D[1]+2240044497&4294967295,S=k+(R<<21&4294967295|R>>>11),R=x+(k^(S|~V))+D[8]+1873313359&4294967295,x=S+(R<<6&4294967295|R>>>26),R=V+(S^(x|~k))+D[15]+4264355552&4294967295,V=x+(R<<10&4294967295|R>>>22),R=k+(x^(V|~S))+D[6]+2734768916&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~x))+D[13]+1309151649&4294967295,S=k+(R<<21&4294967295|R>>>11),R=x+(k^(S|~V))+D[4]+4149444226&4294967295,x=S+(R<<6&4294967295|R>>>26),R=V+(S^(x|~k))+D[11]+3174756917&4294967295,V=x+(R<<10&4294967295|R>>>22),R=k+(x^(V|~S))+D[2]+718787259&4294967295,k=V+(R<<15&4294967295|R>>>17),R=S+(V^(k|~x))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+V&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const S=x-this.blockSize,D=this.C;let k=this.h,V=0;for(;V<x;){if(k==0)for(;V<=S;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<x;)if(D[k++]=I.charCodeAt(V++),k==this.blockSize){l(this,D),k=0;break}}else for(;V<x;)if(D[k++]=I[V++],k==this.blockSize){l(this,D),k=0;break}}this.h=k,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var S=I.length-8;S<I.length;++S)I[S]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,S=0;S<4;++S)for(let D=0;D<32;D+=8)I[x++]=this.g[S]>>>D&255;return I};function u(I,x){var S=p;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=x(I)}function d(I,x){this.h=x;const S=[];let D=!0;for(let k=I.length-1;k>=0;k--){const V=I[k]|0;D&&V==x||(S[k]=V,D=!1)}this.g=S}var p={};function y(I){return-128<=I&&I<128?u(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return W(_(-I));const x=[];let S=1;for(let D=0;I>=S;D++)x[D]=I/S|0,S*=4294967296;return new d(x,0)}function T(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return W(T(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=_(Math.pow(x,8));let D=A;for(let V=0;V<I.length;V+=8){var k=Math.min(8,I.length-V);const R=parseInt(I.substring(V,V+k),x);k<8?(k=_(Math.pow(x,k)),D=D.j(k).add(_(R))):(D=D.j(S),D=D.add(_(R)))}return D}var A=y(0),N=y(1),P=y(16777216);s=d.prototype,s.m=function(){if(J(this))return-W(this).m();let I=0,x=1;for(let S=0;S<this.g.length;S++){const D=this.i(S);I+=(D>=0?D:4294967296+D)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(J(this))return"-"+W(this).toString(I);const x=_(Math.pow(I,6));var S=this;let D="";for(;;){const k=ye(S,x).g;S=ue(S,k.j(x));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(I);if(S=k,K(S))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function J(I){return I.h==-1}s.l=function(I){return I=ue(this,I),J(I)?-1:K(I)?0:1};function W(I){const x=I.g.length,S=[];for(let D=0;D<x;D++)S[D]=~I.g[D];return new d(S,~I.h).add(N)}s.abs=function(){return J(this)?W(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),S=[];let D=0;for(let k=0;k<=x;k++){let V=D+(this.i(k)&65535)+(I.i(k)&65535),R=(V>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);D=R>>>16,V&=65535,R&=65535,S[k]=R<<16|V}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ue(I,x){return I.add(W(x))}s.j=function(I){if(K(this)||K(I))return A;if(J(this))return J(I)?W(this).j(W(I)):W(W(this).j(I));if(J(I))return W(this.j(W(I)));if(this.l(P)<0&&I.l(P)<0)return _(this.m()*I.m());const x=this.g.length+I.g.length,S=[];for(var D=0;D<2*x;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(let k=0;k<I.g.length;k++){const V=this.i(D)>>>16,R=this.i(D)&65535,Xe=I.i(k)>>>16,Et=I.i(k)&65535;S[2*D+2*k]+=R*Et,pe(S,2*D+2*k),S[2*D+2*k+1]+=V*Et,pe(S,2*D+2*k+1),S[2*D+2*k+1]+=R*Xe,pe(S,2*D+2*k+1),S[2*D+2*k+2]+=V*Xe,pe(S,2*D+2*k+2)}for(I=0;I<x;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=x;I<2*x;I++)S[I]=0;return new d(S,0)};function pe(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ne(I,x){this.g=I,this.h=x}function ye(I,x){if(K(x))throw Error("division by zero");if(K(I))return new ne(A,A);if(J(I))return x=ye(W(I),x),new ne(W(x.g),W(x.h));if(J(x))return x=ye(I,W(x)),new ne(W(x.g),x.h);if(I.g.length>30){if(J(I)||J(x))throw Error("slowDivide_ only works with positive integers.");for(var S=N,D=x;D.l(I)<=0;)S=_e(S),D=_e(D);var k=fe(S,1),V=fe(D,1);for(D=fe(D,2),S=fe(S,2);!K(D);){var R=V.add(D);R.l(I)<=0&&(k=k.add(S),V=R),D=fe(D,1),S=fe(S,1)}return x=ue(I,k.j(x)),new ne(k,x)}for(k=A;I.l(x)>=0;){for(S=Math.max(1,Math.floor(I.m()/x.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=_(S),R=V.j(x);J(R)||R.l(I)>0;)S-=D,V=_(S),R=V.j(x);K(V)&&(V=N),k=k.add(V),I=ue(I,R)}return new ne(k,I)}s.B=function(I){return ye(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),S=[];for(let D=0;D<x;D++)S[D]=this.i(D)&I.i(D);return new d(S,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),S=[];for(let D=0;D<x;D++)S[D]=this.i(D)|I.i(D);return new d(S,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),S=[];for(let D=0;D<x;D++)S[D]=this.i(D)^I.i(D);return new d(S,this.h^I.h)};function _e(I){const x=I.g.length+1,S=[];for(let D=0;D<x;D++)S[D]=I.i(D)<<1|I.i(D-1)>>>31;return new d(S,I.h)}function fe(I,x){const S=x>>5;x%=32;const D=I.g.length-S,k=[];for(let V=0;V<D;V++)k[V]=x>0?I.i(V+S)>>>x|I.i(V+S+1)<<32-x:I.i(V+S);return new d(k,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,m1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,pr=d}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var p1,Ul,g1,Xu,mm,y1,_1,v1;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<c.length;++m){var b=c[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var b=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in b))break e;b=b[L]}c=c[c.length-1],w=b[c],m=m(w),m!=w&&m!=null&&e(b,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var b=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.push([w,m[w]]);return b}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,b){return c.call.apply(c.bind,arguments)}function _(c,m,b){return _=y,_.apply(null,arguments)}function T(c,m){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function A(c,m){function b(){}b.prototype=m.prototype,c.Z=m.prototype,c.prototype=new b,c.prototype.constructor=c,c.Ob=function(w,L,q){for(var ee=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ee[ke-2]=arguments[ke];return m.prototype[L].apply(w,ee)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const m=c.length;if(m>0){const b=Array(m);for(let w=0;w<m;w++)b[w]=c[w];return b}return[]}function K(c,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=c.length||0;const q=L.length||0;c.length=b+q;for(let ee=0;ee<q;ee++)c[b+ee]=L[ee]}else c.push(L)}}class J{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){d.setTimeout(()=>{throw c},0)}function ue(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,b){const w=ne.get();w.set(m,b),this.h?this.h.next=w:this.g=w,this.h=w}}var ne=new J(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,fe=!1,I=new pe,x=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(S)}};function S(){for(var c;c=ue();){try{c.h.call(c.g)}catch(b){W(b)}var m=ne;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}fe=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function Xe(c,m){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(Xe,k),Xe.prototype.init=function(c,m){const b=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(b=="mouseover"?m=c.fromElement:b=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(c,m,b,w,L){this.listener=c,this.proxy=null,this.src=m,this.type=b,this.capture=!!w,this.ha=L,this.key=++F,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ge(c,m,b){for(const w in c)m.call(b,c[w],w,c)}function Ke(c,m){for(const b in c)m.call(void 0,c[b],b,c)}function M(c){const m={};for(const b in c)m[b]=c[b];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(c,m){let b,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(b in w)c[b]=w[b];for(let q=0;q<Y.length;q++)b=Y[q],Object.prototype.hasOwnProperty.call(w,b)&&(c[b]=w[b])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,b,w,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ee=xe(c,m,w,L);return ee>-1?(m=c[ee],b||(m.fa=!1)):(m=new ie(m,this.src,q,!!w,L),m.fa=b,c.push(m)),m};function be(c,m){const b=m.type;if(b in c.g){var w=c.g[b],L=Array.prototype.indexOf.call(w,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(w,L,1),q&&(ve(m),c.g[b].length==0&&(delete c.g[b],c.h--))}}function xe(c,m,b,w){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==w)return L}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ve={};function nt(c,m,b,w,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)nt(c,m[q],b,w,L);return null}return b=Ts(b),c&&c[Et]?c.J(m,b,p(w)?!!w.capture:!1,L):Gi(c,m,b,!1,w,L)}function Gi(c,m,b,w,L,q){if(!m)throw Error("Invalid event type");const ee=p(L)?!!L.capture:!!L;let ke=Yi(c);if(ke||(c[je]=ke=new ae(c)),b=ke.add(m,b,w,ee,q),b.proxy)return b;if(w=vs(),b.proxy=w,w.src=c,w.listener=b,c.addEventListener)V||(L=ee),L===void 0&&(L=!1),c.addEventListener(m.toString(),w,L);else if(c.attachEvent)c.attachEvent(Pn(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function vs(){function c(b){return m.call(c.src,c.listener,b)}const m=Es;return c}function Ft(c,m,b,w,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ft(c,m[q],b,w,L);else w=p(w)?!!w.capture:!!w,b=Ts(b),c&&c[Et]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],b=xe(m,b,w,L),b>-1&&(ve(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=Yi(c))&&(m=c.g[m.toString()],c=-1,m&&(c=xe(m,b,w,L)),(b=c>-1?m[c]:null)&&bs(b))}function bs(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Et])be(m.i,c);else{var b=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(b,w,c.capture):m.detachEvent?m.detachEvent(Pn(b),w):m.addListener&&m.removeListener&&m.removeListener(w),(b=Yi(m))?(be(b,c),b.h==0&&(b.src=null,m[je]=null)):ve(c)}}}function Pn(c){return c in Ve?Ve[c]:Ve[c]="on"+c}function Es(c,m){if(c.da)c=!0;else{m=new Xe(m,this);const b=c.listener,w=c.ha||c.src;c.fa&&bs(c),c=b.call(w,m)}return c}function Yi(c){return c=c[je],c instanceof ae?c:null}var Cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ts(c){return typeof c=="function"?c:(c[Cr]||(c[Cr]=function(m){return c.handleEvent(m)}),c[Cr])}function Tt(){D.call(this),this.i=new ae(this),this.M=this,this.G=null}A(Tt,D),Tt.prototype[Et]=!0,Tt.prototype.removeEventListener=function(c,m,b,w){Ft(this,c,m,b,w)};function At(c,m){var b,w=c.G;if(w)for(b=[];w;w=w.G)b.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new k(m,c);else if(m instanceof k)m.target=m.target||c;else{var L=m;m=new k(w,c),te(m,L)}L=!0;let q,ee;if(b)for(ee=b.length-1;ee>=0;ee--)q=m.g=b[ee],L=gi(q,w,!0,m)&&L;if(q=m.g=c,L=gi(q,w,!0,m)&&L,L=gi(q,w,!1,m)&&L,b)for(ee=0;ee<b.length;ee++)q=m.g=b[ee],L=gi(q,w,!1,m)&&L}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const b=c.g[m];for(let w=0;w<b.length;w++)ve(b[w]);delete c.g[m],c.h--}}this.G=null},Tt.prototype.J=function(c,m,b,w){return this.i.add(String(c),m,!1,b,w)},Tt.prototype.K=function(c,m,b,w){return this.i.add(String(c),m,!0,b,w)};function gi(c,m,b,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==b){const ke=ee.listener,xt=ee.ha||ee.src;ee.fa&&be(c.i,ee),L=ke.call(xt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Vo(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function ws(c){c.g=Vo(()=>{c.g=null,c.i&&(c.i=!1,ws(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Xt extends D{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ws(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(c){D.call(this),this.h=c,this.g={}}A(Qi,D);var Ss=[];function yi(c){Ge(c.g,function(m,b){this.g.hasOwnProperty(b)&&bs(m)},c),c.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),yi(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=d.JSON.stringify,As=d.JSON.parse,Nr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function xs(){}function Dr(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ft(){k.call(this,"d")}A(ft,k);function gn(){k.call(this,"c")}A(gn,k);var _t={},ya=null;function Rs(){return ya=ya||new Tt}_t.Ia="serverreachability";function se(c){k.call(this,_t.Ia,c)}A(se,k);function de(c){const m=Rs();At(m,new se(m))}_t.STAT_EVENT="statevent";function ge(c,m){k.call(this,_t.STAT_EVENT,c),this.stat=m}A(ge,k);function re(c){const m=Rs();At(m,new ge(m,c))}_t.Ja="timingevent";function Ye(c,m){k.call(this,_t.Ja,c),this.size=m}A(Ye,k);function Ue(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function Gt(c,m,b,w,L,q){c.info(function(){if(c.g)if(q){var ee="",ke=q.split("&");for(let We=0;We<ke.length;We++){var xt=ke[We].split("=");if(xt.length>1){const gt=xt[0];xt=xt[1];const Hn=gt.split("_");ee=Hn.length>=2&&Hn[1]=="type"?ee+(gt+"="+xt+"&"):ee+(gt+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+b+`
`+ee})}function _i(c,m,b,w,L,q,ee){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+b+`
`+q+" "+ee})}function dn(c,m,b,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+jo(c,b)+(w?" "+w:"")})}function Rn(c,m){c.info(function(){return"TIMEOUT: "+m})}De.prototype.info=function(){};function jo(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var b=q[c];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<w.length;ee++)w[ee]=""}}}}return Un(q)}catch{return m}}var vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Or;function Wn(){}A(Wn,xs),Wn.prototype.g=function(){return new XMLHttpRequest},Or=new Wn;function ei(c){return encodeURIComponent(String(c))}function on(c){var m=1;c=c.split(":");const b=[];for(;m>0&&c.length;)b.push(c.shift()),m--;return c.length&&b.push(c.join(":")),b}function ti(c,m,b,w){this.j=c,this.i=m,this.l=b,this.S=w||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Nt={},Yt={};function bi(c,m,b){c.M=1,c.A=Mr(kt(m)),c.u=b,c.R=!0,_a(c,null)}function _a(c,m){c.F=Date.now(),Ei(c),c.B=kt(c.A);var b=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ta(b.i,"t",w),c.C=0,b=c.j.L,c.h=new ni,c.g=Vc(c.j,b?m:null,!c.u),c.P>0&&(c.O=new Xt(_(c.Y,c,c.g),c.P)),m=c.V,b=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ss[0]=L.toString()),L=Ss);for(let q=0;q<L.length;q++){const ee=nt(b,L[q],w||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),de(),Gt(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const m=this.O;m&&ri(c)==3?m.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const ke=ri(this.g),xt=this.g.ya(),We=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||ke!=4||xt==7||(xt==8||We<=0?de(3):de(2)),Ti(this);var m=this.g.ca();this.X=m;var b=Qh(this);if(this.o=m==200,_i(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var q=w;break t}}q=null}if(c=q)dn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,c);else{this.o=!1,this.m=3,re(12),In(this),zn(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=Tc(this,b),gt==Yt){ke==4&&(this.m=4,re(14),c=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,re(15),dn(this.i,this.l,b,"[Invalid Chunk]"),c=!1;break}else dn(this.i,this.l,gt,null),wi(this,gt);if(Ec(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||b.length!=0||this.h.h||(this.m=1,re(16),c=!1),this.o=this.o&&c,!c)dn(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zo(ee),ee.P=!0,re(11))}}else dn(this.i,this.l,b,null),wi(this,b);ke==4&&In(this),this.o&&!this.K&&(ke==4?Dc(this.j,this):(this.o=!1,Ei(this)))}else $i(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,re(12)):(this.m=0,re(13)),In(this),zn(this)}}}catch{}finally{}};function Qh(c){if(!Ec(c))return c.g.la();const m=Jt(c.g);if(m==="")return"";let b="";const w=m.length,L=ri(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),zn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<w;q++)c.h.h=!0,b+=c.h.i.decode(m[q],{stream:!(L&&q==w-1)});return m.length=0,c.h.g+=b,c.C=0,c.h.g}function Ec(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tc(c,m){var b=c.C,w=m.indexOf(`
`,b);return w==-1?Yt:(b=Number(m.substring(b,w)),isNaN(b)?Nt:(w+=1,w+b>m.length?Yt:(m=m.slice(w,w+b),c.C=w+b,m)))}ti.prototype.cancel=function(){this.K=!0,In(this)};function Ei(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ue(_(c.aa,c),m)}function Ti(c){c.D&&(d.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rn(this.i,this.B),this.M!=2&&(de(),re(17)),In(this),this.m=2,zn(this)):va(this,this.T-c)};function zn(c){c.j.I==0||c.K||Dc(c.j,c)}function In(c){Ti(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,yi(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function wi(c,m){try{var b=c.j;if(b.I!=0&&(b.g==c||Ai(b.h,c))){if(!c.L&&Ai(b.h,c)&&b.I==3){try{var w=b.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<c.F)Ra(b),Vs(b);else break e;Br(b),re(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ue(_(b.Va,b),6e3));Si(b.h)<=1&&b.ta&&(b.ta=void 0)}else Di(b,11)}else if((c.L||b.g==c)&&Ra(b),!R(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const gt=We[0];if(!(gt<=b.K))if(b.K=gt,We=We[1],b.I==2)if(We[0]=="c"){b.M=We[1],b.ba=We[2];const Hn=We[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const ki=We[4];ki!=null&&(b.za=ki,b.j.info("SVER="+b.za));const ai=We[5];ai!=null&&typeof ai=="number"&&ai>0&&(w=1.5*ai,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const oi=c.g;if(oi){const qr=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var q=w.h;q.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(w.G){const Ia=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(w.wa=Ia,it(w.J,w.G,Ia))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-c.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ee=c;if(w.na=Mc(w,w.L?w.ba:null,w.W),ee.L){zo(w.h,ee);var ke=ee,xt=w.O;xt&&(ke.H=xt),ke.D&&(Ti(ke),Ei(ke)),w.g=ee}else Cc(w);b.i.length>0&&Ni(b)}else We[0]!="stop"&&We[0]!="close"||Di(b,7);else b.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Di(b,7):$o(b):We[0]!="noop"&&b.l&&b.l.qa(We),b.A=0)}}de(4)}catch{}}var Dt=class{constructor(c,m){this.g=c,this.map=m}};function Lo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function Ai(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uo(c,m){c.g?c.g.add(m):c.h=m}function zo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Lo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const b of c.g.values())m=m.concat(b.G);return m}return P(c.i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,m){if(c){c=c.split("&");for(let b=0;b<c.length;b++){const w=c[b].indexOf("=");let L,q=null;w>=0?(L=c[b].substring(0,w),q=c[b].substring(w+1)):L=c[b],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Cn?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,qo(this,Rc(c.i)),this.m=c.m):c&&(m=String(c).match(wc))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Is(this,m[4]),this.h=xi(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Cn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Vr(m,Ea,!0),":");var b=this.g;return(b||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Vr(m,Ea,!0),"@"),c.push(ei(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&c.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Vr(b,b.charAt(0)=="/"?Ho:Sc,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Vr(b,Ac)),c.join("")},Cn.prototype.resolve=function(c){const m=kt(this);let b=!!c.j;b?Qt(m,c.j):b=!!c.o,b?m.o=c.o:b=!!c.g,b?m.g=c.g:b=c.u!=null;var w=c.h;if(b)Is(m,c.u);else if(b=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ee=0;ee<L.length;){const ke=L[ee++];ke=="."?w&&ee==L.length&&q.push(""):ke==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&ee==L.length&&q.push("")):(q.push(ke),w=!0)}w=q.join("/")}else w=L}return b?m.h=w:b=c.i.toString()!=="",b?qo(m,Rc(c.i)):b=!!c.m,b&&(m.m=c.m),m};function kt(c){return new Cn(c)}function Qt(c,m,b){c.j=b?xi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function qo(c,m,b){m instanceof Ns?(c.i=m,wa(c.i,c.l)):(b||(m=Vr(m,Cs)),c.i=new Ns(m,c.l))}function it(c,m,b){c.i.set(m,b)}function Mr(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function xi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vr(c,m,b){return typeof c=="string"?(c=encodeURI(c).replace(m,yn),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Sc=/[#\?:]/g,Ho=/[#\?]/g,Cs=/[#\?@]/g,Ac=/#/g;function Ns(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(m,b){c.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Ns.prototype,s.add=function(c,m){_n(this),this.i=null,c=Ds(this,c);let b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(m),this.h+=1,this};function xc(c,m){_n(c),m=Ds(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Fo(c,m){return _n(c),m=Ds(c,m),c.g.has(m)}s.forEach=function(c,m){_n(this),this.g.forEach(function(b,w){b.forEach(function(L){c.call(m,L,w,this)},this)},this)};function Go(c,m){_n(c);let b=[];if(typeof m=="string")Fo(c,m)&&(b=b.concat(c.g.get(Ds(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)b=b.concat(c[m]);return b}s.set=function(c,m){return _n(this),this.i=null,c=Ds(this,c),Fo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Go(this,c),c.length>0?String(c[0]):m):m};function Ta(c,m,b){xc(c,m),b.length>0&&(c.i=null,c.g.set(Ds(c,m),P(b)),c.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var b=m[w];const L=ei(b);b=Go(this,b);for(let q=0;q<b.length;q++){let ee=L;b[q]!==""&&(ee+="="+ei(b[q])),c.push(ee)}}return this.i=c.join("&")};function Rc(c){const m=new Ns;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ds(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function wa(c,m){m&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(b,w){const L=w.toLowerCase();w!=L&&(xc(this,w),Ta(this,L,b))},c)),c.j=m}function ii(c,m){const b=new De;if(d.Image){const w=new Image;w.onload=T(Bn,b,"TestLoadImage: loaded",!0,m,w),w.onerror=T(Bn,b,"TestLoadImage: error",!1,m,w),w.onabort=T(Bn,b,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(Bn,b,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function Yo(c,m){const b=new De,w=new AbortController,L=setTimeout(()=>{w.abort(),Bn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(q=>{clearTimeout(L),q.ok?Bn(b,"TestPingServer: ok",!0,m):Bn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Bn(b,"TestPingServer: error",!1,m)})}function Bn(c,m,b,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(b)}catch{}}function ks(){this.g=new Nr}function Ri(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Ri,xs),Ri.prototype.g=function(){return new jr(this.i,this.h)};function jr(c,m){Tt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(jr,Tt),s=jr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,si(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Os(this):si(this),this.readyState==3&&Sa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Os(this))},s.Na=function(c){this.g&&(this.response=c,Os(this))},s.ga=function(){this.g&&Os(this)};function Os(c){c.readyState=4,c.l=null,c.j=null,c.B=null,si(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=m.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qn(c){let m="";return Ge(c,function(b,w){m+=w,m+=":",m+=b,m+=`\r
`}),m}function Lr(c,m,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=qn(b),typeof c=="string"?b!=null&&ei(b):it(c,m,b))}function at(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(at,Tt);var Ii=/^https?$/i,Qo=["POST","PUT"];s=at.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Or.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Pr(this,q);return}if(c=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)b.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())b.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||w||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of b)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Pr(this,q)}};function Pr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Ko(c),Ki(c)}function Ko(c){c.A||(c.A=!0,At(c,"complete"),At(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,At(this,"complete"),At(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},s.Xa=function(){Ur(this)};function Ur(c){if(c.h&&typeof u<"u"){if(c.v&&ri(c)==4)setTimeout(c.Ca.bind(c),0);else if(At(c,"readystatechange"),ri(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var w;if(w=q===0){let ee=String(c.D).match(wc)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),w=!Ii.test(ee?ee.toLowerCase():"")}b=w}if(b)At(c,"complete"),At(c,"success");else{c.o=6;try{var L=ri(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Ko(c)}}finally{Ki(c)}}}}function Ki(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const b=c.g;c.g=null,m||At(c,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),As(m)}};function Jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const m={};c=(c.g&&ri(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(R(c[w]))continue;var b=on(c[w]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[L]||[];m[L]=q,q.push(b)}Ke(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||m}function Ms(c){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new ks,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ms.prototype,s.ka=8,s.I=1,s.connect=function(c,m,b,w){re(0),this.W=c,this.H=m||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Mc(this,null,this.W),Ni(this)};function $o(c){if(Aa(c),c.I==3){var m=c.V++,b=kt(c.J);if(it(b,"SID",c.M),it(b,"RID",m),it(b,"TYPE","terminate"),zr(c,b),m=new ti(c,c.j,m),m.M=2,m.A=Mr(kt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Vc(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Oc(c)}function Vs(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Aa(c){Vs(c),c.v&&(d.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ni(c){if(!Po(c.h)&&!c.m){c.m=!0;var m=c.Ea;_e||x(),fe||(_e(),fe=!0),I.add(m,c),c.D=0}}function xa(c,m){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ue(_(c.Ea,c,m),kc(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new ti(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),te(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Ic(this,L,m),b=kt(this.J),it(b,"RID",c),it(b,"CVER",22),this.G&&it(b,"X-HTTP-Session-Id",this.G),zr(this,b),q&&(this.R?m="headers="+ei(qn(q))+"&"+m:this.u&&Lr(b,this.u,q)),Uo(this.h,L),this.Ra&&it(b,"TYPE","init"),this.S?(it(b,"$req",m),it(b,"SID","null"),L.U=!0,bi(L,b,null)):bi(L,b,m),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Po(this.h)||Xo(this))};function Xo(c,m){var b;m?b=m.l:b=c.V++;const w=kt(c.J);it(w,"SID",c.M),it(w,"RID",b),it(w,"AID",c.K),zr(c,w),c.u&&c.o&&Lr(w,c.u,c.o),b=new ti(c,c.j,b,c.D+1),c.u===null&&(b.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ic(c,b,1e3),b.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,b),bi(b,w,m)}function zr(c,m){c.H&&Ge(c.H,function(b,w){it(m,w,b)}),c.l&&Ge({},function(b,w){it(m,w,b)})}function Ic(c,m,b){b=Math.min(c.i.length,b);const w=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let ke=-1;for(;;){const xt=["count="+b];ke==-1?b>0?(ke=L[0].g,xt.push("ofs="+ke)):ke=0:xt.push("ofs="+ke);let We=!0;for(let gt=0;gt<b;gt++){var q=L[gt].g;const Hn=L[gt].map;if(q-=ke,q<0)ke=Math.max(0,L[gt].g-100),We=!1;else try{q="req"+q+"_"||"";try{var ee=Hn instanceof Map?Hn:Object.entries(Hn);for(const[ki,ai]of ee){let oi=ai;p(ai)&&(oi=Un(ai)),xt.push(q+ki+"="+encodeURIComponent(oi))}}catch(ki){throw xt.push(q+"type="+encodeURIComponent("_badmap")),ki}}catch{w&&w(Hn)}}if(We){ee=xt.join("&");break e}}ee=void 0}return c=c.i.splice(0,b),m.G=c,ee}function Cc(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;_e||x(),fe||(_e(),fe=!0),I.add(m,c),c.A=0}}function Br(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ue(_(c.Da,c),kc(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ue(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,re(10),Vs(this),Nc(this))};function Zo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Nc(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=kt(c.na);it(m,"RID","rpc"),it(m,"SID",c.M),it(m,"AID",c.K),it(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(m,"TO",c.ia),it(m,"TYPE","xmlhttp"),zr(c,m),c.u&&c.o&&Lr(m,c.u,c.o),c.O&&(c.g.H=c.O);var b=c.g;c=c.ba,b.M=1,b.A=Mr(kt(m)),b.u=null,b.R=!0,_a(b,c)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),Br(this),re(19))};function Ra(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Dc(c,m){var b=null;if(c.g==m){Ra(c),Zo(c),c.g=null;var w=2}else if(Ai(c.h,m))b=m.G,zo(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;w=Rs(),At(w,new Ye(w,b)),Ni(c)}else Cc(c);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&xa(c,m)||w==2&&Br(c)))switch(b&&b.length>0&&(m=c.h,m.i=m.i.concat(b)),L){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function kc(c,m){let b=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(b*=2),b*m}function Di(c,m){if(c.j.info("Error code "+m),m==2){var b=_(c.bb,c),w=c.Ua;const L=!w;w=new Cn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(w,"https"),Mr(w),L?ii(w.toString(),b):Yo(w.toString(),b)}else re(2);c.I=0,c.l&&c.l.pa(m),Oc(c),Aa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Oc(c){if(c.I=0,c.ja=[],c.l){const m=Bo(c.h);(m.length!=0||c.i.length!=0)&&(K(c.ja,m),K(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Mc(c,m,b){var w=b instanceof Cn?kt(b):new Cn(b);if(w.g!="")m&&(w.g=m+"."+w.g),Is(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Cn(null);w&&Qt(q,w),m&&(q.g=m),L&&Is(q,L),b&&(q.h=b),w=q}return b=c.G,m=c.wa,b&&m&&it(w,b,m),it(w,"VER",c.ka),zr(c,w),w}function Vc(c,m,b){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new at(new Ri({ab:b})):new at(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}s=jc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function js(){}js.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){Tt.call(this),this.g=new Ms(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Xi(this)}A(mn,Tt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){$o(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.v&&(b={},b.__data__=Un(c),c=b);m.i.push(new Dt(m.Ya++,c)),m.I==3&&Ni(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,mn.Z.N.call(this)};function Lc(c){ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const b in m){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Lc,ft);function Pc(){gn.call(this),this.status=1}A(Pc,gn);function Xi(c){this.g=c}A(Xi,jc),Xi.prototype.ra=function(){At(this.g,"a")},Xi.prototype.qa=function(c){At(this.g,new Lc(c))},Xi.prototype.pa=function(c){At(this.g,new Pc)},Xi.prototype.oa=function(){At(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,v1=function(){return new js},_1=function(){return Rs()},y1=_t,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Xu=vi,kr.COMPLETE="complete",g1=kr,Dr.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ul=Dr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,p1=at}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",R_="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Io="12.3.0";const ua=new Bm("@firebase/firestore");function so(){return ua.logLevel}function ce(s,...e){if(ua.logLevel<=qe.DEBUG){const i=e.map(Gm);ua.debug(`Firestore (${Io}): ${s}`,...i)}}function ps(s,...e){if(ua.logLevel<=qe.ERROR){const i=e.map(Gm);ua.error(`Firestore (${Io}): ${s}`,...i)}}function yo(s,...e){if(ua.logLevel<=qe.WARN){const i=e.map(Gm);ua.warn(`Firestore (${Io}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,b1(s,r,i)}function b1(s,e,i){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function tt(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||b1(e,l,r)}function Ce(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class aa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class E1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class pA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gA{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new aa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new aa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new E1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class yA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _A{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new yA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const r=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=bA(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Wd(l)===Wd(u)?He(l,u):Wd(l)?1:-1}return He(s.length,e.length)}const EA=55296,TA=57343;function Wd(s){const e=s.charCodeAt(0);return e>=EA&&e<=TA}function _o(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const C_="__name__";class Li{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Li.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return He(e.length,i.length)}static compareSegments(e,i){const r=Li.isNumericId(e),l=Li.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Li.extractNumericId(e).compare(Li.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class ht extends Li{construct(e,i,r){return new ht(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Li{construct(e,i,r){return new rn(e,i,r)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new rn([C_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(i)}static emptyPath(){return new rn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ht.fromString(e))}static fromName(e){return new Te(ht.fromString(e).popFirst(5))}static empty(){return new Te(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ht(e.slice()))}}function T1(s,e,i){if(!i)throw new le(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function SA(s,e,i,r){if(e===!0&&r===!0)throw new le(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N_(s){if(!Te.isDocumentKey(s))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function D_(s){if(Te.isDocumentKey(s))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function w1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function gr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rh(s);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function fc(s,e){if(!w1(s))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new le(X.INVALID_ARGUMENT,i);return!0}const k_=-62135596800,O_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*O_);return new pt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<k_)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ut("string",pt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new pt(0,0))}static max(){return new Re(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function AA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(r===1e9?new pt(i+1,0):new pt(i,r));return new vr(l,Te.empty(),e)}function xA(s){return new vr(s.readTime,s.key,Jl)}class vr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new vr(Re.min(),Te.empty(),Jl)}static max(){return new vr(Re.max(),Te.empty(),Jl)}}function RA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const IA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==IA)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(y=>r(y)))})),d=!0,u===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let y=0;y<u;y++){const _=y;i(e[_]).next((T=>{d[_]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function NA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function No(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const Qm=-1;function Ch(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function DA(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const S1="";function kA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=M_(e)),e=OA(s.get(i),e);return M_(e)}function OA(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case S1:i+="";break;default:i+=u}}return i}function M_(s){return s+S1+""}function V_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function xr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function A1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||sn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??sn.RED,this.left=l??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new sn(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new sn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new qt(rn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x1("Invalid base64 string: "+u):u}})(e);return new an(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const MA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=MA.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const R1="server_timestamp",I1="__type__",C1="__previous_value__",N1="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[I1]?.stringValue===R1}function Nh(s){const e=s.mapValue.fields[C1];return Km(e)?Nh(e):e}function Wl(s){const e=br(s.mapValue.fields[N1].timestampValue);return new pt(e.seconds,e.nanos)}class VA{constructor(e,i,r,l,u,d,p,y,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T}}const lh="(default)";class ec{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new ec("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const D1="__type__",jA="__max__",Fu={mapValue:{}},k1="__vector__",ch="value";function Tr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:PA(s)?9007199254740991:LA(s)?10:11:Ae(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=Tr(s);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=br(l.timestampValue),p=br(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return Er(l.bytesValue).isEqual(Er(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Ct(l.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ct(l.integerValue)===Ct(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Ct(l.doubleValue),p=Ct(u.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(V_(d)!==V_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Fi(d[y],p[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function tc(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function vo(s,e){if(s===e)return 0;const i=Tr(s),r=Tr(e);if(i!==r)return He(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Ct(u.integerValue||u.doubleValue),y=Ct(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return L_(s.timestampValue,e.timestampValue);case 4:return L_(Wl(s),Wl(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=Er(u),y=Er(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const T=He(p[_],y[_]);if(T!==0)return T}return He(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=He(Ct(u.latitude),Ct(d.latitude));return p!==0?p:He(Ct(u.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return P_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},y=d.fields||{},_=p[ch]?.arrayValue,T=y[ch]?.arrayValue,A=He(_?.values?.length||0,T?.values?.length||0);return A!==0?A:P_(_,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Fu.mapValue&&d===Fu.mapValue)return 0;if(u===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),_=d.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const N=pm(y[A],T[A]);if(N!==0)return N;const P=vo(p[y[A]],_[T[A]]);if(P!==0)return P}return He(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function L_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=br(s),r=br(e),l=He(i.seconds,r.seconds);return l!==0?l:He(i.nanos,r.nanos)}function P_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=vo(i[l],r[l]);if(u)return u}return He(i.length,r.length)}function bo(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=br(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=gm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${gm(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Zu(s){switch(Tr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Zu(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Zu(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return xr(r.fields,((u,d)=>{l+=u.length+Zu(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function U_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ym(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function z_(s){return!!s&&"nullValue"in s}function B_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ju(s){return!!s&&"mapValue"in s}function LA(s){return(s?.mapValue?.fields||{})[D1]?.stringValue===k1}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function PA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jA}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Ju(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=rn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Gl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Ju(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Ju(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){xr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new An(Gl(this.value))}}function O1(s){const e=[];return xr(s.fields,((i,r)=>{const l=new rn([i]);if(Ju(r)){const u=O1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Ln(e)}class hn{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),An.empty(),0)}static newFoundDocument(e,i,r,l){return new hn(e,1,i,Re.min(),r,l,0)}static newNoDocument(e,i){return new hn(e,2,i,Re.min(),Re.min(),An.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,Re.min(),Re.min(),An.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,i){this.position=e,this.inclusive=i}}function q_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=Te.comparator(Te.fromName(d.referenceValue),i.key):r=vo(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function H_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function UA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class M1{}class Pt extends M1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new BA(e,i,r):i==="array-contains"?new FA(e,r):i==="in"?new GA(e,r):i==="not-in"?new YA(e,r):i==="array-contains-any"?new QA(e,r):new Pt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new qA(e,r):new HA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vo(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(vo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends M1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new mi(e,i)}matches(e){return V1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V1(s){return s.op==="and"}function j1(s){return zA(s)&&V1(s)}function zA(s){for(const e of s.filters)if(e instanceof mi)return!1;return!0}function _m(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+bo(s.value);if(j1(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function L1(s,e){return s instanceof Pt?(function(r,l){return l instanceof Pt&&r.op===l.op&&r.field.isEqual(l.field)&&Fi(r.value,l.value)})(s,e):s instanceof mi?(function(r,l){return l instanceof mi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&L1(d,l.filters[p])),!0):!1})(s,e):void Ae(19439)}function P1(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${bo(i.value)}`})(s):s instanceof mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(P1).join(" ,")+"}"})(s):"Filter"}class BA extends Pt{constructor(e,i,r){super(e,i,r),this.key=Te.fromName(r.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class qA extends Pt{constructor(e,i){super(e,"in",i),this.keys=U1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class HA extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=U1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function U1(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class FA extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&tc(i.arrayValue,this.value)}}class GA extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tc(this.value.arrayValue,i)}}class YA extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tc(this.value.arrayValue,i)}}class QA extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>tc(this.value.arrayValue,r)))}}class KA{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function F_(s,e=null,i=[],r=[],l=null,u=null,d=null){return new KA(s,e,i,r,l,u,d)}function Xm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>_m(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>bo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>bo(r))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!UA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!L1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!H_(s.startAt,e.startAt)&&H_(s.endAt,e.endAt)}function vm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Do{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $A(s,e,i,r,l,u,d,p){return new Do(s,e,i,r,l,u,d,p)}function Jm(s){return new Do(s)}function G_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function z1(s){return s.collectionGroup!==null}function Yl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qt(rn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new nc(u,r))})),i.has(rn.keyField().canonicalString())||e.Ie.push(new nc(rn.keyField(),r))}return e.Ie}function Pi(s){const e=Ce(s);return e.Ee||(e.Ee=XA(e,Yl(s))),e.Ee}function XA(s,e){if(s.limitType==="F")return F_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new nc(l.field,u)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return F_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function bm(s,e){const i=s.filters.concat([e]);return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Em(s,e,i){return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Dh(s,e){return Zm(Pi(s),Pi(e))&&s.limitType===e.limitType}function B1(s){return`${Xm(Pi(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>P1(l))).join(", ")}]`),Ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>bo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>bo(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function kh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Te.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Yl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=q_(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Yl(r),l)||r.endAt&&!(function(d,p,y){const _=q_(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Yl(r),l))})(s,e)}function ZA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function q1(s){return(e,i)=>{let r=!1;for(const l of Yl(s)){const u=JA(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function JA(s,e,i){const r=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(u,d,p){const y=d.data.field(u),_=p.data.field(u);return y!==null&&_!==null?vo(y,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const WA=new bt(Te.comparator);function gs(){return WA}const H1=new bt(Te.comparator);function zl(...s){let e=H1;for(const i of s)e=e.insert(i.key,i);return e}function F1(s){let e=H1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ra(){return Ql()}function G1(){return Ql()}function Ql(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ex=new bt(Te.comparator),tx=new qt(Te.comparator);function Fe(...s){let e=tx;for(const i of s)e=e.add(i);return e}const nx=new qt(He);function ix(){return nx}function Wm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function Y1(s){return{integerValue:""+s}}function sx(s,e){return DA(e)?Y1(e):Wm(s,e)}class Oh{constructor(){this._=void 0}}function rx(s,e,i){return s instanceof hh?(function(l,u){const d={fields:{[I1]:{stringValue:R1},[N1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Km(u)&&(u=Nh(u)),u&&(d.fields[C1]=u),{mapValue:d}})(i,e):s instanceof ic?K1(s,e):s instanceof sc?$1(s,e):(function(l,u){const d=Q1(l,u),p=Y_(d)+Y_(l.Ae);return ym(d)&&ym(l.Ae)?Y1(p):Wm(l.serializer,p)})(s,e)}function ax(s,e,i){return s instanceof ic?K1(s,e):s instanceof sc?$1(s,e):i}function Q1(s,e){return s instanceof fh?(function(r){return ym(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class hh extends Oh{}class ic extends Oh{constructor(e){super(),this.elements=e}}function K1(s,e){const i=X1(e);for(const r of s.elements)i.some((l=>Fi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class sc extends Oh{constructor(e){super(),this.elements=e}}function $1(s,e){let i=X1(e);for(const r of s.elements)i=i.filter((l=>!Fi(l,r)));return{arrayValue:{values:i}}}class fh extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Y_(s){return Ct(s.integerValue||s.doubleValue)}function X1(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ox(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof ic&&l instanceof ic||r instanceof sc&&l instanceof sc?_o(r.elements,l.elements,Fi):r instanceof fh&&l instanceof fh?Fi(r.Ae,l.Ae):r instanceof hh&&l instanceof hh})(s.transform,e.transform)}class lx{constructor(e,i){this.version=e,this.transformResults=i}}class di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function Z1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ep(s.key,di.none()):new dc(s.key,s.data,di.none());{const i=s.data,r=An.empty();let l=new qt(rn.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Rr(s.key,r,new Ln(l.toArray()),di.none())}}function cx(s,e,i){s instanceof dc?(function(l,u,d){const p=l.value.clone(),y=K_(l.fieldTransforms,u,d.transformResults);p.setAll(y),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Rr?(function(l,u,d){if(!Wu(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=K_(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(J1(l)),y.setAll(p),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,r){return s instanceof dc?(function(u,d,p,y){if(!Wu(u.precondition,d))return p;const _=u.value.clone(),T=$_(u.fieldTransforms,y,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Rr?(function(u,d,p,y){if(!Wu(u.precondition,d))return p;const _=$_(u.fieldTransforms,y,d),T=d.data;return T.setAll(J1(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(u,d,p){return Wu(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function ux(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=Q1(r.transform,l||null);u!=null&&(i===null&&(i=An.empty()),i.set(r.field,u))}return i||null}function Q_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&_o(r,l,((u,d)=>ox(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class dc extends Mh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rr extends Mh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function J1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function K_(s,e,i){const r=new Map;tt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,ax(d,p,i[l]))}return r}function $_(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,rx(u,d,e))}return r}class ep extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fx{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&cx(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=G1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const y=Z1(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((i,r)=>Q_(i,r)))&&_o(this.baseMutations,e.baseMutations,((i,r)=>Q_(i,r)))}}class tp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return ex})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new tp(e,i,r,l)}}class dx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,$e;function px(s){switch(s){case X.OK:return Ae(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function W1(s){if(s===void 0)return ps("GRPC error has no .code"),X.UNKNOWN;switch(s){case Lt.OK:return X.OK;case Lt.CANCELLED:return X.CANCELLED;case Lt.UNKNOWN:return X.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return X.INTERNAL;case Lt.UNAVAILABLE:return X.UNAVAILABLE;case Lt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Lt.NOT_FOUND:return X.NOT_FOUND;case Lt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Lt.ABORTED:return X.ABORTED;case Lt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Lt.DATA_LOSS:return X.DATA_LOSS;default:return Ae(39323,{code:s})}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function gx(){return new TextEncoder}const yx=new pr([4294967295,4294967295],0);function X_(s){const e=gx().encode(s),i=new m1;return i.update(e),new Uint8Array(i.digest())}function Z_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new pr([i,r],0),new pr([l,u],0)]}class np{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(pr.fromNumber(r)));return l.compare(yx)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=X_(e),[r,l]=Z_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new np(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=X_(e),[r,l]=Z_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Vh(Re.min(),l,new bt(He),gs(),Fe())}}class mc{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new mc(r,i,Fe(),Fe(),Fe())}}class eh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class eb{constructor(e,i){this.targetId=e,this.Ce=i}}class tb{constructor(e,i,r=an.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),r=Fe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:u})}})),new mc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _x{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=Gu(),this.He=Gu(),this.Ye=new bt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(vm(u))if(r===0){const d=new Te(u.path);this.et(i,d,hn.newNoDocument(d,Re.min()))}else tt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=Er(r).toUint8Array()}catch(y){if(y instanceof x1)return yo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new np(d,l,u)}catch(y){return yo(y instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&vm(p.target)){const y=new Te(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,hn.newNoDocument(y,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=Fe();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Vh(e,i,this.Ye,this.je,r);return this.je=gs(),this.Je=Gu(),this.He=Gu(),this.Ye=new bt(He),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new J_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gu(){return new bt(Te.comparator)}function W_(){return new bt(Te.comparator)}const vx={asc:"ASCENDING",desc:"DESCENDING"},bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ex={and:"AND",or:"OR"};class Tx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function wx(s,e){return dh(s,e.toTimestamp())}function Ui(s){return tt(!!s,49232),Re.fromTimestamp((function(i){const r=br(i);return new pt(r.seconds,r.nanos)})(s))}function ip(s,e){return wm(s,e).canonicalString()}function wm(s,e){const i=(function(l){return new ht(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function ib(s){const e=ht.fromString(s);return tt(lb(e),10190,{key:e.toString()}),e}function Sm(s,e){return ip(s.databaseId,e.path)}function em(s,e){const i=ib(e);if(i.get(1)!==s.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(rb(i))}function sb(s,e){return ip(s.databaseId,e)}function Sx(s){const e=ib(s);return e.length===4?ht.emptyPath():rb(e)}function Am(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rb(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function ev(s,e,i){return{name:Sm(s,e),fields:i.value.mapValue.fields}}function Ax(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(tt(T===void 0||typeof T=="string",58123),an.fromBase64String(T||"")):(tt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),an.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?X.UNKNOWN:W1(_.code);return new le(T,_.message||"")})(d);i=new tb(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=em(s,r.document.name),u=Ui(r.document.updateTime),d=r.document.createTime?Ui(r.document.createTime):Re.min(),p=new An({mapValue:{fields:r.document.fields}}),y=hn.newFoundDocument(l,u,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];i=new eh(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=em(s,r.document),u=r.readTime?Ui(r.readTime):Re.min(),d=hn.newNoDocument(l,u),p=r.removedTargetIds||[];i=new eh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=em(s,r.document),u=r.removedTargetIds||[];i=new eh([],u,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new mx(l,u),p=r.targetId;i=new eb(p,d)}}return i}function xx(s,e){let i;if(e instanceof dc)i={update:ev(s,e.key,e.value)};else if(e instanceof ep)i={delete:Sm(s,e.key)};else if(e instanceof Rr)i={update:ev(s,e.key,e.data),updateMask:Vx(e.fieldMask)};else{if(!(e instanceof hx))return Ae(16599,{Vt:e.type});i={verify:Sm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ic)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof sc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:wx(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(s,e.precondition)),i}function Rx(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Ui(l.updateTime):Ui(u);return d.isEqual(Re.min())&&(d=Ui(u)),new lx(d,l.transformResults||[])})(i,e)))):[]}function Ix(s,e){return{documents:[sb(s,e.path)]}}function Cx(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=sb(s,l);const u=(function(_){if(_.length!==0)return ob(mi.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:ao(N.field),direction:kx(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Tm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function Nx(s){let e=Sx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){tt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(A){const N=ab(A);return N instanceof mi&&j1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(K){return new nc(oo(K.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let N;return N=typeof A=="object"?A.value:A,Ch(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(A){const N=!!A.before,P=A.values||[];return new uh(P,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const N=!A.before,P=A.values||[];return new uh(P,N)})(i.endAt)),$A(e,l,d,u,p,"F",y,_)}function Dx(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ab(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=oo(i.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(i.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(oo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return mi.create(i.compositeFilter.filters.map((r=>ab(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function kx(s){return vx[s]}function Ox(s){return bx[s]}function Mx(s){return Ex[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return rn.fromServerFormat(s.fieldPath)}function ob(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(B_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if(z_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if(z_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:Ox(i.op),value:i.value}}})(s):s instanceof mi?(function(i){const r=i.getFilters().map((l=>ob(l)));return r.length===1?r[0]:{compositeFilter:{op:Mx(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function Vx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function lb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class hr{constructor(e,i,r,l,u=Re.min(),d=Re.min(),p=an.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jx{constructor(e){this.yt=e}}function Lx(s){const e=Nx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(e,e.limit,"L"):e}class Px{constructor(){this.Cn=new Ux}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(vr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Ux{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new qt(ht.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new qt(ht.comparator)).toArray()}}const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cb=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(cb,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const nv="LruGarbageCollector",zx=1048576;function iv([s,e],[i,r]){const l=He(s,i);return l===0?He(e,r):l}class Bx{constructor(e){this.Ir=e,this.buffer=new qt(iv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();iv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qx{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){No(i)?ce(nv,"Ignoring IndexedDB error during garbage collection: ",i):await Co(i)}await this.Vr(3e5)}))}}class Hx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ih.ce);const r=new Bx(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(tv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,p,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,i)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),so()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function Fx(s,e){return new Hx(s,e)}class Gx{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Qx{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Kl(r.mutation,l,Ln.empty(),pt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Fe()){const l=ra();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=zl();return u.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ra();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Fe())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=gs();const d=Ql(),p=(function(){return Ql()})();return i.forEach(((y,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Rr)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Kl(T.mutation,_,T.mutation.getFieldMask(),pt.now())):d.set(_.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new Yx(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Ql();let l=new bt(((d,p)=>d-p)),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let T=r.get(y)||Ln.empty();T=p.applyToLocalView(_,T),r.set(y,T);const A=(l.get(p.batchId)||Fe()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,T=y.value,A=G1();T.forEach((N=>{if(!u.has(N)){const P=Z1(i.get(N),r.get(N));P!==null&&A.set(N,P),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):z1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):Z.resolve(ra());let p=Jl,y=u;return d.next((_=>Z.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{y=y.insert(T,N)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Fe()))).next((T=>({batchId:p,changes:F1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((r=>{let l=zl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,u).next((p=>Z.forEach(p,(y=>{const _=(function(A,N){return new Do(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((y,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,hn.newInvalidDocument(T)))}));let p=zl();return d.forEach(((y,_)=>{const T=u.get(y);T!==void 0&&Kl(T.mutation,_,Ln.empty(),pt.now()),kh(i,_)&&(p=p.insert(y,_))})),p}))}}class Kx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ui(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Lx(l.bundledQuery),readTime:Ui(l.readTime)}})(i)),Z.resolve()}}class $x{constructor(){this.overlays=new bt(Te.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ra();return Z.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=ra(),u=i.length+1,d=new Te(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new bt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=u.get(_.largestBatchId);T===null&&(T=ra(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=ra(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return Z.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new dx(i,r));let u=this.qr.get(i);u===void 0&&(u=Fe(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class Xx{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class sp{constructor(){this.Qr=new qt($t.$r),this.Ur=new qt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new $t(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new $t(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Te(new ht([])),r=new $t(i,e),l=new $t(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new ht([])),r=new $t(i,e),l=new $t(i,e+1);let u=Fe();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new $t(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class Zx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qt($t.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fx(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new $t(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qt(He);return i.forEach((l=>{const u=new $t(l,0),d=new $t(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;Te.isDocumentKey(u)||(u=u.child(""));const d=new $t(new Te(u),0);let p=new qt(He);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){tt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const u=new $t(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new $t(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Jx{constructor(e){this.ri=e,this.docs=(function(){return new bt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let r=gs();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():hn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=gs();const d=i.path,p=new Te(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||RA(xA(T),r)<=0||(l.has(T.key)||kh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Wx(this)}getSize(e){return Z.resolve(this.size)}}class Wx extends Gx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class eR{constructor(e){this.persistence=e,this.si=new da((i=>Xm(i)),Zm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new sp,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Eo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class ub{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new Xx,this.referenceDelegate=e(this),this.Pi=new eR(this),this.indexManager=new Px,this.remoteDocumentCache=(function(l){return new Jx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jx(i),this.Ii=new Kx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $x,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Zx(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const l=new tR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class tR extends CA{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Ri=new sp,this.Vi=null}static mi(e){return new rp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=Te.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mh{constructor(e,i){this.persistence=e,this.pi=new da((r=>kA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Fx(this,i)}static mi(e,i){return new mh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,u.removeEntry(d,Re.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zu(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ap{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Fe(),l=Fe();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ap(e,i.fromCache,r,l)}}class nR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Q2()?8:NA(fn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new nR;return this.Ss(e,i,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(so()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(so()<=qe.DEBUG&&ce("QueryEngine","Query:",ro(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(so()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):Z.resolve())}ys(e,i){if(G_(i))return Z.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Em(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Fe(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(e,Em(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,r,l){return G_(i)||l.isEqual(Re.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?Z.resolve(null):(so()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(i)),this.vs(e,d,i,AA(l,Jl)).next((p=>p)))}))}Ds(e,i){let r=new qt(q1(e));return i.forEach(((l,u)=>{kh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return so()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ro(i)),this.ps.getDocumentsMatchingQuery(e,i,vr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const op="LocalStore",sR=3e8;class rR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new bt(He),this.xs=new da((u=>Xm(u)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function aR(s,e,i,r){return new rR(s,e,i,r)}async function hb(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let y=Fe();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function oR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,T){const A=_.batch,N=A.keys();let P=Z.resolve();return N.forEach((K=>{P=P.next((()=>T.getEntry(y,K))).next((J=>{const W=_.docVersions.get(K);tt(W!==null,48541),J.version.compareTo(W)<0&&(A.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Fe();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function fb(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lR(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,A)=>{const N=l.get(A);if(!N)return;p.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,A))));let P=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(an.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,r)),l=l.insert(A,P),(function(J,W,ue){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=sR?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(N,P,T)&&p.push(i.Pi.updateTargetData(u,P))}));let y=gs(),_=Fe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(cR(u,d,e.documentUpdates).next((T=>{y=T.ks,_=T.qs}))),!r.isEqual(Re.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((A=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(i.Ms=l,u)))}function cR(s,e,i){let r=Fe(),l=Fe();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=gs();return i.forEach(((p,y)=>{const _=u.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ce(op,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function uR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new hr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function xm(s,e,i){const r=Ce(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;ce(op,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function sv(s,e,i){const r=Ce(s);let l=Re.min(),u=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,T){const A=Ce(y),N=A.xs.get(T);return N!==void 0?Z.resolve(A.Ms.get(N)):A.Pi.getTargetData(_,T)})(r,d,Pi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Re.min(),i?u:Fe()))).next((p=>(fR(r,ZA(e),p),{documents:p,Qs:u})))))}function fR(s,e,i){let r=s.Os.get(e)||Re.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class rv{constructor(){this.activeTargetIds=ix()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dR{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mR{Oo(e){}shutdown(){}}const av="ConnectivityMonitor";class ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yu=null;function Rm(){return Yu===null?Yu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yu++,"0x"+Yu.toString(16)}const tm="RestConnection",pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Rm(),p=this.zo(e,i.toUriEncodedString());ce(tm,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:_}=new URL(p),T=xo(_);return this.Jo(e,p,y,r,T).then((A=>(ce(tm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw yo(tm,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=pR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class yR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class _R extends gR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Rm();return new Promise(((p,y)=>{const _=new p1;_.setWithCredentials(!0),_.listenOnce(g1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Xu.NO_ERROR:const A=_.getResponseJson();ce(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Xu.TIMEOUT:ce(cn,`RPC '${e}' ${d} timed out`),y(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const N=_.getStatus();if(ce(cn,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const K=P?.error;if(K&&K.status&&K.message){const J=(function(ue){const pe=ue.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(pe)>=0?pe:X.UNKNOWN})(K.status);y(new le(J,K.message))}else y(new le(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new le(X.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(cn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ce(cn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Rm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=v1(),p=_1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const T=u.join("");ce(cn,`Creating RPC '${e}' stream ${l}: ${T}`,y);const A=d.createWebChannel(T,y);this.I_(A);let N=!1,P=!1;const K=new yR({Yo:W=>{P?ce(cn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(N||(ce(cn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),N=!0),ce(cn,`RPC '${e}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),J=(W,ue,pe)=>{W.listen(ue,(ne=>{try{pe(ne)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return J(A,Ul.EventType.OPEN,(()=>{P||(ce(cn,`RPC '${e}' stream ${l} transport opened.`),K.o_())})),J(A,Ul.EventType.CLOSE,(()=>{P||(P=!0,ce(cn,`RPC '${e}' stream ${l} transport closed`),K.a_(),this.E_(A))})),J(A,Ul.EventType.ERROR,(W=>{P||(P=!0,yo(cn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),K.a_(new le(X.UNAVAILABLE,"The operation could not be completed")))})),J(A,Ul.EventType.MESSAGE,(W=>{if(!P){const ue=W.data[0];tt(!!ue,16349);const pe=ue,ne=pe?.error||pe[0]?.error;if(ne){ce(cn,`RPC '${e}' stream ${l} received error:`,ne);const ye=ne.status;let _e=(function(x){const S=Lt[x];if(S!==void 0)return W1(S)})(ye),fe=ne.message;_e===void 0&&(_e=X.INTERNAL,fe="Unknown error status: "+ye+" with message "+ne.message),P=!0,K.a_(new le(_e,fe)),A.close()}else ce(cn,`RPC '${e}' stream ${l} received:`,ue),K.u_(ue)}})),J(p,y1.STAT_EVENT,(W=>{W.stat===mm.PROXY?ce(cn,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===mm.NOPROXY&&ce(cn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function nm(){return typeof document<"u"?document:null}function jh(s){return new Tx(s,!0)}class db{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lv="PersistentStream";class mb{constructor(e,i,r,l,u,d,p,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new db(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vR extends mb{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Ax(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Re.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Ui(d.readTime):Re.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Am(this.serializer),i.addTarget=(function(u,d){let p;const y=d.target;if(p=vm(y)?{documents:Ix(u,y)}:{query:Cx(u,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=nb(u,d.resumeToken);const _=Tm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=dh(u,d.snapshotVersion.toTimestamp());const _=Tm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=Dx(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Am(this.serializer),i.removeTarget=e,this.q_(i)}}class bR extends mb{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Rx(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Am(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>xx(this.serializer,r)))};this.q_(i)}}class ER{}class TR extends ER{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,wm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(X.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,wm(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class SR{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(ce(ha,"Restarting streams for network reachability change."),await(async function(y){const _=Ce(y);_.Ea.add(4),await pc(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Lh(_)})(this))}))})),this.Ra=new wR(r,l)}}async function Lh(s){if(ma(s))for(const e of s.da)await e(!0)}async function pc(s){for(const e of s.da)await e(!1)}function pb(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),hp(i)?up(i):ko(i).O_()&&cp(i,e))}function lp(s,e){const i=Ce(s),r=ko(i);i.Ia.delete(e),r.O_()&&gb(i,e),i.Ia.size===0&&(r.O_()?r.L_():ma(i)&&i.Ra.set("Unknown"))}function cp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ko(s).Y_(e)}function gb(s,e){s.Va.Ue(e),ko(s).Z_(e)}function up(s){s.Va=new _x({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ko(s).start(),s.Ra.ua()}function hp(s){return ma(s)&&!ko(s).x_()&&s.Ia.size>0}function ma(s){return Ce(s).Ea.size===0}function yb(s){s.Va=void 0}async function AR(s){s.Ra.set("Online")}async function xR(s){s.Ia.forEach(((e,i)=>{cp(s,e)}))}async function RR(s,e){yb(s),hp(s)?(s.Ra.ha(e),up(s)):s.Ra.set("Unknown")}async function IR(s,e,i){if(s.Ra.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){ce(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ph(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof eb?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const r=await fb(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(an.EMPTY_BYTE_STRING,T.snapshotVersion)),gb(u,y);const A=new hr(T.target,y,_,T.sequenceNumber);cp(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ce(ha,"Failed to raise snapshot:",r),await ph(s,r)}}async function ph(s,e,i){if(!No(e))throw e;s.Ea.add(1),await pc(s),s.Ra.set("Offline"),i||(i=()=>fb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ha,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Lh(s)}))}function _b(s,e){return e().catch((i=>ph(s,i,e)))}async function Ph(s){const e=Ce(s),i=wr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;CR(e);)try{const l=await uR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,NR(e,l)}catch(l){await ph(e,l)}vb(e)&&bb(e)}function CR(s){return ma(s)&&s.Ta.length<10}function NR(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function vb(s){return ma(s)&&!wr(s).x_()&&s.Ta.length>0}function bb(s){wr(s).start()}async function DR(s){wr(s).ra()}async function kR(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function OR(s,e,i){const r=s.Ta.shift(),l=tp.from(r,e,i);await _b(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ph(s)}async function MR(s,e){e&&wr(s).X_&&await(async function(r,l){if((function(d){return px(d)&&d!==X.ABORTED})(l.code)){const u=r.Ta.shift();wr(r).B_(),await _b(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ph(r)}})(s,e),vb(s)&&bb(s)}async function cv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(ha,"RemoteStore received new credentials");const r=ma(i);i.Ea.add(3),await pc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lh(i)}async function VR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Lh(i)):e||(i.Ea.add(2),await pc(i),i.Ra.set("Unknown"))}function ko(s){return s.ma||(s.ma=(function(i,r,l){const u=Ce(i);return u.sa(),new vR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:AR.bind(null,s),t_:xR.bind(null,s),r_:RR.bind(null,s),H_:IR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),hp(s)?up(s):s.Ra.set("Unknown")):(await s.ma.stop(),yb(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,r,l){const u=Ce(i);return u.sa(),new bR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:DR.bind(null,s),r_:MR.bind(null,s),ta:kR.bind(null,s),na:OR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fp{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new fp(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(s,e){if(ps("AsyncQueue",`${e}: ${s}`),No(s))return new le(X.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Te.comparator(i.key,r.key):(i,r)=>Te.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class uv{constructor(){this.ga=new bt(Te.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class To{constructor(e,i,r,l,u,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new To(e,i,uo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class jR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LR{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),u=l.queries;l.queries=hv(),u.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new le(X.ABORTED,"Firestore shutting down"))}}function hv(){return new da((s=>B1(s)),Dh)}async function PR(s,e){const i=Ce(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new jR,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=dp(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&mp(i)}async function UR(s,e){const i=Ce(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function zR(s,e){const i=Ce(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&mp(i)}function BR(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function mp(s){s.Ca.forEach((e=>{e.next()}))}var Im,fv;(fv=Im||(Im={})).Ma="default",fv.Cache="cache";class qR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class Eb{constructor(e){this.key=e}}class Tb{constructor(e){this.key=e}}class HR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=q1(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new uv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const N=l.get(T),P=kh(this.query,A)?A:null,K=!!N&&this.mutatedKeys.has(N.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let W=!1;N&&P?N.data.isEqual(P.data)?K!==J&&(r.track({type:3,doc:P}),W=!0):this.su(N,P)||(r.track({type:2,doc:P}),W=!0,(y&&this.eu(P,y)>0||_&&this.eu(P,_)<0)&&(p=!0)):!N&&P?(r.track({type:0,doc:P}),W=!0):N&&!P&&(r.track({type:1,doc:N}),W=!0,(y||_)&&(p=!0)),W&&(P?(d=d.add(P),u=J?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(P,K){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:W})}};return J(P)-J(K)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new To(this.query,e.tu,u,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Tb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Eb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pp="SyncEngine";class FR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class GR{constructor(e){this.key=e,this.hu=!1}}class YR{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((p=>B1(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Te.comparator),this.Au=new Map,this.Ru=new sp,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QR(s,e,i=!0){const r=Ib(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await wb(r,e,i,!0),l}async function KR(s,e){const i=Ib(s);await wb(i,e,!0,!1)}async function wb(s,e,i,r){const l=await hR(s.localStore,Pi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await $R(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&pb(s.remoteStore,l),p}async function $R(s,e,i,r,l){s.pu=(A,N,P)=>(async function(J,W,ue,pe){let ne=W.view.ru(ue);ne.Cs&&(ne=await sv(J.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,ne))));const ye=pe&&pe.targetChanges.get(W.targetId),_e=pe&&pe.targetMismatches.get(W.targetId)!=null,fe=W.view.applyChanges(ne,J.isPrimaryClient,ye,_e);return mv(J,W.targetId,fe.au),fe.snapshot})(s,A,N,P);const u=await sv(s.localStore,e,!0),d=new HR(e,u.Qs),p=d.ru(u.documents),y=mc.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);mv(s,i,_.au);const T=new FR(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function XR(s,e,i){const r=Ce(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Dh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&lp(r.remoteStore,l.targetId),Cm(r,l.targetId)})).catch(Co)):(Cm(r,l.targetId),await xm(r.localStore,l.targetId,!0))}async function ZR(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),lp(i.remoteStore,r.targetId))}async function JR(s,e,i){const r=rI(s);try{const l=await(function(d,p){const y=Ce(d),_=pt.now(),T=p.reduce(((P,K)=>P.add(K.key)),Fe());let A,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let K=gs(),J=Fe();return y.Ns.getEntries(P,T).next((W=>{K=W,K.forEach(((ue,pe)=>{pe.isValidDocument()||(J=J.add(ue))}))})).next((()=>y.localDocuments.getOverlayedDocuments(P,K))).next((W=>{A=W;const ue=[];for(const pe of p){const ne=ux(pe,A.get(pe.key).overlayedDocument);ne!=null&&ue.push(new Rr(pe.key,ne,O1(ne.value.mapValue),di.exists(!0)))}return y.mutationQueue.addMutationBatch(P,_,ue,p)})).next((W=>{N=W;const ue=W.applyToLocalDocumentSet(A,J);return y.documentOverlayCache.saveOverlays(P,W.batchId,ue)}))})).then((()=>({batchId:N.batchId,changes:F1(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new bt(He)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await gc(r,l.changes),await Ph(r.remoteStore)}catch(l){const u=dp(l,"Failed to persist write");i.reject(u)}}async function Sb(s,e){const i=Ce(s);try{const r=await lR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(tt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?tt(d.hu,14607):l.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await gc(i,r,e)}catch(r){await Co(r)}}function dv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Ce(d);y.onlineState=p;let _=!1;y.queries.forEach(((T,A)=>{for(const N of A.Sa)N.va(p)&&(_=!0)})),_&&mp(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WR(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new bt(Te.comparator);d=d.insert(u,hn.newNoDocument(u,Re.min()));const p=Fe().add(u),y=new Vh(Re.min(),new Map,new bt(He),d,p);await Sb(r,y),r.du=r.du.remove(u),r.Au.delete(e),gp(r)}else await xm(r.localStore,e,!1).then((()=>Cm(r,e,i))).catch(Co)}async function eI(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await oR(i.localStore,e);xb(i,r,null),Ab(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await gc(i,l)}catch(l){await Co(l)}}async function tI(s,e,i){const r=Ce(s);try{const l=await(function(d,p){const y=Ce(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(tt(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);xb(r,e,i),Ab(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await gc(r,l)}catch(l){await Co(l)}}function Ab(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function xb(s,e,i){const r=Ce(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Rb(s,r)}))}function Rb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(lp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),gp(s))}function mv(s,e,i){for(const r of i)r instanceof Eb?(s.Ru.addReference(r.key,e),nI(s,r)):r instanceof Tb?(ce(pp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Rb(s,r.key)):Ae(19791,{wu:r})}function nI(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ce(pp,"New document in limbo: "+i),s.Eu.add(r),gp(s))}function gp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(ht.fromString(e)),r=s.fu.next();s.Au.set(r,new GR(i)),s.du=s.du.insert(i,r),pb(s.remoteStore,new hr(Pi(Jm(i.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function gc(s,e,i){const r=Ce(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(_){l.push(_);const T=ap.As(y.targetId,_);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const T=Ce(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(N=>Z.forEach(N.Es,(P=>T.persistence.referenceDelegate.addReference(A,N.targetId,P))).next((()=>Z.forEach(N.ds,(P=>T.persistence.referenceDelegate.removeReference(A,N.targetId,P)))))))))}catch(A){if(!No(A))throw A;ce(op,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const P=T.Ms.get(N),K=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(K);T.Ms=T.Ms.insert(N,J)}}})(r.localStore,u))}async function iI(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(pp,"User change. New user:",e.toKey());const r=await hb(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new le(X.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gc(i,r.Ls)}}function sI(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Ib(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WR.bind(null,e),e.Pu.H_=zR.bind(null,e.eventManager),e.Pu.yu=BR.bind(null,e.eventManager),e}function rI(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return aR(this.persistence,new iR,e.initialUser,this.serializer)}Cu(e){return new ub(rp.mi,this.serializer)}Du(e){return new dR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class aI extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qx(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new ub((r=>mh.mi(r,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,this.syncEngine),await VR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LR})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),r=(function(u){return new _R(u)})(e.databaseInfo);return(function(u,d,p,y){return new TR(u,d,p,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new SR(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return ov.v()?new ov:new mR})())}createSyncEngine(e,i){return(function(l,u,d,p,y,_,T){const A=new YR(l,u,d,p,y,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ce(ha,"RemoteStore shutting down."),r.Ea.add(5),await pc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class oI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Sr="FirestoreClient";class lI{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{ce(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=dp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Sr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await hb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function pv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await cI(s);ce(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>cv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>cv(e.remoteStore,l))),s._onlineComponents=e}async function cI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Sr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;yo("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new gh)}}else ce(Sr,"Using default OfflineComponentProvider"),await im(s,new aI(void 0));return s._offlineComponents}async function Cb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Sr,"Using user provided OnlineComponentProvider"),await pv(s,s._uninitializedComponentsProvider._online)):(ce(Sr,"Using default OnlineComponentProvider"),await pv(s,new Nm))),s._onlineComponents}function uI(s){return Cb(s).then((e=>e.syncEngine))}async function gv(s){const e=await Cb(s),i=e.eventManager;return i.onListen=QR.bind(null,e.syncEngine),i.onUnlisten=XR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=KR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ZR.bind(null,e.syncEngine),i}function Nb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const yv=new Map;const Db="firestore.googleapis.com",_v=!0;class vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Db,this.ssl=_v}else this.host=e.host,this.ssl=e.ssl??_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zx)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mA;switch(r.type){case"firstParty":return new _A(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=yv.get(i);r&&(ce("ComponentProvider","Removing Datastore"),yv.delete(i),r.terminate())})(this),Promise.resolve()}}function hI(s,e,i,r={}){s=gr(s,Uh);const l=xo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(o1(`https://${p}`),l1("Firestore",!0)),u.host!==Db&&u.host!==p&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:l,emulatorOptions:r};if(!la(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=un.MOCK_USER;else{_=P2(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(A)}s._authCredentials=new pA(new E1(_,T))}}class pa{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class zt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(fc(i,zt._jsonSchema))return new zt(e,r||null,new Te(ht.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ut("string",zt._jsonSchemaVersion),referencePath:Ut("string")};class yr extends pa{constructor(e,i,r){super(e,i,Jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Te(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function rr(s,e,...i){if(s=Ht(s),T1("collection","path",e),s instanceof Uh){const r=ht.fromString(e,...i);return D_(r),new yr(s,null,r)}{if(!(s instanceof zt||s instanceof yr))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return D_(r),new yr(s.firestore,null,r)}}function lo(s,e,...i){if(s=Ht(s),arguments.length===1&&(e=Ym.newId()),T1("doc","path",e),s instanceof Uh){const r=ht.fromString(e,...i);return N_(r),new zt(s,null,new Te(r))}{if(!(s instanceof zt||s instanceof yr))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return N_(r),new zt(s.firestore,s instanceof yr?s.converter:null,new Te(r))}}const bv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new db(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&ce(bv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;ce(bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Tv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=fp.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Tv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function wv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class wo extends Uh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Ev,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function fI(s,e){const i=typeof s=="object"?s:Fm(),r=typeof s=="string"?s:lh,l=Hm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=j2("firestore");u&&hI(l,...u)}return l}function kb(s){if(s._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dI(s),s._firestoreClient}function dI(s){const e=s._freezeSettings(),i=(function(l,u,d,p){return new VA(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Nb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new lI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(an.fromBase64String(e))}catch(i){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ut("string",Jn._jsonSchemaVersion),bytes:Ut("string")};class zh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(fc(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ut("string",zi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Bi(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ut("string",Bi._jsonSchemaVersion),vectorValues:Ut("object")};const mI=/^__.*__$/;class pI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms):new dc(e,this.data,i,this.fieldTransforms)}}class Ob{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Rr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Mb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class _p{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mb(this.Ac)&&mI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||jh(e)}Cc(e,i,r,l=!1){return new _p({Ac:e,methodName:i,Dc:r,path:rn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vp(s){const e=s._freezeSettings(),i=jh(s._databaseId);return new gI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function yI(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);bp("Data must be an object, but it was:",d,r);const p=Vb(r,d);let y,_;if(u.merge)y=new Ln(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const N=Dm(e,A,i);if(!d.contains(N))throw new le(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Lb(T,N)||T.push(N)}y=new Ln(T),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new pI(new An(p),y,_)}class Bh extends yp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function _I(s,e,i,r){const l=s.Cc(1,e,i);bp("Data must be an object, but it was:",l,r);const u=[],d=An.empty();xr(r,((y,_)=>{const T=Ep(e,y,i);_=Ht(_);const A=l.yc(T);if(_ instanceof Bh)u.push(T);else{const N=yc(_,A);N!=null&&(u.push(T),d.set(T,N))}}));const p=new Ln(u);return new Ob(d,p,l.fieldTransforms)}function vI(s,e,i,r,l,u){const d=s.Cc(1,e,i),p=[Dm(e,r,i)],y=[l];if(u.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(Dm(e,u[N])),y.push(u[N+1]);const _=[],T=An.empty();for(let N=p.length-1;N>=0;--N)if(!Lb(_,p[N])){const P=p[N];let K=y[N];K=Ht(K);const J=d.yc(P);if(K instanceof Bh)_.push(P);else{const W=yc(K,J);W!=null&&(_.push(P),T.set(P,W))}}const A=new Ln(_);return new Ob(T,A,d.fieldTransforms)}function bI(s,e,i,r=!1){return yc(i,s.Cc(r?4:3,e))}function yc(s,e){if(jb(s=Ht(s)))return bp("Unsupported field value:",e,s),Vb(s,e);if(s instanceof yp)return(function(r,l){if(!Mb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let y=yc(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=pt.fromDate(r);return{timestampValue:dh(l.serializer,u)}}if(r instanceof pt){const u=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(l.serializer,u)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:nb(l.serializer,r._byteString)};if(r instanceof zt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ip(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Bi)return(function(d,p){return{mapValue:{fields:{[D1]:{stringValue:k1},[ch]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Rh(r)}`)})(s,e)}function Vb(s,e){const i={};return A1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,((r,l)=>{const u=yc(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function jb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pt||s instanceof zi||s instanceof Jn||s instanceof zt||s instanceof yp||s instanceof Bi)}function bp(s,e,i){if(!jb(i)||!w1(i)){const r=Rh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Dm(s,e,i){if((e=Ht(e))instanceof zh)return e._internalPath;if(typeof e=="string")return Ep(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const EI=new RegExp("[~\\*/\\[\\]]");function Ep(s,e,i){if(e.search(EI)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new zh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new le(X.INVALID_ARGUMENT,p+s+y)}function Lb(s,e){return s.some((i=>i.isEqual(e)))}class Pb{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Tp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TI extends Pb{data(){return super.data()}}function Tp(s,e){return typeof e=="string"?Ep(s,e):e instanceof zh?e._internalPath:e._delegate._internalPath}function wI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wp{}class Ub extends wp{}function Sv(s,e,...i){let r=[];e instanceof wp&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((y=>y instanceof Ap)).length,p=u.filter((y=>y instanceof Sp)).length;if(d>1||d>0&&p>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Sp extends Ub{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Sp(e,i,r)}_apply(e){const i=this._parse(e);return zb(e._query,i),new pa(e.firestore,e.converter,bm(e._query,i))}_parse(e){const i=vp(e.firestore);return(function(u,d,p,y,_,T,A){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Rv(A,T);const K=[];for(const J of A)K.push(xv(y,u,J));N={arrayValue:{values:K}}}else N=xv(y,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Rv(A,T),N=bI(p,d,A,T==="in"||T==="not-in");return Pt.create(_,T,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ap extends wp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ap(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:mi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const y of p)zb(d,y),d=bm(d,y)})(e._query,i),new pa(e.firestore,e.converter,bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xp extends Ub{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new xp(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nc(u,d)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Do(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Av(s,e="asc"){const i=e,r=Tp("orderBy",s);return xp._create(r,i)}function xv(s,e,i){if(typeof(i=Ht(i))=="string"){if(i==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(e)&&i.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ht.fromString(i));if(!Te.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U_(s,new Te(r))}if(i instanceof zt)return U_(s,i._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(i)}.`)}function Rv(s,e){if(!Array.isArray(s)||s.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zb(s,e){const i=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class SI{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return xr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new Bi(i)}convertGeoPoint(e){return new zi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=br(e);return new pt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ht.fromString(e);tt(lb(r),9688,{name:e});const l=new ec(r.get(1),r.get(3)),u=new Te(r.popFirst(5));return l.isEqual(i)||ps(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function AI(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Pb{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Tp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ut("string",oa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class th extends oa{data(e={}){return super.data(e)}}class ho{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new th(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:xI(p.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Ut("string",ho._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Bb extends SI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function Qu(s,e,i,...r){s=gr(s,zt);const l=gr(s.firestore,wo),u=vp(l);let d;return d=typeof(e=Ht(e))=="string"||e instanceof zh?vI(u,"updateDoc",s._key,e,i,r):_I(u,"updateDoc",s._key,e),Rp(l,[d.toMutation(s._key,di.exists(!0))])}function RI(s){return Rp(gr(s.firestore,wo),[new ep(s._key,di.none())])}function jl(s,e){const i=gr(s.firestore,wo),r=lo(s),l=AI(s.converter,e);return Rp(i,[yI(vp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then((()=>r))}function sm(s,...e){s=Ht(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(wv(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let u,d,p;if(s instanceof zt)d=gr(s.firestore,wo),p=Jm(s._key.path),u={next:y=>{e[r]&&e[r](II(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=gr(s,pa);d=gr(y.firestore,wo),p=y._query;const _=new Bb(d);u={next:T=>{e[r]&&e[r](new ho(d,_,y,T))},error:e[r+1],complete:e[r+2]},wI(s._query)}return(function(_,T,A,N){const P=new oI(N),K=new qR(T,P,A);return _.asyncQueue.enqueueAndForget((async()=>PR(await gv(_),K))),()=>{P.Nu(),_.asyncQueue.enqueueAndForget((async()=>UR(await gv(_),K)))}})(kb(d),p,l,u)}function Rp(s,e){return(function(r,l){const u=new aa;return r.asyncQueue.enqueueAndForget((async()=>JR(await uI(r),l,u))),u.promise})(kb(s),e)}function II(s,e,i){const r=i.docs.get(e._key),l=new Bb(s);return new oa(s,l,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Io=l})(Ro),go(new ca("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new wo(new gA(r.getProvider("auth-internal")),new vA(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(_.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),mr(x_,R_,e),mr(x_,R_,"esm2020")})();function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CI=qb,Hb=new uc("auth","Firebase",qb());const _h=new Bm("@firebase/auth");function NI(s,...e){_h.logLevel<=qe.WARN&&_h.warn(`Auth (${Ro}): ${s}`,...e)}function nh(s,...e){_h.logLevel<=qe.ERROR&&_h.error(`Auth (${Ro}): ${s}`,...e)}function pi(s,...e){throw Ip(s,...e)}function qi(s,...e){return Ip(s,...e)}function Fb(s,e,i){const r={...CI(),[e]:i};return new uc("auth","Firebase",r).create(e,{appName:s.name})}function _r(s){return Fb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Hb.create(s,...e)}function Se(s,e,...i){if(!s)throw Ip(e,...i)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw nh(e),new Error(e)}function ys(s,e){s||fs(e)}function km(){return typeof self<"u"&&self.location?.href||""}function DI(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DI()||F2()||"connection"in navigator)?navigator.onLine:!0}function OI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class _c{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=B2()||G2()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(s,e){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Gb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jI=new _c(3e4,6e4);function ga(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ir(s,e,i,r,l={}){return Yb(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=hc({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...u};return H2()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&xo(s.emulatorConfig.host)&&(_.credentials="include"),Gb.fetch()(await Qb(s,s.config.apiHost,i,p),_)})}async function Yb(s,e,i){s._canInitEmulator=!1;const r={...MI,...e};try{const l=new PI(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Ku(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ku(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ku(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fb(s,T,_);pi(s,T)}}catch(l){if(l instanceof _s)throw l;pi(s,"network-request-failed",{message:String(l)})}}async function qh(s,e,i,r,l={}){const u=await Ir(s,e,i,r,l);return"mfaPendingCredential"in u&&pi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Qb(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Cp(s.config,l):`${s.config.apiScheme}://${l}`;return VI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function LI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),jI.get())})}}function Ku(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=qi(s,e,r);return l.customData._tokenResponse=i,l}function Cv(s){return s!==void 0&&s.enterprise!==void 0}class UI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return LI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zI(s,e){return Ir(s,"GET","/v2/recaptchaConfig",ga(s,e))}async function BI(s,e){return Ir(s,"POST","/v1/accounts:delete",e)}async function vh(s,e){return Ir(s,"POST","/v1/accounts:lookup",e)}function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qI(s,e=!1){const i=Ht(s),r=await i.getIdToken(e),l=Np(r);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:$l(rm(l.auth_time)),issuedAtTime:$l(rm(l.iat)),expirationTime:$l(rm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Np(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=i1(i);return l?JSON.parse(l):(nh("Failed to decode base64 JWT payload"),null)}catch(l){return nh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Nv(s){const e=Np(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function rc(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof _s&&HI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function HI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class FI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(s){const e=s.auth,i=await s.getIdToken(),r=await rc(s,vh(e,{idToken:i}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?Kb(l.providerUserInfo):[],d=YI(s.providerData,u),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function GI(s){const e=Ht(s);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Kb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function QI(s,e){const i=await Yb(s,{},async()=>{const r=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await Qb(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&xo(s.emulatorConfig.host)&&(y.credentials="include"),Gb.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function KI(s,e){return Ir(s,"POST","/v2/accounts:revokeToken",ga(s,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=Nv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await QI(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new fo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return fs("not implemented")}}function ar(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await rc(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return qI(this,e)}reload(){return GI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await rc(this,BI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:N,isAnonymous:P,providerData:K,stsTokenManager:J}=i;Se(A&&J,e,"internal-error");const W=fo.fromJSON(this.name,J);Se(typeof A=="string",e,"internal-error"),ar(r,e.name),ar(l,e.name),Se(typeof N=="boolean",e,"internal-error"),Se(typeof P=="boolean",e,"internal-error"),ar(u,e.name),ar(d,e.name),ar(p,e.name),ar(y,e.name),ar(_,e.name),ar(T,e.name);const ue=new fi({uid:A,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:P,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:T});return K&&Array.isArray(K)&&(ue.providerData=K.map(pe=>({...pe}))),y&&(ue._redirectEventId=y),ue}static async _fromIdTokenResponse(e,i,r=!1){const l=new fo;l.updateFromServerResponse(i);const u=new fi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await bh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Kb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new fo;p.updateFromIdToken(r);const y=new fi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const Dv=new Map;function ds(s){ys(s instanceof Function,"Expected a class definition");let e=Dv.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Dv.set(s,e),e)}class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$b.type="NONE";const kv=$b;function ih(s,e,i){return`firebase:${s}:${e}:${i}`}class mo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=ih(this.userKey,l.apiKey,u),this.fullPersistenceKey=ih("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await vh(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new mo(ds(kv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||ds(kv);const d=ih(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const N=await vh(e,{idToken:T}).catch(()=>{});if(!N)break;A=await fi._fromGetAccountInfoResponse(e,N,T)}else A=fi._fromJSON(e,T);_!==u&&(p=A),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new mo(u,e,r):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new mo(u,e,r))}}function Ov(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(nE(e))return"Webos";if(Zb(e))return"Safari";if((e.includes("chrome/")||Jb(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Xb(s=fn()){return/firefox\//i.test(s)}function Zb(s=fn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(s=fn()){return/crios\//i.test(s)}function Wb(s=fn()){return/iemobile/i.test(s)}function eE(s=fn()){return/android/i.test(s)}function tE(s=fn()){return/blackberry/i.test(s)}function nE(s=fn()){return/webos/i.test(s)}function Dp(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $I(s=fn()){return Dp(s)&&!!window.navigator?.standalone}function XI(){return Y2()&&document.documentMode===10}function iE(s=fn()){return Dp(s)||eE(s)||nE(s)||tE(s)||/windows phone/i.test(s)||Wb(s)}function sE(s,e=[]){let i;switch(s){case"Browser":i=Ov(fn());break;case"Worker":i=`${Ov(fn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${r}`}class ZI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JI(s,e={}){return Ir(s,"GET","/v2/passwordPolicy",ga(s,e))}const WI=6;class eC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??WI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class tC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new ZI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await vh(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(_r(this));const i=e?Ht(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JI(this),i=new eC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await KI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oo(s){return Ht(s)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(s){Hh=s}function rE(s){return Hh.loadJS(s)}function iC(){return Hh.recaptchaEnterpriseScript}function sC(){return Hh.gapiScript}function rC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class aC{constructor(){this.enterprise=new oC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class oC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const lC="recaptcha-enterprise",aE="NO_RECAPTCHA";class cC{constructor(e){this.type=lC,this.auth=Oo(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{zI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new UI(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(u,d,p){const y=window.grecaptcha;Cv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(aE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&Cv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=iC();y.length!==0&&(y+=p),rE(y).then(()=>{l(p,u,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Vv(s,e,i,r=!1,l=!1){const u=new cC(s);let d;if(l)d=aE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jv(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Vv(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Vv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function uC(s,e){const i=Hm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(la(u,e??{}))return l;pi(l,"already-initialized")}return i.initialize({options:e})}function hC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function fC(s,e,i){const r=Oo(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=oE(e),{host:d,port:p}=dC(e),y=p===null?"":`:${p}`,_={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(la(_,r.config.emulator)&&la(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,xo(d)?(o1(`${u}//${d}${y}`),l1("Auth",!0)):mC()}function oE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dC(s){const e=oE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Lv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Lv(d)}}}function Lv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class kp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,i){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function pC(s,e){return Ir(s,"POST","/v1/accounts:signUp",e)}async function gC(s,e){return qh(s,"POST","/v1/accounts:signInWithPassword",ga(s,e))}async function yC(s,e){return qh(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}async function _C(s,e){return qh(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}class ac extends kp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new ac(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new ac(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,i,"signInWithPassword",gC);case"emailLink":return yC(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,r,"signUpPassword",pC);case"emailLink":return _C(e,{idToken:i,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(s,e){return qh(s,"POST","/v1/accounts:signInWithIdp",ga(s,e))}const vC="http://localhost";class fa extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):pi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new fa(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return po(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,po(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,po(e,i)}buildRequest(){const e={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=hc(i)}return e}}function bC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EC(s){const e=Ll(Pl(s)).link,i=e?Ll(Pl(e)).deep_link_id:null,r=Ll(Pl(s)).deep_link_id;return(r?Ll(Pl(r)).link:null)||r||i||e||s}class Op{constructor(e){const i=Ll(Pl(e)),r=i.apiKey??null,l=i.oobCode??null,u=bC(i.mode??null);Se(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=EC(e);try{return new Op(i)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,i){return ac._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Op.parseLink(i);return Se(r,"argument-error"),ac._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vc extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends vc{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class lr extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return lr.credential(i,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class cr extends vc{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class ur extends vc{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ur.credential(i,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await fi._fromIdTokenResponse(e,r,l),d=Pv(r);return new So({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Pv(r);return new So({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Eh extends _s{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Eh(e,i,r,l)}}function cE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(s,u,e,r):u})}async function TC(s,e,i=!1){const r=await rc(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return So._forOperation(s,"link",r)}async function wC(s,e,i=!1){const{auth:r}=s;if(hi(r.app))return Promise.reject(_r(r));const l="reauthenticate";try{const u=await rc(s,cE(r,l,e,s),i);Se(u.idToken,r,"internal-error");const d=Np(u.idToken);Se(d,r,"internal-error");const{sub:p}=d;return Se(s.uid===p,r,"user-mismatch"),So._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&pi(r,"user-mismatch"),u}}async function uE(s,e,i=!1){if(hi(s.app))return Promise.reject(_r(s));const r="signIn",l=await cE(s,r,e),u=await So._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function SC(s,e){return uE(Oo(s),e)}async function AC(s){const e=Oo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xC(s,e,i){return hi(s.app)?Promise.reject(_r(s)):SC(Ht(s),Mo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AC(s),r})}function RC(s,e,i,r){return Ht(s).onIdTokenChanged(e,i,r)}function IC(s,e,i){return Ht(s).beforeAuthStateChanged(e,i)}function CC(s,e,i,r){return Ht(s).onAuthStateChanged(e,i,r)}function NC(s){return Ht(s).signOut()}const Th="__sak";class hE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DC=1e3,kC=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);XI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,kC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const OC=fE;class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}dE.type="SESSION";const mE=dE;function MC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Fh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,u)),y=await MC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];function Mp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class VC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const _=Mp("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const N=A;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function jC(s){Hi().location.href=s}function pE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function LC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PC(){return navigator?.serviceWorker?.controller||null}function UC(){return pE()?self:null}const gE="firebaseLocalStorageDb",zC=1,wh="firebaseLocalStorage",yE="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Gh(s,e){return s.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function BC(){const s=indexedDB.deleteDatabase(gE);return new bc(s).toPromise()}function Mm(){const s=indexedDB.open(gE,zC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(wh,{keyPath:yE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await BC(),e(await Mm()))})})}async function Uv(s,e,i){const r=Gh(s,!0).put({[yE]:e,value:i});return new bc(r).toPromise()}async function qC(s,e){const i=Gh(s,!1).get(e),r=await new bc(i).toPromise();return r===void 0?null:r.value}function zv(s,e){const i=Gh(s,!0).delete(e);return new bc(i).toPromise()}const HC=800,FC=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>FC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(UC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new VC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await Uv(e,Th,"1"),await zv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>qC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>zv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Gh(l,!1).getAll();return new bc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const GC=_E;new _c(3e4,6e4);function YC(s,e){return e?ds(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vp extends kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,i){return po(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function QC(s){return uE(s.auth,new Vp(s),s.bypassAuthState)}function KC(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),wC(i,new Vp(s),s.bypassAuthState)}async function $C(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),TC(i,new Vp(s),s.bypassAuthState)}class vE{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:pi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XC=new _c(2e3,1e4);class co extends vE{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}co.currentPopupAction=null;const ZC="pendingRedirect",sh=new Map;class JC extends vE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(s,e){const i=nN(e),r=tN(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function eN(s,e){sh.set(s._key(),e)}function tN(s){return ds(s._redirectPersistence)}function nN(s){return ih(ZC,s.config.apiKey,s.name)}async function iN(s,e,i=!1){if(hi(s.app))return Promise.reject(_r(s));const r=Oo(s),l=YC(r,e),d=await new JC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const sN=600*1e3;class rN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!bE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function bE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(s);default:return!1}}async function oN(s,e={}){return Ir(s,"GET","/v1/projects",e)}const lN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cN=/^https?/;async function uN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await oN(s);for(const i of e)try{if(hN(i))return}catch{}pi(s,"unauthorized-domain")}function hN(s){const e=km(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!cN.test(i))return!1;if(lN.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const fN=new _c(3e4,6e4);function qv(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function dN(s){return new Promise((e,i)=>{function r(){qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qv(),i(qi(s,"network-request-failed"))},timeout:fN.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const l=rC("iframefcb");return Hi()[l]=()=>{gapi.load?r():i(qi(s,"network-request-failed"))},rE(`${sC()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw rh=null,e})}let rh=null;function mN(s){return rh=rh||dN(s),rh}const pN=new _c(5e3,15e3),gN="__/auth/iframe",yN="emulator/auth/iframe",_N={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Cp(e,yN):`https://${s.config.authDomain}/${gN}`,r={apiKey:e.apiKey,appName:s.name,v:Ro},l=vN.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${hc(r).slice(1)}`}async function EN(s){const e=await mN(s),i=Hi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:bN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_N,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=qi(s,"network-request-failed"),p=Hi().setTimeout(()=>{u(d)},pN.get());function y(){Hi().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wN=500,SN=600,AN="_blank",xN="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RN(s,e,i,r=wN,l=SN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...TN,width:r.toString(),height:l.toString(),top:u,left:d},_=fn().toLowerCase();i&&(p=Jb(_)?AN:i),Xb(_)&&(e=e||xN,y.scrollbars="yes");const T=Object.entries(y).reduce((N,[P,K])=>`${N}${P}=${K},`,"");if($I(_)&&p!=="_self")return IN(e||"",p),new Hv(null);const A=window.open(e||"",p,T);Se(A,s,"popup-blocked");try{A.focus()}catch{}return new Hv(A)}function IN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const CN="__/auth/handler",NN="emulator/auth/handler",DN=encodeURIComponent("fac");async function Fv(s,e,i,r,l,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ro,eventId:l};if(e instanceof lE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",W2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof vc){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),_=y?`#${DN}=${encodeURIComponent(y)}`:"";return`${kN(s)}?${hc(p).slice(1)}${_}`}function kN({config:s}){return s.emulator?Cp(s,NN):`https://${s.authDomain}/${CN}`}const am="webStorageSupport";class ON{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=iN,this._overrideRedirectResult=eN}async _openPopup(e,i,r,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,i,r,km(),l);return RN(e,u,Mp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await Fv(e,i,r,km(),l);return jC(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ys(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await EN(e),r=new rN(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(am,{type:am},l=>{const u=l?.[0]?.[am];u!==void 0&&i(!!u),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=uN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return iE()||Zb()||Dp()}}const MN=ON;var Gv="@firebase/auth",Yv="1.11.1";class VN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LN(s){go(new ca("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(s)},_=new tC(r,l,u,y);return hC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),go(new ca("auth-internal",e=>{const i=Oo(e.getProvider("auth").getImmediate());return(r=>new VN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(Gv,Yv,jN(s)),mr(Gv,Yv,"esm2020")}const PN=300,UN=a1("authIdTokenMaxAge")||PN;let Qv=null;const zN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>UN)return;const l=i?.token;Qv!==l&&(Qv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function BN(s=Fm()){const e=Hm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=uC(s,{popupRedirectResolver:MN,persistence:[GC,OC,mE]}),r=a1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=zN(u.toString());IC(i,d,()=>d(i.currentUser)),RC(i,p=>d(p))}}const l=s1("auth");return l&&fC(i,`http://${l}`),i}function qN(){return document.getElementsByTagName("head")?.[0]??document}nC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=qi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",qN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LN("Browser");const Kv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let $u,Hl,vt;try{Kv.apiKey&&(tA().length===0?$u=h1(Kv):$u=Fm(),Hl=BN($u),vt=fI($u))}catch(s){console.error("Firebase init error:",s)}const xn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",om="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",HN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[]},jp=s=>new Promise(e=>{const i=new FileReader;i.readAsDataURL(s),i.onload=r=>{const l=new Image;l.src=r.target.result,l.onload=()=>{const u=document.createElement("canvas"),d=800,p=d/l.width,y=l.width>d?d:l.width,_=l.width>d?l.height*p:l.height;u.width=y,u.height=_,u.getContext("2d").drawImage(l,0,0,y,_),e(u.toDataURL("image/jpeg",.7))}}}),FN=({image:s,onClose:e})=>s?g.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),g.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-[90vh] bg-transparent flex items-center justify-center",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-3 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40 text-white shadow-lg",children:g.jsx(Ar,{size:24})}),g.jsx("img",{src:s,alt:"Full View",className:"object-contain w-full h-full rounded-2xl shadow-2xl",onError:i=>{i.target.style.display="none",alert(""),e()}})]})]}):null,$v=({message:s,type:e,onClose:i})=>{oe.useEffect(()=>{const u=setTimeout(i,3e3);return()=>clearTimeout(u)},[i]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?g.jsx(Aw,{size:18}):g.jsx(Sh,{size:18});return g.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[g.jsx("div",{className:"shrink-0",children:l}),g.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},GN=({title:s,message:e,onConfirm:i,onCancel:r})=>g.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:r}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-xs transform transition-all scale-100 text-center`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100/80 text-red-500 rounded-2xl flex items-center justify-center mb-4 shadow-inner border border-white/50",children:g.jsx(T2,{size:32})}),g.jsx("h3",{className:"text-xl font-[900] text-gray-800 mb-2 drop-shadow-sm",children:s}),g.jsx("p",{className:"text-sm text-gray-600 font-bold mb-6 leading-relaxed opacity-80",children:e}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-2xl font-bold text-gray-600 bg-white/40 hover:bg-white/60 transition-all border border-white/50 active:scale-95",children:""}),g.jsxs("button",{onClick:i,className:"flex-1 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/30 hover:shadow-red-500/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[g.jsx(cc,{size:16})," "]})]})]})]}),Yh=({title:s,subtitle:e,showBack:i,leftAction:r,rightAction:l,setActiveTab:u,bgImage:d,themeColor:p,coverOffsetY:y=50,coverScale:_=1})=>{const T=i&&!r?g.jsx("button",{onClick:()=>u&&u("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700 shadow-sm border border-white/20 backdrop-blur-sm",children:g.jsx(gw,{size:20})}):null;return g.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[g.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[d?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-full h-full overflow-hidden relative",children:g.jsx("img",{src:d,className:"w-full h-full object-cover opacity-100 transition-transform duration-700",style:{objectPosition:`center ${y}%`,transform:`scale(${_})`},alt:"",onError:A=>A.target.style.display="none"},d)}),g.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),g.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[r||T,g.jsxs("div",{className:"drop-shadow-sm",children:[g.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&g.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),g.jsx("div",{className:"scale-90 origin-right",children:l})]})]})},YN=({trip:s,onClose:e,onSave:i,onPreviewChange:r})=>{const[l,u]=oe.useState({destination:s.destination||"",date:s.date||"",coverImage:s.coverImage||"",coverOffsetY:s.coverOffsetY!==void 0?s.coverOffsetY:50,coverScale:s.coverScale!==void 0?s.coverScale:1});oe.useEffect(()=>{r&&r(l)},[l,r]);const[d,p]=oe.useState(!1),y=oe.useRef(null),_=oe.useRef(null),T=oe.useRef(!1),A=oe.useRef(0),N=oe.useRef(0),P=ne=>{const{name:ye,value:_e}=ne.target;u(fe=>({...fe,[ye]:_e}))},K=async ne=>{const ye=ne.target.files[0];if(ye){p(!0);try{const _e=await jp(ye);u(fe=>({...fe,coverImage:_e,coverOffsetY:50,coverScale:1}))}catch(_e){console.error("Image process error",_e),alert("")}finally{p(!1)}}},J=()=>{i(s.id,l)},W=ne=>{l.coverImage&&(T.current=!0,A.current=ne.clientY||ne.touches[0].clientY,N.current=l.coverOffsetY)},ue=ne=>{if(!T.current)return;const ye=ne.clientY||ne.touches&&ne.touches[0].clientY;if(!ye)return;const _e=A.current-ye,fe=160,I=1.5*l.coverScale,x=_e/fe*100/I;let S=N.current+x;S=Math.max(0,Math.min(100,S)),u(D=>({...D,coverOffsetY:S}))},pe=()=>{T.current=!1};return oe.useEffect(()=>(window.addEventListener("mouseup",pe),window.addEventListener("touchend",pe),()=>{window.removeEventListener("mouseup",pe),window.removeEventListener("touchend",pe)}),[]),g.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Ar,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-4 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Jw,{size:18})}),g.jsx("input",{name:"destination",value:l.destination,onChange:P,className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(jm,{size:18})}),g.jsx("input",{name:"date",value:l.date,onChange:P,placeholder:"YYYY/MM/DD",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-md",children:[d?g.jsx(Ao,{className:"animate-spin",size:14}):g.jsx(e1,{size:14}),""]}),g.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:K})]}),g.jsxs("div",{className:"relative mb-3",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Lm,{size:14})}),g.jsx("input",{name:"coverImage",value:l.coverImage,onChange:P,placeholder:"...",className:"w-full bg-white/40 border border-white/50 rounded-xl py-2 pl-10 pr-4 text-gray-600 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]}),l.coverImage&&g.jsxs("div",{className:"mt-1",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1",children:[g.jsxs("div",{className:"text-[10px] text-gray-500 mb-1 ml-1 flex items-center gap-1",children:[g.jsx(n2,{size:10})," "]}),g.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[g.jsx(zm,{size:10})," : ",l.coverScale,"x"]})]}),g.jsxs("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:W,onMouseMove:ue,onTouchStart:W,onTouchMove:ue,children:[g.jsx("img",{ref:_,src:l.coverImage,alt:"Preview",className:"w-full h-full object-cover pointer-events-none select-none origin-center",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},onError:ne=>ne.target.style.opacity=.3},l.coverImage),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 pointer-events-none",children:g.jsx("div",{className:"bg-black/50 text-white text-[10px] px-2 py-1 rounded-full backdrop-blur-sm",children:""})})]}),g.jsxs("div",{className:"mt-3 flex items-center gap-3 px-1",children:[g.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"1x"}),g.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:ne=>u(ye=>({...ye,coverScale:parseFloat(ne.target.value)})),className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"}),g.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"3x"})]})]})]}),g.jsxs("button",{onClick:J,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all mt-4",children:[g.jsx(c2,{size:18})," "]})]})]})]})},QN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:r,onExportTrip:l,onEditTrip:u,onOpenImport:d,onClose:p,userEmail:y,onLogout:_})=>g.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:p}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:p,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Ar,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),g.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:y})]}),g.jsxs("button",{onClick:_,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[g.jsx(Kw,{size:12})," "]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&g.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(T=>g.jsxs("div",{onClick:()=>i(T.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===T.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[g.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${T.coverImage?"":`bg-gradient-to-br ${T.themeColor||"from-gray-300 to-gray-400"}`}`,children:T.coverImage?g.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${T.coverOffsetY||50}%`,transform:`scale(${T.coverScale||1})`},alt:""}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:g.jsx(Jv,{size:20})})}),g.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[g.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-tight truncate",children:T.destination||""}),g.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-0.5 font-bold",children:[g.jsx(jm,{size:12,className:"mr-1"}),T.date||"--/--"]})]}),g.jsxs("div",{className:"flex items-center gap-1 z-20",children:[g.jsx("button",{onClick:A=>{A.stopPropagation(),u(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:"",children:g.jsx(Pm,{size:18})}),g.jsx("button",{onClick:A=>{A.stopPropagation(),l(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:g.jsx(Ow,{size:18})}),g.jsx("button",{onClick:A=>{A.stopPropagation(),r(T.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:g.jsx(cc,{size:18})})]})]},T.id))]}),g.jsx("div",{className:"mt-auto relative z-10",children:g.jsxs("button",{onClick:d,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[g.jsx(Rw,{size:20})," /"]})})]})]}),KN=({onClose:s,onImport:e,isLoading:i})=>{const[r,l]=oe.useState("json"),[u,d]=oe.useState(""),p=()=>{e(u,r)};return g.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Ar,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[g.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),g.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),g.jsxs("div",{className:"space-y-4 relative z-10",children:[g.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?g.jsx("textarea",{value:u,onChange:y=>d(y.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):g.jsx("input",{type:"text",value:u,onChange:y=>d(y.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),g.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),g.jsx("button",{onClick:p,disabled:!u.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!u.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?g.jsxs(g.Fragment,{children:[g.jsx(Ao,{className:"animate-spin",size:16})," ..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Cw,{size:16})," "]})})]})]})]})},$N=({flights:s,onClose:e})=>g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Ar,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?g.jsx("div",{className:"space-y-4",children:s.map((i,r)=>g.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[g.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:g.jsx(lm,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),g.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[g.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),g.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),g.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),g.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),g.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),g.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[g.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),g.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:g.jsx(lm,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),g.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),g.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&g.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):g.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[g.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),g.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),EE=s=>s?s.split(",").map(e=>e.trim()).filter(e=>e.length>0):[],XN=({onClose:s,onAdd:e})=>{const[i,r]=oe.useState(""),[l,u]=oe.useState(""),[d,p]=oe.useState(""),[y,_]=oe.useState(""),[T,A]=oe.useState(""),[N,P]=oe.useState(""),[K,J]=oe.useState(!1),W=oe.useRef(null),ue=async fe=>{const I=fe.target.files[0];if(I){J(!0);try{const x=await jp(I);A(x)}catch(x){console.error("Image process error",x),alert("")}finally{J(!1)}}},pe=()=>{if(!i.trim())return;const fe=EE(N);e(i,l,d,y,T,fe)},ne="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",ye="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",_e=16;return g.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Ar,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-3 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" *"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-500",children:g.jsx(lc,{size:_e})}),g.jsx("input",{type:"text",value:i,onChange:fe=>r(fe.target.value),placeholder:"",className:ye,autoFocus:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:g.jsx(Um,{size:_e})}),g.jsx("input",{type:"text",value:l,onChange:fe=>u(fe.target.value),placeholder:"",className:ye})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:g.jsx(Zv,{size:_e})}),g.jsx("input",{type:"text",value:N,onChange:fe=>P(fe.target.value),placeholder:", , ",className:ye})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:g.jsx(Lm,{size:_e})}),g.jsx("input",{type:"url",value:y,onChange:fe=>_(fe.target.value),placeholder:" (e.g., PChome, Amazon)",className:ye})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsx("input",{type:"file",ref:W,className:"hidden",accept:"image/*",onChange:ue}),g.jsx("div",{className:"relative",children:g.jsxs("button",{onClick:()=>W.current?.click(),disabled:K,className:"w-full py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[K?g.jsx(Ao,{className:"animate-spin",size:_e}):g.jsx(Jv,{size:_e}),T?" ()":""]})})]}),g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:g.jsx(Wv,{size:_e})}),g.jsx("input",{type:"text",value:d,onChange:fe=>p(fe.target.value),placeholder:"",className:ye})]})]}),g.jsxs("button",{onClick:pe,disabled:!i.trim()||K,className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!i.trim()||K?"bg-gray-400/50 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50"}`,children:[g.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},ZN=({onClose:s,onAdd:e})=>{const[i,r]=oe.useState(""),[l,u]=oe.useState(""),d="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",p="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",y=16,_=()=>{i.trim()&&e(i,l)};return g.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Ar,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-3 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:d,children:" *"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-500",children:g.jsx(oc,{size:y})}),g.jsx("input",{type:"text",value:i,onChange:T=>r(T.target.value),placeholder:"",className:p,autoFocus:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:d,children:""}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(T=>g.jsx("button",{onClick:()=>u(T),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===T?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:T},T))})]}),g.jsxs("div",{children:[g.jsx("label",{className:d,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-400",children:g.jsx(Um,{size:y})}),g.jsx("input",{type:"text",value:l,onChange:T=>u(T.target.value),placeholder:"",className:p})]})]}),g.jsxs("button",{onClick:_,disabled:!i.trim(),className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[g.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},JN=({editingState:s,onClose:e,onSave:i,onImageView:r})=>{const{type:l,data:u}=s,d=Array.isArray(u.recipient)?u.recipient.join(", "):u.recipient||"",[p,y]=oe.useState(u),[_,T]=oe.useState(d),[A,N]=oe.useState(!1),P=oe.useRef(null),K=l==="shopping",J=K?"pink":"blue",W=K?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",ue=K?"text-pink-500":"text-blue-500",pe=K?lc:oc,ne="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",ye="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",_e=16,fe=async x=>{const S=x.target.files[0];if(S){N(!0);try{const D=await jp(S);y(k=>({...k,image:D}))}catch(D){console.error("Image process error",D),alert("")}finally{N(!1)}}},I=()=>{if(K){const x=EE(_);i({...p,recipient:x})}else i({id:p.id,item:p.item,category:p.category,checked:p.checked})};return g.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsxs("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:[" ",K?"":""]}),g.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Ar,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-3 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:ne,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ue}`,children:g.jsx(pe,{size:_e})}),g.jsx("input",{type:"text",value:p.item,onChange:x=>y({...p,item:x.target.value}),className:ye.replace("focus:ring-pink",`focus:ring-${J}`),autoFocus:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:ne,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ue}`,children:g.jsx(Um,{size:_e})}),g.jsx("input",{type:"text",value:p.category||"",onChange:x=>y({...p,category:x.target.value}),placeholder:"",className:ye.replace("focus:ring-pink",`focus:ring-${J}`)})]})]}),K&&g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ue}`,children:g.jsx(Zv,{size:_e})}),g.jsx("input",{type:"text",value:_,onChange:x=>T(x.target.value),placeholder:", ",className:ye.replace("focus:ring-pink",`focus:ring-${J}`)})]})]}),K&&g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ue}`,children:g.jsx(Lm,{size:_e})}),g.jsx("input",{type:"url",value:p.link||"",onChange:x=>y({...p,link:x.target.value}),placeholder:"/",className:ye.replace("focus:ring-pink",`focus:ring-${J}`)})]})]}),K&&g.jsxs("div",{children:[g.jsx("label",{className:ne,children:" ()"}),g.jsx("input",{type:"file",ref:P,className:"hidden",accept:"image/*",onChange:fe}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>P.current?.click(),disabled:A,className:"flex-1 py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[A?g.jsx(Ao,{className:"animate-spin",size:_e}):g.jsx(e1,{size:_e}),p.image?"":""]}),p.image&&g.jsxs("button",{onClick:x=>{x.stopPropagation(),r(p.image)},className:"w-1/3 py-2.5 bg-blue-500/60 text-white rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-blue-600/70",title:"",children:[g.jsx(zm,{size:_e})," "]}),p.image&&g.jsx("button",{onClick:x=>{x.stopPropagation(),y(S=>({...S,image:""}))},className:"w-1/5 py-2.5 bg-red-500/60 text-white rounded-2xl text-sm font-bold flex items-center justify-center active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-red-600/70",title:"",children:g.jsx(cc,{size:_e})})]})]}),K&&g.jsxs("div",{children:[g.jsx("label",{className:ne,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${ue}`,children:g.jsx(Wv,{size:_e})}),g.jsx("input",{type:"text",value:p.note||"",onChange:x=>y({...p,note:x.target.value}),placeholder:"",className:ye.replace("focus:ring-pink",`focus:ring-${J}`)})]})]}),g.jsxs("button",{onClick:I,disabled:!p.item.trim()||A,className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!p.item.trim()||A?"bg-gray-400/50 cursor-not-allowed":`${W} shadow-${J}-500/30 hover:shadow-${J}-500/50`}`,children:[g.jsx(Sh,{size:20,strokeWidth:3}),""]})]})]})]})},WN=({onLogin:s,isLoading:e})=>{const[i,r]=oe.useState(""),[l,u]=oe.useState(""),d=()=>{!i||!l||s(i,l)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:g.jsx(A2,{size:40})}),g.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),g.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),g.jsxs("div",{className:"w-full space-y-4 mb-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Xw,{size:18})}),g.jsx("input",{type:"email",value:i,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Yw,{size:18})}),g.jsx("input",{type:"password",value:l,onChange:p=>u(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),g.jsx("button",{onClick:d,disabled:e||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?g.jsx(Ao,{className:"animate-spin"}):""}),g.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:g.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[g.jsx(Bw,{size:10})," "]})})]})]})},e4=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:r,setShowFlightModal:l,openEditModal:u,setShowTripListModal:d,onEditCurrentTrip:p,onScroll:y,previewTrip:_,shoppingItems:T,packingItems:A})=>{const N=_||e;return g.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:y,children:[g.jsx(Yh,{title:"",subtitle:"20251204 v1",showBack:!1,leftAction:g.jsx("button",{onClick:()=>d(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:g.jsx(Fw,{size:24,strokeWidth:2.5})}),rightAction:e?g.jsx("button",{onClick:p,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:g.jsx(h2,{size:22,strokeWidth:2.5})}):null,setActiveTab:r,bgImage:N?.coverImage,themeColor:N?.themeColor,coverOffsetY:N?.coverOffsetY||50,coverScale:N?.coverScale||1}),g.jsxs("div",{className:"px-6 mt-4",children:[!N||!N.date||N.date==="----/--/--"?g.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[g.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),g.jsxs("p",{className:"text-sm text-gray-500",children:["",g.jsx("br",{}),"  "]})]}):g.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${xn} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${om} relative`,children:[g.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[N.coverImage&&g.jsx("div",{className:"w-full h-full overflow-hidden relative",children:g.jsx("img",{src:N.coverImage,alt:N.destination,className:"w-full h-full object-cover opacity-100 transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${N.coverOffsetY||50}%`,transform:`scale(${N.coverScale||1})`},onError:P=>P.target.style.opacity=.3},N.coverImage)}),g.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${N.themeColor||"from-gray-400 to-gray-600"} ${N.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),g.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:g.jsx("div",{className:"flex justify-between items-end",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),g.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:N.destination||""}),g.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[g.jsx(jm,{size:14,className:"mr-2"}),N.date||"--/--"]})]})})})]}),g.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),g.jsxs("div",{className:"flex items-baseline",children:[g.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(N.date)}),g.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),g.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:g.jsx(ww,{size:28})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[g.jsxs("div",{onClick:()=>r("shopping"),className:`${xn} ${om} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)] flex items-center gap-4 h-24`,children:[g.jsx("div",{className:"bg-pink-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-pink-500 shadow-inner border border-white/50 shrink-0",children:g.jsx(lc,{size:24})}),g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),g.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[T.filter(P=>!P.checked).length," "]})]})]}),g.jsxs("div",{onClick:()=>r("packing"),className:`${xn} ${om} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)] flex items-center gap-4 h-24`,children:[g.jsx("div",{className:"bg-blue-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-blue-500 shadow-inner border border-white/50 shrink-0",children:g.jsx(oc,{size:24})})," ",g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),g.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[A.filter(P=>!P.checked).length," "]})]})]})]})]})]})},t4=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l,onScroll:u})=>{const d=s&&s.days&&s.days.length>0?r(s):null;return g.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:u,children:[g.jsx(Yh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:g.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0,0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:g.jsx(lm,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY||50,coverScale:s?.coverScale||1}),g.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&g.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((p,y)=>g.jsxs("div",{className:"relative pl-4",children:[y!==s.days.length-1&&g.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),g.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[g.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[g.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),g.jsx("span",{className:"text-xl font-black leading-none",children:p.day})]}),g.jsx("div",{children:g.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:p.title})})]}),g.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:p.activities.map((_,T)=>{const A=d===_.id;return g.jsxs("div",{ref:N=>l.current[_.id]=N,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${A?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[g.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${A?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${_.type==="transport"?"bg-purple-400":_.type==="food"?"bg-orange-400":_.type==="shopping"?"bg-pink-400":_.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:A&&g.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:_.time}),A&&g.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),g.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[_.type==="sightseeing"&&g.jsx(bw,{size:14,className:"text-gray-500"}),_.type==="food"&&g.jsx(Dw,{size:14,className:"text-gray-500"}),_.type==="transport"&&g.jsx(v2,{size:14,className:"text-gray-500"}),_.type==="shopping"&&g.jsx(lc,{size:14,className:"text-gray-500"}),_.type==="relax"&&g.jsx(g2,{size:14,className:"text-gray-500"})]})]}),g.jsx("div",{className:"flex justify-between items-end gap-2",children:g.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:_.title})})]},T)})})]},y))]})]})},n4=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:r,requestDeleteShopping:l,openEditModal:u,onScroll:d,shoppingItems:p,setImageViewerImage:y})=>{const[_,T]=oe.useState(""),[A,N]=oe.useState(""),[P,K]=oe.useState("createdAt"),J=p||[],ue=["","",...Array.from(new Set(J.map(S=>S.category).filter(S=>S&&S.trim()!=="")))],pe=new Set;J.forEach(S=>{Array.isArray(S.recipient)?S.recipient.forEach(D=>{D&&D.trim()!==""&&pe.add(D.trim())}):S.recipient&&S.recipient.trim()!==""&&pe.add(S.recipient.trim())});const ne=["","",...Array.from(pe)],ye=[...J].filter(S=>{const D=S.category&&S.category.trim()!==""?S.category:"",k=_===""?!0:D===_;let V=!0;if(A!==""){const R=Array.isArray(S.recipient)?S.recipient.map(Xe=>Xe.trim()).filter(Xe=>Xe.length>0):S.recipient&&S.recipient.trim()!==""?[S.recipient.trim()]:[];A===""?V=R.length===0:V=R.includes(A)}return k&&V}).sort((S,D)=>P==="category"?(S.category||"").localeCompare(D.category||"","zh-Hant"):S.checked!==D.checked?S.checked?1:-1:S.createdAt.localeCompare(D.createdAt)),_e=J.filter(S=>S.checked).length,fe=J.length,I=S=>{try{if(!S)return null;const D=new URL(S);return D.protocol==="http:"||D.protocol==="https:"?S:null}catch{return null}},x=S=>(Array.isArray(S.recipient)?S.recipient.map(k=>k.trim()).filter(k=>k.length>0):S.recipient&&S.recipient.trim()!==""?[S.recipient.trim()]:[]).map((k,V)=>g.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 bg-indigo-100/80 px-2 py-0.5 rounded-md border border-indigo-200/50",children:[": ",k]},V));return g.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[g.jsx(Yh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY||50,coverScale:s?.coverScale||1}),g.jsxs("div",{className:"px-6 mt-4",children:[g.jsxs("div",{className:`${xn} rounded-[2.5rem] p-6 mb-6`,children:[g.jsxs("div",{className:"flex justify-between items-end mb-4",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),g.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[fe>0?Math.round(_e/fe*100):0,"%"]})]}),g.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:g.jsx(Ah,{size:24,strokeWidth:3})})]}),g.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:g.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${fe>0?_e/fe*100:0}%`}})})]}),g.jsxs("div",{className:"mb-4 space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between px-1",children:[g.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:":"}),g.jsx("button",{onClick:()=>K(P==="category"?"createdAt":"category"),className:`p-2 rounded-xl transition-all shrink-0 border ${P==="category"?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40 hover:bg-white/80"}`,title:P==="category"?"":"",children:g.jsx(mw,{size:18})})]}),g.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:ue.map(S=>g.jsx("button",{onClick:()=>T(S),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${_===S?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:S===""?"":S},S))}),g.jsx("div",{className:"px-1",children:g.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:":"})}),g.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-1",children:ne.map(S=>g.jsx("button",{onClick:()=>N(S),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${A===S?"bg-indigo-500 text-white border-indigo-500 shadow-md shadow-indigo-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:S},S))})]}),g.jsx("div",{className:"space-y-4 pb-4",children:ye.length===0?g.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""}):ye.map(S=>g.jsxs("div",{className:`group flex p-3 rounded-[1.5rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${S.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,onClick:()=>r(S.id),children:[g.jsx("div",{className:"flex items-center shrink-0 cursor-pointer",children:S.image?g.jsxs("div",{className:"w-10 h-10 rounded-lg overflow-hidden mr-3 relative shadow-md border border-white/50",children:[g.jsx("img",{src:S.image,alt:S.item,className:`w-full h-full object-cover transition-all ${S.checked?"opacity-50":"opacity-100"}`,onError:D=>{D.target.style.display="none",D.target.parentElement.classList.add("bg-gray-200")}}),g.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${S.checked?"opacity-100 bg-pink-500/60 text-white":"opacity-0"}`,children:g.jsx(Sh,{size:20,strokeWidth:3})})]}):g.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-3 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${S.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:g.jsx(m2,{size:18,strokeWidth:3})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[S.link?g.jsxs("a",{href:I(S.link),target:"_blank",rel:"noopener noreferrer",onClick:D=>D.stopPropagation(),className:`font-bold text-base transition-all tracking-tight hover:underline flex items-center gap-1 ${S.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:[S.item," ",g.jsx(Vw,{size:14,className:"text-pink-500/80 shrink-0"})]}):g.jsx("span",{className:`font-bold text-base transition-all tracking-tight cursor-pointer ${S.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:S.item}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[S.category&&g.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:S.category}),x(S),S.note&&g.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:S.note})]})]}),g.jsxs("div",{className:"flex items-center gap-1 z-20 shrink-0",children:[S.image&&g.jsx("button",{onClick:D=>{D.stopPropagation(),y(S.image)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-pink-500 hover:bg-pink-100/50 transition-all active:scale-90",title:"",children:g.jsx(zm,{size:16})}),g.jsx("button",{onClick:D=>{D.stopPropagation(),u("shopping",S)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(Pm,{size:16})}),g.jsx("button",{onClick:D=>{D.stopPropagation(),l(S.id)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(cc,{size:16})})]})]},S.id))})]})]})},i4=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:r,requestDeletePacking:l,openEditModal:u,onScroll:d,packingItems:p,setImageViewerImage:y})=>{const _=p||[],T=_.filter(P=>P.checked).length,A=_.length,N=[..._].sort((P,K)=>P.checked!==K.checked?P.checked?1:-1:0);return g.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[g.jsx(Yh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY||50,coverScale:s?.coverScale||1}),g.jsxs("div",{className:"px-6 mt-4",children:[g.jsxs("div",{className:`${xn} rounded-[2.5rem] p-6 mb-8`,children:[g.jsxs("div",{className:"flex justify-between items-end mb-4",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),g.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[A>0?Math.round(T/A*100):0,"%"]})]}),g.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:g.jsx(Ah,{size:24,strokeWidth:3})})]}),g.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:g.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${A>0?T/A*100:0}%`}})})]}),g.jsx("div",{className:"space-y-4",children:N.map(P=>g.jsxs("div",{className:`group flex p-3 rounded-[1.5rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${P.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,onClick:()=>r(P.id),children:[g.jsx("div",{className:"flex items-center shrink-0",children:g.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-3 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${P.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:P.checked?g.jsx(Sh,{size:18,strokeWidth:3}):g.jsx(oc,{size:18})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("span",{className:`font-bold text-base transition-all tracking-tight cursor-pointer ${P.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:P.item}),g.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:P.category})]}),g.jsxs("div",{className:"flex items-center gap-1 z-20 shrink-0",children:[g.jsx("button",{onClick:K=>{K.stopPropagation(),u("packing",P)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(Pm,{size:16})}),g.jsx("button",{onClick:K=>{K.stopPropagation(),l(P.id)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(cc,{size:16})})]})]},P.id))})]})]})},s4=({activeTab:s,setActiveTab:e,isVisible:i})=>g.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ease-in-out ${i?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:g.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[g.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(Pw,{size:24,strokeWidth:3})}),g.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(e2,{size:24,strokeWidth:3})}),g.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(lc,{size:24,strokeWidth:3})}),g.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(oc,{size:24,strokeWidth:3})})]})});function r4(){const[s,e]=oe.useState("home"),[i,r]=oe.useState(null),[l,u]=oe.useState(!1),[d,p]=oe.useState(!0),y=oe.useRef(0),[_,T]=oe.useState([]),[A,N]=oe.useState(null),[P,K]=oe.useState([]),[J,W]=oe.useState([]),[ue,pe]=oe.useState(!1),[ne,ye]=oe.useState(!1),[_e,fe]=oe.useState(!1),[I,x]=oe.useState(!1),[S,D]=oe.useState(!1),[k,V]=oe.useState(!1),[R,Xe]=oe.useState(null),[Et,F]=oe.useState(!1),[ie,ve]=oe.useState(null),[Ge,Ke]=oe.useState(null),[M,Y]=oe.useState(null),[te,ae]=oe.useState({show:!1,type:null,id:null,name:""}),[be,xe]=oe.useState({show:!1,message:"",type:"success"}),je=oe.useRef({}),Ve=(se,de="success")=>{xe({show:!0,message:se,type:de})},nt=se=>{const de=se.currentTarget.scrollTop,ge=de-y.current;Math.abs(ge)>10&&(ge>0?p(!1):p(!0),y.current=de)};oe.useEffect(()=>{p(!0)},[s]),oe.useEffect(()=>{if(!Hl)return;const se=CC(Hl,de=>{r(de),de&&Ve(` ${de.email}`),u(!0)});return()=>se()},[]);const Gi=async(se,de)=>{pe(!0);try{await xC(Hl,se,de)}catch(ge){console.error(ge);let re="";ge.code==="auth/invalid-credential"&&(re=""),ge.code==="auth/user-not-found"&&(re=""),ge.code==="auth/wrong-password"&&(re=""),Ve(re,"error")}finally{pe(!1)}},vs=async()=>{window.confirm("")&&(await NC(Hl),T([]),N(null),K([]),W([]),Ve(""))};oe.useEffect(()=>{if(!i||!vt)return;const se=rr(vt,"users",i.uid,"trips"),de=sm(se,ge=>{const re=ge.docs.map(Ye=>({id:Ye.id,...Ye.data()}));re.sort((Ye,Ue)=>{const De=new Date(Ye.date).getTime()||0,Gt=new Date(Ue.date).getTime()||0;return De-Gt}),T(re),re.length>0?N(Ye=>Ye&&re.find(Ue=>Ue.id===Ye)?Ye:re[0].id):N(null)},ge=>{console.error("Firestore Error:",ge),Ve("","error")});return()=>de()},[i]),oe.useEffect(()=>{if(!i||!vt||!A){K([]);return}const se=rr(vt,"users",i.uid,"trips",A,"shoppingItems"),de=Sv(se,Av("createdAt","asc")),ge=sm(de,re=>{const Ye=re.docs.map(Ue=>({id:Ue.id,...Ue.data()}));K(Ye)},re=>{console.error("Shopping list read error:",re)});return()=>ge()},[i,A]),oe.useEffect(()=>{if(!i||!vt||!A){W([]);return}const se=rr(vt,"users",i.uid,"trips",A,"packingItems"),de=Sv(se,Av("createdAt","asc")),ge=sm(de,re=>{const Ye=re.docs.map(Ue=>({id:Ue.id,...Ue.data()}));W(Ye)},re=>{console.error("Packing list read error:",re)});return()=>ge()},[i,A]);const Ft=_.find(se=>se.id===A)||null,bs=se=>{if(se)try{const de={...se,shoppingList:P,packingList:J},{id:ge,...re}=de,Ye=JSON.stringify(re,null,2),Ue=new Blob([Ye],{type:"application/json"}),De=URL.createObjectURL(Ue),Gt=document.createElement("a");Gt.href=De;const _i=(se.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");Gt.download=`${_i}_export.json`,document.body.appendChild(Gt),Gt.click(),document.body.removeChild(Gt),URL.revokeObjectURL(De),Ve("")}catch(de){console.error("Export failed",de),Ve("","error")}},Pn=async(se,de)=>{if(!vt||!i)return;pe(!0);const ge=new Promise(re=>setTimeout(()=>re("timeout"),8e3));try{let re=[];if(de==="url"){const De=await fetch(se);if(!De.ok)throw new Error("Network error");const Gt=await De.json();re=Array.isArray(Gt)?Gt:[Gt]}else{const De=JSON.parse(se);re=Array.isArray(De)?De:[De]}const Ye=rr(vt,"users",i.uid,"trips"),Ue=Promise.all(re.map(async De=>{const{id:Gt,shoppingList:_i=[],packingList:dn=[],...Rn}=De,jo={...HN,...Rn},vi=await jl(Ye,jo),kr=rr(vi,"shoppingItems");await Promise.all(_i.map(Wn=>{const{id:ei,...on}=Wn;return jl(kr,{...on,link:on.link||"",image:on.image||"",recipient:Array.isArray(on.recipient)?on.recipient:on.recipient?[on.recipient]:[],createdAt:new Date().toISOString()})}));const Or=rr(vi,"packingItems");await Promise.all(dn.map(Wn=>{const{id:ei,...on}=Wn;return jl(Or,{item:on.item,category:on.category||"",checked:on.checked||!1,createdAt:new Date().toISOString()})}))}));await Promise.race([Ue,ge]),D(!1),V(!1),Ve(` ${re.length} `)}catch(re){console.error("Import failed",re),Ve("","error")}finally{pe(!1)}},Es=se=>{ve(se),Y(se),F(!0)},Yi=async(se,de)=>{if(!(!vt||!i))try{const ge=lo(vt,"users",i.uid,"trips",se);await Qu(ge,de),F(!1),ve(null),Y(null),Ve("")}catch(ge){console.error("Save failed",ge),Ve("","error")}},Cr=async()=>{const{type:se,id:de}=te;if(!(!vt||!i||!A))try{let ge;if(se==="shopping")ge="shoppingItems";else if(se==="packing")ge="packingItems";else return;const re=lo(vt,"users",i.uid,"trips",A,ge,de);await RI(re),Ve("")}catch(ge){console.error("Delete item failed",ge),Ve("","error")}finally{ae({show:!1,type:null,id:null,name:""})}},Ts=(se,de,ge)=>{ae({show:!0,type:se,id:de,name:ge})},Tt=async(se,de)=>{if(!(!vt||!i||!A||!se.trim()))try{const ge=rr(vt,"users",i.uid,"trips",A,"packingItems");await jl(ge,{item:se,checked:!1,category:de||"",createdAt:new Date().toISOString()}),x(!1),Ve("")}catch(ge){console.error("Add packing item failed",ge),Ve("","error")}},At=async se=>{if(!(!vt||!i||!A))try{const de=lo(vt,"users",i.uid,"trips",A,"packingItems",se),ge=J.find(re=>re.id===se);ge&&await Qu(de,{checked:!ge.checked})}catch(de){console.error("Toggle packing item failed",de),Ve("","error")}},gi=async(se,de,ge,re,Ye,Ue)=>{if(!(!vt||!i||!A||!se.trim()))try{const De=rr(vt,"users",i.uid,"trips",A,"shoppingItems");await jl(De,{item:se,category:de||"",note:ge,link:re||"",image:Ye||"",recipient:Ue||[],checked:!1,createdAt:new Date().toISOString()}),fe(!1),Ve("")}catch(De){console.error("Add shopping item failed",De),Ve("","error")}},Vo=async se=>{if(!(!vt||!i||!A))try{const de=lo(vt,"users",i.uid,"trips",A,"shoppingItems",se),ge=P.find(re=>re.id===se);ge&&await Qu(de,{checked:!ge.checked})}catch(de){console.error("Toggle shopping item failed",de),Ve("","error")}},ws=(se,de)=>Xe({type:se,data:{...de}}),Xt=async se=>{if(!R||!vt||!i||!A)return;const{type:de}=R,ge=de==="shopping"?"shoppingItems":"packingItems";try{const re=lo(vt,"users",i.uid,"trips",A,ge,se.id),{id:Ye,createdAt:Ue,...De}=se;ge==="packingItems"?(delete De.link,delete De.image,delete De.recipient):ge==="shoppingItems"&&(De.recipient=Array.isArray(De.recipient)?De.recipient:De.recipient?[De.recipient]:[]),await Qu(re,De),Xe(null),Ve("")}catch{console.error("","error"),Ve("","error")}},Qi=se=>{if(!se||se==="----/--/--")return 0;const de=new Date,re=new Date(se)-de;return Math.ceil(re/(1e3*60*60*24))>0?Math.ceil(re/(1e3*60*60*24)):0},Ss=se=>{if(!se||!se.days)return null;const de=new Date;let ge=null,re=1/0;return se.days.forEach(Ye=>{const Ue=new Date(se.date);Ue.setDate(Ue.getDate()+(Ye.day-1)),de.toDateString()===Ue.toDateString()&&Ye.activities.forEach(De=>{const[Gt,_i]=De.time.split(":"),dn=new Date(Ue);dn.setHours(Gt,_i,0,0);const Rn=de-dn;Rn>=0&&Rn<re&&(re=Rn,ge=De.id)})}),ge};oe.useEffect(()=>{if(s==="itinerary"&&Ft&&Ft.days){const se=Ss(Ft);se&&je.current[se]&&setTimeout(()=>{je.current[se].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Ft]);const yi=oe.useRef(null),Un=oe.useRef(null),[As,Nr]=oe.useState(0),[xs,Dr]=oe.useState(!1),Zt=["home","itinerary","shopping","packing"],ft=Zt.indexOf(s),gn=80,_t=se=>{ne||_e||I||S||k||R||Et||te.show||(yi.current=se.targetTouches[0].clientX,Un.current=se.targetTouches[0].clientY,Dr(!0))},ya=se=>{if(!xs||yi.current===null)return;const de=se.targetTouches[0].clientX,ge=se.targetTouches[0].clientY,re=de-yi.current,Ye=ge-Un.current;if(Math.abs(Ye)>Math.abs(re))return;let Ue=re;ft===0&&re>0&&(Ue=re*.3),ft===Zt.length-1&&re<0&&(Ue=re*.3),Nr(Ue)},Rs=()=>{xs&&(Math.abs(As)>gn&&(As>0&&ft>0?e(Zt[ft-1]):As<0&&ft<Zt.length-1&&e(Zt[ft+1])),Dr(!1),Nr(0),yi.current=null,Un.current=null)};return l?i?g.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[g.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),g.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),g.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),g.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),g.jsx("style",{children:`
        /*   CSS */
        body { 
          -webkit-tap-highlight-color: transparent; 
          overscroll-behavior-y: none; 
          -webkit-text-size-adjust: 100%; 
          min-width: 320px; 
          max-width: 100vw;
        } 
        #root { 
          min-width: 100vw; 
          height: 100vh;
        }
        
        .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } 
        .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } 
        
        @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } 
        .animate-blob { animation: blob 10s infinite; } 
        .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } 
        @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } 
        .animation-delay-2000 { animation-delay: 2s; } 
        .animation-delay-4000 { animation-delay: 4s; } 
        .scrollbar-hide::-webkit-scrollbar { display: none; } 
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      `}),g.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:_t,onTouchMove:ya,onTouchEnd:Rs,children:[be.show&&g.jsx($v,{message:be.message,type:be.type,onClose:()=>xe({...be,show:!1})}),ne&&g.jsx($N,{onClose:()=>ye(!1),flights:Ft?Ft.flights:[]}),_e&&g.jsx(XN,{onClose:()=>fe(!1),onAdd:gi}),I&&g.jsx(ZN,{onClose:()=>x(!1),onAdd:Tt}),S&&g.jsx(KN,{onClose:()=>D(!1),onImport:Pn,isLoading:ue}),R&&g.jsx(JN,{editingState:R,onClose:()=>Xe(null),onSave:Xt,onImageView:Ke}),Et&&ie&&g.jsx(YN,{trip:ie,onClose:()=>{F(!1),Y(null)},onSave:Yi,onPreviewChange:Y}),k&&g.jsx(QN,{trips:_,activeTripId:A,onSelectTrip:se=>{N(se),V(!1),e("home")},onDeleteTrip:se=>{window.confirm("")&&handleDeleteTrip(se)},onExportTrip:bs,onEditTrip:Es,onOpenImport:()=>D(!0),onClose:()=>V(!1),userEmail:i.email,onLogout:vs}),g.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${ft*100}vw + ${As}px))`,transition:xs?"none":"transform 0.3s ease-out"},children:[g.jsx(e4,{trips:_,currentTrip:Ft,calculateDaysLeft:Qi,setActiveTab:e,setShowFlightModal:ye,openEditModal:ws,setShowTripListModal:V,onEditCurrentTrip:()=>Es(Ft),onScroll:nt,previewTrip:M,shoppingItems:P,packingItems:J}),g.jsx(t4,{currentTrip:Ft,setActiveTab:e,setShowFlightModal:ye,getCurrentActivityId:Ss,activityRefs:je,onScroll:nt}),g.jsx(n4,{currentTrip:Ft,setActiveTab:e,setShowAddShoppingModal:fe,toggleShoppingItem:Vo,requestDeleteShopping:Ts,openEditModal:ws,onScroll:nt,shoppingItems:P,setImageViewerImage:Ke}),g.jsx(i4,{currentTrip:Ft,setActiveTab:e,setShowAddPackingModal:x,togglePackingItem:At,requestDeletePacking:Ts,openEditModal:ws,onScroll:nt,packingItems:J,setImageViewerImage:Ke})]}),g.jsx(FN,{image:Ge,onClose:()=>Ke(null)}),te.show&&g.jsx(GN,{title:"",message:`${te.name}`,onConfirm:Cr,onCancel:()=>ae({...te,show:!1})}),g.jsx(s4,{activeTab:s,setActiveTab:e,isVisible:d})]})]}):g.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[be.show&&g.jsx($v,{message:be.message,type:be.type,onClose:()=>xe({...be,show:!1})}),g.jsx(WN,{onLogin:Gi,isLoading:ue})]}):g.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[g.jsx(Ao,{className:"animate-spin text-gray-600 mb-4",size:32}),g.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}ow.createRoot(document.getElementById("root")).render(g.jsx(oe.StrictMode,{children:g.jsx(r4,{})}));
