(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},_l={};var z0;function CT(){if(z0)return _l;z0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var B0;function IT(){return B0||(B0=1,kd.exports=CT()),kd.exports}var E=IT(),Vd={exports:{}},Tt={};var q0;function NT(){if(q0)return Tt;q0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,Z={};function ft(O,K,tt){this.props=O,this.context=K,this.refs=Z,this.updater=tt||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function vt(){}vt.prototype=ft.prototype;function pt(O,K,tt){this.props=O,this.context=K,this.refs=Z,this.updater=tt||J}var qt=pt.prototype=new vt;qt.constructor=pt,it(qt,ft.prototype),qt.isPureReactComponent=!0;var se=Array.isArray;function It(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,K,tt){var st=tt.ref;return{$$typeof:s,type:O,key:K,ref:st!==void 0?st:null,props:tt}}function k(O,K){return R(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return K[tt]})}var x=/\/+/g;function ae(O,K){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):K.toString(36)}function Qt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(It,It):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,tt,st,mt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case s:case t:Mt=!0;break;case w:return Mt=O._init,H(Mt(O._payload),K,tt,st,mt)}}if(Mt)return mt=mt(O),Mt=st===""?"."+ae(O,0):st,se(mt)?(tt="",Mt!=null&&(tt=Mt.replace(x,"$&/")+"/"),H(mt,K,tt,"",function(_t){return _t})):mt!=null&&(N(mt)&&(mt=k(mt,tt+(mt.key==null||O&&O.key===mt.key?"":(""+mt.key).replace(x,"$&/")+"/")+Mt)),K.push(mt)),1;Mt=0;var ge=st===""?".":st+":";if(se(O))for(var nt=0;nt<O.length;nt++)st=O[nt],St=ge+ae(st,nt),Mt+=H(st,K,tt,St,mt);else if(nt=F(O),typeof nt=="function")for(O=nt.call(O),nt=0;!(st=O.next()).done;)st=st.value,St=ge+ae(st,nt++),Mt+=H(st,K,tt,St,mt);else if(St==="object"){if(typeof O.then=="function")return H(Qt(O),K,tt,st,mt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(O,K,tt){if(O==null)return O;var st=[],mt=0;return H(O,st,"","",function(St){return K.call(tt,St,mt++)}),st}function ut(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ot=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:et,forEach:function(O,K,tt){et(O,function(){K.apply(this,arguments)},tt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=S,Tt.Children=Ht,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=pt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=it({},O.props),mt=O.key;if(K!=null)for(St in K.key!==void 0&&(mt=""+K.key),K)!A.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=tt;else if(1<St){for(var Mt=Array(St),ge=0;ge<St;ge++)Mt[ge]=arguments[ge+2];st.children=Mt}return R(O.type,mt,st)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,K,tt){var st,mt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)A.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(mt[st]=K[st]);var Mt=arguments.length-2;if(Mt===1)mt.children=tt;else if(1<Mt){for(var ge=Array(Mt),nt=0;nt<Mt;nt++)ge[nt]=arguments[nt+2];mt.children=ge}if(O&&O.defaultProps)for(st in Mt=O.defaultProps,Mt)mt[st]===void 0&&(mt[st]=Mt[st]);return R(O,St,mt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=N,Tt.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ut}},Tt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=I.T,tt={};I.T=tt;try{var st=O(),mt=I.S;mt!==null&&mt(tt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,Ot)}catch(St){Ot(St)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),I.T=K}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(O){return I.H.use(O)},Tt.useActionState=function(O,K,tt){return I.H.useActionState(O,K,tt)},Tt.useCallback=function(O,K){return I.H.useCallback(O,K)},Tt.useContext=function(O){return I.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return I.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(O,K,tt){return I.H.useImperativeHandle(O,K,tt)},Tt.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return I.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,tt){return I.H.useReducer(O,K,tt)},Tt.useRef=function(O){return I.H.useRef(O)},Tt.useState=function(O){return I.H.useState(O)},Tt.useSyncExternalStore=function(O,K,tt){return I.H.useSyncExternalStore(O,K,tt)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.0",Tt}var H0;function Rm(){return H0||(H0=1,Vd.exports=NT()),Vd.exports}var zt=Rm(),Ld={exports:{}},vl={},jd={exports:{}},Pd={};var G0;function DT(){return G0||(G0=1,(function(s){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var Ot=ut-1>>>1,Ht=H[Ot];if(0<l(Ht,et))H[Ot]=et,H[ut]=Ht,ut=Ot;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var Ot=0,Ht=H.length,O=Ht>>>1;Ot<O;){var K=2*(Ot+1)-1,tt=H[K],st=K+1,mt=H[st];if(0>l(tt,ut))st<Ht&&0>l(mt,tt)?(H[Ot]=mt,H[st]=ut,Ot=st):(H[Ot]=tt,H[K]=ut,Ot=K);else if(st<Ht&&0>l(mt,ut))H[Ot]=mt,H[st]=ut,Ot=st;else break t}}return et}function l(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],w=1,S=null,M=3,F=!1,J=!1,it=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function qt(H){for(var et=i(y);et!==null;){if(et.callback===null)a(y);else if(et.startTime<=H)a(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function se(H){if(it=!1,qt(H),!J)if(i(_)!==null)J=!0,It||(It=!0,V());else{var et=i(y);et!==null&&Qt(se,et.startTime-H)}}var It=!1,I=-1,A=5,R=-1;function k(){return Z?!0:!(s.unstable_now()-R<A)}function N(){if(Z=!1,It){var H=s.unstable_now();R=H;var et=!0;try{t:{J=!1,it&&(it=!1,vt(I),I=-1),F=!0;var ut=M;try{e:{for(qt(H),S=i(_);S!==null&&!(S.expirationTime>H&&k());){var Ot=S.callback;if(typeof Ot=="function"){S.callback=null,M=S.priorityLevel;var Ht=Ot(S.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,qt(H),et=!0;break e}S===i(_)&&a(_),qt(H)}else a(_);S=i(_)}if(S!==null)et=!0;else{var O=i(y);O!==null&&Qt(se,O.startTime-H),et=!1}}break t}finally{S=null,M=ut,F=!1}et=void 0}}finally{et?V():It=!1}}}var V;if(typeof pt=="function")V=function(){pt(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ae=x.port2;x.port1.onmessage=N,V=function(){ae.postMessage(null)}}else V=function(){ft(N,0)};function Qt(H,et){I=ft(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ut=M;M=et;try{return H()}finally{M=ut}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return et()}finally{M=ut}},s.unstable_scheduleCallback=function(H,et,ut){var Ot=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ot+ut:Ot):ut=Ot,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:w++,callback:et,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Ot?(H.sortIndex=ut,t(y,H),i(_)===null&&H===i(y)&&(it?(vt(I),I=-1):it=!0,Qt(se,ut-Ot))):(H.sortIndex=Ht,t(_,H),J||F||(J=!0,It||(It=!0,V()))),H},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(H){var et=M;return function(){var ut=M;M=et;try{return H.apply(this,arguments)}finally{M=ut}}}})(Pd)),Pd}var F0;function OT(){return F0||(F0=1,jd.exports=DT()),jd.exports}var Ud={exports:{}},nn={};var Q0;function MT(){if(Q0)return nn;Q0=1;var s=Rm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:w}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,w)},nn.flushSync=function(_){var y=d.T,w=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=w,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var w=y.as,S=p(w,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):w==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,S=p(w,y.crossOrigin);a.d.L(_,w,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var w=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,w){return d.H.useFormState(_,y,w)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var K0;function kT(){if(K0)return Ud.exports;K0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=MT(),Ud.exports}var Y0;function VT(){if(Y0)return vl;Y0=1;var s=OT(),t=Rm(),i=kT();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,b=h.child;b;){if(b===r){g=!0,r=h,o=f;break}if(b===o){g=!0,o=h,r=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===r){g=!0,r=f,o=h;break}if(b===o){g=!0,o=f,r=h;break}b=b.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function w(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=w(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case se:return"Suspense";case It:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case pt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var Qt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ot=[],Ht=-1;function O(e){return{current:e}}function K(e){0>Ht||(e.current=Ot[Ht],Ot[Ht]=null,Ht--)}function tt(e,n){Ht++,Ot[Ht]=e.current,e.current=n}var st=O(null),mt=O(null),St=O(null),Mt=O(null);function ge(e,n){switch(tt(St,n),tt(mt,e),tt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?u0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=u0(n),e=c0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),tt(st,e)}function nt(){K(st),K(mt),K(St)}function _t(e){e.memoizedState!==null&&tt(Mt,e);var n=st.current,r=c0(n,e.type);n!==r&&(tt(mt,e),tt(st,r))}function Et(e){mt.current===e&&(K(st),K(mt)),Mt.current===e&&(K(Mt),ml._currentValue=ut)}var Ct,me;function ve(e){if(Ct===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ct=n&&n[1]||"",me=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+e+me}var Ve=!1;function en(e,n){if(!e||Ve)return"";Ve=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var C=g.split(`
`),U=b.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var G=`
`+C[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ve=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ve(r):""}function Pi(e,n){switch(e.tag){case 26:case 27:case 5:return ve(e.type);case 16:return ve("Lazy");case 13:return e.child!==n&&n!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return en(e.type,!1);case 11:return en(e.type.render,!1);case 1:return en(e.type,!0);case 31:return ve("Activity");default:return""}}function oi(e){try{var n="",r=null;do n+=Pi(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var he=Object.prototype.hasOwnProperty,Le=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,Vh=s.unstable_shouldYield,tu=s.unstable_requestPaint,ln=s.unstable_now,dr=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,_o=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Lh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,Fn=null,Qe=null;function Nn(e){if(typeof nu=="function"&&iu(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Fn,e)}catch{}}var Ee=Math.clz32?Math.clz32:ru,su=Math.log,ea=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/ea|0)|0}var li=256,mr=262144,Ae=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=ui(o):(g&=b,g!==0?h=ui(g):r||(r=b&~e,r!==0&&(h=ui(r))))):(b=o&~f,b!==0?h=ui(b):g!==0?h=ui(g):r||(r=o&~e,r!==0&&(h=ui(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function hi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(r=g&~r;0<r;){var G=31-Ee(r),Y=1<<G;b[G]=0,C[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&gr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function gr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ee(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function vo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ee(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Eo(e,n){var r=n&-n;return r=(r&42)!==0?1:yr(r),(r&(e.suspendedLanes|n))!==0?0:r}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:M0(e.type))}function Kn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var Yn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Yn,Be="__reactProps$"+Yn,fi="__reactContainer$"+Yn,na="__reactEvents$"+Yn,Uh="__reactListeners$"+Yn,lu="__reactHandles$"+Yn,uu="__reactResources$"+Yn,di="__reactMarker$"+Yn;function ia(e){delete e[Re],delete e[Be],delete e[na],delete e[Uh],delete e[lu]}function mi(e){var n=e[Re];if(n)return n;for(var r=e.parentNode;r;){if(n=r[fi]||r[Re]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=y0(e);e!==null;){if(r=e[Re])return r;e=y0(e)}return n}e=r,r=e.parentNode}return null}function Dn(e){if(e=e[Re]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[di]=!0}var bo=new Set,To={};function gi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(To[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},Ao={};function cu(e){return he.call(Ao,e)?!0:he.call(So,e)?!1:wo.test(e)?Ao[e]=!0:(So[e]=!0,!1)}function sa(e,n,r){if(cu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function bn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ce(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ms(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=ms(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ms(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function hn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,r,o,h,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?xo(e,g,qe(n)):r!=null?xo(e,g,qe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+qe(b):e.removeAttribute("name")}function hu(e,n,r,o,h,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}r=r!=null?""+qe(r):"",n=n!=null?""+qe(n):r,b||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function xo(e,n,r){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ps(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+qe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,r){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+qe(r):""}function gs(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Qt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=qe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),$t(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Io(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return ys.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var No=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,vi=null;function Er(e){var n=Dn(e);if(n&&(e=n.stateNode)){var r=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&_r(o)}break t;case"textarea":fu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ps(e,!!r.multiple,n,!1)}}}var la=!1;function vs(e,n,r){if(la)return e(n,r);la=!0;try{var o=e(n);return o}finally{if(la=!1,(_s!==null||vi!==null)&&(oc(),_s&&(n=_s,e=vi,vi=_s=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function $n(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Be]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Mn)try{var te={};Object.defineProperty(te,"passive",{get:function(){br=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{br=!1}var Ei=null,Do=null,Tr=null;function Oo(){if(Tr)return Tr;var e,n=Do,r=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Tr=h.slice(e,1<o?1-o:void 0)}function wr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Zn(){return!1}function Ke(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Zn,this.isPropagationStopped=Zn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ke(Bi),Es=S({},Bi,{view:0,detail:0}),Mo=Ke(Es),bs,ua,Ti,ca=S({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(bs=e.screenX-Ti.screenX,ua=e.screenY-Ti.screenY):ua=bs=0,Ti=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),ko=Ke(ca),Sr=S({},ca,{dataTransfer:0}),pu=Ke(Sr),gu=S({},Es,{relatedTarget:0}),Ar=Ke(gu),Vo=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Ke(Vo),ha=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Ke(ha),vu=S({},Bi,{data:0}),wi=Ke(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Ts(){return wu}var un=S({},Es,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Ke(un),Au=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Ke(Au),u=S({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=Ke(u),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ke(v),j=S({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ke(j),W=S({},Bi,{newState:0,oldState:0}),At=Ke(W),be=[9,13,27,32],Kt=Mn&&"CompositionEvent"in window,fe=null;Mn&&"documentMode"in document&&(fe=document.documentMode);var kn=Mn&&"TextEvent"in window&&!fe,Si=Mn&&(!Kt||fe&&8<fe&&11>=fe),Jn=" ",Wn=!1;function Rr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function J1(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Wn=!0,Jn);case"textInput":return e=n.data,e===Jn&&Wn?null:e;default:return null}}function W1(e,n){if(da)return e==="compositionend"||!Kt&&Rr(e,n)?(e=Oo(),Tr=Do=Ei=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!tb[e.type]:n==="textarea"}function bp(e,n,r,o){_s?vi?vi.push(o):vi=[o]:_s=o,n=mc(n,"onChange"),0<n.length&&(r=new bi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Lo=null,jo=null;function eb(e){i0(e,0)}function Ru(e){var n=En(e);if(_r(n))return e}function Tp(e,n){if(e==="change")return n}var wp=!1;if(Mn){var zh;if(Mn){var Bh="oninput"in document;if(!Bh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Bh=typeof Sp.oninput=="function"}zh=Bh}else zh=!1;wp=zh&&(!document.documentMode||9<document.documentMode)}function Ap(){Lo&&(Lo.detachEvent("onpropertychange",Rp),jo=Lo=null)}function Rp(e){if(e.propertyName==="value"&&Ru(jo)){var n=[];bp(n,jo,e,On(e)),vs(eb,n)}}function nb(e,n,r){e==="focusin"?(Ap(),Lo=n,jo=r,Lo.attachEvent("onpropertychange",Rp)):e==="focusout"&&Ap()}function ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(jo)}function sb(e,n){if(e==="click")return Ru(n)}function rb(e,n){if(e==="input"||e==="change")return Ru(n)}function ab(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:ab;function Po(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!he.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,n){var r=xp(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=xp(r)}}function Ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=_i(e.document)}return n}function qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ob=Mn&&"documentMode"in document&&11>=document.documentMode,ma=null,Hh=null,Uo=null,Gh=!1;function Dp(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||ma==null||ma!==_i(o)||(o=ma,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Po(Uo,o)||(Uo=o,o=mc(Hh,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ma)))}function xr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var pa={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Fh={},Op={};Mn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Cr(e){if(Fh[e])return Fh[e];if(!pa[e])return e;var n=pa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Op)return Fh[e]=n[r];return e}var Mp=Cr("animationend"),kp=Cr("animationiteration"),Vp=Cr("animationstart"),lb=Cr("transitionrun"),ub=Cr("transitionstart"),cb=Cr("transitioncancel"),Lp=Cr("transitionend"),jp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ti(e,n){jp.set(e,n),gi(n,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],ga=0,Kh=0;function Cu(){for(var e=ga,n=Kh=ga=0;n<e;){var r=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Pp(r,h,f)}}function Iu(e,n,r,o){Vn[ga++]=e,Vn[ga++]=n,Vn[ga++]=r,Vn[ga++]=o,Kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Yh(e,n,r,o){return Iu(e,n,r,o),Nu(e)}function Ir(e,n){return Iu(e,null,null,n),Nu(e)}function Pp(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Nu(e){if(50<ol)throw ol=0,sd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function hb(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,r,o){return new hb(e,n,r,o)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var r=e.alternate;return r===null?(r=wn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Up(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Xh(e)&&(g=1);else if(typeof e=="string")g=gT(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=wn(31,r,n,h),e.elementType=R,e.lanes=f,e;case it:return Nr(r.children,h,f,n);case Z:g=8,h|=24;break;case ft:return e=wn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case se:return e=wn(13,r,n,h),e.elementType=se,e.lanes=f,e;case It:return e=wn(19,r,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case vt:g=9;break t;case qt:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=wn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Nr(e,n,r,o){return e=wn(7,e,o,n),e.lanes=r,e}function $h(e,n,r){return e=wn(6,e,null,n),e.lanes=r,e}function zp(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,r){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bp=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var r=Bp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:oi(n)},Bp.set(e,n),n)}return{value:e,source:n,stack:oi(n)}}var _a=[],va=0,Ou=null,zo=0,jn=[],Pn=0,ws=null,Ai=1,Ri="";function Gi(e,n){_a[va++]=zo,_a[va++]=Ou,Ou=e,zo=n}function qp(e,n,r){jn[Pn++]=Ai,jn[Pn++]=Ri,jn[Pn++]=ws,ws=e;var o=Ai;e=Ri;var h=32-Ee(o)-1;o&=~(1<<h),r+=1;var f=32-Ee(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-Ee(n)+h|r<<h|o,Ri=f+e}else Ai=1<<f|r<<h|o,Ri=e}function Jh(e){e.return!==null&&(Gi(e,1),qp(e,1,0))}function Wh(e){for(;e===Ou;)Ou=_a[--va],_a[va]=null,zo=_a[--va],_a[va]=null;for(;e===ws;)ws=jn[--Pn],jn[Pn]=null,Ri=jn[--Pn],jn[Pn]=null,Ai=jn[--Pn],jn[Pn]=null}function Hp(e,n){jn[Pn++]=Ai,jn[Pn++]=Ri,jn[Pn++]=ws,Ai=n.id,Ri=n.overflow,ws=e}var Ye=null,oe=null,Ut=!1,Ss=null,Un=!1,tf=Error(a(519));function As(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Ln(n,e)),tf}function Gp(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Re]=e,n[Be]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<ul.length;r++)Dt(ul[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),gs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||o0(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||As(e,!0)}function Fp(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ye=Ye.return}}function Ea(e){if(e!==Ye)return!1;if(!Ut)return Fp(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||vd(e.type,e.memoizedProps)),r=!r),r&&oe&&As(e),Fp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=g0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=g0(e)}else n===27?(n=oe,Us(e.type)?(e=Sd,Sd=null,oe=e):oe=n):oe=Ye?Bn(e.stateNode.nextSibling):null;return!0}function Dr(){oe=Ye=null,Ut=!1}function ef(){var e=Ss;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Ss=null),e}function Bo(e){Ss===null?Ss=[e]:Ss.push(e)}var nf=O(null),Or=null,Fi=null;function Rs(e,n,r){tt(nf,n._currentValue),n._currentValue=r}function Qi(e){e._currentValue=nf.current,K(nf)}function sf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function rf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=h;for(var C=0;C<n.length;C++)if(b.context===n[C]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),sf(f.return,r,e),o||(g=null);break t}f=b.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),sf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ba(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var b=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&rf(n,e,r,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Qp(Or,e)}function ku(e,n){return Or===null&&Mr(e),Qp(e,n)}function Qp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return r}var fb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},db=s.unstable_scheduleCallback,mb=s.unstable_NormalPriority,Ie={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new fb,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&db(mb,function(){e.controller.abort()})}var Ho=null,of=0,Ta=0,wa=null;function pb(e,n){if(Ho===null){var r=Ho=[];of=0,Ta=cd(),wa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Kp,Kp),n}function Kp(){if(--of===0&&Ho!==null){wa!==null&&(wa.status="fulfilled");var e=Ho;Ho=null,Ta=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gb(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Yp=H.S;H.S=function(e,n){Dy=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pb(e,n),Yp!==null&&Yp(e,n)};var kr=O(null);function lf(){var e=kr.current;return e!==null?e:re.pooledCache}function Vu(e,n){n===null?tt(kr,kr.current):tt(kr,n.pool)}function Xp(){var e=lf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Sa=Error(a(460)),uf=Error(a(474)),Lu=Error(a(542)),ju={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Xn,Xn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e}throw Lr=n,Sa}}function Vr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Lr=r,Sa):r}}var Lr=null;function Jp(){if(Lr===null)throw Error(a(459));var e=Lr;return Lr=null,e}function Wp(e){if(e===Sa||e===Lu)throw Error(a(483))}var Aa=null,Go=0;function Pu(e){var n=Go;return Go+=1,Aa===null&&(Aa=[]),Zp(Aa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tg(e){function n(L,D){if(e){var P=L.deletions;P===null?(L.deletions=[D],L.flags|=16):P.push(D)}}function r(L,D){if(!e)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function o(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=Hi(L,D),L.index=0,L.sibling=null,L}function f(L,D,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<D?(L.flags|=67108866,D):P):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function b(L,D,P,Q){return D===null||D.tag!==6?(D=$h(P,L.mode,Q),D.return=L,D):(D=h(D,P),D.return=L,D)}function C(L,D,P,Q){var ct=P.type;return ct===it?G(L,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Vr(ct)===D.type)?(D=h(D,P.props),Fo(D,P),D.return=L,D):(D=Du(P.type,P.key,P.props,null,L.mode,Q),Fo(D,P),D.return=L,D)}function U(L,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zh(P,L.mode,Q),D.return=L,D):(D=h(D,P.children||[]),D.return=L,D)}function G(L,D,P,Q,ct){return D===null||D.tag!==7?(D=Nr(P,L.mode,Q,ct),D.return=L,D):(D=h(D,P),D.return=L,D)}function Y(L,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,L.mode,P),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Du(D.type,D.key,D.props,null,L.mode,P),Fo(P,D),P.return=L,P;case J:return D=Zh(D,L.mode,P),D.return=L,D;case A:return D=Vr(D),Y(L,D,P)}if(Qt(D)||V(D))return D=Nr(D,L.mode,P,null),D.return=L,D;if(typeof D.then=="function")return Y(L,Pu(D),P);if(D.$$typeof===pt)return Y(L,ku(L,D),P);Uu(L,D)}return null}function z(L,D,P,Q){var ct=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:b(L,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ct?C(L,D,P,Q):null;case J:return P.key===ct?U(L,D,P,Q):null;case A:return P=Vr(P),z(L,D,P,Q)}if(Qt(P)||V(P))return ct!==null?null:G(L,D,P,Q,null);if(typeof P.then=="function")return z(L,D,Pu(P),Q);if(P.$$typeof===pt)return z(L,D,ku(L,P),Q);Uu(L,P)}return null}function q(L,D,P,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(P)||null,b(D,L,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return L=L.get(Q.key===null?P:Q.key)||null,C(D,L,Q,ct);case J:return L=L.get(Q.key===null?P:Q.key)||null,U(D,L,Q,ct);case A:return Q=Vr(Q),q(L,D,P,Q,ct)}if(Qt(Q)||V(Q))return L=L.get(P)||null,G(D,L,Q,ct,null);if(typeof Q.then=="function")return q(L,D,P,Pu(Q),ct);if(Q.$$typeof===pt)return q(L,D,P,ku(D,Q),ct);Uu(D,Q)}return null}function at(L,D,P,Q){for(var ct=null,Gt=null,ot=D,xt=D=0,Vt=null;ot!==null&&xt<P.length;xt++){ot.index>xt?(Vt=ot,ot=null):Vt=ot.sibling;var Ft=z(L,ot,P[xt],Q);if(Ft===null){ot===null&&(ot=Vt);break}e&&ot&&Ft.alternate===null&&n(L,ot),D=f(Ft,D,xt),Gt===null?ct=Ft:Gt.sibling=Ft,Gt=Ft,ot=Vt}if(xt===P.length)return r(L,ot),Ut&&Gi(L,xt),ct;if(ot===null){for(;xt<P.length;xt++)ot=Y(L,P[xt],Q),ot!==null&&(D=f(ot,D,xt),Gt===null?ct=ot:Gt.sibling=ot,Gt=ot);return Ut&&Gi(L,xt),ct}for(ot=o(ot);xt<P.length;xt++)Vt=q(ot,L,xt,P[xt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ot.delete(Vt.key===null?xt:Vt.key),D=f(Vt,D,xt),Gt===null?ct=Vt:Gt.sibling=Vt,Gt=Vt);return e&&ot.forEach(function(Gs){return n(L,Gs)}),Ut&&Gi(L,xt),ct}function dt(L,D,P,Q){if(P==null)throw Error(a(151));for(var ct=null,Gt=null,ot=D,xt=D=0,Vt=null,Ft=P.next();ot!==null&&!Ft.done;xt++,Ft=P.next()){ot.index>xt?(Vt=ot,ot=null):Vt=ot.sibling;var Gs=z(L,ot,Ft.value,Q);if(Gs===null){ot===null&&(ot=Vt);break}e&&ot&&Gs.alternate===null&&n(L,ot),D=f(Gs,D,xt),Gt===null?ct=Gs:Gt.sibling=Gs,Gt=Gs,ot=Vt}if(Ft.done)return r(L,ot),Ut&&Gi(L,xt),ct;if(ot===null){for(;!Ft.done;xt++,Ft=P.next())Ft=Y(L,Ft.value,Q),Ft!==null&&(D=f(Ft,D,xt),Gt===null?ct=Ft:Gt.sibling=Ft,Gt=Ft);return Ut&&Gi(L,xt),ct}for(ot=o(ot);!Ft.done;xt++,Ft=P.next())Ft=q(ot,L,xt,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&ot.delete(Ft.key===null?xt:Ft.key),D=f(Ft,D,xt),Gt===null?ct=Ft:Gt.sibling=Ft,Gt=Ft);return e&&ot.forEach(function(xT){return n(L,xT)}),Ut&&Gi(L,xt),ct}function ie(L,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ct=P.key;D!==null;){if(D.key===ct){if(ct=P.type,ct===it){if(D.tag===7){r(L,D.sibling),Q=h(D,P.props.children),Q.return=L,L=Q;break t}}else if(D.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Vr(ct)===D.type){r(L,D.sibling),Q=h(D,P.props),Fo(Q,P),Q.return=L,L=Q;break t}r(L,D);break}else n(L,D);D=D.sibling}P.type===it?(Q=Nr(P.props.children,L.mode,Q,P.key),Q.return=L,L=Q):(Q=Du(P.type,P.key,P.props,null,L.mode,Q),Fo(Q,P),Q.return=L,L=Q)}return g(L);case J:t:{for(ct=P.key;D!==null;){if(D.key===ct)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(L,D.sibling),Q=h(D,P.children||[]),Q.return=L,L=Q;break t}else{r(L,D);break}else n(L,D);D=D.sibling}Q=Zh(P,L.mode,Q),Q.return=L,L=Q}return g(L);case A:return P=Vr(P),ie(L,D,P,Q)}if(Qt(P))return at(L,D,P,Q);if(V(P)){if(ct=V(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),dt(L,D,P,Q)}if(typeof P.then=="function")return ie(L,D,Pu(P),Q);if(P.$$typeof===pt)return ie(L,D,ku(L,P),Q);Uu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(L,D.sibling),Q=h(D,P),Q.return=L,L=Q):(r(L,D),Q=$h(P,L.mode,Q),Q.return=L,L=Q),g(L)):r(L,D)}return function(L,D,P,Q){try{Go=0;var ct=ie(L,D,P,Q);return Aa=null,ct}catch(ot){if(ot===Sa||ot===Lu)throw ot;var Gt=wn(29,ot,null,L.mode);return Gt.lanes=Q,Gt.return=L,Gt}finally{}}}var jr=tg(!0),eg=tg(!1),xs=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Pp(e,null,r),n}return Iu(e,o,n,r),Nu(e)}function Qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}function ff(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var df=!1;function Ko(){if(df){var e=wa;if(e!==null)throw e}}function Yo(e,n,r,o){df=!1;var h=e.updateQueue;xs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,U=C.next;C.next=null,g===null?f=U:g.next=U,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==g&&(b===null?G.firstBaseUpdate=U:b.next=U,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,G=U=C=null,b=f;do{var z=b.lane&-536870913,q=z!==b.lane;if(q?(kt&z)===z:(o&z)===z){z!==0&&z===Ta&&(df=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var at=e,dt=b;z=n;var ie=r;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){Y=at.call(ie,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,z=typeof at=="function"?at.call(ie,Y,z):at,z==null)break t;Y=S({},Y,z);break t;case 2:xs=!0}}z=b.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(U=G=q,C=Y):G=G.next=q,g|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;q=b,b=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ks|=g,e.lanes=g,e.memoizedState=Y}}function ng(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ig(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)ng(r[e],n)}var Ra=O(null),zu=O(0);function sg(e,n){e=es,tt(zu,e),tt(Ra,n),es=e|n.baseLanes}function mf(){tt(zu,es),tt(Ra,Ra.current)}function pf(){es=zu.current,K(Ra),K(zu)}var Sn=O(null),zn=null;function Ns(e){var n=e.alternate;tt(Te,Te.current&1),tt(Sn,e),zn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(zn=e)}function gf(e){tt(Te,Te.current),tt(Sn,e),zn===null&&(zn=e)}function rg(e){e.tag===22?(tt(Te,Te.current),tt(Sn,e),zn===null&&(zn=e)):Ds()}function Ds(){tt(Te,Te.current),tt(Sn,Sn.current)}function An(e){K(Sn),zn===e&&(zn=null),K(Te)}var Te=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||wd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,Rt=null,ee=null,Ne=null,qu=!1,xa=!1,Pr=!1,Hu=0,Xo=0,Ca=null,yb=0;function ye(){throw Error(a(321))}function yf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Tn(e[r],n[r]))return!1;return!0}function _f(e,n,r,o,h,f){return Ki=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?qg:Mf,Pr=!1,f=r(o,h),Pr=!1,xa&&(f=og(n,r,o,h)),ag(e),f}function ag(e){H.H=Jo;var n=ee!==null&&ee.next!==null;if(Ki=0,Ne=ee=Rt=null,qu=!1,Xo=0,Ca=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&Mu(e)&&(De=!0))}function og(e,n,r,o){Rt=e;var h=0;do{if(xa&&(Ca=null),Xo=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,Ne=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Hg,f=n(r,o)}while(xa);return f}function _b(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Rt.flags|=1024),n}function vf(){var e=Hu!==0;return Hu=0,e}function Ef(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function bf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}Ki=0,Ne=ee=Rt=null,xa=!1,Xo=Hu=0,Ca=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function we(){if(ee===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ne===null?Rt.memoizedState:Ne.next;if(n!==null)Ne=n,ee=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?Rt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Ca===null&&(Ca=[]),e=Zp(Ca,e,n),n=Rt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?qg:Mf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===pt)return Xe(e)}throw Error(a(438,String(e)))}function Tf(e){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=k;return n.index++,r}function Yi(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=we();return wf(n,ee,e)}function wf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var b=g=null,C=null,U=n,G=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(kt&Y)===Y:(Ki&Y)===Y){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===Ta&&(G=!0);else if((Ki&z)===z){U=U.next,z===Ta&&(G=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=Y,g=f):C=C.next=Y,Rt.lanes|=z,ks|=z;Y=U.action,Pr&&r(f,Y),f=U.hasEagerState?U.eagerState:r(f,Y)}else z={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(b=C=z,g=f):C=C.next=z,Rt.lanes|=Y,ks|=Y;U=U.next}while(U!==null&&U!==n);if(C===null?g=f:C.next=b,!Tn(f,e.memoizedState)&&(De=!0,G&&(r=wa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Sf(e){var n=we(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function lg(e,n,r){var o=Rt,h=we(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Tn((ee||h).memoizedState,r);if(g&&(h.memoizedState=r,De=!0),h=h.queue,xf(hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},cg.bind(null,o,h,r,n),null),re===null)throw Error(a(349));f||(Ki&127)!==0||ug(o,n,r)}return r}function ug(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Gu(),Rt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function cg(e,n,r,o){n.value=r,n.getSnapshot=o,fg(n)&&dg(e)}function hg(e,n,r){return r(function(){fg(n)&&dg(e)})}function fg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Tn(e,r)}catch{return!0}}function dg(e){var n=Ir(e,2);n!==null&&yn(n,e,2)}function Af(e){var n=cn();if(typeof e=="function"){var r=e;if(e=r(),Pr){Nn(!0);try{r()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function mg(e,n,r,o){return e.baseState=r,wf(e,ee,typeof o=="function"?o:Yi)}function vb(e,n,r,o,h){if(Xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,pg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var b=r(h,o),C=H.S;C!==null&&C(g,b),gg(e,n,b)}catch(U){Rf(e,n,U)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),gg(e,n,f)}catch(U){Rf(e,n,U)}}function gg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){yg(e,n,o)},function(o){return Rf(e,n,o)}):yg(e,n,r)}function yg(e,n,r){n.status="fulfilled",n.value=r,_g(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,pg(e,r)))}function Rf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,_g(n),n=n.next;while(n!==o)}e.action=null}function _g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vg(e,n){return n}function Eg(e,n){if(Ut){var r=re.formState;if(r!==null){t:{var o=Rt;if(Ut){if(oe){e:{for(var h=oe,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Bn(h.nextSibling),o=h.data==="F!";break t}}As(o)}o=!1}o&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},r.queue=o,r=Ug.bind(null,Rt,o),o.dispatch=r,o=Af(!1),f=Of.bind(null,Rt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=vb.bind(null,Rt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function bg(e){var n=we();return Tg(n,ee,e)}function Tg(e,n,r){if(n=wf(e,n,vg)[0],e=Qu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Sa?Lu:g}else o=n;n=we();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Ia(9,{destroy:void 0},Eb.bind(null,h,r),null)),[o,f,e]}function Eb(e,n){e.action=n}function wg(e){var n=we(),r=ee;if(r!==null)return Tg(n,r,e);we(),n=n.memoizedState,r=we();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ia(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Gu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Sg(){return we().memoizedState}function Ku(e,n,r,o){var h=cn();Rt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},r,o===void 0?null:o)}function Yu(e,n,r,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&yf(o,ee.memoizedState.deps)?h.memoizedState=Ia(n,f,r,o):(Rt.flags|=e,h.memoizedState=Ia(1|n,f,r,o))}function Ag(e,n){Ku(8390656,8,e,n)}function xf(e,n){Yu(2048,8,e,n)}function bb(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Gu(),Rt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Rg(e){var n=we().memoizedState;return bb({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xg(e,n){return Yu(4,2,e,n)}function Cg(e,n){return Yu(4,4,e,n)}function Ig(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ng(e,n,r){r=r!=null?r.concat([e]):null,Yu(4,4,Ig.bind(null,n,e),r)}function Cf(){}function Dg(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Og(e,n){var r=we();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=e(),Pr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o}function If(e,n,r){return r===void 0||(Ki&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=My(),Rt.lanes|=e,ks|=e,r)}function Mg(e,n,r,o){return Tn(r,n)?r:Ra.current!==null?(e=If(e,r,o),Tn(e,n)||(De=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(kt&261930)===0?(De=!0,e.memoizedState=r):(e=My(),Rt.lanes|=e,ks|=e,n)}function kg(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,b={};H.T=b,Of(e,!1,n,r);try{var C=h(),U=H.S;if(U!==null&&U(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=gb(C,o);Zo(e,n,G,Cn(e))}else Zo(e,n,o,Cn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{et.p=f,g!==null&&b.types!==null&&(g.types=b.types),H.T=g}}function Tb(){}function Nf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Vg(e).queue;kg(e,h,n,ut,r===null?Tb:function(){return Lg(e),r(o)})}function Vg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lg(e){var n=Vg(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Cn())}function Df(){return Xe(ml)}function jg(){return we().memoizedState}function Pg(){return we().memoizedState}function wb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();e=Cs(r);var o=Is(n,e,r);o!==null&&(yn(o,n,r),Qo(o,n,r)),n={cache:af()},e.payload=n;return}n=n.return}}function Sb(e,n,r){var o=Cn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(e)?zg(n,r):(r=Yh(e,n,r,o),r!==null&&(yn(r,e,o),Bg(r,n,o)))}function Ug(e,n,r){var o=Cn();Zo(e,n,r,o)}function Zo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))zg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,b=f(g,r);if(h.hasEagerState=!0,h.eagerState=b,Tn(b,g))return Iu(e,n,h,0),re===null&&Cu(),!1}catch{}finally{}if(r=Yh(e,n,h,o),r!==null)return yn(r,e,o),Bg(r,n,o),!0}return!1}function Of(e,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(a(479))}else n=Yh(e,r,o,2),n!==null&&yn(n,e,2)}function Xu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function zg(e,n){xa=qu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Bg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,vo(e,r)}}var Jo={readContext:Xe,use:Fu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Jo.useEffectEvent=ye;var qg={readContext:Xe,use:Fu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:Ag,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Ku(4194308,4,Ig.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var r=cn();n=n===void 0?null:n;var o=e();if(Pr){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=cn();if(r!==void 0){var h=r(n);if(Pr){Nn(!0);try{r(n)}finally{Nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Sb.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,r=Ug.bind(null,Rt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(e,n){var r=cn();return If(r,e,n)},useTransition:function(){var e=Af(!1);return e=kg.bind(null,Rt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Rt,h=cn();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),re===null)throw Error(a(349));(kt&127)!==0||ug(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ag(hg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},cg.bind(null,o,f,r,n),null),r},useId:function(){var e=cn(),n=re.identifierPrefix;if(Ut){var r=Ri,o=Ai;r=(o&~(1<<32-Ee(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=yb++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Rt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Tf,useCacheRefresh:function(){return cn().memoizedState=wb.bind(null,Rt)},useEffectEvent:function(e){var n=cn(),r={impl:e};return n.memoizedState=r,function(){if((Yt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:Xe,use:Fu,useCallback:Dg,useContext:Xe,useEffect:xf,useImperativeHandle:Ng,useInsertionEffect:xg,useLayoutEffect:Cg,useMemo:Og,useReducer:Qu,useRef:Sg,useState:function(){return Qu(Yi)},useDebugValue:Cf,useDeferredValue:function(e,n){var r=we();return Mg(r,ee.memoizedState,e,n)},useTransition:function(){var e=Qu(Yi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:lg,useId:jg,useHostTransitionStatus:Df,useFormState:bg,useActionState:bg,useOptimistic:function(e,n){var r=we();return mg(r,ee,e,n)},useMemoCache:Tf,useCacheRefresh:Pg};Mf.useEffectEvent=Rg;var Hg={readContext:Xe,use:Fu,useCallback:Dg,useContext:Xe,useEffect:xf,useImperativeHandle:Ng,useInsertionEffect:xg,useLayoutEffect:Cg,useMemo:Og,useReducer:Sf,useRef:Sg,useState:function(){return Sf(Yi)},useDebugValue:Cf,useDeferredValue:function(e,n){var r=we();return ee===null?If(r,e,n):Mg(r,ee.memoizedState,e,n)},useTransition:function(){var e=Sf(Yi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:lg,useId:jg,useHostTransitionStatus:Df,useFormState:wg,useActionState:wg,useOptimistic:function(e,n){var r=we();return ee!==null?mg(r,ee,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Pg};Hg.useEffectEvent=Rg;function kf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Cs(o);h.payload=n,r!=null&&(h.callback=r),n=Is(e,h,o),n!==null&&(yn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Cn(),h=Cs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Is(e,h,o),n!==null&&(yn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Cn(),o=Cs(r);o.tag=2,n!=null&&(o.callback=n),n=Is(e,o,r),n!==null&&(yn(n,e,r),Qo(n,e,r))}};function Gg(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(r,o)||!Po(h,f):!0}function Fg(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Qg(e){xu(e)}function Kg(e){console.error(e)}function Yg(e){xu(e)}function $u(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,r){return r=Cs(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(e,n)},r}function $g(e){return e=Cs(e),e.tag=3,e}function Zg(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Xg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Xg(n,r,o),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function Ab(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ba(n,r,h,!0),r=Sn.current,r!==null){switch(r.tag){case 31:case 13:return zn===null?lc():r.alternate===null&&_e===0&&(_e=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(e,o,h)),!1;case 22:return r.flags|=65536,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(e,o,h)),!1}throw Error(a(435,r.tag))}return od(e,o,h),lc(),!1}if(Ut)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(e=Error(a(422),{cause:o}),Bo(Ln(e,r)))):(o!==tf&&(n=Error(a(423),{cause:o}),Bo(Ln(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ln(o,r),h=Lf(e.stateNode,o,h),ff(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=Ln(f,r),al===null?al=[f]:al.push(f),_e!==4&&(_e=2),n===null)return!0;o=Ln(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Lf(r.stateNode,o,e),ff(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$g(h),Zg(h,e,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var jf=Error(a(461)),De=!1;function $e(e,n,r,o){n.child=e===null?eg(n,null,r,o):jr(n,e.child,r,o)}function Jg(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var b in o)b!=="ref"&&(g[b]=o[b])}else g=o;return Mr(n),o=_f(e,n,r,g,f,h),b=vf(),e!==null&&!De?(Ef(e,n,h),Xi(e,n,h)):(Ut&&b&&Jh(n),n.flags|=1,$e(e,n,o,h),n.child)}function Wg(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ty(e,n,f,o,h)):(e=Du(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(g,o)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ty(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,Ff(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Pf(e,n,r,o,h)}function ey(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):mf(),rg(n);else return o=n.lanes=536870912,ny(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),sg(n,f),Ds(),n.memoizedState=null):(e!==null&&Vu(n,null),mf(),Ds());return $e(e,n,h,r),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(e,n,r,o,h){var f=lf();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Vu(n,null),mf(),rg(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function iy(e,n,r){return jr(n,e.child,null,r),e=Zu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function Rb(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,Wo(null,e);if(gf(n),(e=oe)?(e=p0(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=zp(e),r.return=n,n.child=r,Ye=n,oe=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(gf(n),h)if(n.flags&256)n.flags&=-257,n=iy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||ba(e,n,r,!1),h=(r&e.childLanes)!==0,De||h){if(o=re,o!==null&&(g=Eo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ir(e,g),yn(o,e,g),jf;lc(),n=iy(e,n,r)}else e=f.treeContext,oe=Bn(g.nextSibling),Ye=n,Ut=!0,Ss=null,Un=!1,e!==null&&Hp(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Pf(e,n,r,o,h){return Mr(n),r=_f(e,n,r,o,void 0,h),o=vf(),e!==null&&!De?(Ef(e,n,h),Xi(e,n,h)):(Ut&&o&&Jh(n),n.flags|=1,$e(e,n,r,h),n.child)}function sy(e,n,r,o,h,f){return Mr(n),n.updateQueue=null,r=og(n,o,r,h),ag(e),o=vf(),e!==null&&!De?(Ef(e,n,f),Xi(e,n,f)):(Ut&&o&&Jh(n),n.flags|=1,$e(e,n,r,f),n.child)}function ry(e,n,r,o,h){if(Mr(n),n.stateNode===null){var f=ya,g=r.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):ya,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(kf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,C=Ur(r,b);f.props=C;var U=f.context,G=r.contextType;g=ya,typeof G=="object"&&G!==null&&(g=Xe(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||U!==g)&&Fg(n,f,o,g),xs=!1;var z=n.memoizedState;f.state=z,Yo(n,o,f,h),Ko(),U=n.memoizedState,b||z!==U||xs?(typeof Y=="function"&&(kf(n,r,Y,o),U=n.memoizedState),(C=xs||Gg(n,r,C,o,z,U,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(e,n),g=n.memoizedProps,G=Ur(r,g),f.props=G,Y=n.pendingProps,z=f.context,U=r.contextType,C=ya,typeof U=="object"&&U!==null&&(C=Xe(U)),b=r.getDerivedStateFromProps,(U=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==C)&&Fg(n,f,o,C),xs=!1,z=n.memoizedState,f.state=z,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==Y||z!==q||xs||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof b=="function"&&(kf(n,r,b,o),q=n.memoizedState),(G=xs||Gg(n,r,G,o,z,q,C)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,r,h)):$e(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function ay(e,n,r,o){return Dr(),n.flags|=256,$e(e,n,r,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Xp()}}function Bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=xn),e}function oy(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ns(n):Ds(),(e=oe)?(e=p0(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ws!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=zp(e),r.return=n,n.child=r,Ye=n,oe=null)):e=null,e===null)throw As(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Ds(),h=n.mode,b=Wu({mode:"hidden",children:b},h),o=Nr(o,h,r,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(e,g,r),n.memoizedState=Uf,Wo(null,o)):(Ns(n),qf(n,b))}var C=e.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Hf(e,n,r)):n.memoizedState!==null?(Ds(),n.child=e.child,n.flags|=128,n=null):(Ds(),b=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),b=Nr(b,h,r,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,jr(n,e.child,null,r),o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(e,g,r),n.memoizedState=Uf,n=Wo(null,o));else if(Ns(n),wd(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var U=g.dgst;g=U,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Hf(e,n,r)}else if(De||ba(e,n,r,!1),g=(r&e.childLanes)!==0,De||g){if(g=re,g!==null&&(o=Eo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ir(e,o),yn(g,e,o),jf;Td(b)||lc(),n=Hf(e,n,r)}else Td(b)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,oe=Bn(b.nextSibling),Ye=n,Ut=!0,Ss=null,Un=!1,e!==null&&Hp(n,e),n=qf(n,o.children),n.flags|=4096);return n}return h?(Ds(),b=o.fallback,h=n.mode,C=e.child,U=C.sibling,o=Hi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?b=Hi(U,b):(b=Nr(b,h,r,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,Wo(null,o),o=n.child,b=e.child.memoizedState,b===null?b=zf(r):(h=b.cachePool,h!==null?(C=Ie._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Xp(),b={baseLanes:b.baseLanes|r,cachePool:h}),o.memoizedState=b,o.childLanes=Bf(e,g,r),n.memoizedState=Uf,Wo(e.child,o)):(Ns(n),r=e.child,e=r.sibling,r=Hi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function qf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Hf(e,n,r){return jr(n,e.child,null,r),e=qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ly(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),sf(e.return,n,r)}function Gf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function uy(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Te.current,b=(g&2)!==0;if(b?(g=g&1|2,n.flags|=128):g&=1,tt(Te,g),$e(e,n,o,r),o=Ut?zo:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,r,n);else if(e.tag===19)ly(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Bu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Xi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ks|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ba(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Hi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Hi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function xb(e,n,r){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),Rs(n,Ie,e.memoizedState.cache),Dr();break;case 27:case 5:_t(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ns(n),n.flags|=128,null):(r&n.child.childLanes)!==0?oy(e,n,r):(Ns(n),e=Xi(e,n,r),e!==null?e.sibling:null);Ns(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ba(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return uy(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(Te,Te.current),o)break;return null;case 22:return n.lanes=0,ey(e,n,r,n.pendingProps);case 24:Rs(n,Ie,e.memoizedState.cache)}return Xi(e,n,r)}function cy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!Ff(e,r)&&(n.flags&128)===0)return De=!1,xb(e,n,r);De=(e.flags&131072)!==0}else De=!1,Ut&&(n.flags&1048576)!==0&&qp(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Vr(n.elementType),n.type=e,typeof e=="function")Xh(e)?(o=Ur(e,o),n.tag=1,n=ry(null,n,e,o,r)):(n.tag=0,n=Pf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Jg(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Wg(null,n,e,o,r);break t}}throw n=ae(e)||e,Error(a(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ur(o,n.pendingProps),ry(e,n,o,h,r);case 3:t:{if(ge(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(e,n),Yo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Rs(n,Ie,o),o!==f.cache&&rf(n,[Ie],r,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(e,n,o,r);break t}else if(o!==h){h=Ln(Error(a(424)),n),Bo(h),n=ay(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Bn(e.firstChild),Ye=n,Ut=!0,Ss=null,Un=!0,r=eg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Dr(),o===h){n=Xi(e,n,r);break t}$e(e,n,o,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=b0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=pc(St.current).createElement(r),o[Re]=n,o[Be]=e,Ze(o,r,e),xe(o),n.stateNode=o):n.memoizedState=b0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _t(n),e===null&&Ut&&(o=n.stateNode=_0(n.type,n.pendingProps,St.current),Ye=n,Un=!0,h=oe,Us(n.type)?(Sd=h,oe=Bn(o.firstChild)):oe=h),$e(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=oe)&&(o=iT(o,n.type,n.pendingProps,Un),o!==null?(n.stateNode=o,Ye=n,oe=Bn(o.firstChild),Un=!1,h=!0):h=!1),h||As(n)),_t(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,vd(h,f)?o=null:g!==null&&vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(e,n,_b,null,null,r),ml._currentValue=h),Ju(e,n),$e(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=oe)&&(r=sT(r,n.pendingProps,Un),r!==null?(n.stateNode=r,Ye=n,oe=null,e=!0):e=!1),e||As(n)),null;case 13:return oy(e,n,r);case 4:return ge(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,r):$e(e,n,o,r),n.child;case 11:return Jg(e,n,n.type,n.pendingProps,r);case 7:return $e(e,n,n.pendingProps,r),n.child;case 8:return $e(e,n,n.pendingProps.children,r),n.child;case 12:return $e(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Rs(n,n.type,o.value),$e(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,r),n.child;case 14:return Wg(e,n,n.type,n.pendingProps,r);case 15:return ty(e,n,n.type,n.pendingProps,r);case 19:return uy(e,n,r);case 31:return Rb(e,n,r);case 22:return ey(e,n,r,n.pendingProps);case 24:return Mr(n),o=Xe(Ie),e===null?(h=lf(),h===null&&(h=re,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),Rs(n,Ie,h)):((e.lanes&r)!==0&&(hf(e,n),Yo(n,null,null,r),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,Ie,o)):(o=f.cache,Rs(n,Ie,o),o!==h.cache&&rf(n,[Ie],r,!0))),$e(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function Qf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(jy())e.flags|=8192;else throw Lr=ju,uf}else e.flags&=-16777217}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R0(n))if(jy())e.flags|=8192;else throw Lr=ju,uf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Ma|=n)}function tl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function Cb(e,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qi(Ie),nt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(le(n),hy(n,f)):(le(n),Qf(n,h,null,o,r))):f?f!==e.memoizedState?($i(n),le(n),hy(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(n),le(n),Qf(n,h,e,o,r)),null;case 27:if(Et(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=st.current,Ea(n)?Gp(n):(e=_0(h,o,r),n.stateNode=e,$i(n))}return le(n),null;case 5:if(Et(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=st.current,Ea(n))Gp(n);else{var g=pc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(n)}}return le(n),Qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&$i(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,Ea(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||o0(e.nodeValue,r)),e||As(n,!0)}else e=pc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return le(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else r=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),le(n),null);case 4:return nt(),e===null&&md(n.stateNode.containerInfo),le(n),null;case 10:return Qi(n.type),le(n),null;case 19:if(K(Te),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Up(r,e),r=r.sibling;return tt(Te,Te.current&1|2),Ut&&Gi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>rc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return le(n),null}else 2*ln()-o.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,r=Te.current,tt(Te,h?r&1|2:r&1),Ut&&Gi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return An(n),pf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(kr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Qi(Ie),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ib(e,n){switch(Wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(Ie),nt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Et(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Te),null;case 4:return nt(),null;case 10:return Qi(n.type),null;case 22:case 23:return An(n),pf(),e!==null&&K(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(Ie),null;case 25:return null;default:return null}}function fy(e,n){switch(Wh(n),n.tag){case 3:Qi(Ie),nt();break;case 26:case 27:case 5:Et(n);break;case 4:nt();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:K(Te);break;case 10:Qi(n.type);break;case 22:case 23:An(n),pf(),e!==null&&K(kr);break;case 24:Qi(Ie)}}function el(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(b){Jt(n,n.return,b)}}function Os(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,h=n;var C=r,U=b;try{U()}catch(G){Jt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){Jt(n,n.return,G)}}function dy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{ig(n,r)}catch(o){Jt(e,e.return,o)}}}function my(e,n,r){r.props=Ur(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Jt(e,n,o)}}function nl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Jt(e,n,h)}}function xi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Jt(e,n,h)}else r.current=null}function py(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Jt(e,e.return,h)}}function Kf(e,n,r){try{var o=e.stateNode;Zb(o,e.type,r,n),o[Be]=n}catch(h){Jt(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function Yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Xn));else if(o!==4&&(o===27&&Us(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,r),e=e.sibling;e!==null;)Xf(e,n,r),e=e.sibling}function ec(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Us(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ec(e,n,r),e=e.sibling;e!==null;)ec(e,n,r),e=e.sibling}function yy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,r),n[Re]=e,n[Be]=r}catch(f){Jt(e,e.return,f)}}var Zi=!1,Oe=!1,$f=!1,_y=typeof WeakSet=="function"?WeakSet:Set,He=null;function Nb(e,n){if(e=e.containerInfo,yd=Tc,e=Np(e),qh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,b=-1,C=-1,U=0,G=0,Y=e,z=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(b=g+h),Y!==f||o!==0&&Y.nodeType!==3||(C=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===r&&++U===h&&(b=g),z===f&&++G===o&&(C=g),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}r=b===-1||C===-1?null:{start:b,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:e,selectionRange:r},Tc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Ur(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Jt(r,r.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)bd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function vy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(e,r),o&4&&el(5,r);break;case 1:if(Wi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(r,r.return,g)}else{var h=Ur(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(r,r.return,g)}}o&64&&dy(r),o&512&&nl(r,r.return);break;case 3:if(Wi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ig(e,n)}catch(g){Jt(r,r.return,g)}}break;case 27:n===null&&o&4&&yy(r);case 26:case 5:Wi(e,r),n===null&&o&4&&py(r),o&512&&nl(r,r.return);break;case 12:Wi(e,r);break;case 31:Wi(e,r),o&4&&Ty(e,r);break;case 13:Wi(e,r),o&4&&wy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Ub.bind(null,r),rT(e,r))));break;case 22:if(o=r.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Oe,h=Zi;var f=Oe;Zi=o,(Oe=n)&&!f?ts(e,r,(r.subtreeFlags&8772)!==0):Wi(e,r),Zi=h,Oe=f}break;case 30:break;default:Wi(e,r)}}function Ey(e){var n=e.alternate;n!==null&&(e.alternate=null,Ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,dn=!1;function Ji(e,n,r){for(r=r.child;r!==null;)by(e,n,r),r=r.sibling}function by(e,n,r){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Fn,r)}catch{}switch(r.tag){case 26:Oe||xi(r,n),Ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Oe||xi(r,n);var o=de,h=dn;Us(r.type)&&(de=r.stateNode,dn=!1),Ji(e,n,r),hl(r.stateNode),de=o,dn=h;break;case 5:Oe||xi(r,n);case 6:if(o=de,h=dn,de=null,Ji(e,n,r),de=o,dn=h,de!==null)if(dn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(r.stateNode)}catch(f){Jt(r,n,f)}else try{de.removeChild(r.stateNode)}catch(f){Jt(r,n,f)}break;case 18:de!==null&&(dn?(e=de,d0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ba(e)):d0(de,r.stateNode));break;case 4:o=de,h=dn,de=r.stateNode.containerInfo,dn=!0,Ji(e,n,r),de=o,dn=h;break;case 0:case 11:case 14:case 15:Os(2,r,n),Oe||Os(4,r,n),Ji(e,n,r);break;case 1:Oe||(xi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&my(r,n,o)),Ji(e,n,r);break;case 21:Ji(e,n,r);break;case 22:Oe=(o=Oe)||r.memoizedState!==null,Ji(e,n,r),Oe=o;break;default:Ji(e,n,r)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(r){Jt(n,n.return,r)}}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(r){Jt(n,n.return,r)}}function Db(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _y),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _y),n;default:throw Error(a(435,e.tag))}}function nc(e,n){var r=Db(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=zb.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,b=g;t:for(;b!==null;){switch(b.tag){case 27:if(Us(b.type)){de=b.stateNode,dn=!1;break t}break;case 5:de=b.stateNode,dn=!1;break t;case 3:case 4:de=b.stateNode.containerInfo,dn=!0;break t}b=b.return}if(de===null)throw Error(a(160));by(f,g,h),de=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,e),n=n.sibling}var ei=null;function Sy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),pn(e),o&4&&(Os(3,e,e.return),el(3,e),Os(5,e,e.return));break;case 1:mn(n,e),pn(e),o&512&&(Oe||r===null||xi(r,r.return)),o&64&&Zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ei;if(mn(n,e),pn(e),o&512&&(Oe||r===null||xi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,r),f[Re]=e,xe(f),o=f;break t;case"link":var g=S0("link","href",h).get(o+(r.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(b,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;case"meta":if(g=S0("meta","content",h).get(o+(r.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(b,1);break e}}f=h.createElement(o),Ze(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,xe(f),o=f}e.stateNode=o}else A0(h,e.type,e.stateNode);else e.stateNode=w0(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?A0(h,e.type,e.stateNode):w0(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),pn(e),o&512&&(Oe||r===null||xi(r,r.return)),r!==null&&o&4&&Kf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),pn(e),o&512&&(Oe||r===null||xi(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(at){Jt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,r!==null?r.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(mn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Jt(e,e.return,at)}}break;case 3:if(_c=null,h=ei,ei=gc(n.containerInfo),mn(n,e),ei=h,pn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(at){Jt(e,e.return,at)}$f&&($f=!1,Ay(e));break;case 4:o=ei,ei=gc(e.stateNode.containerInfo),mn(n,e),pn(e),ei=o;break;case 12:mn(n,e),pn(e);break;case 31:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:mn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,U=Zi,G=Oe;if(Zi=U||h,Oe=G||C,mn(n,e),Oe=G,Zi=U,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Zi||Oe||zr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Jt(C,C.return,at)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){Jt(C,C.return,at)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;h?m0(q,!0):m0(C.stateNode,!1)}catch(at){Jt(C,C.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,nc(e,r))));break;case 19:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:mn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(gy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(e);ec(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var b=Yf(e);ec(e,b,g);break;case 3:case 4:var C=r.stateNode.containerInfo,U=Yf(e);Xf(e,U,C);break;default:throw Error(a(161))}}catch(G){Jt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),zr(n);break;case 1:xi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&my(n,n.return,r),zr(n);break;case 27:hl(n.stateNode);case 26:case 5:xi(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function ts(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,r),el(4,f);break;case 1:if(ts(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Jt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ng(C[h],b)}catch(U){Jt(o,o.return,U)}}r&&g&64&&dy(f),nl(f,f.return);break;case 27:yy(f);case 26:case 5:ts(h,f,r),r&&o===null&&g&4&&py(f),nl(f,f.return);break;case 12:ts(h,f,r);break;case 31:ts(h,f,r),r&&g&4&&Ty(h,f);break;case 13:ts(h,f,r),r&&g&4&&wy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,r),nl(f,f.return);break;case 30:break;default:ts(h,f,r)}n=n.sibling}}function Zf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&qo(r))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function ni(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,r,o),n=n.sibling}function Ry(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,r,o),h&2048&&el(9,n);break;case 1:ni(e,n,r,o);break;case 3:ni(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ni(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Jt(n,n.return,C)}}else ni(e,n,r,o);break;case 31:ni(e,n,r,o);break;case 13:ni(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,r,o):il(e,n):f._visibility&2?ni(e,n,r,o):(f._visibility|=2,Na(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:ni(e,n,r,o),h&2048&&Jf(n.alternate,n);break;default:ni(e,n,r,o)}}function Na(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,b=r,C=o,U=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,b,C,h),el(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Na(f,g,b,C,h):il(f,g):(G._visibility|=2,Na(f,g,b,C,h)),h&&U&2048&&Zf(g.alternate,g);break;case 24:Na(f,g,b,C,h),h&&U&2048&&Jf(g.alternate,g);break;default:Na(f,g,b,C,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:il(r,o),h&2048&&Zf(o.alternate,o);break;case 24:il(r,o),h&2048&&Jf(o.alternate,o);break;default:il(r,o)}n=n.sibling}}var sl=8192;function Da(e,n,r){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)xy(e,n,r),e=e.sibling}function xy(e,n,r){switch(e.tag){case 26:Da(e,n,r),e.flags&sl&&e.memoizedState!==null&&yT(r,ei,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,r);break;case 3:case 4:var o=ei;ei=gc(e.stateNode.containerInfo),Da(e,n,r),ei=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Da(e,n,r),sl=o):Da(e,n,r));break;default:Da(e,n,r)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,Ny(o,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Os(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):rl(e);break;default:rl(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];He=o,Ny(o,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function Ny(e,n){for(;He!==null;){var r=He;switch(r.tag){case 0:case 11:case 15:Os(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,He=o;else t:for(r=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(Ey(o),o===r){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var Ob={getCacheForType:function(e){var n=Xe(Ie),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Xe(Ie).controller.signal}},Mb=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Nt=null,kt=0,Zt=0,Rn=null,Ms=!1,Oa=!1,Wf=!1,es=0,_e=0,ks=0,Br=0,td=0,xn=0,Ma=0,al=null,gn=null,ed=!1,sc=0,Dy=0,rc=1/0,ac=null,Vs=null,je=0,Ls=null,ka=null,ns=0,nd=0,id=null,Oy=null,ol=0,sd=null;function Cn(){return(Yt&2)!==0&&kt!==0?kt&-kt:H.T!==null?cd():ou()}function My(){if(xn===0)if((kt&536870912)===0||Ut){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),xn=e}else xn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),xn}function yn(e,n,r){(e===re&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),js(e,kt,xn,!1)),pr(e,r),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&(Br|=r),_e===4&&js(e,kt,xn,!1)),Ci(e))}function ky(e,n,r){if((Yt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=o?Lb(e,n):ad(e,n,!0),f=o;do{if(h===0){Oa&&!o&&js(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!kb(r)){h=ad(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var b=e;h=al;var C=b.current.memoizedState.isDehydrated;if(C&&(Va(b,g).flags|=256),g=ad(b,g,!1),g!==2){if(Wf&&!C){b.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),js(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:js(o,n,xn,!Ms);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-ln(),10<h)){if(js(o,n,xn,!Ms),ci(o,0,!0)!==0)break t;ns=n,o.timeoutHandle=h0(Vy.bind(null,o,r,gn,ac,ed,n,xn,Br,Ma,Ms,f,"Throttled",-0,0),h);break t}Vy(o,r,gn,ac,ed,n,xn,Br,Ma,Ms,f,null,-0,0)}}break}while(!0);Ci(e)}function Vy(e,n,r,o,h,f,g,b,C,U,G,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},xy(n,f,Y);var at=(f&62914560)===f?sc-ln():(f&4194048)===f?Dy-ln():0;if(at=_T(Y,at),at!==null){ns=f,e.cancelPendingCommit=at(Hy.bind(null,e,n,f,r,o,h,g,b,C,G,Y,null,z,q)),js(e,f,g,!U);return}}Hy(e,n,f,r,o,h,g,b,C)}function kb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(e,n,r,o){n&=~td,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&gr(e,r,n)}function oc(){return(Yt&6)===0?(ll(0),!1):!0}function rd(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Fi=Or=null,bf(e),Aa=null,Go=0,e=Nt;for(;e!==null;)fy(e.alternate,e),e=e.return;Nt=null}}function Va(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,tT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ns=0,rd(),re=e,Nt=r=Hi(e.current,null),kt=n,Zt=0,Rn=null,Ms=!1,Oa=Qn(e,n),Wf=!1,Ma=xn=td=Br=ks=_e=0,gn=al=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ee(o),f=1<<h;n|=e[h],o&=~f}return es=n,Cu(),r}function Ly(e,n){Rt=null,H.H=Jo,n===Sa||n===Lu?(n=Jp(),Zt=3):n===uf?(n=Jp(),Zt=4):Zt=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Nt===null&&(_e=1,$u(e,Ln(n,e.current)))}function jy(){var e=Sn.current;return e===null?!0:(kt&4194048)===kt?zn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===zn:!1}function Py(){var e=H.H;return H.H=Jo,e===null?Jo:e}function Uy(){var e=H.A;return H.A=Ob,e}function lc(){_e=4,Ms||(kt&4194048)!==kt&&Sn.current!==null||(Oa=!0),(ks&134217727)===0&&(Br&134217727)===0||re===null||js(re,kt,xn,!1)}function ad(e,n,r){var o=Yt;Yt|=2;var h=Py(),f=Uy();(re!==e||kt!==n)&&(ac=null,Va(e,n)),n=!1;var g=_e;t:do try{if(Zt!==0&&Nt!==null){var b=Nt,C=Rn;switch(Zt){case 8:rd(),g=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var U=Zt;if(Zt=0,Rn=null,La(e,b,C,U),r&&Oa){g=0;break t}break;default:U=Zt,Zt=0,Rn=null,La(e,b,C,U)}}Vb(),g=_e;break}catch(G){Ly(e,G)}while(!0);return n&&e.shellSuspendCounter++,Fi=Or=null,Yt=o,H.H=h,H.A=f,Nt===null&&(re=null,kt=0,Cu()),g}function Vb(){for(;Nt!==null;)zy(Nt)}function Lb(e,n){var r=Yt;Yt|=2;var o=Py(),h=Uy();re!==e||kt!==n?(ac=null,rc=ln()+500,Va(e,n)):Oa=Qn(e,n);t:do try{if(Zt!==0&&Nt!==null){n=Nt;var f=Rn;e:switch(Zt){case 1:Zt=0,Rn=null,La(e,n,f,1);break;case 2:case 9:if($p(f)){Zt=0,Rn=null,By(n);break}n=function(){Zt!==2&&Zt!==9||re!==e||(Zt=7),Ci(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:$p(f)?(Zt=0,Rn=null,By(n)):(Zt=0,Rn=null,La(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var b=Nt;if(g?R0(g):b.stateNode.complete){Zt=0,Rn=null;var C=b.sibling;if(C!==null)Nt=C;else{var U=b.return;U!==null?(Nt=U,uc(U)):Nt=null}break e}}Zt=0,Rn=null,La(e,n,f,5);break;case 6:Zt=0,Rn=null,La(e,n,f,6);break;case 8:rd(),_e=6;break t;default:throw Error(a(462))}}jb();break}catch(G){Ly(e,G)}while(!0);return Fi=Or=null,H.H=o,H.A=h,Yt=r,Nt!==null?0:(re=null,kt=0,Cu(),_e)}function jb(){for(;Nt!==null&&!Vh();)zy(Nt)}function zy(e){var n=cy(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?uc(e):Nt=n}function By(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=sy(r,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=sy(r,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:bf(n);default:fy(r,n),n=Nt=Up(n,es),n=cy(r,n,es)}e.memoizedProps=e.pendingProps,n===null?uc(e):Nt=n}function La(e,n,r,o){Fi=Or=null,bf(n),Aa=null,Go=0;var h=n.return;try{if(Ab(e,h,n,r,kt)){_e=1,$u(e,Ln(r,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;_e=1,$u(e,Ln(r,e.current)),Nt=null;return}n.flags&32768?(Ut||o===1?e=!0:Oa||(kt&536870912)!==0?e=!1:(Ms=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,Ms);return}e=n.return;var r=Cb(n.alternate,n,es);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);_e===0&&(_e=5)}function qy(e,n){do{var r=Ib(e.alternate,e);if(r!==null){r.flags&=32767,Nt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=r}while(e!==null);_e=6,Nt=null}function Hy(e,n,r,o,h,f,g,b,C){e.cancelPendingCommit=null;do cc();while(je!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,Ph(e,r,f,g,b,C),e===re&&(Nt=re=null,kt=0),ka=n,Ls=e,ns=r,nd=f,id=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bb(ds,function(){return Yy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,g=Yt,Yt|=4;try{Nb(e,n,r)}finally{Yt=g,et.p=h,H.T=o}}je=1,Gy(),Fy(),Qy()}}function Gy(){if(je===1){je=0;var e=Ls,n=ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{Sy(n,e);var f=_d,g=Np(e.containerInfo),b=f.focusedElem,C=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&Ip(b.ownerDocument.documentElement,b)){if(C!==null&&qh(b)){var U=C.start,G=C.end;if(G===void 0&&(G=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(G,b.value.length);else{var Y=b.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=b.textContent.length,dt=Math.min(C.start,at),ie=C.end===void 0?dt:Math.min(C.end,at);!q.extend&&dt>ie&&(g=ie,ie=dt,dt=g);var L=Cp(b,dt),D=Cp(b,ie);if(L&&D&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(L.node,L.offset),q.removeAllRanges(),dt>ie?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=b;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var Q=Y[b];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!yd,_d=yd=null}finally{Yt=h,et.p=o,H.T=r}}e.current=n,je=2}}function Fy(){if(je===2){je=0;var e=Ls,n=ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Yt;Yt|=4;try{vy(e,n.alternate,n)}finally{Yt=h,et.p=o,H.T=r}}je=3}}function Qy(){if(je===4||je===3){je=0,tu();var e=Ls,n=ka,r=ns,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,ka=Ls=null,Ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),Ui(r),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var b=o[g];f(b.value,{componentStack:b.stack})}}finally{H.T=n,et.p=h}}(ns&3)!==0&&cc(),Ci(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===sd?ol++:(ol=0,sd=e):ol=0,ll(0)}}function Ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function cc(){return Gy(),Fy(),Qy(),Yy()}function Yy(){if(je!==5)return!1;var e=Ls,n=nd;nd=0;var r=Ui(ns),o=H.T,h=et.p;try{et.p=32>r?32:r,H.T=null,r=id,id=null;var f=Ls,g=ns;if(je=0,ka=Ls=null,ns=0,(Yt&6)!==0)throw Error(a(331));var b=Yt;if(Yt|=4,Iy(f.current),Ry(f,f.current,g,r),Yt=b,ll(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{et.p=h,H.T=o,Ky(e,n)}}function Xy(e,n,r){n=Ln(r,n),n=Lf(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(pr(e,2),Ci(e))}function Jt(e,n,r){if(e.tag===3)Xy(e,e,r);else for(;n!==null;){if(n.tag===3){Xy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vs===null||!Vs.has(o))){e=Ln(r,e),r=$g(2),o=Is(n,r,2),o!==null&&(Zg(r,o,n,e),pr(o,2),Ci(o));break}}n=n.return}}function od(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Mb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),e=Pb.bind(null,e,n,r),n.then(e,e))}function Pb(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,re===e&&(kt&r)===r&&(_e===4||_e===3&&(kt&62914560)===kt&&300>ln()-sc?(Yt&2)===0&&Va(e,0):td|=r,Ma===kt&&(Ma=0)),Ci(e)}function $y(e,n){n===0&&(n=au()),e=Ir(e,n),e!==null&&(pr(e,n),Ci(e))}function Ub(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),$y(e,r)}function zb(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),$y(e,r)}function Bb(e,n){return Le(e,n)}var hc=null,ja=null,ld=!1,fc=!1,ud=!1,Ps=0;function Ci(e){e!==ja&&e.next===null&&(ja===null?hc=ja=e:ja=ja.next=e),fc=!0,ld||(ld=!0,Hb())}function ll(e,n){if(!ud&&fc){ud=!0;do for(var r=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,t0(o,f))}else f=kt,f=ci(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qn(o,f)||(r=!0,t0(o,f));o=o.next}while(r);ud=!1}}function qb(){Zy()}function Zy(){fc=ld=!1;var e=0;Ps!==0&&Wb()&&(e=Ps);for(var n=ln(),r=null,o=hc;o!==null;){var h=o.next,f=Jy(o,n);f===0?(o.next=null,r===null?hc=h:r.next=h,h===null&&(ja=r)):(r=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}je!==0&&je!==5||ll(e),Ps!==0&&(Ps=0)}function Jy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ee(f),b=1<<g,C=h[g];C===-1?((b&r)===0||(b&o)!==0)&&(h[g]=jh(b,n)):C<=n&&(e.expiredLanes|=b),f&=~b}if(n=re,r=kt,r=ci(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Qn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&fs(o),Ui(r)){case 2:case 8:r=_o;break;case 32:r=ds;break;case 268435456:r=eu;break;default:r=ds}return o=Wy.bind(null,e),r=Le(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&fs(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(cc()&&e.callbackNode!==r)return null;var o=kt;return o=ci(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ky(e,o,n),Jy(e,ln()),e.callbackNode!=null&&e.callbackNode===r?Wy.bind(null,e):null)}function t0(e,n){if(cc())return null;ky(e,n,!0)}function Hb(){eT(function(){(Yt&6)!==0?Le(yo,qb):Zy()})}function cd(){if(Ps===0){var e=Ta;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Ps=e}return Ps}function e0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function n0(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Gb(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=e0((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?e0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var b=new bi("action","action",null,o,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var C=g?n0(h,g):new FormData(h);Nf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=g?n0(h,g):new FormData(h),Nf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],Fb=fd.toLowerCase(),Qb=fd[0].toUpperCase()+fd.slice(1);ti(Fb,"on"+Qb)}ti(Mp,"onAnimationEnd"),ti(kp,"onAnimationIteration"),ti(Vp,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(lb,"onTransitionRun"),ti(ub,"onTransitionStart"),ti(cb,"onTransitionCancel"),ti(Lp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function i0(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var b=o[g],C=b.instance,U=b.currentTarget;if(b=b.listener,C!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=U;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(b=o[g],C=b.instance,U=b.currentTarget,b=b.listener,C!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=U;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=C}}}}function Dt(e,n){var r=n[na];r===void 0&&(r=n[na]=new Set);var o=e+"__bubble";r.has(o)||(s0(n,e,2,!1),r.add(o))}function dd(e,n,r){var o=0;n&&(o|=4),s0(r,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[dc]){e[dc]=!0,bo.forEach(function(r){r!=="selectionchange"&&(Kb.has(r)||dd(r,!1,e),dd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,dd("selectionchange",!1,n))}}function s0(e,n,r,o){switch(M0(n)){case 2:var h=bT;break;case 8:h=TT;break;default:h=Id}r=h.bind(null,n,r,e),h=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function pd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;b!==null;){if(g=mi(b),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}b=b.parentNode}}o=o.return}vs(function(){var U=f,G=On(r),Y=[];t:{var z=jp.get(e);if(z!==void 0){var q=bi,at=e;switch(e){case"keypress":if(wr(r)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":at="focus",q=Ar;break;case"focusout":at="blur",q=Ar;break;case"beforeblur":case"afterblur":q=Ar;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Mp:case kp:case Vp:q=yu;break;case Lp:q=T;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qi;break;case"toggle":case"beforetoggle":q=At}var dt=(n&4)!==0,ie=!dt&&(e==="scroll"||e==="scrollend"),L=dt?z!==null?z+"Capture":null:z;dt=[];for(var D=U,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||L===null||(Q=$n(D,L),Q!=null&&dt.push(cl(D,Q,P))),ie)break;D=D.return}0<dt.length&&(z=new q(z,at,null,r,G),Y.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==No&&(at=r.relatedTarget||r.fromElement)&&(mi(at)||at[fi]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=r.relatedTarget||r.toElement,q=U,at=at?mi(at):null,at!==null&&(ie=c(at),dt=at.tag,at!==ie||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(q=null,at=U),q!==at)){if(dt=ko,Q="onMouseLeave",L="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=qi,Q="onPointerLeave",L="onPointerEnter",D="pointer"),ie=q==null?z:En(q),P=at==null?z:En(at),z=new dt(Q,D+"leave",q,r,G),z.target=ie,z.relatedTarget=P,Q=null,mi(G)===U&&(dt=new dt(L,D+"enter",at,r,G),dt.target=P,dt.relatedTarget=ie,Q=dt),ie=Q,q&&at)e:{for(dt=Yb,L=q,D=at,P=0,Q=L;Q;Q=dt(Q))P++;Q=0;for(var ct=D;ct;ct=dt(ct))Q++;for(;0<P-Q;)L=dt(L),P--;for(;0<Q-P;)D=dt(D),Q--;for(;P--;){if(L===D||D!==null&&L===D.alternate){dt=L;break e}L=dt(L),D=dt(D)}dt=null}else dt=null;q!==null&&r0(Y,z,q,dt,!1),at!==null&&ie!==null&&r0(Y,ie,at,dt,!0)}}t:{if(z=U?En(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Gt=Tp;else if(Ep(z))if(wp)Gt=rb;else{Gt=ib;var ot=nb}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&aa(U.elementType)&&(Gt=Tp):Gt=sb;if(Gt&&(Gt=Gt(e,U))){bp(Y,Gt,r,G);break t}ot&&ot(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&xo(z,"number",z.value)}switch(ot=U?En(U):window,e){case"focusin":(Ep(ot)||ot.contentEditable==="true")&&(ma=ot,Hh=U,Uo=null);break;case"focusout":Uo=Hh=ma=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Dp(Y,r,G);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Dp(Y,r,G)}var xt;if(Kt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else da?Rr(e,r)&&(Vt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Vt="onCompositionStart");Vt&&(Si&&r.locale!=="ko"&&(da||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&da&&(xt=Oo()):(Ei=G,Do="value"in Ei?Ei.value:Ei.textContent,da=!0)),ot=mc(U,Vt),0<ot.length&&(Vt=new wi(Vt,e,null,r,G),Y.push({event:Vt,listeners:ot}),xt?Vt.data=xt:(xt=fa(r),xt!==null&&(Vt.data=xt)))),(xt=kn?J1(e,r):W1(e,r))&&(Vt=mc(U,"onBeforeInput"),0<Vt.length&&(ot=new wi("onBeforeInput","beforeinput",null,r,G),Y.push({event:ot,listeners:Vt}),ot.data=xt)),Gb(Y,e,U,r,G)}i0(Y,n)})}function cl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function mc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=$n(e,r),h!=null&&o.unshift(cl(e,h,f)),h=$n(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Yb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r0(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var b=r,C=b.alternate,U=b.stateNode;if(b=b.tag,C!==null&&C===o)break;b!==5&&b!==26&&b!==27||U===null||(C=U,h?(U=$n(r,f),U!=null&&g.unshift(cl(r,U,C))):h||(U=$n(r,f),U!=null&&g.push(cl(r,U,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var Xb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function a0(e){return(typeof e=="string"?e:""+e).replace(Xb,`
`).replace($b,"")}function o0(e,n){return n=a0(n),a0(e)===n}function ne(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,r,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=oa(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,sa(e,r,o))}}function gd(e,n,r,o,h,f){switch(r){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Be]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sa(e,r,o)}}}function Ze(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,r,null)}}h&&ne(e,n,"srcSet",r.srcSet,r,null),o&&ne(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var b=f=g=h=null,C=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,o,G,r,null)}}hu(e,f,b,C,U,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":o=b;default:ne(e,n,h,b,r,null)}n=f,r=g,e.multiple=!!o,n!=null?ps(e,!!o,n,!1):r!=null&&ps(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(b=r[g],b!=null))switch(g){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ne(e,n,g,b,r,null)}gs(e,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,C,o,r,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Dt(ul[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,U,o,r,null)}return;default:if(aa(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&gd(e,n,G,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&ne(e,n,b,o,r,null))}function Zb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,b=null,C=null,U=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(q)||ne(e,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ne(e,n,z,q,o,Y)}}ra(e,g,b,C,U,G,f,h);return;case"select":q=g=b=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==C&&ne(e,n,h,f,o,C)}n=b,r=g,o=q,z!=null?ps(e,!!r,z,!1):!!o!=!!r&&(n!=null?ps(e,!!r,n,!0):ps(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ne(e,n,b,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}fu(e,z,q);return;case"option":for(var at in r)if(z=r[at],r.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:ne(e,n,at,null,o,z)}for(C in o)if(z=o[C],q=r[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ne(e,n,C,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)z=r[dt],r.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&ne(e,n,dt,null,o,z);for(U in o)if(z=o[U],q=r[U],o.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ne(e,n,U,z,o,q)}return;default:if(aa(n)){for(var ie in r)z=r[ie],r.hasOwnProperty(ie)&&z!==void 0&&!o.hasOwnProperty(ie)&&gd(e,n,ie,void 0,o,z);for(G in o)z=o[G],q=r[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||gd(e,n,G,z,o,q);return}}for(var L in r)z=r[L],r.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&ne(e,n,L,null,o,z);for(Y in o)z=o[Y],q=r[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||ne(e,n,Y,z,o,q)}function l0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,b=h.duration;if(f&&b&&l0(g)){for(g=0,b=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],U=C.startTime;if(U>b)break;var G=C.transferSize,Y=C.initiatorType;G&&l0(Y)&&(C=C.responseEnd,g+=G*(C<b?1:(b-U)/(C-U)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,_d=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function u0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function Wb(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,f0=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof f0<"u"?function(e){return f0.resolve(null).then(e).catch(nT)}:h0;function nT(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function d0(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")hl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,hl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&hl(e.ownerDocument.body);r=h}while(r);Ba(n)}function m0(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),ia(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function iT(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function sT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Bn(e.nextSibling),e===null))return null;return e}function p0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function rT(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sd=null;function g0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function y0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function _0(e,n,r){switch(n=pc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var qn=new Map,v0=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=et.d;et.d={f:aT,r:oT,D:lT,C:uT,L:cT,m:hT,X:dT,S:fT,M:mT};function aT(){var e=is.f(),n=oc();return e||n}function oT(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Lg(n):is.r(e)}var Pa=typeof document>"u"?null:document;function E0(e,n,r){var o=Pa;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),v0.has(h)||(v0.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),xe(n),o.head.appendChild(n)))}}function lT(e){is.D(e),E0("dns-prefetch",e,null)}function uT(e,n){is.C(e,n),E0("preconnect",e,n)}function cT(e,n,r){is.L(e,n,r);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=za(e)}qn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Ze(n,"link",e),xe(n),o.head.appendChild(n)))}}function hT(e,n){is.m(e,n);var r=Pa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!qn.has(f)&&(e=S({rel:"modulepreload",href:e},n),qn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(dl(f)))return}o=r.createElement("link"),Ze(o,"link",e),xe(o),r.head.appendChild(o)}}}function fT(e,n,r){is.S(e,n,r);var o=Pa;if(o&&e){var h=pi(o).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var b={loading:0,preload:null};if(g=o.querySelector(fl(f)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=qn.get(f))&&Ad(e,r);var C=g=o.createElement("link");xe(C),Ze(C,"link",e),C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,yc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:b},h.set(f,g)}}}function dT(e,n){is.X(e,n);var r=Pa;if(r&&e){var o=pi(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=qn.get(h))&&Rd(e,n),f=r.createElement("script"),xe(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function mT(e,n){is.M(e,n);var r=Pa;if(r&&e){var o=pi(r).hoistableScripts,h=za(e),f=o.get(h);f||(f=r.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&Rd(e,n),f=r.createElement("script"),xe(f),Ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function b0(e,n,r,o){var h=(h=St.current)?gc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ua(r.href),r=pi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ua(r.href);var f=pi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},qn.set(e,r),f||pT(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(r),r=pi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+hn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function T0(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function pT(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",r),xe(n),e.head.appendChild(n))}function za(e){return'[src="'+hn(e)+'"]'}function dl(e){return"script[async]"+e}function w0(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return n.instance=o,xe(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),xe(o),Ze(o,"style",h),yc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ua(r.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;o=T0(r),(h=qn.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(b,C){g.onload=b,g.onerror=C}),Ze(f,"link",o),n.state.loading|=4,yc(f,r.precedence,e),n.instance=f;case"script":return f=za(r.src),(h=e.querySelector(dl(f)))?(n.instance=h,xe(h),h):(o=r,(h=qn.get(f))&&(o=S({},r),Rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,r.precedence,e));return n.instance}function yc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var b=o[g];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function S0(e,n,r){if(_c===null){var o=new Map,h=_c=new Map;h.set(r,o)}else h=_c,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[di]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var b=o.get(g);b?b.push(f):o.set(g,[f])}}return o}function A0(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function gT(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yT(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ua(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,xe(f);return}f=n.ownerDocument||n,o=T0(o),(h=qn.get(h))&&Ad(o,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(b,C){g.onload=b,g.onerror=C}),Ze(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=vc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var xd=0;function _T(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&xd===0&&(xd=62500*Jb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>xd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(vT,e),Ec=null,vc.call(e))}function vT(e,n){if(!(n.state.loading&4)){var r=Ec.get(e);if(r)var o=r.get(null);else{r=new Map,Ec.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function ET(e,n,r,o,h,f,g,b,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function x0(e,n,r,o,h,f,g,b,C,U,G,Y){return e=new ET(e,n,r,g,C,U,G,Y,b),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=af(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),e}function C0(e){return e?(e=ya,e):ya}function I0(e,n,r,o,h,f){h=C0(h),o.context===null?o.context=h:o.pendingContext=h,o=Cs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Is(e,o,n),r!==null&&(yn(r,e,n),Qo(r,e,n))}function N0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Cd(e,n){N0(e,n),(e=e.alternate)&&N0(e,n)}function D0(e){if(e.tag===13||e.tag===31){var n=Ir(e,67108864);n!==null&&yn(n,e,67108864),Cd(e,67108864)}}function O0(e){if(e.tag===13||e.tag===31){var n=Cn();n=yr(n);var r=Ir(e,n);r!==null&&yn(r,e,n),Cd(e,n)}}var Tc=!0;function bT(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Id(e,n,r,o)}finally{et.p=f,H.T=h}}function TT(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Id(e,n,r,o)}finally{et.p=f,H.T=h}}function Id(e,n,r,o){if(Tc){var h=Nd(o);if(h===null)pd(e,n,o,wc,r),k0(e,o);else if(ST(h,e,n,r,o))o.stopPropagation();else if(k0(e,o),n&4&&-1<wT.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var C=1<<31-Ee(g);b.entanglements[1]|=C,g&=~C}Ci(f),(Yt&6)===0&&(rc=ln()+500,ll(0))}}break;case 31:case 13:b=Ir(f,2),b!==null&&yn(b,f,2),oc(),Cd(f,2)}if(f=Nd(o),f===null&&pd(e,n,o,wc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else pd(e,n,o,null,r)}}function Nd(e){return e=On(e),Dd(e)}var wc=null;function Dd(e){if(wc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wc=e,null}function M0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case yo:return 2;case _o:return 8;case ds:case Lh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Od=!1,zs=null,Bs=null,qs=null,pl=new Map,gl=new Map,Hs=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(e,n){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function yl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&D0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ST(e,n,r,o,h){switch(n){case"focusin":return zs=yl(zs,e,n,r,o,h),!0;case"dragenter":return Bs=yl(Bs,e,n,r,o,h),!0;case"mouseover":return qs=yl(qs,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,yl(pl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,yl(gl.get(f)||null,e,n,r,o,h)),!0}return!1}function V0(e){var n=mi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Kn(e.priority,function(){O0(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Kn(e.priority,function(){O0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Nd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);No=o,r.target.dispatchEvent(o),No=null}else return n=Dn(r),n!==null&&D0(n),e.blockedOn=r,!1;n.shift()}return!0}function L0(e,n,r){Sc(e)&&r.delete(n)}function AT(){Od=!1,zs!==null&&Sc(zs)&&(zs=null),Bs!==null&&Sc(Bs)&&(Bs=null),qs!==null&&Sc(qs)&&(qs=null),pl.forEach(L0),gl.forEach(L0)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,AT)))}var Rc=null;function j0(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=Dn(r);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ba(e){function n(C){return Ac(C,e)}zs!==null&&Ac(zs,e),Bs!==null&&Ac(Bs,e),qs!==null&&Ac(qs,e),pl.forEach(n),gl.forEach(n);for(var r=0;r<Hs.length;r++){var o=Hs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)V0(r),r.blockedOn===null&&Hs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Be]||null;if(typeof f=="function")g||j0(r);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)b=g.formAction;else if(Dd(h)!==null)continue}else b=g.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),j0(r)}}}function P0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(e){this._internalRoot=e}xc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Cn();I0(r,o,e,n,null,null)},xc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;I0(e.current,2,null,e,null,null),oc(),n[fi]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Hs.length&&n!==0&&n<Hs[r].priority;r++);Hs.splice(r,0,e),r===0&&V0(e)}};var U0=t.version;if(U0!=="19.2.0")throw Error(a(527,U0,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var RT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Fn=Cc.inject(RT),Qe=Cc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Qg,f=Kg,g=Yg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=x0(e,1,!1,null,null,r,o,null,h,f,g,P0),e[fi]=n.current,md(e),new Md(n)},vl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Qg,g=Kg,b=Yg,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=x0(e,1,!0,n,r??null,o,h,C,f,g,b,P0),n.context=C0(null),r=n.current,o=Cn(),o=yr(o),h=Cs(o),h.callback=null,Is(r,h,o),r=o,n.current.lanes=r,pr(n,r),Ci(n),e[fi]=n.current,md(e),new xc(n)},vl.version="19.2.0",vl}var X0;function LT(){if(X0)return Ld.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=VT(),Ld.exports}var jT=LT();const PT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),$0=s=>{const t=UT(s);return t.charAt(0).toUpperCase()+t.slice(1)},Iv=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),zT=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var BT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qT=zt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>zt.createElement("svg",{ref:_,...BT,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:Iv("lucide",l),...!c&&!zT(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,w])=>zt.createElement(y,w)),...Array.isArray(c)?c:[c]]));const Wt=(s,t)=>{const i=zt.forwardRef(({className:a,...l},c)=>zt.createElement(qT,{ref:c,iconNode:t,className:Iv(`lucide-${PT($0(s))}`,`lucide-${s}`,a),...l}));return i.displayName=$0(s),i};const HT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nv=Wt("calendar",HT);const GT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],FT=Wt("camera",GT);const QT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KT=Wt("check",QT);const YT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XT=Wt("chevron-right",YT);const $T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZT=Wt("circle-alert",$T);const JT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],WT=Wt("circle-plus",JT);const tw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ew=Wt("cloud-upload",tw);const nw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],iw=Wt("coffee",nw);const sw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rw=Wt("house",sw);const aw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ow=Wt("info",aw);const lw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],uw=Wt("list",lw);const cw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hw=Wt("lock",cw);const fw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dw=Wt("log-out",fw);const mw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pw=Wt("mail",mw);const gw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yw=Wt("map-pin",gw);const _w=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],vw=Wt("map",_w);const Ew=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dv=Wt("pen-line",Ew);const bw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ov=Wt("pencil",bw);const Tw=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Wd=Wt("plane",Tw);const ww=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hh=Wt("plus",ww);const Sw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xm=Wt("refresh-cw",Sw);const Aw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Hl=Wt("shopping-bag",Aw);const Rw=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qr=Wt("square-check-big",Rw);const xw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Cw=Wt("sun",xw);const Iw=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Cm=Wt("tag",Iw);const Nw=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],Dw=Wt("tram-front",Nw);const Ow=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Im=Wt("trash-2",Ow);const Mw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kw=Wt("user",Mw);const Vw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oo=Wt("x",Vw),Lw=()=>{};var Z0={};const Mv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},jw=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,w=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),a.push(i[w],i[S],i[M],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Mv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):jw(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new Pw;const M=c<<2|p>>4;if(a.push(M),y!==64){const F=p<<4&240|y>>2;if(a.push(F),S!==64){const J=y<<6&192|S;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Pw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uw=function(s){const t=Mv(s);return kv.encodeByteArray(t,!0)},Qc=function(s){return Uw(s).replace(/\./g,"")},Vv=function(s){try{return kv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bw=()=>zw().__FIREBASE_DEFAULTS__,qw=()=>{if(typeof process>"u"||typeof Z0>"u")return;const s=Z0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Hw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Vv(s[1]);return t&&JSON.parse(t)},fh=()=>{try{return Lw()||Bw()||qw()||Hw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lv=s=>fh()?.emulatorHosts?.[s],Gw=s=>{const t=Lv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},jv=()=>fh()?.config,Pv=s=>fh()?.[`_${s}`];class Fw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(s){return(await fetch(s,{credentials:"include"})).ok}function Qw(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const xl={};function Kw(){const s={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?s.emulator.push(t):s.prod.push(t);return s}function Yw(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let J0=!1;function zv(s,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||xl[s]===t||xl[s]||J0)return;xl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Kw().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{J0=!0,d()},M}function w(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Yw(a),F=i("text"),J=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),Z=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),vt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;p(pt),w(Z,it);const qt=y();_(vt,ft),pt.append(vt,J,Z,qt),document.body.appendChild(pt)}c?(J.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function $w(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function eS(){return!$w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const sS="FirebaseError";class hs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sS,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?rS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new hs(l,p,a)}}function rS(s,t){return s.replace(aS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const aS=/\{\$([^}]+)}/g;function oS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Kr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(W0(c)&&W0(d)){if(!Kr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function W0(s){return s!==null&&typeof s=="object"}function Fl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function El(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function bl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function lS(s,t){const i=new uS(s,t);return i.subscribe.bind(i)}class uS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function Fe(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class hS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Fw;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dS(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(s){return s===qr?void 0:s}function dS(s){return s.instantiationMode==="EAGER"}class mS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const pS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},gS=Lt.INFO,yS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},_S=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=yS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=gS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const vS=(s,t)=>t.some(i=>s instanceof i);let t_,e_;function ES(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,tm=new WeakMap,qv=new WeakMap,Bd=new WeakMap,Dm=new WeakMap;function TS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Zs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Bv.set(i,s)}).catch(()=>{}),Dm.set(t,s),t}function wS(s){if(tm.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||qv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function SS(s){em=s(em)}function AS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(qd(this),t,...i);return qv.set(a,t.sort?t.sort():[t]),Zs(a)}:bS().includes(s)?function(...t){return s.apply(qd(this),t),Zs(Bv.get(this))}:function(...t){return Zs(s.apply(qd(this),t))}}function RS(s){return typeof s=="function"?AS(s):(s instanceof IDBTransaction&&wS(s),vS(s,ES())?new Proxy(s,em):s)}function Zs(s){if(s instanceof IDBRequest)return TS(s);if(Bd.has(s))return Bd.get(s);const t=RS(s);return t!==s&&(Bd.set(s,t),Dm.set(t,s)),t}const qd=s=>Dm.get(s);function xS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Zs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Zs(d.result),_.oldVersion,_.newVersion,Zs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const CS=["get","getKey","getAll","getAllKeys","count"],IS=["put","add","delete","clear"],Hd=new Map;function n_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Hd.get(t))return Hd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=IS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||CS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Hd.set(t,c),c}SS(s=>({...s,get:(t,i,a)=>n_(t,i)||s.get(t,i,a),has:(t,i)=>!!n_(t,i)||s.has(t,i)}));class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DS(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",i_="0.14.6";const os=new Nm("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",kS="@firebase/analytics",VS="@firebase/app-check-compat",LS="@firebase/app-check",jS="@firebase/auth",PS="@firebase/auth-compat",US="@firebase/database",zS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",HS="@firebase/functions-compat",GS="@firebase/installations",FS="@firebase/installations-compat",QS="@firebase/messaging",KS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",ZS="@firebase/remote-config-compat",JS="@firebase/storage",WS="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",sA="12.6.0";const im="[DEFAULT]",rA={[nm]:"fire-core",[OS]:"fire-core-compat",[kS]:"fire-analytics",[MS]:"fire-analytics-compat",[LS]:"fire-app-check",[VS]:"fire-app-check-compat",[jS]:"fire-auth",[PS]:"fire-auth-compat",[US]:"fire-rtdb",[zS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[HS]:"fire-fn-compat",[GS]:"fire-iid",[FS]:"fire-iid-compat",[QS]:"fire-fcm",[KS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[ZS]:"fire-rc-compat",[JS]:"fire-gcs",[WS]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};const Ml=new Map,aA=new Map,sm=new Map;function s_(s,t){try{s.container.addComponent(t)}catch(i){os.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ja(s){const t=s.name;if(sm.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of Ml.values())s_(i,s);for(const i of aA.values())s_(i,s);return!0}function Om(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ii(s){return s==null?!1:s.settings!==void 0}const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Gl("app","Firebase",oA);class lA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const uo=sA;function Hv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Js.create("bad-app-name",{appName:String(l)});if(i||(i=jv()),!i)throw Js.create("no-options");const c=Ml.get(l);if(c){if(Kr(i,c.options)&&Kr(a,c.config))return c;throw Js.create("duplicate-app",{appName:l})}const d=new mS(l);for(const _ of sm.values())d.addComponent(_);const p=new lA(i,a,d);return Ml.set(l,p),p}function Mm(s=im){const t=Ml.get(s);if(!t&&s===im&&jv())return Hv();if(!t)throw Js.create("no-app",{appName:s});return t}function uA(){return Array.from(Ml.values())}function Ws(s,t,i){let a=rA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}Ja(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const cA="firebase-heartbeat-database",hA=1,kl="firebase-heartbeat-store";let Gd=null;function Gv(){return Gd||(Gd=xS(cA,hA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Js.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function fA(s){try{const i=(await Gv()).transaction(kl),a=await i.objectStore(kl).get(Fv(s));return await i.done,a}catch(t){if(t instanceof hs)os.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t?.message});os.warn(i.message)}}}async function r_(s,t){try{const a=(await Gv()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,Fv(s)),await a.done}catch(i){if(i instanceof hs)os.warn(i.message);else{const a=Js.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const dA=1024,mA=30;class pA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mA){const l=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a_(),{heartbeatsToSend:i,unsentEntries:a}=gA(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return os.warn(t),""}}}function a_(){return new Date().toISOString().substring(0,10)}function gA(s,t=dA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),o_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),o_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function o_(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function _A(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function vA(s){Ja(new Yr("platform-logger",t=>new NS(t),"PRIVATE")),Ja(new Yr("heartbeat",t=>new pA(t),"PRIVATE")),Ws(nm,i_,s),Ws(nm,i_,"esm2020"),Ws("fire-js","")}vA("");var EA="firebase",bA="12.6.0";Ws(EA,bA,"app");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,Qv;(function(){var s;function t(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,N,V){for(var x=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)x[ae-2]=arguments[ae];return A.prototype[N].apply(k,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)k[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)k[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],N=I.g[2];let V=I.g[3],x;x=A+(V^R&(N^V))+k[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[1]+3905402710&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[2]+606105819&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[3]+3250441966&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(V^R&(N^V))+k[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[5]+1200080426&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[6]+2821735955&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[7]+4249261313&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(V^R&(N^V))+k[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[9]+2336552879&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[10]+4294925233&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[11]+2304563134&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(V^R&(N^V))+k[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=V+(N^A&(R^N))+k[13]+4254626195&4294967295,V=A+(x<<12&4294967295|x>>>20),x=N+(R^V&(A^R))+k[14]+2792965006&4294967295,N=V+(x<<17&4294967295|x>>>15),x=R+(A^N&(V^A))+k[15]+1236535329&4294967295,R=N+(x<<22&4294967295|x>>>10),x=A+(N^V&(R^N))+k[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[6]+3225465664&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[11]+643717713&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[0]+3921069994&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^V&(R^N))+k[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[10]+38016083&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[15]+3634488961&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[4]+3889429448&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^V&(R^N))+k[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[14]+3275163606&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[3]+4107603335&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[8]+1163531501&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(N^V&(R^N))+k[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=V+(R^N&(A^R))+k[2]+4243563512&4294967295,V=A+(x<<9&4294967295|x>>>23),x=N+(A^R&(V^A))+k[7]+1735328473&4294967295,N=V+(x<<14&4294967295|x>>>18),x=R+(V^A&(N^V))+k[12]+2368359562&4294967295,R=N+(x<<20&4294967295|x>>>12),x=A+(R^N^V)+k[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[8]+2272392833&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[11]+1839030562&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[14]+4259657740&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^V)+k[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[4]+1272893353&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[7]+4139469664&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[10]+3200236656&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^V)+k[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[0]+3936430074&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[3]+3572445317&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[6]+76029189&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(R^N^V)+k[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=V+(A^R^N)+k[12]+3873151461&4294967295,V=A+(x<<11&4294967295|x>>>21),x=N+(V^A^R)+k[15]+530742520&4294967295,N=V+(x<<16&4294967295|x>>>16),x=R+(N^V^A)+k[2]+3299628645&4294967295,R=N+(x<<23&4294967295|x>>>9),x=A+(N^(R|~V))+k[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[7]+1126891415&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[14]+2878612391&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[5]+4237533241&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~V))+k[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[3]+2399980690&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[10]+4293915773&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[1]+2240044497&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~V))+k[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[15]+4264355552&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[6]+2734768916&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[13]+1309151649&4294967295,R=N+(x<<21&4294967295|x>>>11),x=A+(N^(R|~V))+k[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=V+(R^(A|~N))+k[11]+3174756917&4294967295,V=A+(x<<10&4294967295|x>>>22),x=N+(A^(V|~R))+k[2]+718787259&4294967295,N=V+(x<<15&4294967295|x>>>17),x=R+(V^(N|~A))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,k=this.C;let N=this.h,V=0;for(;V<A;){if(N==0)for(;V<=R;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<A;)if(k[N++]=I.charCodeAt(V++),N==this.blockSize){l(this,k),N=0;break}}else for(;V<A;)if(k[N++]=I[V++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[A++]=this.g[R]>>>k&255;return I};function c(I,A){var R=p;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function d(I,A){this.h=A;const R=[];let k=!0;for(let N=I.length-1;N>=0;N--){const V=I[N]|0;k&&V==A||(R[N]=V,k=!1)}this.g=R}var p={};function _(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return Z(y(-I));const A=[];let R=1;for(let k=0;I>=R;k++)A[k]=I/R|0,R*=4294967296;return new d(A,0)}function w(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return Z(w(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let k=S;for(let V=0;V<I.length;V+=8){var N=Math.min(8,I.length-V);const x=parseInt(I.substring(V,V+N),A);N<8?(N=y(Math.pow(A,N)),k=k.j(N).add(y(x))):(k=k.j(R),k=k.add(y(x)))}return k}var S=_(0),M=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-Z(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(it(this))return"-"+Z(this).toString(I);const A=y(Math.pow(I,6));var R=this;let k="";for(;;){const N=qt(R,A).g;R=ft(R,N.j(A));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,J(R))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}s.l=function(I){return I=ft(this,I),it(I)?-1:J(I)?0:1};function Z(I){const A=I.g.length,R=[];for(let k=0;k<A;k++)R[k]=~I.g[k];return new d(R,~I.h).add(M)}s.abs=function(){return it(this)?Z(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let N=0;N<=A;N++){let V=k+(this.i(N)&65535)+(I.i(N)&65535),x=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=x>>>16,V&=65535,x&=65535,R[N]=x<<16|V}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(I,A){return I.add(Z(A))}s.j=function(I){if(J(this)||J(I))return S;if(it(this))return it(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(it(I))return Z(this.j(Z(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<I.g.length;N++){const V=this.i(k)>>>16,x=this.i(k)&65535,ae=I.i(N)>>>16,Qt=I.i(N)&65535;R[2*k+2*N]+=x*Qt,vt(R,2*k+2*N),R[2*k+2*N+1]+=V*Qt,vt(R,2*k+2*N+1),R[2*k+2*N+1]+=x*ae,vt(R,2*k+2*N+1),R[2*k+2*N+2]+=V*ae,vt(R,2*k+2*N+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new d(R,0)};function vt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function pt(I,A){this.g=I,this.h=A}function qt(I,A){if(J(A))throw Error("division by zero");if(J(I))return new pt(S,S);if(it(I))return A=qt(Z(I),A),new pt(Z(A.g),Z(A.h));if(it(A))return A=qt(I,Z(A)),new pt(Z(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,k=A;k.l(I)<=0;)R=se(R),k=se(k);var N=It(R,1),V=It(k,1);for(k=It(k,2),R=It(R,2);!J(k);){var x=V.add(k);x.l(I)<=0&&(N=N.add(R),V=x),k=It(k,1),R=It(R,1)}return A=ft(I,N.j(A)),new pt(N,A)}for(N=S;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=y(R),x=V.j(A);it(x)||x.l(I)>0;)R-=k,V=y(R),x=V.j(A);J(V)&&(V=M),N=N.add(V),I=ft(I,x)}return new pt(N,I)}s.B=function(I){return qt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&I.i(k);return new d(R,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|I.i(k);return new d(R,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^I.i(k);return new d(R,this.h^I.h)};function se(I){const A=I.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(R,I.h)}function It(I,A){const R=A>>5;A%=32;const k=I.g.length-R,N=[];for(let V=0;V<k;V++)N[V]=A>0?I.i(V+R)>>>A|I.i(V+R+1)<<32-A:I.i(V+R);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Qv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=w,tr=d}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kv,Tl,Yv,Lc,rm,Xv,$v,Zv;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in v))break t;v=v[j]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function w(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,j,B){for(var W=Array(arguments.length-2),At=2;At<arguments.length;At++)W[At-2]=arguments[At];return m.prototype[j].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=j[W]}else u.push(j)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=pt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new it(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,It=!1,I=new vt,A=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(R)}};function R(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){Z(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ae,N),ae.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ot(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=St(u,m,T,j);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,j),m.fa=v,u.push(m)),m};function mt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],j=Array.prototype.indexOf.call(T,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(T,j,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return j}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),ge={};function nt(u,m,v,T,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)nt(u,m[B],v,T,j);return null}return v=oi(v),u&&u[Qt]?u.J(m,v,p(T)?!!T.capture:!1,j):_t(u,m,v,!1,T,j)}function _t(u,m,v,T,j,B){if(!m)throw Error("Invalid event type");const W=p(j)?!!j.capture:!!j;let At=en(u);if(At||(u[Mt]=At=new st(u)),v=At.add(m,v,T,W,B),v.proxy)return v;if(T=Et(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(j=W),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(ve(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Et(){function u(v){return m.call(u.src,u.listener,v)}const m=Ve;return u}function Ct(u,m,v,T,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ct(u,m[B],v,T,j);else T=p(T)?!!T.capture:!!T,v=oi(v),u&&u[Qt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,j),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=en(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,j)),(v=u>-1?m[u]:null)&&me(v))}function me(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])mt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ve(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=en(m))?(mt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ut(u)}}}function ve(u){return u in ge?ge[u]:ge[u]="on"+u}function Ve(u,m){if(u.da)u=!0;else{m=new ae(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&me(u),u=v.call(T,m)}return u}function en(u){return u=u[Mt],u instanceof st?u:null}var Pi="__closure_events_fn_"+(Math.random()*1e9>>>0);function oi(u){return typeof u=="function"?u:(u[Pi]||(u[Pi]=function(m){return u.handleEvent(m)}),u[Pi])}function he(){k.call(this),this.i=new st(this),this.M=this,this.G=null}S(he,k),he.prototype[Qt]=!0,he.prototype.removeEventListener=function(u,m,v,T){Ct(this,u,m,v,T)};function Le(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var j=m;m=new N(T,u),tt(m,j)}j=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],j=fs(B,T,!0,m)&&j;if(B=m.g=u,j=fs(B,T,!0,m)&&j,j=fs(B,T,!1,m)&&j,v)for(W=0;W<v.length;W++)B=m.g=v[W],j=fs(B,T,!1,m)&&j}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},he.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},he.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function fs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const At=W.listener,be=W.ha||W.src;W.fa&&mt(u.i,W),j=At.call(be,T)!==!1&&j}}return j&&!T.defaultPrevented}function Vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=Vh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){k.call(this),this.h=u,this.g={}}S(dr,k);var yo=[];function _o(u){Ot(u.g,function(m,v){this.g.hasOwnProperty(v)&&me(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),_o(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=d.JSON.stringify,Lh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){N.call(this,"d")}S(Qe,N);function Nn(){N.call(this,"c")}S(Nn,N);var Ee={},su=null;function ea(){return su=su||new he}Ee.Ia="serverreachability";function ru(u){N.call(this,Ee.Ia,u)}S(ru,N);function li(u){const m=ea();Le(m,new ru(m))}Ee.STAT_EVENT="statevent";function mr(u,m){N.call(this,Ee.STAT_EVENT,u),this.stat=m}S(mr,N);function Ae(u){const m=ea();Le(m,new mr(m,u))}Ee.Ja="timingevent";function ui(u,m){N.call(this,Ee.Ja,u),this.size=m}S(ui,N);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function jh(u,m,v,T,j,B){u.info(function(){if(u.g)if(B){var W="",At=B.split("&");for(let Kt=0;Kt<At.length;Kt++){var be=At[Kt].split("=");if(be.length>1){const fe=be[0];be=be[1];const kn=fe.split("_");W=kn.length>=2&&kn[1]=="type"?W+(fe+"="+be+"&"):W+(fe+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+W})}function au(u,m,v,T,j,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+W})}function hi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ds(B)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function yr(){}S(yr,nu),yr.prototype.g=function(){return new XMLHttpRequest},Eo=new yr;function Ui(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Re={},Be={};function fi(u,m,v){u.M=1,u.A=_r(Ce(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),di(u),u.B=Ce(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Yn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(yo[0]=j.toString()),j=yo);for(let B=0;B<j.length;B++){const W=nt(v,j[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Zn(this.g),be=this.g.ya(),Kt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||At!=4||be==7||(be==8||Kt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break e}}B=null}if(u=B)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,Ae(12),En(this),Dn(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=uu(this,v),fe==Be){At==4&&(this.m=4,Ae(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Re){this.m=4,Ae(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,fe,null),pi(this,fe);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(W),W.P=!0,Ae(11))}}else hi(this.i,this.l,v,null),pi(this,v);At==4&&En(this),this.o&&!this.K&&(At==4?_u(this.j,this):(this.o=!1,di(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),En(this),Dn(this)}}}catch{}finally{}};function Uh(u){if(!lu(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const T=m.length,j=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Be:(v=Number(m.substring(v,T)),isNaN(v)?Re:(T+=1,T+v>m.length?Be:(m=m.slice(T,T+v),u.C=T+v,m)))}Kn.prototype.cancel=function(){this.K=!0,En(this)};function di(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(y(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(li(),Ae(17)),En(this),this.m=2,Dn(this)):ia(this,this.T-u)};function Dn(u){u.j.I==0||u.K||_u(u.j,u)}function En(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),bs(v);else break t;Ar(v),Ae(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&ha(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Kt=j[m];const fe=Kt[0];if(!(fe<=v.K))if(v.K=fe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const kn=Kt[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Si=Kt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Jn=Kt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(T=1.5*Jn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Wn=u.g;if(Wn){const Rr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=T.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(T.G){const fa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,$t(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=bu(T,T.L?T.ba:null,T.W),W.L){So(T.h,W);var At=W,be=T.O;be&&(At.H=be),At.D&&(mi(At),di(At)),T.g=W}else gu(T);v.i.length>0&&Ti(v)}else Kt[0]!="stop"&&Kt[0]!="close"||wi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?wi(v,7):Mo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}li(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let j,B=null;T>=0?(j=u[v].substring(0,T),B=u[v].substring(T+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,ms(this,u.u),this.h=u.h,Ro(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),ms(this,m[4]),this.h=_i(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,ra,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?xo:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,fu)),u.join("")},bn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ms(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let W=0;W<j.length;){const At=j[W++];At=="."?T&&W==j.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==j.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=j}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new bn(u)}function qe(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof gs?(u.i=m,oa(u.i,u.l)):(v||(m=vr(m,ps)),u.i=new gs(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function _r(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,hu=/[#\?:]/g,xo=/[#\?]/g,ps=/[#\?@]/g,fu=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(u,m){fn(this),this.i=null,u=ys(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){fn(u),m=ys(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return fn(u),m=ys(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,T){v.forEach(function(j){u.call(m,j,T,this)},this)},this)};function Io(u,m){fn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(ys(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=ys(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(ys(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const j=Ui(v);v=Io(this,v);for(let B=0;B<v.length;B++){let W=j;v[B]!==""&&(W+="="+Ui(v[B])),u.push(W)}}return this.i=u.join("&")};function mu(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ys(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,T){const j=T.toLowerCase();T!=j&&(du(this,T),aa(this,j,v))},u)),u.j=m}function Xn(u,m){const v=new Qn;if(d.Image){const T=new Image;T.onload=w(On,v,"TestLoadImage: loaded",!0,m,T),T.onerror=w(On,v,"TestLoadImage: error",!1,m,T),T.onabort=w(On,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=w(On,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const v=new Qn,T=new AbortController,j=setTimeout(()=>{T.abort(),On(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(j),B.ok?On(v,"TestPingServer: ok",!0,m):On(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),On(v,"TestPingServer: error",!1,m)})}function On(u,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function _s(){this.g=new eu}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(vi,nu),vi.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){he.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Er,he),s=Er.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,$n(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vs(this):$n(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,vs(this))},s.Na=function(u){this.g&&(this.response=u,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,$n(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let m="";return Ot(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function br(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Mn(v),typeof u=="string"?v!=null&&Ui(v):$t(u,m,v))}function te(u){he.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,he);var Ei=/^https?$/i,Do=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Tr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Tr(this,B)}};function Tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),zi(u)}function Oo(u){u.A||(u.A=!0,Le(u,"complete"),Le(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Le(this,"complete"),Le(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},s.Xa=function(){wr(this)};function wr(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Le(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(cu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!Ei.test(W?W.toLowerCase():"")}v=T}if(v)Le(u,"complete"),Le(u,"success");else{u.o=6;try{var j=Zn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Oo(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Le(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=ou(u[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Es(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new _s,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ae(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=bu(this,null,this.W),Ti(this)};function Mo(u){if(ua(u),u.I==3){var m=u.V++,v=Ce(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Sr(u,v),m=new Kn(u,u.j,m),m.M=2,m.A=_r(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}Eu(u)}function bs(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ua(u){bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;se||A(),It||(se(),It=!0),I.add(m,u),u.D=0}}function ca(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(y(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,j,m),v=Ce(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Sr(this,v),B&&(this.R?m="headers="+Ui(Mn(B))+"&"+m:this.u&&br(v,this.u,B)),wo(this.h,j),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),j.U=!0,fi(j,v,null)):fi(j,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||To(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const T=Ce(u.J);$t(T,"SID",u.M),$t(T,"RID",v),$t(T,"AID",u.K),Sr(u,T),u.u&&u.o&&br(T,u.u,u.o),v=new Kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,v),fi(v,T,m)}function Sr(u,m){u.H&&Ot(u.H,function(v,T){$t(m,T,v)}),u.l&&Ot({},function(v,T){$t(m,T,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var j=u.i;let At=-1;for(;;){const be=["count="+v];At==-1?v>0?(At=j[0].g,be.push("ofs="+At)):At=0:be.push("ofs="+At);let Kt=!0;for(let fe=0;fe<v;fe++){var B=j[fe].g;const kn=j[fe].map;if(B-=At,B<0)At=Math.max(0,j[fe].g-100),Kt=!1;else try{B="req"+B+"_"||"";try{var W=kn instanceof Map?kn:Object.entries(kn);for(const[Si,Jn]of W){let Wn=Jn;p(Jn)&&(Wn=ds(Jn)),be.push(B+Si+"="+encodeURIComponent(Wn))}}catch(Si){throw be.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{T&&T(kn)}}if(Kt){W=be.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;se||A(),It||(se(),It=!0),I.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(y(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),bs(this),yu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Sr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(Ce(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),Ar(this),Ae(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){ha(u),Vo(u),u.g=null;var T=2}else if(yi(u.h,m))v=m.G,So(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;T=ea(),Le(T,new ui(T,v)),Ti(u)}else gu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&Ar(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const j=!T;T=new bn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),_r(T),j?Xn(T.toString(),v):No(T.toString(),v)}else Ae(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var T=v instanceof bn?Ce(v):new bn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ms(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new bn(null);T&&qe(B,T),m&&(B.g=m),j&&ms(B,j),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&$t(T,v,m),$t(T,"VER",u.ka),Sr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new vi({ab:v})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new un(u,m)};function un(u,m){he.call(this),this.g=new Es(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}S(un,he),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Mo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ds(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&Ti(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,un.Z.N.call(this)};function Su(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,Qe);function Au(){Nn.call(this),this.status=1}S(Au,Nn);function qi(u){this.g=u}S(qi,wu),qi.prototype.ra=function(){Le(this.g,"a")},qi.prototype.qa=function(u){Le(this.g,new Su(u))},qi.prototype.pa=function(u){Le(this.g,new Au)},qi.prototype.oa=function(){Le(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Zv=function(){return new Ts},$v=function(){return ea()},Xv=Ee,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Lc=gr,vo.COMPLETE="complete",Yv=vo,iu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",he.prototype.listen=he.prototype.J,Tl=iu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,Kv=te}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const u_="@firebase/firestore",c_="4.9.2";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let co="12.3.0";const Xr=new Nm("@firebase/firestore");function qa(){return Xr.logLevel}function rt(s,...t){if(Xr.logLevel<=Lt.DEBUG){const i=t.map(km);Xr.debug(`Firestore (${co}): ${s}`,...i)}}function ls(s,...t){if(Xr.logLevel<=Lt.ERROR){const i=t.map(km);Xr.error(`Firestore (${co}): ${s}`,...i)}}function Wa(s,...t){if(Xr.logLevel<=Lt.WARN){const i=t.map(km);Xr.warn(`Firestore (${co}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Jv(s,a,i)}function Jv(s,t,i){let a=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ls(a),new Error(a)}function Xt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Jv(t,l,a)}function wt(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends hs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Wv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class wA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class SA{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new Wv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class AA{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RA{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new AA(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xA{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new h_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=CA(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function jt(s,t){return s<t?-1:s>t?1:0}function am(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Fd(l)===Fd(c)?jt(l,c):Fd(l)?1:-1}return jt(s.length,t.length)}const IA=55296,NA=57343;function Fd(s){const t=s.charCodeAt(0);return t>=IA&&t<=NA}function to(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const f_="__name__";class Ii{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Ii.isNumericId(t),l=Ii.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class ue extends Ii{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const DA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ii{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return DA.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f_}static keyField(){return new We([f_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ue.fromString(t))}static fromName(t){return new ht(ue.fromString(t).popFirst(5))}static empty(){return new ht(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ue(t.slice()))}}function tE(s,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function OA(s,t,i,a){if(t===!0&&a===!0)throw new lt($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function d_(s){if(!ht.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function m_(s){if(ht.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function er(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(s);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function ke(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ql(s,t){if(!eE(s))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const p_=-62135596800,g_=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*g_);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<p_)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g_}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-p_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:ke("string",ce._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ce(0,0))}static max(){return new bt(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function MA(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new sr(l,ht.empty(),t)}function kA(s){return new sr(s.readTime,s.key,Vl)}class sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new sr(bt.min(),ht.empty(),Vl)}static max(){return new sr(bt.max(),ht.empty(),Vl)}}function VA(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:jt(s.largestBatchId,t.largestBatchId))}const LA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==LA)throw s;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((w=>{d[y]=w,++p,p===c&&a(d)}),(w=>l(w)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function PA(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(s){return s.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const jm=-1;function mh(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function UA(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const nE="";function zA(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=y_(t)),t=BA(s.get(i),t);return y_(t)}function BA(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case nE:i+="";break;default:i+=c}}return i}function y_(s){return s+nE+""}function __(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function cr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function iE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=l??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Je(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(t){return new v_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class v_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new In([])}unionWith(t){let i=new ze(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const qA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(s){if(Xt(!!s,39018),typeof s=="string"){let t=0;const i=qA.exec(s);if(Xt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Se(s.seconds),nanos:Se(s.nanos)}}function Se(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ar(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const rE="server_timestamp",aE="__type__",oE="__previous_value__",lE="__local_write_time__";function Pm(s){return(s?.mapValue?.fields||{})[aE]?.stringValue===rE}function ph(s){const t=s.mapValue.fields[oE];return Pm(t)?ph(t):t}function Ll(s){const t=rr(s.mapValue.fields[lE].timestampValue);return new ce(t.seconds,t.nanos)}class HA{constructor(t,i,a,l,c,d,p,_,y,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=w}}const Yc="(default)";class jl{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}const uE="__type__",GA="__max__",Dc={mapValue:{}},cE="__vector__",Xc="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:QA(s)?9007199254740991:FA(s)?10:11:yt(28295,{value:s})}function Li(s,t){if(s===t)return!0;const i=or(s);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ll(s).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Se(l.geoPointValue.latitude)===Se(c.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Se(l.integerValue)===Se(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Se(l.doubleValue),p=Se(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return to(s.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(__(d)!==__(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Li(d[_],p[_])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Pl(s,t){return(s.values||[]).find((i=>Li(i,t)))!==void 0}function eo(s,t){if(s===t)return 0;const i=or(s),a=or(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Se(c.integerValue||c.doubleValue),_=Se(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return E_(s.timestampValue,t.timestampValue);case 4:return E_(Ll(s),Ll(t));case 5:return am(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ar(c),_=ar(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const w=jt(p[y],_[y]);if(w!==0)return w}return jt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=jt(Se(c.latitude),Se(d.latitude));return p!==0?p:jt(Se(c.longitude),Se(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return b_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Xc]?.arrayValue,w=_[Xc]?.arrayValue,S=jt(y?.values?.length||0,w?.values?.length||0);return S!==0?S:b_(y,w)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},w=Object.keys(y);_.sort(),w.sort();for(let S=0;S<_.length&&S<w.length;++S){const M=am(_[S],w[S]);if(M!==0)return M;const F=eo(p[_[S]],y[w[S]]);if(F!==0)return F}return jt(_.length,w.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function E_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return jt(s,t);const i=rr(s),a=rr(t),l=jt(i.seconds,a.seconds);return l!==0?l:jt(i.nanos,a.nanos)}function b_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=eo(i[l],a[l]);if(c)return c}return jt(i.length,a.length)}function no(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=rr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function jc(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(s);return t?16+jc(t):16;case 5:return 2*s.stringValue.length;case 6:return ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return cr(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function lm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function T_(s){return!!s&&"nullValue"in s}function w_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function FA(s){return(s?.mapValue?.fields||{})[uE]?.stringValue===cE}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return cr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return t}return{...s}}function QA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===GA}class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=We.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){cr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new vn(Cl(this.value))}}function hE(s){const t=[];return cr(s.fields,((i,a)=>{const l=new We([i]);if(Pc(a)){const c=hE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new In(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,bt.min(),bt.min(),bt.min(),vn.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,bt.min(),bt.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,bt.min(),bt.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function S_(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=eo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function A_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],t.position[i]))return!1;return!0}class Zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function KA(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class fE{}class Pe extends fE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new XA(t,i,a):i==="array-contains"?new JA(t,a):i==="in"?new WA(t,a):i==="not-in"?new t2(t,a):i==="array-contains-any"?new e2(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new $A(t,a):new ZA(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends fE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ji(t,i)}matches(t){return dE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(s){return s.op==="and"}function mE(s){return YA(s)&&dE(s)}function YA(s){for(const t of s.filters)if(t instanceof ji)return!1;return!0}function um(s){if(s instanceof Pe)return s.field.canonicalString()+s.op.toString()+no(s.value);if(mE(s))return s.filters.map((t=>um(t))).join(",");{const t=s.filters.map((i=>um(i))).join(",");return`${s.op}(${t})`}}function pE(s,t){return s instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&Li(a.value,l.value)})(s,t):s instanceof ji?(function(a,l){return l instanceof ji&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&pE(d,l.filters[p])),!0):!1})(s,t):void yt(19439)}function gE(s){return s instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(s):s instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(gE).join(" ,")+"}"})(s):"Filter"}class XA extends Pe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class $A extends Pe{constructor(t,i){super(t,"in",i),this.keys=yE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class ZA extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=yE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function yE(s,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class JA extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Pl(i.arrayValue,this.value)}}class WA extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class t2 extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class e2 extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}class n2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function R_(s,t=null,i=[],a=[],l=null,c=null,d=null){return new n2(s,t,i,a,l,c,d)}function zm(s){const t=wt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>no(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>no(a))).join(",")),t.Te=i}return t.Te}function Bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!KA(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!pE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!A_(s.startAt,t.startAt)&&A_(s.endAt,t.endAt)}function cm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function i2(s,t,i,a,l,c,d,p){return new gh(s,t,i,a,l,c,d,p)}function qm(s){return new gh(s)}function x_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function s2(s){return s.collectionGroup!==null}function Il(s){const t=wt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(We.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zc(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new Zc(We.keyField(),a))}return t.Ie}function Ni(s){const t=wt(s);return t.Ee||(t.Ee=r2(t,Il(s))),t.Ee}function r2(s,t){if(s.limitType==="F")return R_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Zc(l.field,c)}));const i=s.endAt?new $c(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new $c(s.startAt.position,s.startAt.inclusive):null;return R_(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function hm(s,t,i){return new gh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return Bm(Ni(s),Ni(t))&&s.limitType===t.limitType}function _E(s){return`${zm(Ni(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>gE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${a})`})(Ni(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=S_(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,_){const y=S_(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Il(a),l))})(s,t)}function a2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function vE(s){return(t,i)=>{let a=!1;for(const l of Il(s)){const c=o2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function o2(s,t,i){const a=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?eo(_,y):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}const l2=new pe(ht.comparator);function us(){return l2}const EE=new pe(ht.comparator);function wl(...s){let t=EE;for(const i of s)t=t.insert(i.key,i);return t}function bE(s){let t=EE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Nl()}function TE(){return Nl()}function Nl(){return new Jr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const u2=new pe(ht.comparator),c2=new ze(ht.comparator);function Pt(...s){let t=c2;for(const i of s)t=t.add(i);return t}const h2=new ze(jt);function f2(){return h2}function Hm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function wE(s){return{integerValue:""+s}}function d2(s,t){return UA(t)?wE(t):Hm(s,t)}class vh{constructor(){this._=void 0}}function m2(s,t,i){return s instanceof Jc?(function(l,c){const d={fields:{[aE]:{stringValue:rE},[lE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=ph(c)),c&&(d.fields[oE]=c),{mapValue:d}})(i,t):s instanceof Ul?AE(s,t):s instanceof zl?RE(s,t):(function(l,c){const d=SE(l,c),p=C_(d)+C_(l.Ae);return lm(d)&&lm(l.Ae)?wE(p):Hm(l.serializer,p)})(s,t)}function p2(s,t,i){return s instanceof Ul?AE(s,t):s instanceof zl?RE(s,t):i}function SE(s,t){return s instanceof Wc?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Jc extends vh{}class Ul extends vh{constructor(t){super(),this.elements=t}}function AE(s,t){const i=xE(t);for(const a of s.elements)i.some((l=>Li(l,a)))||i.push(a);return{arrayValue:{values:i}}}class zl extends vh{constructor(t){super(),this.elements=t}}function RE(s,t){let i=xE(t);for(const a of s.elements)i=i.filter((l=>!Li(l,a)));return{arrayValue:{values:i}}}class Wc extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function C_(s){return Se(s.integerValue||s.doubleValue)}function xE(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function g2(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ul&&l instanceof Ul||a instanceof zl&&l instanceof zl?to(a.elements,l.elements,Li):a instanceof Wc&&l instanceof Wc?Li(a.Ae,l.Ae):a instanceof Jc&&l instanceof Jc})(s.transform,t.transform)}class y2{constructor(t,i){this.version=t,this.transformResults=i}}class ri{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function CE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Gm(s.key,ri.none()):new Kl(s.key,s.data,ri.none());{const i=s.data,a=vn.empty();let l=new ze(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new hr(s.key,a,new In(l.toArray()),ri.none())}}function _2(s,t,i){s instanceof Kl?(function(l,c,d){const p=l.value.clone(),_=N_(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof hr?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=N_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(IE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(s,t,i,a){return s instanceof Kl?(function(c,d,p,_){if(!Uc(c.precondition,d))return p;const y=c.value.clone(),w=D_(c.fieldTransforms,_,d);return y.setAll(w),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof hr?(function(c,d,p,_){if(!Uc(c.precondition,d))return p;const y=D_(c.fieldTransforms,_,d),w=d.data;return w.setAll(IE(c)),w.setAll(y),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function v2(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=SE(a.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function I_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&to(a,l,((c,d)=>g2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Kl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hr extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function N_(s,t,i){const a=new Map;Xt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,p2(d,p,i[l]))}return a}function D_(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,m2(c,d,t))}return a}class Gm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class b2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=TE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=CE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,a)=>I_(i,a)))&&to(this.baseMutations,t.baseMutations,((i,a)=>I_(i,a)))}}class Fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return u2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(t,i,a,l)}}class T2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class w2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Bt;function S2(s){switch(s){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function NE(s){if(s===void 0)return ls("GRPC error has no .code"),$.UNKNOWN;switch(s){case Me.OK:return $.OK;case Me.CANCELLED:return $.CANCELLED;case Me.UNKNOWN:return $.UNKNOWN;case Me.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Me.INTERNAL:return $.INTERNAL;case Me.UNAVAILABLE:return $.UNAVAILABLE;case Me.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Me.NOT_FOUND:return $.NOT_FOUND;case Me.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Me.ABORTED:return $.ABORTED;case Me.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Me.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:s})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function A2(){return new TextEncoder}const R2=new tr([4294967295,4294967295],0);function O_(s){const t=A2().encode(s),i=new Qv;return i.update(t),new Uint8Array(i.digest())}function M_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new tr([i,a],0),new tr([l,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=tr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(tr.fromNumber(a)));return l.compare(R2)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=O_(t),[a,l]=M_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=O_(t),[a,l]=M_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new bh(bt.min(),l,new pe(jt),us(),Pt())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,Pt(),Pt(),Pt())}}class zc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class DE{constructor(t,i){this.targetId=t,this.Ce=i}}class OE{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class k_{constructor(){this.ve=0,this.Fe=V_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=V_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class x2{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.Je=Oc(),this.He=Oc(),this.Ye=new pe(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new ht(c.path);this.et(i,d,an.newNoDocument(d,bt.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ar(a).toUint8Array()}catch(_){if(_ instanceof sE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Qm(d,l,c)}catch(_){return Wa(_ instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new bh(t,i,this.Ye,this.je,a);return this.je=us(),this.Je=Oc(),this.He=Oc(),this.Ye=new pe(jt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new k_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new k_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new pe(ht.comparator)}function V_(){return new pe(ht.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N2={and:"AND",or:"OR"};class D2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(s,t){return s.useProto3Json||mh(t)?t:{value:t}}function th(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ME(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function O2(s,t){return th(s,t.toTimestamp())}function Di(s){return Xt(!!s,49232),bt.fromTimestamp((function(i){const a=rr(i);return new ce(a.seconds,a.nanos)})(s))}function Km(s,t){return dm(s,t).canonicalString()}function dm(s,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function kE(s){const t=ue.fromString(s);return Xt(UE(t),10190,{key:t.toString()}),t}function mm(s,t){return Km(s.databaseId,t.path)}function Qd(s,t){const i=kE(t);if(i.get(1)!==s.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(LE(i))}function VE(s,t){return Km(s.databaseId,t)}function M2(s){const t=kE(s);return t.length===4?ue.emptyPath():LE(t)}function pm(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function LE(s){return Xt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function L_(s,t,i){return{name:mm(s,t),fields:i.value.mapValue.fields}}function k2(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,w){return y.useProto3Json?(Xt(w===void 0||typeof w=="string",58123),tn.fromBase64String(w||"")):(Xt(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),tn.fromUint8Array(w||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const w=y.code===void 0?$.UNKNOWN:NE(y.code);return new lt(w,y.message||"")})(d);i=new OE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(s,a.document.name),c=Di(a.document.updateTime),d=a.document.createTime?Di(a.document.createTime):bt.min(),p=new vn({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(l,c,d,p),y=a.targetIds||[],w=a.removedTargetIds||[];i=new zc(y,w,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Qd(s,a.document),c=a.readTime?Di(a.readTime):bt.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Qd(s,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new w2(l,c),p=a.targetId;i=new DE(p,d)}}return i}function V2(s,t){let i;if(t instanceof Kl)i={update:L_(s,t.key,t.value)};else if(t instanceof Gm)i={delete:mm(s,t.key)};else if(t instanceof hr)i={update:L_(s,t.key,t.data),updateMask:G2(t.fieldMask)};else{if(!(t instanceof E2))return yt(16599,{Vt:t.type});i={verify:mm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:O2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function L2(s,t){return s&&s.length>0?(Xt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Di(l.updateTime):Di(c);return d.isEqual(bt.min())&&(d=Di(c)),new y2(d,l.transformResults||[])})(i,t)))):[]}function j2(s,t){return{documents:[VE(s,t.path)]}}function P2(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=VE(s,l);const c=(function(y){if(y.length!==0)return PE(ji.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((w=>(function(M){return{field:Ga(M.field),direction:B2(M.dir)}})(w)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=fm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function U2(s){let t=M2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const w=i.from[0];w.allDescendants?l=w.collectionId:t=t.child(w.collectionId)}let c=[];i.where&&(c=(function(S){const M=jE(S);return M instanceof ji&&mE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(J){return new Zc(Fa(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,mh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,F=S.values||[];return new $c(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,F=S.values||[];return new $c(F,M)})(i.endAt)),i2(t,l,d,c,p,"F",_,y)}function z2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function jE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pe.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((a=>jE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function B2(s){return C2[s]}function q2(s){return I2[s]}function H2(s){return N2[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Fa(s){return We.fromServerFormat(s.fieldPath)}function PE(s){return s instanceof Pe?(function(i){if(i.op==="=="){if(w_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(T_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(w_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(T_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:q2(i.op),value:i.value}}})(s):s instanceof ji?(function(i){const a=i.getFilters().map((l=>PE(l)));return a.length===1?a[0]:{compositeFilter:{op:H2(i.op),filters:a}}})(s):yt(54877,{filter:s})}function G2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function UE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class $s{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=tn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class F2{constructor(t){this.yt=t}}function Q2(s){const t=U2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(t,t.limit,"L"):t}class K2{constructor(){this.Cn=new Y2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(sr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Y2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(ue.comparator)).toArray()}}const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(zE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const P_="LruGarbageCollector",X2=1048576;function U_([s,t],[i,a]){const l=jt(s,i);return l===0?jt(t,a):l}class $2{constructor(t){this.Ir=t,this.buffer=new ze(U_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();U_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Z2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(P_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?rt(P_,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class J2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(dh.ce);const a=new $2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(j_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),qa()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-w}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function W2(s,t){return new J2(s,t)}class tR{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Dl(a.mutation,l,In.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Hr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=wl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=us();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((_,y)=>{const w=a.get(y.key);l.has(y.key)&&(w===void 0||w.mutation instanceof hr)?c=c.insert(y.key,y):w!==void 0?(d.set(y.key,w.mutation.getFieldMask()),Dl(w.mutation,y,w.mutation.getFieldMask(),ce.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,w)=>d.set(y,w))),i.forEach(((y,w)=>p.set(y,new eR(w,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new pe(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let w=a.get(_)||In.empty();w=p.applyToLocalView(y,w),a.set(_,w);const S=(l.get(p.batchId)||Pt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,w=_.value,S=TE();w.forEach((M=>{if(!c.has(M)){const F=CE(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):s2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Hr());let p=Vl,_=c;return d.next((y=>X.forEach(y,((w,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(w)?X.resolve():this.remoteDocumentCache.getEntry(t,w).next((M=>{_=_.insert(w,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Pt()))).next((w=>({batchId:p,changes:bE(w)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(S,M){return new gh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((w=>{w.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const w=y.getKey();d.get(w)===null&&(d=d.insert(w,an.newInvalidDocument(w)))}));let p=wl();return d.forEach(((_,y)=>{const w=c.get(_);w!==void 0&&Dl(w.mutation,y,In.empty(),ce.now()),_h(i,y)&&(p=p.insert(_,y))})),p}))}}class iR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Di(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Q2(l.bundledQuery),readTime:Di(l.readTime)}})(i)),X.resolve()}}class sR{constructor(){this.overlays=new pe(ht.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Hr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe(((y,w)=>y-w));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let w=c.get(y.largestBatchId);w===null&&(w=Hr(),c=c.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=Hr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new T2(i,a));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class rR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Ym{constructor(){this.Qr=new ze(Ge.$r),this.Ur=new ze(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new ue([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ue([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=Pt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class aR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Ge.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new b2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(jt);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new ht(c),0);let p=new ze(jt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oR{constructor(t){this.ri=t,this.docs=(function(){return new pe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=us();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=us();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:w}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||VA(kA(w),a)<=0||(l.has(w.key)||_h(i,w))&&(c=c.insert(w.key,w.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new lR(this)}getSize(t){return X.resolve(this.size)}}class lR extends tR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uR{constructor(t){this.persistence=t,this.si=new Jr((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class BE{constructor(t,i){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new rR,this.referenceDelegate=t(this),this.Pi=new uR(this),this.indexManager=new K2,this.remoteDocumentCache=(function(l){return new oR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new F2(i),this.Ii=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new aR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new cR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class cR extends jA{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Ym,this.Vi=null}static mi(t){return new Xm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.pi=new Jr((a=>zA(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=W2(this,i)}static mi(t,i){return new eh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(t,i.fromCache,a,l)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eS()?8:PA(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(qa()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(qa()<=Lt.DEBUG&&rt("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qa()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):X.resolve())}ys(t,i){if(x_(i))return X.resolve(null);let a=Ni(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),a=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,hm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return x_(i)||l.isEqual(bt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(qa()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,MA(l,Vl)).next((p=>p)))}))}Ds(t,i){let a=new ze(vE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return qa()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,sr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",dR=3e8;class mR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new pe(jt),this.xs=new Jr((c=>zm(c)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pR(s,t,i,a){return new mR(s,t,i,a)}async function qE(s,t){const i=wt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Pt();for(const y of l){d.push(y.batchId);for(const w of y.mutations)_=_.add(w.key)}for(const y of c){p.push(y.batchId);for(const w of y.mutations)_=_.add(w.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function gR(s,t){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,w){const S=y.batch,M=S.keys();let F=X.resolve();return M.forEach((J=>{F=F.next((()=>w.getEntry(_,J))).next((it=>{const Z=y.docVersions.get(J);Xt(Z!==null,48541),it.version.compareTo(Z)<0&&(S.applyToRemoteDocument(it,y),it.isValidDocument()&&(it.setReadTime(y.commitVersion),w.addEntry(it)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Pt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function HE(s){const t=wt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yR(s,t){const i=wt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((w,S)=>{const M=l.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,w.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,w.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(tn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,a)),l=l.insert(S,F),(function(it,Z,ft){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=dR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,F,w)&&p.push(i.Pi.updateTargetData(c,F))}));let _=us(),y=Pt();if(t.documentUpdates.forEach((w=>{t.resolvedLimboDocuments.has(w)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,w))})),p.push(_R(c,d,t.documentUpdates).next((w=>{_=w.ks,y=w.qs}))),!a.isEqual(bt.min())){const w=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(w)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function _R(s,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=us();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(Zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function vR(s,t){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function ER(s,t){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new $s(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(s,t,i){const a=wt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;rt(Zm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function z_(s,t,i){const a=wt(s);let l=bt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,w){const S=wt(_),M=S.xs.get(w);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,w)})(a,d,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Pt()))).next((p=>(bR(a,a2(t),p),{documents:p,Qs:c})))))}function bR(s,t,i){let a=s.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class B_{constructor(){this.activeTargetIds=f2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TR{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wR{Oo(t){}shutdown(){}}const q_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(q_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(q_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function ym(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Kd="RestConnection",SR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=ym(),p=this.zo(t,i.toUriEncodedString());rt(Kd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),w=lo(y);return this.Jo(t,p,_,a,w).then((S=>(rt(Kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Wa(Kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=SR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class RR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class xR extends AR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=ym();return new Promise(((p,_)=>{const y=new Kv;y.setWithCredentials(!0),y.listenOnce(Yv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Lc.NO_ERROR:const S=y.getResponseJson();rt(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Lc.TIMEOUT:rt(sn,`RPC '${t}' ${d} timed out`),_(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const M=y.getStatus();if(rt(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F?.error;if(J&&J.status&&J.message){const it=(function(ft){const vt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(J.status);_(new lt(it,J.message))}else _(new lt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(sn,`RPC '${t}' ${d} completed.`)}}));const w=JSON.stringify(l);rt(sn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",w,a,15)}))}T_(t,i,a){const l=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Zv(),p=$v(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const w=c.join("");rt(sn,`Creating RPC '${t}' stream ${l}: ${w}`,_);const S=d.createWebChannel(w,_);this.I_(S);let M=!1,F=!1;const J=new RR({Yo:Z=>{F?rt(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(M||(rt(sn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),rt(sn,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),it=(Z,ft,vt)=>{Z.listen(ft,(pt=>{try{vt(pt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return it(S,Tl.EventType.OPEN,(()=>{F||(rt(sn,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),it(S,Tl.EventType.CLOSE,(()=>{F||(F=!0,rt(sn,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),it(S,Tl.EventType.ERROR,(Z=>{F||(F=!0,Wa(sn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),it(S,Tl.EventType.MESSAGE,(Z=>{if(!F){const ft=Z.data[0];Xt(!!ft,16349);const vt=ft,pt=vt?.error||vt[0]?.error;if(pt){rt(sn,`RPC '${t}' stream ${l} received error:`,pt);const qt=pt.status;let se=(function(A){const R=Me[A];if(R!==void 0)return NE(R)})(qt),It=pt.message;se===void 0&&(se=$.INTERNAL,It="Unknown error status: "+qt+" with message "+pt.message),F=!0,J.a_(new lt(se,It)),S.close()}else rt(sn,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}})),it(p,Xv.STAT_EVENT,(Z=>{Z.stat===rm.PROXY?rt(sn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===rm.NOPROXY&&rt(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Yd(){return typeof document<"u"?document:null}function Th(s){return new D2(s,!0)}class GE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const G_="PersistentStream";class FE{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ls(i.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(G_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends FE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=k2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Di(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=cm(_)?{documents:j2(c,_)}:{query:P2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ME(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=th(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=z2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class IR extends FE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=L2(t.writeResults,t.commitTime),a=Di(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>V2(this.serializer,a)))};this.q_(i)}}class NR{}class DR extends NR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,dm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class MR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(rt($r,"Restarting streams for network reachability change."),await(async function(_){const y=wt(_);y.Ea.add(4),await Xl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new OR(a,l)}}async function wh(s){if(Wr(s))for(const t of s.da)await t(!0)}async function Xl(s){for(const t of s.da)await t(!1)}function QE(s,t){const i=wt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ep(i)?tp(i):mo(i).O_()&&Wm(i,t))}function Jm(s,t){const i=wt(s),a=mo(i);i.Ia.delete(t),a.O_()&&KE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Ra.set("Unknown"))}function Wm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(s).Y_(t)}function KE(s,t){s.Va.Ue(t),mo(s).Z_(t)}function tp(s){s.Va=new x2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Ra.ua()}function ep(s){return Wr(s)&&!mo(s).x_()&&s.Ia.size>0}function Wr(s){return wt(s).Ea.size===0}function YE(s){s.Va=void 0}async function kR(s){s.Ra.set("Online")}async function VR(s){s.Ia.forEach(((t,i)=>{Wm(s,t)}))}async function LR(s,t){YE(s),ep(s)?(s.Ra.ha(t),tp(s)):s.Ra.set("Unknown")}async function jR(s,t,i){if(s.Ra.set("Online"),t instanceof OE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){rt($r,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(s,a)}else if(t instanceof zc?s.Va.Ze(t):t instanceof DE?s.Va.st(t):s.Va.tt(t),!i.isEqual(bt.min()))try{const a=await HE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const w=c.Ia.get(y);w&&c.Ia.set(y,w.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const w=c.Ia.get(_);if(!w)return;c.Ia.set(_,w.withResumeToken(tn.EMPTY_BYTE_STRING,w.snapshotVersion)),KE(c,_);const S=new $s(w.target,_,y,w.sequenceNumber);Wm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){rt($r,"Failed to raise snapshot:",a),await nh(s,a)}}async function nh(s,t,i){if(!fo(t))throw t;s.Ea.add(1),await Xl(s),s.Ra.set("Offline"),i||(i=()=>HE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{rt($r,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function XE(s,t){return t().catch((i=>nh(s,i,t)))}async function Sh(s){const t=wt(s),i=lr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;PR(t);)try{const l=await vR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,UR(t,l)}catch(l){await nh(t,l)}$E(t)&&ZE(t)}function PR(s){return Wr(s)&&s.Ta.length<10}function UR(s,t){s.Ta.push(t);const i=lr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function $E(s){return Wr(s)&&!lr(s).x_()&&s.Ta.length>0}function ZE(s){lr(s).start()}async function zR(s){lr(s).ra()}async function BR(s){const t=lr(s);for(const i of s.Ta)t.ea(i.mutations)}async function qR(s,t,i){const a=s.Ta.shift(),l=Fm.from(a,t,i);await XE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Sh(s)}async function HR(s,t){t&&lr(s).X_&&await(async function(a,l){if((function(d){return S2(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();lr(a).B_(),await XE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(s,t),$E(s)&&ZE(s)}async function F_(s,t){const i=wt(s);i.asyncQueue.verifyOperationInProgress(),rt($r,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function GR(s,t){const i=wt(s);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(i,a,l){const c=wt(i);return c.sa(),new CR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:kR.bind(null,s),t_:VR.bind(null,s),r_:LR.bind(null,s),H_:jR.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ep(s)?tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),YE(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,a,l){const c=wt(i);return c.sa(),new IR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:zR.bind(null,s),r_:HR.bind(null,s),ta:BR.bind(null,s),na:qR.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Sh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt($r,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class np{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new np(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(s,t){if(ls("AsyncQueue",`${t}: ${s}`),fo(s))return new lt($.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Q_{constructor(){this.ga=new pe(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class so{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class FR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QR{constructor(){this.queries=K_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=K_(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function K_(){return new Jr((s=>_E(s)),yh)}async function KR(s,t){const i=wt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new FR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ip(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sp(i)}async function YR(s,t){const i=wt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function XR(s,t){const i=wt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&sp(i)}function $R(s,t,i){const a=wt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function sp(s){s.Ca.forEach((t=>{t.next()}))}var _m,Y_;(Y_=_m||(_m={})).Ma="default",Y_.Cache="cache";class ZR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new so(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class JE{constructor(t){this.key=t}}class WE{constructor(t){this.key=t}}class JR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=vE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Q_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((w,S)=>{const M=l.get(w),F=_h(this.query,S)?S:null,J=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;M&&F?M.data.isEqual(F.data)?J!==it&&(a.track({type:3,doc:F}),Z=!0):this.su(M,F)||(a.track({type:2,doc:F}),Z=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),Z=!0):M&&!F&&(a.track({type:1,doc:M}),Z=!0,(_||y)&&(p=!0)),Z&&(F?(d=d.add(F),c=it?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),a.track({type:1,doc:w})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((w,S)=>(function(F,J){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return it(F)-it(J)})(w.type,S.type)||this.eu(w.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new WE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new JE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rp="SyncEngine";class WR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class tx{constructor(t){this.key=t,this.hu=!1}}class ex{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>_E(p)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new pe(ht.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nx(s,t,i=!0){const a=r1(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await t1(a,t,i,!0),l}async function ix(s,t){const i=r1(s);await t1(i,t,!0,!1)}async function t1(s,t,i,a){const l=await ER(s.localStore,Ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await sx(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&QE(s.remoteStore,l),p}async function sx(s,t,i,a,l){s.pu=(S,M,F)=>(async function(it,Z,ft,vt){let pt=Z.view.ru(ft);pt.Cs&&(pt=await z_(it.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,pt))));const qt=vt&&vt.targetChanges.get(Z.targetId),se=vt&&vt.targetMismatches.get(Z.targetId)!=null,It=Z.view.applyChanges(pt,it.isPrimaryClient,qt,se);return $_(it,Z.targetId,It.au),It.snapshot})(s,S,M,F);const c=await z_(s.localStore,t,!0),d=new JR(t,c.Qs),p=d.ru(c.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);$_(s,i,y.au);const w=new WR(t,i,d);return s.Tu.set(t,w),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function rx(s,t,i){const a=wt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(ho)):(vm(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function ax(s,t){const i=wt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function ox(s,t,i){const a=mx(s);try{const l=await(function(d,p){const _=wt(d),y=ce.now(),w=p.reduce(((F,J)=>F.add(J.key)),Pt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=us(),it=Pt();return _.Ns.getEntries(F,w).next((Z=>{J=Z,J.forEach(((ft,vt)=>{vt.isValidDocument()||(it=it.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,J))).next((Z=>{S=Z;const ft=[];for(const vt of p){const pt=v2(vt,S.get(vt.key).overlayedDocument);pt!=null&&ft.push(new hr(vt.key,pt,hE(pt.value.mapValue),ri.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ft,p)})).next((Z=>{M=Z;const ft=Z.applyToLocalDocumentSet(S,it);return _.documentOverlayCache.saveOverlays(F,Z.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:bE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new pe(jt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await $l(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=ip(l,"Failed to persist write");i.reject(c)}}async function e1(s,t){const i=wt(s);try{const a=await yR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await $l(i,a,t)}catch(a){await ho(a)}}function X_(s,t,i){const a=wt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=wt(d);_.onlineState=p;let y=!1;_.queries.forEach(((w,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&sp(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lx(s,t,i){const a=wt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new pe(ht.comparator);d=d.insert(c,an.newNoDocument(c,bt.min()));const p=Pt().add(c),_=new bh(bt.min(),new Map,new pe(jt),d,p);await e1(a,_),a.du=a.du.remove(c),a.Au.delete(t),ap(a)}else await gm(a.localStore,t,!1).then((()=>vm(a,t,i))).catch(ho)}async function ux(s,t){const i=wt(s),a=t.batch.batchId;try{const l=await gR(i.localStore,t);i1(i,a,null),n1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await ho(l)}}async function cx(s,t,i){const a=wt(s);try{const l=await(function(d,p){const _=wt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Xt(S!==null,37113),w=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>_.localDocuments.getDocuments(y,w)))}))})(a.localStore,t);i1(a,t,i),n1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $l(a,l)}catch(l){await ho(l)}}function n1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function i1(s,t,i){const a=wt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function vm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||s1(s,a)}))}function s1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Jm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ap(s))}function $_(s,t,i){for(const a of i)a instanceof JE?(s.Ru.addReference(a.key,t),hx(s,a)):a instanceof WE?(rt(rp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||s1(s,a.key)):yt(19791,{wu:a})}function hx(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(rt(rp,"New document in limbo: "+i),s.Eu.add(a),ap(s))}function ap(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ue.fromString(t)),a=s.fu.next();s.Au.set(a,new tx(i)),s.du=s.du.insert(i,a),QE(s.remoteStore,new $s(Ni(qm(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function $l(s,t,i){const a=wt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const w=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(y){l.push(y);const w=$m.As(_.targetId,y);c.push(w)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const w=wt(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Es,(F=>w.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>w.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!fo(S))throw S;rt(Zm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const F=w.Ms.get(M),J=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(J);w.Ms=w.Ms.insert(M,it)}}})(a.localStore,c))}async function fx(s,t){const i=wt(s);if(!i.currentUser.isEqual(t)){rt(rp,"User change. New user:",t.toKey());const a=await qE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ls)}}function dx(s,t){const i=wt(s),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function r1(s){const t=wt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lx.bind(null,t),t.Pu.H_=XR.bind(null,t.eventManager),t.Pu.yu=$R.bind(null,t.eventManager),t}function mx(s){const t=wt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ux.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cx.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new BE(Xm.mi,this.serializer)}Du(t){return new TR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class px extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Z2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new BE((a=>eh.mi(a,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>X_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fx.bind(null,this.syncEngine),await GR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QR})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new xR(c)})(t.databaseInfo);return(function(c,d,p,_){return new DR(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new MR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>X_(this.syncEngine,i,0)),(function(){return H_.v()?new H_:new wR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,w){const S=new ex(l,c,d,p,_,y);return w&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);rt($r,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class gx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class yx{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ip(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Xd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(ur,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await qE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Z_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await _x(s);rt(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>F_(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>F_(t.remoteStore,l))),s._onlineComponents=t}async function _x(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(ur,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new ih)}}else rt(ur,"Using default OfflineComponentProvider"),await Xd(s,new px(void 0));return s._offlineComponents}async function a1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(ur,"Using user provided OnlineComponentProvider"),await Z_(s,s._uninitializedComponentsProvider._online)):(rt(ur,"Using default OnlineComponentProvider"),await Z_(s,new Em))),s._onlineComponents}function vx(s){return a1(s).then((t=>t.syncEngine))}async function J_(s){const t=await a1(s),i=t.eventManager;return i.onListen=nx.bind(null,t.syncEngine),i.onUnlisten=rx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ix.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=ax.bind(null,t.syncEngine),i}function o1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const W_=new Map;const l1="firestore.googleapis.com",tv=!0;class ev{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l1,this.ssl=tv}else this.host=t.host,this.ssl=t.ssl??tv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<X2)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}OA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new TA;switch(a.type){case"firstParty":return new RA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=W_.get(i);a&&(rt("ComponentProvider","Removing Datastore"),W_.delete(i),a.terminate())})(this),Promise.resolve()}}function Ex(s,t,i,a={}){s=er(s,Ah);const l=lo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Uv(`https://${p}`),zv("Firestore",!0)),c.host!==l1&&c.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Kr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,w;if(typeof a.mockUserToken=="string")y=a.mockUserToken,w=rn.MOCK_USER;else{y=Qw(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new rn(S)}s._authCredentials=new wA(new Wv(y,w))}}class Rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class Ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,Ue._jsonSchema))return new Ue(t,a||null,new ht(ue.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:ke("string",Ue._jsonSchemaVersion),referencePath:ke("string")};class nr extends Rh{constructor(t,i,a){super(t,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new ht(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function nv(s,t,...i){if(s=Fe(s),tE("collection","path",t),s instanceof Ah){const a=ue.fromString(t,...i);return m_(a),new nr(s,null,a)}{if(!(s instanceof Ue||s instanceof nr))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ue.fromString(t,...i));return m_(a),new nr(s.firestore,null,a)}}function bm(s,t,...i){if(s=Fe(s),arguments.length===1&&(t=Vm.newId()),tE("doc","path",t),s instanceof Ah){const a=ue.fromString(t,...i);return d_(a),new Ue(s,null,new ht(a))}{if(!(s instanceof Ue||s instanceof nr))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ue.fromString(t,...i));return d_(a),new Ue(s.firestore,s instanceof nr?s.converter:null,new ht(a))}}const iv="AsyncQueue";class sv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GE(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&rt(iv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;rt(iv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",rv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=np.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function rv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function av(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ro extends Ah{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new sv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sv(t),this._firestoreClient=void 0,await t}}}function bx(s,t){const i=typeof s=="object"?s:Mm(),a=typeof s=="string"?s:Yc,l=Om(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Gw("firestore");c&&Ex(l,...c)}return l}function u1(s){if(s._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Tx(s),s._firestoreClient}function Tx(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new HA(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,o1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new yx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(tn.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Hn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:ke("string",Hn._jsonSchemaVersion),bytes:ke("string")};class xh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class op{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:ke("string",Oi._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class Mi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Mi(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:ke("string",Mi._jsonSchemaVersion),vectorValues:ke("object")};const wx=/^__.*__$/;class Sx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class c1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function h1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class lp{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new lp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(h1(this.Ac)&&wx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ax{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,l=!1){return new lp({Ac:t,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f1(s){const t=s._freezeSettings(),i=Th(s._databaseId);return new Ax(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Rx(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);up("Data must be an object, but it was:",d,a);const p=d1(a,d);let _,y;if(c.merge)_=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const S of c.mergeFields){const M=Tm(t,S,i);if(!d.contains(M))throw new lt($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);p1(w,M)||w.push(M)}_=new In(w),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new Sx(new vn(p),_,y)}class Ch extends op{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function xx(s,t,i,a){const l=s.Cc(1,t,i);up("Data must be an object, but it was:",l,a);const c=[],d=vn.empty();cr(a,((_,y)=>{const w=cp(t,_,i);y=Fe(y);const S=l.yc(w);if(y instanceof Ch)c.push(w);else{const M=Ih(y,S);M!=null&&(c.push(w),d.set(w,M))}}));const p=new In(c);return new c1(d,p,l.fieldTransforms)}function Cx(s,t,i,a,l,c){const d=s.Cc(1,t,i),p=[Tm(t,a,i)],_=[l];if(c.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Tm(t,c[M])),_.push(c[M+1]);const y=[],w=vn.empty();for(let M=p.length-1;M>=0;--M)if(!p1(y,p[M])){const F=p[M];let J=_[M];J=Fe(J);const it=d.yc(F);if(J instanceof Ch)y.push(F);else{const Z=Ih(J,it);Z!=null&&(y.push(F),w.set(F,Z))}}const S=new In(y);return new c1(w,S,d.fieldTransforms)}function Ih(s,t){if(m1(s=Fe(s)))return up("Unsupported field value:",t,s),d1(s,t);if(s instanceof op)return(function(a,l){if(!h1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Ih(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Fe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return d2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:th(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hn)return{bytesValue:ME(l.serializer,a._byteString)};if(a instanceof Ue){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Mi)return(function(d,p){return{mapValue:{fields:{[uE]:{stringValue:cE},[Xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Lm(a)}`)})(s,t)}function d1(s,t){const i={};return iE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(s,((a,l)=>{const c=Ih(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function m1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ce||s instanceof Oi||s instanceof Hn||s instanceof Ue||s instanceof op||s instanceof Mi)}function up(s,t,i){if(!m1(i)||!eE(i)){const a=Lm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function Tm(s,t,i){if((t=Fe(t))instanceof xh)return t._internalPath;if(typeof t=="string")return cp(s,t);throw sh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ix=new RegExp("[~\\*/\\[\\]]");function cp(s,t,i){if(t.search(Ix)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new xh(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function sh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt($.INVALID_ARGUMENT,p+s+_)}function p1(s,t){return s.some((i=>i.isEqual(t)))}class g1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Nx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(y1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Nx extends g1{data(){return super.data()}}function y1(s,t){return typeof t=="string"?cp(s,t):t instanceof xh?t._internalPath:t._delegate._internalPath}function Dx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ox{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return cr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>Se(a.doubleValue)));return new Mi(i)}convertGeoPoint(t){return new Oi(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=rr(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Xt(UE(a),9688,{name:t});const l=new jl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||ls(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Mx(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends g1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(y1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:ke("string",Fr._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class Bc extends Fr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,w=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:kx(p.type),doc:_,oldIndex:y,newIndex:w}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:ke("string",Ya._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class _1 extends Ox{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function Vx(s,t,i,...a){s=er(s,Ue);const l=er(s.firestore,ro),c=f1(l);let d;return d=typeof(t=Fe(t))=="string"||t instanceof xh?Cx(c,"updateDoc",s._key,t,i,a):xx(c,"updateDoc",s._key,t),hp(l,[d.toMutation(s._key,ri.exists(!0))])}function Lx(s){return hp(er(s.firestore,ro),[new Gm(s._key,ri.none())])}function jx(s,t){const i=er(s.firestore,ro),a=bm(s),l=Mx(s.converter,t);return hp(i,[Rx(f1(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,ri.exists(!1))]).then((()=>a))}function Px(s,...t){s=Fe(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||av(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(av(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Ue)d=er(s.firestore,ro),p=qm(s._key.path),c={next:_=>{t[a]&&t[a](Ux(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=er(s,Rh);d=er(_.firestore,ro),p=_._query;const y=new _1(d);c={next:w=>{t[a]&&t[a](new Ya(d,y,_,w))},error:t[a+1],complete:t[a+2]},Dx(s._query)}return(function(y,w,S,M){const F=new gx(M),J=new ZR(w,F,S);return y.asyncQueue.enqueueAndForget((async()=>KR(await J_(y),J))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>YR(await J_(y),J)))}})(u1(d),p,l,c)}function hp(s,t){return(function(a,l){const c=new Gr;return a.asyncQueue.enqueueAndForget((async()=>ox(await vx(a),l,c))),c.promise})(u1(s),t)}function Ux(s,t,i){const a=i.docs.get(t._key),l=new _1(s);return new Fr(s,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){co=l})(uo),Ja(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ro(new SA(a.getProvider("auth-internal")),new xA(d,a.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(y.options.projectId,w)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ws(u_,c_,t),Ws(u_,c_,"esm2020")})();function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zx=v1,E1=new Gl("auth","Firebase",v1());const rh=new Nm("@firebase/auth");function Bx(s,...t){rh.logLevel<=Lt.WARN&&rh.warn(`Auth (${uo}): ${s}`,...t)}function qc(s,...t){rh.logLevel<=Lt.ERROR&&rh.error(`Auth (${uo}): ${s}`,...t)}function ai(s,...t){throw fp(s,...t)}function ki(s,...t){return fp(s,...t)}function b1(s,t,i){const a={...zx(),[t]:i};return new Gl("auth","Firebase",a).create(t,{appName:s.name})}function ir(s){return b1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return E1.create(s,...t)}function gt(s,t,...i){if(!s)throw fp(t,...i)}function rs(s){const t="INTERNAL ASSERTION FAILED: "+s;throw qc(t),new Error(t)}function cs(s,t){s||rs(t)}function wm(){return typeof self<"u"&&self.location?.href||""}function qx(){return ov()==="http:"||ov()==="https:"}function ov(){return typeof self<"u"&&self.location?.protocol||null}function Hx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qx()||Jw()||"connection"in navigator)?navigator.onLine:!0}function Gx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,cs(i>t,"Short delay should be less than long delay!"),this.isMobile=Xw()||Ww()}get(){return Hx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dp(s,t){cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class T1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Qx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kx=new Zl(3e4,6e4);function ta(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fr(s,t,i,a,l={}){return w1(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Fl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return Zw()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&lo(s.emulatorConfig.host)&&(y.credentials="include"),T1.fetch()(await S1(s,s.config.apiHost,i,p),y)})}async function w1(s,t,i){s._canInitEmulator=!1;const a={...Fx,...t};try{const l=new Xx(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(s,"user-disabled",d);const w=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw b1(s,w,y);ai(s,w)}}catch(l){if(l instanceof hs)throw l;ai(s,"network-request-failed",{message:String(l)})}}async function Nh(s,t,i,a,l={}){const c=await fr(s,t,i,a,l);return"mfaPendingCredential"in c&&ai(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function S1(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?dp(s.config,l):`${s.config.apiScheme}://${l}`;return Qx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function Yx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),Kx.get())})}}function kc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ki(s,t,a);return l.customData._tokenResponse=i,l}function lv(s){return s!==void 0&&s.enterprise!==void 0}class $x{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Yx(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Zx(s,t){return fr(s,"GET","/v2/recaptchaConfig",ta(s,t))}async function Jx(s,t){return fr(s,"POST","/v1/accounts:delete",t)}async function ah(s,t){return fr(s,"POST","/v1/accounts:lookup",t)}function Ol(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Wx(s,t=!1){const i=Fe(s),a=await i.getIdToken(t),l=mp(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ol($d(l.auth_time)),issuedAtTime:Ol($d(l.iat)),expirationTime:Ol($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function mp(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Vv(i);return l?JSON.parse(l):(qc("Failed to decode base64 JWT payload"),null)}catch(l){return qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function uv(s){const t=mp(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof hs&&tC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function tC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class eC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(s){const t=s.auth,i=await s.getIdToken(),a=await Bl(s,ah(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?A1(l.providerUserInfo):[],d=iC(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,w)}async function nC(s){const t=Fe(s);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iC(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function A1(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function sC(s,t){const i=await w1(s,{},async()=>{const a=Fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await S1(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&lo(s.emulatorConfig.host)&&(_.credentials="include"),T1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rC(s,t){return fr(s,"POST","/v2/accounts:revokeToken",ta(s,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=uv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await sC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Xa;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return rs("not implemented")}}function Fs(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Wx(this,t)}reload(){return nC(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await Bl(this,Jx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,w=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:J,stsTokenManager:it}=i;gt(S&&it,t,"internal-error");const Z=Xa.fromJSON(this.name,it);gt(typeof S=="string",t,"internal-error"),Fs(a,t.name),Fs(l,t.name),gt(typeof M=="boolean",t,"internal-error"),gt(typeof F=="boolean",t,"internal-error"),Fs(c,t.name),Fs(d,t.name),Fs(p,t.name),Fs(_,t.name),Fs(y,t.name),Fs(w,t.name);const ft=new si({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:w});return J&&Array.isArray(J)&&(ft.providerData=J.map(vt=>({...vt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?A1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Xa;p.updateFromIdToken(a);const _=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const cv=new Map;function as(s){cs(s instanceof Function,"Expected a class definition");let t=cv.get(s);return t?(cs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,cv.set(s,t),t)}class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}R1.type="NONE";const hv=R1;function Hc(s,t,i){return`firebase:${s}:${t}:${i}`}class $a{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Hc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new $a(as(hv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||as(hv);const d=Hc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const w=await y._get(d);if(w){let S;if(typeof w=="string"){const M=await ah(t,{idToken:w}).catch(()=>{});if(!M)break;S=await si._fromGetAccountInfoResponse(t,M,w)}else S=si._fromJSON(t,w);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new $a(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new $a(c,t,a))}}function fv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(N1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(x1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(O1(t))return"Blackberry";if(M1(t))return"Webos";if(C1(t))return"Safari";if((t.includes("chrome/")||I1(t))&&!t.includes("edge/"))return"Chrome";if(D1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function x1(s=on()){return/firefox\//i.test(s)}function C1(s=on()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function I1(s=on()){return/crios\//i.test(s)}function N1(s=on()){return/iemobile/i.test(s)}function D1(s=on()){return/android/i.test(s)}function O1(s=on()){return/blackberry/i.test(s)}function M1(s=on()){return/webos/i.test(s)}function pp(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aC(s=on()){return pp(s)&&!!window.navigator?.standalone}function oC(){return tS()&&document.documentMode===10}function k1(s=on()){return pp(s)||D1(s)||M1(s)||O1(s)||/windows phone/i.test(s)||N1(s)}function V1(s,t=[]){let i;switch(s){case"Browser":i=fv(on());break;case"Worker":i=`${fv(on())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${a}`}class lC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function uC(s,t={}){return fr(s,"GET","/v2/passwordPolicy",ta(s,t))}const cC=6;class hC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??cC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class fC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dv(this),this.idTokenSubscription=new dv(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=as(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Gx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(ir(this));const i=t?Fe(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uC(this),i=new hC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await rC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&as(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[as(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Bx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function po(s){return Fe(s)}class dv{constructor(t){this.auth=t,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(s){Dh=s}function L1(s){return Dh.loadJS(s)}function mC(){return Dh.recaptchaEnterpriseScript}function pC(){return Dh.gapiScript}function gC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class yC{constructor(){this.enterprise=new _C}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class _C{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const vC="recaptcha-enterprise",j1="NO_RECAPTCHA";class EC{constructor(t){this.type=vC,this.auth=po(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{Zx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new $x(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;lv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(j1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&lv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=mC();_.length!==0&&(_+=p),L1(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function mv(s,t,i,a=!1,l=!1){const c=new EC(s);let d;if(l)d=j1;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function pv(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await mv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function bC(s,t){const i=Om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Kr(c,t??{}))return l;ai(l,"already-initialized")}return i.initialize({options:t})}function TC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(as);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function wC(s,t,i){const a=po(s);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=P1(t),{host:d,port:p}=SC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},w=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Kr(y,a.config.emulator)&&Kr(w,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=w,a.settings.appVerificationDisabledForTesting=!0,lo(d)?(Uv(`${c}//${d}${_}`),zv("Auth",!0)):AC()}function P1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function SC(s){const t=P1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:gv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:gv(d)}}}function gv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function AC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class gp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,i){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}async function RC(s,t){return fr(s,"POST","/v1/accounts:signUp",t)}async function xC(s,t){return Nh(s,"POST","/v1/accounts:signInWithPassword",ta(s,t))}async function CC(s,t){return Nh(s,"POST","/v1/accounts:signInWithEmailLink",ta(s,t))}async function IC(s,t){return Nh(s,"POST","/v1/accounts:signInWithEmailLink",ta(s,t))}class ql extends gp{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new ql(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new ql(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(t,i,"signInWithPassword",xC);case"emailLink":return CC(t,{email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(t,a,"signUpPassword",RC);case"emailLink":return IC(t,{idToken:i,email:this._email,oobCode:this._password});default:ai(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Za(s,t){return Nh(s,"POST","/v1/accounts:signInWithIdp",ta(s,t))}const NC="http://localhost";class Zr extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ai("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:NC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Fl(i)}return t}}function DC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OC(s){const t=El(bl(s)).link,i=t?El(bl(t)).deep_link_id:null,a=El(bl(s)).deep_link_id;return(a?El(bl(a)).link:null)||a||i||t||s}class yp{constructor(t){const i=El(bl(t)),a=i.apiKey??null,l=i.oobCode??null,c=DC(i.mode??null);gt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=OC(t);try{return new yp(i)}catch{return null}}}class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(t,i){return ql._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=yp.parseLink(i);return gt(a,"argument-error"),ql._fromEmailAndCode(t,a.code,a.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class U1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qs extends Jl{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ks extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Ys extends Jl{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Xs extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";class ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await si._fromIdTokenResponse(t,a,l),d=yv(a);return new ao({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=yv(a);return new ao({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function yv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class lh extends hs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new lh(t,i,a,l)}}function z1(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,c,t,a):c})}async function MC(s,t,i=!1){const a=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ao._forOperation(s,"link",a)}async function kC(s,t,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(ir(a));const l="reauthenticate";try{const c=await Bl(s,z1(a,l,t,s),i);gt(c.idToken,a,"internal-error");const d=mp(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(s.uid===p,a,"user-mismatch"),ao._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ai(a,"user-mismatch"),c}}async function B1(s,t,i=!1){if(ii(s.app))return Promise.reject(ir(s));const a="signIn",l=await z1(s,a,t),c=await ao._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function VC(s,t){return B1(po(s),t)}async function LC(s){const t=po(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function jC(s,t,i){return ii(s.app)?Promise.reject(ir(s)):VC(Fe(s),go.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&LC(s),a})}function PC(s,t,i,a){return Fe(s).onIdTokenChanged(t,i,a)}function UC(s,t,i){return Fe(s).beforeAuthStateChanged(t,i)}function zC(s,t,i,a){return Fe(s).onAuthStateChanged(t,i,a)}function BC(s){return Fe(s).signOut()}const uh="__sak";class q1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qC=1e3,HC=10;class H1 extends q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);oC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,HC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}H1.type="LOCAL";const GC=H1;class G1 extends q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}G1.type="SESSION";const F1=G1;function FC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await FC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];function _p(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class QC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=_p("",20);l.port1.start();const w=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(w),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Vi(){return window}function KC(s){Vi().location.href=s}function Q1(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function YC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XC(){return navigator?.serviceWorker?.controller||null}function $C(){return Q1()?self:null}const K1="firebaseLocalStorageDb",ZC=1,ch="firebaseLocalStorage",Y1="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Mh(s,t){return s.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function JC(){const s=indexedDB.deleteDatabase(K1);return new Wl(s).toPromise()}function Am(){const s=indexedDB.open(K1,ZC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ch,{keyPath:Y1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ch)?t(a):(a.close(),await JC(),t(await Am()))})})}async function _v(s,t,i){const a=Mh(s,!0).put({[Y1]:t,value:i});return new Wl(a).toPromise()}async function WC(s,t){const i=Mh(s,!1).get(t),a=await new Wl(i).toPromise();return a===void 0?null:a.value}function vv(s,t){const i=Mh(s,!0).delete(t);return new Wl(i).toPromise()}const tI=800,eI=3;class X1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>eI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance($C()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YC(),!this.activeServiceWorker)return;this.sender=new QC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Am();return await _v(t,uh,"1"),await vv(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_v(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>WC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Mh(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X1.type="LOCAL";const nI=X1;new Zl(3e4,6e4);function iI(s,t){return t?as(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class vp extends gp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function sI(s){return B1(s.auth,new vp(s),s.bypassAuthState)}function rI(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),kC(i,new vp(s),s.bypassAuthState)}async function aI(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),MC(i,new vp(s),s.bypassAuthState)}class $1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sI;case"linkViaPopup":case"linkViaRedirect":return aI;case"reauthViaPopup":case"reauthViaRedirect":return rI;default:ai(this.auth,"internal-error")}}resolve(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oI=new Zl(2e3,1e4);class Qa extends $1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const t=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oI.get())};t()}}Qa.currentPopupAction=null;const lI="pendingRedirect",Gc=new Map;class uI extends $1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Gc.get(this.auth._key());if(!t){try{const a=await cI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Gc.set(this.auth._key(),t)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cI(s,t){const i=dI(t),a=fI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function hI(s,t){Gc.set(s._key(),t)}function fI(s){return as(s._redirectPersistence)}function dI(s){return Hc(lI,s.config.apiKey,s.name)}async function mI(s,t,i=!1){if(ii(s.app))return Promise.reject(ir(s));const a=po(s),l=iI(a,t),d=await new uI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const pI=600*1e3;class gI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Z1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(t))}saveEventToCache(t){this.cachedEventUids.add(Ev(t)),this.lastProcessedEventTime=Date.now()}}function Ev(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Z1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function yI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(s);default:return!1}}async function _I(s,t={}){return fr(s,"GET","/v1/projects",t)}const vI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;async function bI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await _I(s);for(const i of t)try{if(TI(i))return}catch{}ai(s,"unauthorized-domain")}function TI(s){const t=wm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!EI.test(i))return!1;if(vI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const wI=new Zl(3e4,6e4);function bv(){const s=Vi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function SI(s){return new Promise((t,i)=>{function a(){bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bv(),i(ki(s,"network-request-failed"))},timeout:wI.get()})}if(Vi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Vi().gapi?.load)a();else{const l=gC("iframefcb");return Vi()[l]=()=>{gapi.load?a():i(ki(s,"network-request-failed"))},L1(`${pC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function AI(s){return Fc=Fc||SI(s),Fc}const RI=new Zl(5e3,15e3),xI="__/auth/iframe",CI="emulator/auth/iframe",II={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DI(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?dp(t,CI):`https://${s.config.authDomain}/${xI}`,a={apiKey:t.apiKey,appName:s.name,v:uo},l=NI.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Fl(a).slice(1)}`}async function OI(s){const t=await AI(s),i=Vi().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:DI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:II,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ki(s,"network-request-failed"),p=Vi().setTimeout(()=>{c(d)},RI.get());function _(){Vi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const MI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kI=500,VI=600,LI="_blank",jI="http://localhost";class Tv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PI(s,t,i,a=kI,l=VI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...MI,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=I1(y)?LI:i),x1(y)&&(t=t||jI,_.scrollbars="yes");const w=Object.entries(_).reduce((M,[F,J])=>`${M}${F}=${J},`,"");if(aC(y)&&p!=="_self")return UI(t||"",p),new Tv(null);const S=window.open(t||"",p,w);gt(S,s,"popup-blocked");try{S.focus()}catch{}return new Tv(S)}function UI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const zI="__/auth/handler",BI="emulator/auth/handler",qI=encodeURIComponent("fac");async function wv(s,t,i,a,l,c){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:uo,eventId:l};if(t instanceof U1){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",oS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,S]of Object.entries({}))d[w]=S}if(t instanceof Jl){const w=t.getScopes().filter(S=>S!=="");w.length>0&&(d.scopes=w.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const _=await s._getAppCheckToken(),y=_?`#${qI}=${encodeURIComponent(_)}`:"";return`${HI(s)}?${Fl(p).slice(1)}${y}`}function HI({config:s}){return s.emulator?dp(s,BI):`https://${s.authDomain}/${zI}`}const Zd="webStorageSupport";class GI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=mI,this._overrideRedirectResult=hI}async _openPopup(t,i,a,l){cs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await wv(t,i,a,wm(),l);return PI(t,c,_p())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await wv(t,i,a,wm(),l);return KC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(cs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await OI(t),a=new gI(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&i(!!c),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=bI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return k1()||C1()||pp()}}const FI=GI;var Sv="@firebase/auth",Av="1.11.1";class QI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YI(s){Ja(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(s)},y=new fC(a,l,c,_);return TC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ja(new Yr("auth-internal",t=>{const i=po(t.getProvider("auth").getImmediate());return(a=>new QI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(Sv,Av,KI(s)),Ws(Sv,Av,"esm2020")}const XI=300,$I=Pv("authIdTokenMaxAge")||XI;let Rv=null;const ZI=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>$I)return;const l=i?.token;Rv!==l&&(Rv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function JI(s=Mm()){const t=Om(s,"auth");if(t.isInitialized())return t.getImmediate();const i=bC(s,{popupRedirectResolver:FI,persistence:[nI,GC,F1]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=ZI(c.toString());UC(i,d,()=>d(i.currentUser)),PC(i,p=>d(p))}}const l=Lv("auth");return l&&wC(i,`http://${l}`),i}function WI(){return document.getElementsByTagName("head")?.[0]??document}dC({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=ki("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",WI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YI("Browser");const xv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Vc,Rl,ss;try{xv.apiKey&&(uA().length===0?Vc=Hv(xv):Vc=Mm(),Rl=JI(Vc),ss=bx(Vc))}catch(s){console.error("Firebase init error:",s)}const Gn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",Jd="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",tN={destination:"",date:"----/--/--",endDate:"----/--/--",themeColor:"from-blue-400 to-indigo-600",flights:[],days:[],packingList:[],shoppingList:[]},Cv=({message:s,type:t,onClose:i})=>{zt.useEffect(()=>{const c=setTimeout(i,3e3);return()=>clearTimeout(c)},[i]);const a=t==="error"?"bg-red-500/95":"bg-gray-800/90",l=t==="error"?E.jsx(ZT,{size:18}):E.jsx(KT,{size:18});return E.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${a} min-w-[300px] justify-center`,children:[E.jsx("div",{className:"shrink-0",children:l}),E.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},kh=({title:s,subtitle:t,showBack:i,leftAction:a,rightAction:l})=>E.jsxs("div",{className:"sticky top-0 z-40 pt-14 pb-4 px-6 transition-all duration-500",children:[E.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-sm z-[-1]"}),E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[a,E.jsxs("div",{className:"drop-shadow-sm",children:[E.jsx("h1",{className:"text-3xl font-[900] tracking-tight text-gray-800",children:s}),t&&E.jsx("p",{className:"text-gray-600 font-bold text-sm mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:t})]})]}),l]})]}),eN=({trips:s,activeTripId:t,onSelectTrip:i,onDeleteTrip:a,onOpenImport:l,onClose:c,userEmail:d,onLogout:p})=>E.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:c}),E.jsxs("div",{className:`relative ${Gn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:c,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(oo,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[E.jsxs("div",{className:"overflow-hidden",children:[E.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),E.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:d})]}),E.jsxs("button",{onClick:p,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[E.jsx(dw,{size:12})," "]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&E.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(_=>E.jsxs("div",{onClick:()=>i(_.id),className:`group p-4 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex justify-between items-center ${t===_.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[E.jsxs("div",{className:"overflow-hidden mr-2",children:[E.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:_.destination||""}),E.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[E.jsx(Nv,{size:12,className:"mr-1"}),_.date||"--/--"]})]}),E.jsx("button",{onClick:y=>{y.stopPropagation(),a(_.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-100 rounded-full transition-all",children:E.jsx(Im,{size:18})})]},_.id))]}),E.jsx("div",{className:"mt-auto relative z-10",children:E.jsxs("button",{onClick:l,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[E.jsx(WT,{size:20})," /"]})})]})]}),nN=({onClose:s,onImport:t,isLoading:i})=>{const[a,l]=zt.useState("json"),[c,d]=zt.useState(""),p=()=>{t(c,a)};return E.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Gn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(oo,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[E.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${a==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),E.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${a==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[a==="json"?E.jsx("textarea",{value:c,onChange:_=>d(_.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):E.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),E.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),E.jsx("button",{onClick:p,disabled:!c.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!c.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?E.jsxs(E.Fragment,{children:[E.jsx(xm,{className:"animate-spin",size:16})," ..."]}):E.jsxs(E.Fragment,{children:[E.jsx(ew,{size:16})," "]})})]})]})]})},iN=({flights:s,onClose:t})=>E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:t}),E.jsxs("div",{className:`relative ${Gn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:t,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(oo,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?E.jsx("div",{className:"space-y-4",children:s.map((i,a)=>E.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[E.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:E.jsx(Wd,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),E.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[E.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),E.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),E.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),E.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),E.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),E.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[E.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),E.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:E.jsx(Wd,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),E.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),E.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&E.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},a))}):E.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[E.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),E.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),sN=({onClose:s,onAdd:t})=>{const[i,a]=zt.useState(""),[l,c]=zt.useState(""),[d,p]=zt.useState(""),_=()=>{i.trim()&&t(i,l,d)};return E.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Gn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(oo,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",children:E.jsx(Hl,{size:18})}),E.jsx("input",{type:"text",value:i,onChange:y=>a(y.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:E.jsx(Cm,{size:18})}),E.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:E.jsx(Dv,{size:18})}),E.jsx("input",{type:"text",value:d,onChange:y=>p(y.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("button",{onClick:_,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(hh,{size:20,strokeWidth:3}),""]})]})]})]})},rN=({onClose:s,onAdd:t})=>{const[i,a]=zt.useState(""),[l,c]=zt.useState(""),d=()=>{i.trim()&&t(i,l)};return E.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),E.jsxs("div",{className:`relative ${Gn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(oo,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500",children:E.jsx(Qr,{size:18})}),E.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(p=>E.jsx("button",{onClick:()=>c(p),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===p?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:p},p))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:E.jsx(Cm,{size:18})}),E.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),E.jsxs("button",{onClick:d,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(hh,{size:20,strokeWidth:3}),""]})]})]})]})},aN=({editingState:s,onClose:t,onSave:i})=>{const{type:a,data:l}=s,[c,d]=zt.useState(l),p=a==="shopping",_=p?"pink":"blue",y=p?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",w=p?"text-pink-500":"text-blue-500",S=()=>{i(c)};return E.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[E.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:t}),E.jsxs("div",{className:`relative ${Gn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[E.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),E.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[E.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),E.jsx("button",{onClick:t,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:E.jsx(oo,{size:20,className:"text-gray-700"})})]}),E.jsxs("div",{className:"space-y-4 relative z-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:p?E.jsx(Hl,{size:18}):E.jsx(Qr,{size:18})}),E.jsx("input",{type:"text",value:c.item,onChange:M=>d({...c,item:M.target.value}),className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold`,autoFocus:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:E.jsx(Cm,{size:18})}),E.jsx("input",{type:"text",value:c.category||"",onChange:M=>d({...c,category:M.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),p&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${w}`,children:E.jsx(Dv,{size:18})}),E.jsx("input",{type:"text",value:c.note||"",onChange:M=>d({...c,note:M.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),E.jsxs("button",{onClick:S,disabled:!c.item.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${c.item.trim()?`${y} shadow-${_}-500/30 hover:shadow-${_}-500/50`:"bg-gray-400/50 cursor-not-allowed"}`,children:[E.jsx(Qr,{size:20,strokeWidth:3}),""]})]})]})]})},oN=({onLogin:s,isLoading:t})=>{const[i,a]=zt.useState(""),[l,c]=zt.useState(""),d=()=>{!i||!l||s(i,l)};return E.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsxs("div",{className:`relative ${Gn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[E.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:E.jsx(kw,{size:40})}),E.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),E.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),E.jsxs("div",{className:"w-full space-y-4 mb-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:E.jsx(pw,{size:18})}),E.jsx("input",{type:"email",value:i,onChange:p=>a(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:E.jsx(hw,{size:18})}),E.jsx("input",{type:"password",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),E.jsx("button",{onClick:d,disabled:t||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:t?E.jsx(xm,{className:"animate-spin"}):""}),E.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:E.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[E.jsx(ow,{size:10})," "]})})]})]})},lN=({trips:s,currentTrip:t,calculateDaysLeft:i,setActiveTab:a,setShowFlightModal:l,toggleShoppingItem:c,deleteShoppingItem:d,togglePackingItem:p,deletePackingItem:_,openEditModal:y,setShowTripListModal:w})=>E.jsxs("div",{className:"pb-32 animate-fade-in",children:[E.jsx(kh,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:E.jsx("button",{onClick:()=>w(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:E.jsx(uw,{size:24,strokeWidth:2.5})}),setActiveTab:a}),E.jsxs("div",{className:"px-6 mt-6",children:[!t||!t.date||t.date==="----/--/--"?E.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[E.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),E.jsxs("p",{className:"text-sm text-gray-500",children:["",E.jsx("br",{}),"  "]})]}):E.jsxs("div",{onClick:()=>a("itinerary"),className:`group ${Gn} rounded-[2.5rem] p-1 mb-8 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${Jd} relative`,children:[E.jsxs("div",{className:"relative h-64 rounded-[2rem] overflow-hidden shadow-inner",children:[E.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${t.themeColor||"from-gray-400 to-gray-600"} opacity-90`}),E.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse"}),E.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px]",children:E.jsx("div",{className:"flex justify-between items-end",children:E.jsxs("div",{children:[E.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),E.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:t.destination||""}),E.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[E.jsx(Nv,{size:14,className:"mr-2"}),t.date||"--/--"]})]})})})]}),E.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),E.jsxs("div",{className:"flex items-baseline",children:[E.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(t.date)}),E.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),E.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:E.jsx(XT,{size:28})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[E.jsxs("div",{onClick:()=>a("shopping"),className:`${Gn} ${Jd} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)]`,children:[E.jsx("div",{className:"bg-pink-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-pink-500 shadow-inner border border-white/50",children:E.jsx(Hl,{size:28})}),E.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),E.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[t&&t.shoppingList?t.shoppingList.filter(S=>!S.checked).length:0," "]})]}),E.jsxs("div",{onClick:()=>a("packing"),className:`${Gn} ${Jd} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)]`,children:[E.jsx("div",{className:"bg-blue-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-blue-500 shadow-inner border border-white/50",children:E.jsx(Qr,{size:28})}),E.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),E.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[t&&t.packingList?t.packingList.filter(S=>!S.checked).length:0," "]})]})]})]})]}),uN=({currentTrip:s,setActiveTab:t,setShowFlightModal:i,getCurrentActivityId:a,activityRefs:l})=>{const c=s&&s.days&&s.days.length>0?a(s):null,d=p=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(p)}`,"_blank")};return E.jsxs("div",{className:"pb-32 animate-fade-in",children:[E.jsx(kh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:E.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0,0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:E.jsx(Wd,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:t}),E.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&E.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((p,_)=>E.jsxs("div",{className:"relative pl-4",children:[_!==s.days.length-1&&E.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),E.jsxs("div",{className:"flex items-center mb-6 sticky top-28 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[E.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),E.jsx("span",{className:"text-xl font-black leading-none",children:p.day})]}),E.jsx("div",{children:E.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:p.title})})]}),E.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:p.activities.map((y,w)=>{const S=c===y.id;return E.jsxs("div",{ref:M=>l.current[y.id]=M,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${S?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[E.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${S?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${y.type==="transport"?"bg-purple-400":y.type==="food"?"bg-orange-400":y.type==="shopping"?"bg-pink-400":y.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:S&&E.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:y.time}),S&&E.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),E.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[y.type==="sightseeing"&&E.jsx(FT,{size:14,className:"text-gray-500"}),y.type==="food"&&E.jsx(iw,{size:14,className:"text-gray-500"}),y.type==="transport"&&E.jsx(Dw,{size:14,className:"text-gray-500"}),y.type==="shopping"&&E.jsx(Hl,{size:14,className:"text-gray-500"}),y.type==="relax"&&E.jsx(Cw,{size:14,className:"text-gray-500"})]})]}),E.jsxs("div",{className:"flex justify-between items-end gap-2",children:[E.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:y.title}),E.jsx("button",{onClick:M=>{M.stopPropagation(),d(y.title)},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0","aria-label":" Google Maps ",children:E.jsx(yw,{size:18,strokeWidth:2.5})})]})]},w)})})]},_))]})]})},cN=({currentTrip:s,setActiveTab:t,setShowAddShoppingModal:i,toggleShoppingItem:a,deleteShoppingItem:l,openEditModal:c})=>E.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen",children:[E.jsx(kh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:t}),E.jsxs("div",{className:"px-6 mt-4",children:[E.jsxs("div",{className:`${Gn} rounded-[2.5rem] p-6 mb-8`,children:[E.jsxs("div",{className:"flex justify-between items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),E.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[s&&s.shoppingList?Math.round(s.shoppingList.filter(d=>d.checked).length/(s.shoppingList.length||1)*100):0,"%"]})]}),E.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:E.jsx(hh,{size:24,strokeWidth:3})})]}),E.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:E.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${s&&s.shoppingList?s.shoppingList.filter(d=>d.checked).length/(s.shoppingList.length||1)*100:0}%`}})})]}),E.jsx("div",{className:"space-y-4",children:s&&s.shoppingList&&s.shoppingList.map(d=>E.jsxs("div",{onClick:()=>a(d.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${d.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${d.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:E.jsx(Qr,{size:18,strokeWidth:3})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${d.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:d.item}),E.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[d.category&&E.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:d.category}),d.note&&E.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:d.note})]})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:p=>{p.stopPropagation(),c("shopping",d)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Ov,{size:18})}),E.jsx("button",{onClick:p=>{p.stopPropagation(),l(d.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Im,{size:18})})]})]},d.id))})]})]}),hN=({currentTrip:s,setActiveTab:t,setShowAddPackingModal:i,togglePackingItem:a,deletePackingItem:l,openEditModal:c})=>E.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen",children:[E.jsx(kh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:t}),E.jsxs("div",{className:"px-6 mt-4",children:[E.jsxs("div",{className:`${Gn} rounded-[2.5rem] p-6 mb-8`,children:[E.jsxs("div",{className:"flex justify-between items-end mb-4",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),E.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[Math.round(s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0),"%"]})]}),E.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:E.jsx(hh,{size:24,strokeWidth:3})})]}),E.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:E.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0}%`}})})]}),E.jsx("div",{className:"space-y-4",children:s&&s.packingList&&s.packingList.map(d=>E.jsxs("div",{onClick:()=>a(d.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${d.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[E.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${d.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:E.jsx(Qr,{size:18,strokeWidth:3})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${d.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:d.item}),E.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:d.category})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:p=>{p.stopPropagation(),c("packing",d)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Ov,{size:18})}),E.jsx("button",{onClick:p=>{p.stopPropagation(),l(d.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:E.jsx(Im,{size:18})})]})]},d.id))})]})]}),fN=({activeTab:s,setActiveTab:t})=>E.jsx("div",{className:"fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none",children:E.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[E.jsx("button",{onClick:()=>t("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(rw,{size:24,strokeWidth:s==="home"?3:2})}),E.jsx("button",{onClick:()=>t("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(vw,{size:24,strokeWidth:s==="itinerary"?3:2})}),E.jsx("button",{onClick:()=>t("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(Hl,{size:24,strokeWidth:s==="shopping"?3:2})}),E.jsx("button",{onClick:()=>t("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:E.jsx(Qr,{size:24,strokeWidth:s==="packing"?3:2})})]})});function dN(){const[s,t]=zt.useState("home"),[i,a]=zt.useState(null),[l,c]=zt.useState(!1),[d]=zt.useState("travel-companion-v1"),[p,_]=zt.useState([]),[y,w]=zt.useState(null),[S,M]=zt.useState(!1),[F,J]=zt.useState(!1),[it,Z]=zt.useState(!1),[ft,vt]=zt.useState(!1),[pt,qt]=zt.useState(!1),[se,It]=zt.useState(!1),[I,A]=zt.useState(null),[R,k]=zt.useState({show:!1,message:"",type:"success"}),N=zt.useRef({}),V=(nt,_t="success")=>{k({show:!0,message:nt,type:_t})};zt.useEffect(()=>{if(!Rl)return;const nt=zC(Rl,_t=>{a(_t),_t&&V(` ${_t.email}`),c(!0)});return()=>nt()},[]);const x=async(nt,_t)=>{M(!0);try{await jC(Rl,nt,_t)}catch(Et){console.error(Et);let Ct="";Et.code==="auth/invalid-credential"&&(Ct=""),Et.code==="auth/user-not-found"&&(Ct=""),Et.code==="auth/wrong-password"&&(Ct=""),V(Ct,"error")}finally{M(!1)}},ae=async()=>{confirm("")&&(await BC(Rl),_([]),w(null),V(""))};zt.useEffect(()=>{if(!i||!ss)return;const nt=nv(ss,"users",i.uid,"trips"),_t=Px(nt,Et=>{const Ct=Et.docs.map(me=>({id:me.id,...me.data()}));Ct.sort((me,ve)=>{const Ve=new Date(me.date).getTime()||0,en=new Date(ve.date).getTime()||0;return Ve-en}),_(Ct),Ct.length>0?w(me=>me&&Ct.find(ve=>ve.id===me)?me:Ct[0].id):w(null)},Et=>{console.error("Firestore Error:",Et),V("","error")});return()=>_t()},[i]);const Qt=p.find(nt=>nt.id===y)||null,H=async nt=>{if(!ss||!i||!y)return;const _t=bm(ss,"users",i.uid,"trips",y),Et=nt(Qt);try{await Vx(_t,Et)}catch(Ct){console.error("Save failed",Ct),V("","error")}},et=async nt=>{if(!(!ss||!i))try{await Lx(bm(ss,"users",i.uid,"trips",nt)),V("")}catch(_t){console.error("Delete failed",_t),V("","error")}},ut=async(nt,_t)=>{if(!ss||!i)return;M(!0);const Et=new Promise(Ct=>setTimeout(()=>Ct("timeout"),8e3));try{let Ct=[];if(_t==="url"){const Ve=await fetch(nt);if(!Ve.ok)throw new Error("Network error");const en=await Ve.json();Ct=Array.isArray(en)?en:[en]}else{const Ve=JSON.parse(nt);Ct=Array.isArray(Ve)?Ve:[Ve]}const me=nv(ss,"users",i.uid,"trips"),ve=Promise.all(Ct.map(async Ve=>{const{id:en,...Pi}=Ve,oi={...tN,...Pi};await jx(me,oi)}));await Promise.race([ve,Et]),qt(!1),It(!1),V(` ${Ct.length} `)}catch(Ct){console.error("Import failed",Ct),V("","error")}finally{M(!1)}},Ot=nt=>H(_t=>({..._t,packingList:(_t.packingList||[]).map(Et=>Et.id===nt?{...Et,checked:!Et.checked}:Et)})),Ht=nt=>H(_t=>({..._t,packingList:(_t.packingList||[]).filter(Et=>Et.id!==nt)})),O=(nt,_t)=>{nt.trim()&&(H(Et=>({...Et,packingList:[...Et.packingList||[],{id:Date.now(),item:nt,checked:!1,category:_t||""}]})),vt(!1),V(""))},K=nt=>H(_t=>({..._t,shoppingList:(_t.shoppingList||[]).map(Et=>Et.id===nt?{...Et,checked:!Et.checked}:Et)})),tt=nt=>H(_t=>({..._t,shoppingList:(_t.shoppingList||[]).filter(Et=>Et.id!==nt)})),st=(nt,_t,Et)=>{nt.trim()&&(H(Ct=>({...Ct,shoppingList:[...Ct.shoppingList||[],{id:Date.now(),item:nt,category:_t||"",note:Et,checked:!1}]})),Z(!1),V(""))},mt=(nt,_t)=>A({type:nt,data:{..._t}}),St=nt=>{if(!I)return;const{type:_t}=I,Et=_t==="shopping"?"shoppingList":"packingList";H(Ct=>({...Ct,[Et]:(Ct[Et]||[]).map(me=>me.id===nt.id?nt:me)})),A(null),V("")},Mt=nt=>{if(!nt||nt==="----/--/--")return 0;const _t=new Date,Ct=new Date(nt)-_t;return Math.ceil(Ct/(1e3*60*60*24))>0?Math.ceil(Ct/(1e3*60*60*24)):0},ge=nt=>{if(!nt||!nt.days)return null;const _t=new Date;let Et=null,Ct=1/0;return nt.days.forEach(me=>{const ve=new Date(nt.date);ve.setDate(ve.getDate()+(me.day-1)),_t.toDateString()===ve.toDateString()&&me.activities.forEach(Ve=>{const[en,Pi]=Ve.time.split(":"),oi=new Date(ve);oi.setHours(en,Pi,0,0);const he=_t-oi;he>=0&&he<Ct&&(Ct=he,Et=Ve.id)})}),Et};return zt.useEffect(()=>{if(s==="itinerary"&&Qt&&Qt.days){const nt=ge(Qt);nt&&N.current[nt]&&setTimeout(()=>{N.current[nt].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Qt]),l?i?E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[E.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),E.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),E.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),E.jsxs("div",{className:"relative z-10",children:[R.show&&E.jsx(Cv,{message:R.message,type:R.type,onClose:()=>k({...R,show:!1})}),F&&E.jsx(iN,{onClose:()=>J(!1),flights:Qt?Qt.flights:[]}),it&&E.jsx(sN,{onClose:()=>Z(!1),onAdd:st}),ft&&E.jsx(rN,{onClose:()=>vt(!1),onAdd:O}),pt&&E.jsx(nN,{onClose:()=>qt(!1),onImport:ut,isLoading:S}),I&&E.jsx(aN,{editingState:I,onClose:()=>A(null),onSave:St}),se&&E.jsx(eN,{trips:p,activeTripId:y,onSelectTrip:nt=>{w(nt),It(!1),t("home")},onDeleteTrip:nt=>{confirm("")&&et(nt)},onOpenImport:()=>qt(!0),onClose:()=>It(!1),userEmail:i.email,onLogout:ae}),s==="home"&&E.jsx(lN,{trips:p,currentTrip:Qt,calculateDaysLeft:Mt,setActiveTab:t,setShowFlightModal:J,toggleShoppingItem:K,deleteShoppingItem:tt,togglePackingItem:Ot,deletePackingItem:Ht,openEditModal:mt,setShowTripListModal:It}),s==="itinerary"&&E.jsx(uN,{currentTrip:Qt,setActiveTab:t,setShowFlightModal:J,getCurrentActivityId:ge,activityRefs:N}),s==="shopping"&&E.jsx(cN,{currentTrip:Qt,setActiveTab:t,setShowAddShoppingModal:Z,toggleShoppingItem:K,deleteShoppingItem:tt,openEditModal:mt}),s==="packing"&&E.jsx(hN,{currentTrip:Qt,setActiveTab:t,setShowAddPackingModal:vt,togglePackingItem:Ot,deletePackingItem:Ht,openEditModal:mt}),E.jsx(fN,{activeTab:s,setActiveTab:t})]})]}):E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[R.show&&E.jsx(Cv,{message:R.message,type:R.type,onClose:()=>k({...R,show:!1})}),E.jsx(oN,{onLogin:x,isLoading:S})]}):E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),E.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[E.jsx(xm,{className:"animate-spin text-gray-600 mb-4",size:32}),E.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}jT.createRoot(document.getElementById("root")).render(E.jsx(zt.StrictMode,{children:E.jsx(dN,{})}));
