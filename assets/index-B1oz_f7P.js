(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},pl={};var N_;function _A(){if(N_)return pl;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var D_;function vA(){return D_||(D_=1,Dd.exports=_A()),Dd.exports}var k=vA(),Od={exports:{}},vt={};var O_;function EA(){if(O_)return vt;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,W={};function ut(O,K,nt){this.props=O,this.context=K,this.refs=W,this.updater=nt||J}ut.prototype.isReactComponent={},ut.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ut.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function mt(){}mt.prototype=ut.prototype;function ft(O,K,nt){this.props=O,this.context=K,this.refs=W,this.updater=nt||J}var Vt=ft.prototype=new mt;Vt.constructor=ft,$(Vt,ut.prototype),Vt.isPureReactComponent=!0;var Wt=Array.isArray;function Mt(){}var b={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,K,nt){var st=nt.ref;return{$$typeof:r,type:O,key:K,ref:st!==void 0?st:null,props:nt}}function M(O,K){return R(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var C=/\/+/g;function re(O,K){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):K.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,nt,st,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(St){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case A:return kt=O._init,F(kt(O._payload),K,nt,st,yt)}}if(kt)return yt=yt(O),kt=st===""?"."+re(O,0):st,Wt(yt)?(nt="",kt!=null&&(nt=kt.replace(C,"$&/")+"/"),F(yt,K,nt,"",function(ir){return ir})):yt!=null&&(N(yt)&&(yt=M(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(C,"$&/")+"/")+kt)),K.push(yt)),1;kt=0;var Ne=st===""?".":st+":";if(Wt(O))for(var ae=0;ae<O.length;ae++)st=O[ae],St=Ne+re(st,ae),kt+=F(st,K,nt,St,yt);else if(ae=H(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(st=O.next()).done;)st=st.value,St=Ne+re(st,ae++),kt+=F(st,K,nt,St,yt);else if(St==="object"){if(typeof O.then=="function")return F(Ie(O),K,nt,st,yt);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(O,K,nt){if(O==null)return O;var st=[],yt=0;return F(O,st,"","",function(St){return K.call(nt,St,yt++)}),st}function ct(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=w,vt.Children=Gt,vt.Component=ut,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ft,vt.StrictMode=a,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return b.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=$({},O.props),yt=O.key;if(K!=null)for(St in K.key!==void 0&&(yt=""+K.key),K)!S.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(st[St]=K[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var kt=Array(St),Ne=0;Ne<St;Ne++)kt[Ne]=arguments[Ne+2];st.children=kt}return R(O.type,yt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,K,nt){var st,yt={},St=null;if(K!=null)for(st in K.key!==void 0&&(St=""+K.key),K)S.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=K[st]);var kt=arguments.length-2;if(kt===1)yt.children=nt;else if(1<kt){for(var Ne=Array(kt),ae=0;ae<kt;ae++)Ne[ae]=arguments[ae+2];yt.children=Ne}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)yt[st]===void 0&&(yt[st]=kt[st]);return R(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=N,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ct}},vt.memo=function(O,K){return{$$typeof:g,type:O,compare:K===void 0?null:K}},vt.startTransition=function(O){var K=b.T,nt={};b.T=nt;try{var st=O(),yt=b.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Mt,Ut)}catch(St){Ut(St)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),b.T=K}},vt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},vt.use=function(O){return b.H.use(O)},vt.useActionState=function(O,K,nt){return b.H.useActionState(O,K,nt)},vt.useCallback=function(O,K){return b.H.useCallback(O,K)},vt.useContext=function(O){return b.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,K){return b.H.useDeferredValue(O,K)},vt.useEffect=function(O,K){return b.H.useEffect(O,K)},vt.useEffectEvent=function(O){return b.H.useEffectEvent(O)},vt.useId=function(){return b.H.useId()},vt.useImperativeHandle=function(O,K,nt){return b.H.useImperativeHandle(O,K,nt)},vt.useInsertionEffect=function(O,K){return b.H.useInsertionEffect(O,K)},vt.useLayoutEffect=function(O,K){return b.H.useLayoutEffect(O,K)},vt.useMemo=function(O,K){return b.H.useMemo(O,K)},vt.useOptimistic=function(O,K){return b.H.useOptimistic(O,K)},vt.useReducer=function(O,K,nt){return b.H.useReducer(O,K,nt)},vt.useRef=function(O){return b.H.useRef(O)},vt.useState=function(O){return b.H.useState(O)},vt.useSyncExternalStore=function(O,K,nt){return b.H.useSyncExternalStore(O,K,nt)},vt.useTransition=function(){return b.H.useTransition()},vt.version="19.2.0",vt}var M_;function vm(){return M_||(M_=1,Od.exports=EA()),Od.exports}var Pt=vm(),Md={exports:{}},gl={},xd={exports:{}},Vd={};var x_;function TA(){return x_||(x_=1,(function(r){function t(F,et){var ct=F.length;F.push(et);t:for(;0<ct;){var Ut=ct-1>>>1,Gt=F[Ut];if(0<l(Gt,et))F[Ut]=et,F[ct]=Gt,ct=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ct=F.pop();if(ct!==et){F[0]=ct;t:for(var Ut=0,Gt=F.length,O=Gt>>>1;Ut<O;){var K=2*(Ut+1)-1,nt=F[K],st=K+1,yt=F[st];if(0>l(nt,ct))st<Gt&&0>l(yt,nt)?(F[Ut]=yt,F[st]=ct,Ut=st):(F[Ut]=nt,F[K]=ct,Ut=K);else if(st<Gt&&0>l(yt,ct))F[Ut]=yt,F[st]=ct,Ut=st;else break t}}return et}function l(F,et){var ct=F.sortIndex-et.sortIndex;return ct!==0?ct:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],g=[],A=1,w=null,x=3,H=!1,J=!1,$=!1,W=!1,ut=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Vt(F){for(var et=i(g);et!==null;){if(et.callback===null)a(g);else if(et.startTime<=F)a(g),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(g)}}function Wt(F){if($=!1,Vt(F),!J)if(i(_)!==null)J=!0,Mt||(Mt=!0,L());else{var et=i(g);et!==null&&Ie(Wt,et.startTime-F)}}var Mt=!1,b=-1,S=5,R=-1;function M(){return W?!0:!(r.unstable_now()-R<S)}function N(){if(W=!1,Mt){var F=r.unstable_now();R=F;var et=!0;try{t:{J=!1,$&&($=!1,mt(b),b=-1),H=!0;var ct=x;try{e:{for(Vt(F),w=i(_);w!==null&&!(w.expirationTime>F&&M());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,x=w.priorityLevel;var Gt=Ut(w.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){w.callback=Gt,Vt(F),et=!0;break e}w===i(_)&&a(_),Vt(F)}else a(_);w=i(_)}if(w!==null)et=!0;else{var O=i(g);O!==null&&Ie(Wt,O.startTime-F),et=!1}}break t}finally{w=null,x=ct,H=!1}et=void 0}}finally{et?L():Mt=!1}}}var L;if(typeof ft=="function")L=function(){ft(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=N,L=function(){re.postMessage(null)}}else L=function(){ut(N,0)};function Ie(F,et){b=ut(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(F){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ct=x;x=et;try{return F()}finally{x=ct}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=x;x=F;try{return et()}finally{x=ct}},r.unstable_scheduleCallback=function(F,et,ct){var Ut=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Ut+ct:Ut):ct=Ut,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,F={id:A++,callback:et,priorityLevel:F,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>Ut?(F.sortIndex=ct,t(g,F),i(_)===null&&F===i(g)&&($?(mt(b),b=-1):$=!0,Ie(Wt,ct-Ut))):(F.sortIndex=Gt,t(_,F),J||H||(J=!0,Mt||(Mt=!0,L()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var et=x;return function(){var ct=x;x=et;try{return F.apply(this,arguments)}finally{x=ct}}}})(Vd)),Vd}var V_;function AA(){return V_||(V_=1,xd.exports=TA()),xd.exports}var kd={exports:{}},Xe={};var k_;function SA(){if(k_)return Xe;k_=1;var r=vm();function t(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,g,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:g,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(_,g){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(_,g,null,A)},Xe.flushSync=function(_){var g=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=g,a.p=A,a.d.f()}},Xe.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(_,g))},Xe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Xe.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var A=g.as,w=p(A,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,H=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;A==="style"?a.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:w,integrity:x,fetchPriority:H,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xe.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var A=p(g.as,g.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(_)},Xe.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var A=g.as,w=p(A,g.crossOrigin);a.d.L(_,A,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xe.preloadModule=function(_,g){if(typeof _=="string")if(g){var A=p(g.as,g.crossOrigin);a.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(_)},Xe.requestFormReset=function(_){a.d.r(_)},Xe.unstable_batchedUpdates=function(_,g){return _(g)},Xe.useFormState=function(_,g,A){return d.H.useFormState(_,g,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var L_;function bA(){if(L_)return kd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=SA(),kd.exports}var U_;function wA(){if(U_)return gl;U_=1;var r=AA(),t=vm(),i=bA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case ut:return"Profiler";case W:return"StrictMode";case Wt:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ft:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case Vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var Ie=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=Ut[Gt],Ut[Gt]=null,Gt--)}function nt(e,n){Gt++,Ut[Gt]=e.current,e.current=n}var st=O(null),yt=O(null),St=O(null),kt=O(null);function Ne(e,n){switch(nt(St,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),nt(st,e)}function ae(){K(st),K(yt),K(St)}function ir(e){e.memoizedState!==null&&nt(kt,e);var n=st.current,s=Wy(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function Qr(e){yt.current===e&&(K(st),K(yt)),kt.current===e&&(K(kt),hl._currentValue=ct)}var Kr,Xr;function Wn(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Xr}var co=!1;function sr(e,n){if(!e||co)return"";co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){j=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var I=y.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{co=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function ho(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return sr(e.type,!1);case 11:return sr(e.type.render,!1);case 1:return sr(e.type,!0);case 31:return Wn("Activity");default:return""}}function fo(e){try{var n="",s=null;do n+=ho(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,is=r.unstable_cancelCallback,Oh=r.unstable_shouldYield,Xl=r.unstable_requestPaint,tn=r.unstable_now,rr=r.unstable_getCurrentPriorityLevel,mo=r.unstable_ImmediatePriority,po=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,Mh=r.unstable_LowPriority,$l=r.unstable_IdlePriority,Zl=r.log,Jl=r.unstable_setDisableYieldValue,Un=null,ze=null;function Sn(e){if(typeof Zl=="function"&&Jl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Un,e)}catch{}}var fe=Math.clz32?Math.clz32:tu,Wl=Math.log,$r=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/$r|0)|0}var ti=256,ar=262144,_e=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(y&=E,y!==0?h=ei(y):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=o&~f,E!==0?h=ei(E):y!==0?h=ei(y):s||(s=o&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=y&~s;0<s;){var G=31-fe(s),Q=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~Q}o!==0&&lr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function lr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function go(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-fe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function yo(e,n){var s=n&-n;return s=(s&42)!==0?1:ur(s),(s&(e.suspendedLanes|n))!==0?0:s}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function zn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,ke="__reactProps$"+jn,si="__reactContainer$"+jn,Zr="__reactEvents$"+jn,kh="__reactListeners$"+jn,iu="__reactHandles$"+jn,su="__reactResources$"+jn,ri="__reactMarker$"+jn;function Jr(e){delete e[ve],delete e[ke],delete e[Zr],delete e[kh],delete e[iu]}function ai(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[ve])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ri]=!0}var _o=new Set,vo={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(vo[e]=n,e=0;e<n.length;e++)_o.add(n[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Ao={};function ru(e){return ye.call(Ao,e)?!0:ye.call(To,e)?!1:Eo.test(e)?Ao[e]=!0:(To[e]=!0,!1)}function Wr(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function rn(e){return e.replace(hr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?bo(e,y,Le(n)):s!=null?bo(e,y,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Ft(e)}function bo(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function as(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function os(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ft(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ro(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&wo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&wo(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Co=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,hi=null;function fr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&cr(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&as(e,!!s.multiple,n,!1)}}}var ia=!1;function cs(e,n,s){if(ia)return e(n,s);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(us!==null||hi!==null)&&(nc(),us&&(n=us,e=hi,hi=us=null,fr(n),e)))for(n=0;n<e.length;n++)fr(e[n])}}function qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Rn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{dr=!1}var fi=null,Io=null,mr=null;function No(){if(mr)return mr;var e,n=Io,s=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var y=s-e;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return mr=h.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function je(e){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Mi),hs=w({},Mi,{view:0,detail:0}),Do=je(hs),fs,sa,mi,ra=w({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(fs=e.screenX-mi.screenX,sa=e.screenY-mi.screenY):sa=fs=0,mi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Oo=je(ra),gr=w({},ra,{dataTransfer:0}),cu=je(gr),hu=w({},hs,{relatedTarget:0}),yr=je(hu),Mo=w({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=je(Mo),aa=w({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=je(aa),mu=w({},Mi,{data:0}),pi=je(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ds(){return _u}var en=w({},hs,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=je(en),Eu=w({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=je(Eu),u=w({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=je(u),v=w({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=w({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(U),tt=w({},Mi,{newState:0,oldState:0}),Tt=je(tt),de=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,oe=null;Rn&&"documentMode"in document&&(oe=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!oe,gi=Rn&&(!Bt||oe&&8<oe&&11>=oe),Gn=" ",Fn=!1;function _r(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function qT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function HT(e,n){if(la)return e==="compositionend"||!Bt&&_r(e,n)?(e=No(),mr=Io=fi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var GT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!GT[e.type]:n==="textarea"}function cp(e,n,s,o){us?hi?hi.push(o):hi=[o]:us=o,n=uc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var xo=null,Vo=null;function FT(e){Yy(e,0)}function Tu(e){var n=dn(e);if(cr(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(Rn){var Lh;if(Rn){var Uh="oninput"in document;if(!Uh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Uh=typeof dp.oninput=="function"}Lh=Uh}else Lh=!1;fp=Lh&&(!document.documentMode||9<document.documentMode)}function mp(){xo&&(xo.detachEvent("onpropertychange",pp),Vo=xo=null)}function pp(e){if(e.propertyName==="value"&&Tu(Vo)){var n=[];cp(n,Vo,e,wn(e)),cs(FT,n)}}function YT(e,n,s){e==="focusin"?(mp(),xo=n,Vo=s,xo.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function QT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Vo)}function KT(e,n){if(e==="click")return Tu(n)}function XT(e,n){if(e==="input"||e==="change")return Tu(n)}function $T(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:$T;function ko(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ZT=Rn&&"documentMode"in document&&11>=document.documentMode,ua=null,zh=null,Lo=null,jh=!1;function Ep(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||ua==null||ua!==ci(o)||(o=ua,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&ko(Lo,o)||(Lo=o,o=uc(zh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ua)))}function vr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},Bh={},Tp={};Rn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Er(e){if(Bh[e])return Bh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return Bh[e]=n[s];return e}var Ap=Er("animationend"),Sp=Er("animationiteration"),bp=Er("animationstart"),JT=Er("transitionrun"),WT=Er("transitionstart"),t1=Er("transitioncancel"),wp=Er("transitionend"),Rp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Yn(e,n){Rp.set(e,n),li(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ha=0,Hh=0;function Su(){for(var e=ha,n=Hh=ha=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Cp(s,h,f)}}function bu(e,n,s,o){In[ha++]=e,In[ha++]=n,In[ha++]=s,In[ha++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,s,o){return bu(e,n,s,o),wu(e)}function Tr(e,n){return bu(e,null,null,n),wu(e)}function Cp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<sl)throw sl=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function e1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new e1(e,n,s,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ip(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var y=0;if(o=e,typeof e=="function")Fh(e)&&(y=1);else if(typeof e=="string")y=aA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,s,n,h),e.elementType=R,e.lanes=f,e;case $:return Ar(s.children,h,f,n);case W:y=8,h|=24;break;case ut:return e=gn(12,s,n,h|2),e.elementType=ut,e.lanes=f,e;case Wt:return e=gn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case Mt:return e=gn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:y=10;break t;case mt:y=9;break t;case Vt:y=11;break t;case b:y=14;break t;case S:y=16,o=null;break t}y=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=gn(y,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ar(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function Yh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Np(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Qh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dp=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Dp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fo(n)},Dp.set(e,n),n)}return{value:e,source:n,stack:fo(n)}}var da=[],ma=0,Cu=null,Uo=0,Dn=[],On=0,ms=null,yi=1,_i="";function ki(e,n){da[ma++]=Uo,da[ma++]=Cu,Cu=e,Uo=n}function Op(e,n,s){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=ms,ms=e;var o=yi;e=_i;var h=32-fe(o)-1;o&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,yi=1<<32-fe(n)+h|s<<h|o,_i=f+e}else yi=1<<f|s<<h|o,_i=e}function Kh(e){e.return!==null&&(ki(e,1),Op(e,1,0))}function Xh(e){for(;e===Cu;)Cu=da[--ma],da[ma]=null,Uo=da[--ma],da[ma]=null;for(;e===ms;)ms=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null,yi=Dn[--On],Dn[On]=null}function Mp(e,n){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=ms,yi=n.id,_i=n.overflow,ms=e}var Be=null,ee=null,xt=!1,ps=null,Mn=!1,$h=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(Nn(n,e)),$h}function xp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ke]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<al.length;s++)Rt(al[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),os(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$y(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gs(e,!0)}function Vp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function pa(e){if(e!==Be)return!1;if(!xt)return Vp(e),xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&ee&&gs(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=r_(e)}else n===27?(n=ee,Ds(e.type)?(e=Ed,Ed=null,ee=e):ee=n):ee=Be?Vn(e.stateNode.nextSibling):null;return!0}function Sr(){ee=Be=null,xt=!1}function Zh(){var e=ps;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),ps=null),e}function Po(e){ps===null?ps=[e]:ps.push(e)}var Jh=O(null),br=null,Li=null;function ys(e,n,s){nt(Jh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Jh.current,K(Jh)}function Wh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Wh(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ga(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;pn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}h=h.return}e!==null&&tf(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){br=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return kp(br,e)}function Nu(e,n){return br===null&&wr(e),kp(e,n)}function kp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var n1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},i1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,Ae={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new n1,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&i1(s1,function(){e.controller.abort()})}var jo=null,nf=0,ya=0,_a=null;function r1(e,n){if(jo===null){var s=jo=[];nf=0,ya=ad(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Lp,Lp),n}function Lp(){if(--nf===0&&jo!==null){_a!==null&&(_a.status="fulfilled");var e=jo;jo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function a1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Up=F.S;F.S=function(e,n){Ey=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&r1(e,n),Up!==null&&Up(e,n)};var Rr=O(null);function sf(){var e=Rr.current;return e!==null?e:te.pooledCache}function Du(e,n){n===null?nt(Rr,Rr.current):nt(Rr,n.pool)}function Pp(){var e=sf();return e===null?null:{parent:Ae._currentValue,pool:e}}var va=Error(a(460)),rf=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Ir=n,va}}function Cr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ir=s,va):s}}var Ir=null;function Bp(){if(Ir===null)throw Error(a(459));var e=Ir;return Ir=null,e}function qp(e){if(e===va||e===Ou)throw Error(a(483))}var Ea=null,Bo=0;function xu(e){var n=Bo;return Bo+=1,Ea===null&&(Ea=[]),jp(Ea,e,n)}function qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Vi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,Y){return D===null||D.tag!==6?(D=Yh(P,V.mode,Y),D.return=V,D):(D=h(D,P),D.return=V,D)}function I(V,D,P,Y){var lt=P.type;return lt===$?G(V,D,P.props.children,Y,P.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Cr(lt)===D.type)?(D=h(D,P.props),qo(D,P),D.return=V,D):(D=Ru(P.type,P.key,P.props,null,V.mode,Y),qo(D,P),D.return=V,D)}function z(V,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Qh(P,V.mode,Y),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function G(V,D,P,Y,lt){return D===null||D.tag!==7?(D=Ar(P,V.mode,Y,lt),D.return=V,D):(D=h(D,P),D.return=V,D)}function Q(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=Ru(D.type,D.key,D.props,null,V.mode,P),qo(P,D),P.return=V,P;case J:return D=Qh(D,V.mode,P),D.return=V,D;case S:return D=Cr(D),Q(V,D,P)}if(Ie(D)||L(D))return D=Ar(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return Q(V,xu(D),P);if(D.$$typeof===ft)return Q(V,Nu(V,D),P);Vu(V,D)}return null}function j(V,D,P,Y){var lt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:E(V,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===lt?I(V,D,P,Y):null;case J:return P.key===lt?z(V,D,P,Y):null;case S:return P=Cr(P),j(V,D,P,Y)}if(Ie(P)||L(P))return lt!==null?null:G(V,D,P,Y,null);if(typeof P.then=="function")return j(V,D,xu(P),Y);if(P.$$typeof===ft)return j(V,D,Nu(V,P),Y);Vu(V,P)}return null}function q(V,D,P,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(P)||null,E(D,V,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return V=V.get(Y.key===null?P:Y.key)||null,I(D,V,Y,lt);case J:return V=V.get(Y.key===null?P:Y.key)||null,z(D,V,Y,lt);case S:return Y=Cr(Y),q(V,D,P,Y,lt)}if(Ie(Y)||L(Y))return V=V.get(P)||null,G(D,V,Y,lt,null);if(typeof Y.then=="function")return q(V,D,P,xu(Y),lt);if(Y.$$typeof===ft)return q(V,D,P,Nu(D,Y),lt);Vu(D,Y)}return null}function rt(V,D,P,Y){for(var lt=null,zt=null,at=D,bt=D=0,It=null;at!==null&&bt<P.length;bt++){at.index>bt?(It=at,at=null):It=at.sibling;var jt=j(V,at,P[bt],Y);if(jt===null){at===null&&(at=It);break}e&&at&&jt.alternate===null&&n(V,at),D=f(jt,D,bt),zt===null?lt=jt:zt.sibling=jt,zt=jt,at=It}if(bt===P.length)return s(V,at),xt&&ki(V,bt),lt;if(at===null){for(;bt<P.length;bt++)at=Q(V,P[bt],Y),at!==null&&(D=f(at,D,bt),zt===null?lt=at:zt.sibling=at,zt=at);return xt&&ki(V,bt),lt}for(at=o(at);bt<P.length;bt++)It=q(at,V,bt,P[bt],Y),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?bt:It.key),D=f(It,D,bt),zt===null?lt=It:zt.sibling=It,zt=It);return e&&at.forEach(function(ks){return n(V,ks)}),xt&&ki(V,bt),lt}function dt(V,D,P,Y){if(P==null)throw Error(a(151));for(var lt=null,zt=null,at=D,bt=D=0,It=null,jt=P.next();at!==null&&!jt.done;bt++,jt=P.next()){at.index>bt?(It=at,at=null):It=at.sibling;var ks=j(V,at,jt.value,Y);if(ks===null){at===null&&(at=It);break}e&&at&&ks.alternate===null&&n(V,at),D=f(ks,D,bt),zt===null?lt=ks:zt.sibling=ks,zt=ks,at=It}if(jt.done)return s(V,at),xt&&ki(V,bt),lt;if(at===null){for(;!jt.done;bt++,jt=P.next())jt=Q(V,jt.value,Y),jt!==null&&(D=f(jt,D,bt),zt===null?lt=jt:zt.sibling=jt,zt=jt);return xt&&ki(V,bt),lt}for(at=o(at);!jt.done;bt++,jt=P.next())jt=q(at,V,bt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&at.delete(jt.key===null?bt:jt.key),D=f(jt,D,bt),zt===null?lt=jt:zt.sibling=jt,zt=jt);return e&&at.forEach(function(yA){return n(V,yA)}),xt&&ki(V,bt),lt}function Zt(V,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var lt=P.key;D!==null;){if(D.key===lt){if(lt=P.type,lt===$){if(D.tag===7){s(V,D.sibling),Y=h(D,P.props.children),Y.return=V,V=Y;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Cr(lt)===D.type){s(V,D.sibling),Y=h(D,P.props),qo(Y,P),Y.return=V,V=Y;break t}s(V,D);break}else n(V,D);D=D.sibling}P.type===$?(Y=Ar(P.props.children,V.mode,Y,P.key),Y.return=V,V=Y):(Y=Ru(P.type,P.key,P.props,null,V.mode,Y),qo(Y,P),Y.return=V,V=Y)}return y(V);case J:t:{for(lt=P.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(V,D.sibling),Y=h(D,P.children||[]),Y.return=V,V=Y;break t}else{s(V,D);break}else n(V,D);D=D.sibling}Y=Qh(P,V.mode,Y),Y.return=V,V=Y}return y(V);case S:return P=Cr(P),Zt(V,D,P,Y)}if(Ie(P))return rt(V,D,P,Y);if(L(P)){if(lt=L(P),typeof lt!="function")throw Error(a(150));return P=lt.call(P),dt(V,D,P,Y)}if(typeof P.then=="function")return Zt(V,D,xu(P),Y);if(P.$$typeof===ft)return Zt(V,D,Nu(V,P),Y);Vu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(V,D.sibling),Y=h(D,P),Y.return=V,V=Y):(s(V,D),Y=Yh(P,V.mode,Y),Y.return=V,V=Y),y(V)):s(V,D)}return function(V,D,P,Y){try{Bo=0;var lt=Zt(V,D,P,Y);return Ea=null,lt}catch(at){if(at===va||at===Ou)throw at;var zt=gn(29,at,null,V.mode);return zt.lanes=Y,zt.return=V,zt}finally{}}}var Nr=Hp(!0),Gp=Hp(!1),_s=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Cp(e,null,s),n}return bu(e,o,n,s),wu(e)}function Ho(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}function lf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function Go(){if(uf){var e=_a;if(e!==null)throw e}}function Fo(e,n,s,o){uf=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,y===null?f=z:y.next=z,y=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var Q=h.baseState;y=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ct&j)===j:(o&j)===j){j!==0&&j===ya&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,dt=E;j=n;var Zt=s;switch(dt.tag){case 1:if(rt=dt.payload,typeof rt=="function"){Q=rt.call(Zt,Q,j);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=dt.payload,j=typeof rt=="function"?rt.call(Zt,Q,j):rt,j==null)break t;Q=w({},Q,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,I=Q):G=G.next=q,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=Q),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ws|=y,e.lanes=y,e.memoizedState=Q}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fp(s[e],n)}var Ta=O(null),ku=O(0);function Qp(e,n){e=Yi,nt(ku,e),nt(Ta,n),Yi=e|n.baseLanes}function cf(){nt(ku,Yi),nt(Ta,Ta.current)}function hf(){Yi=ku.current,K(Ta),K(ku)}var yn=O(null),xn=null;function Ts(e){var n=e.alternate;nt(me,me.current&1),nt(yn,e),xn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(xn=e)}function ff(e){nt(me,me.current),nt(yn,e),xn===null&&(xn=e)}function Kp(e){e.tag===22?(nt(me,me.current),nt(yn,e),xn===null&&(xn=e)):As()}function As(){nt(me,me.current),nt(yn,yn.current)}function _n(e){K(yn),xn===e&&(xn=null),K(me)}var me=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Xt=null,Se=null,Uu=!1,Aa=!1,Dr=!1,Pu=0,Yo=0,Sa=null,o1=0;function ce(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function mf(e,n,s,o,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Og:Nf,Dr=!1,f=s(o,h),Dr=!1,Aa&&(f=$p(n,s,o,h)),Xp(e),f}function Xp(e){F.H=Xo;var n=Xt!==null&&Xt.next!==null;if(Pi=0,Se=Xt=At=null,Uu=!1,Yo=0,Sa=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Iu(e)&&(be=!0))}function $p(e,n,s,o){At=e;var h=0;do{if(Aa&&(Sa=null),Yo=0,Aa=!1,25<=h)throw Error(a(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Mg,f=n(s,o)}while(Aa);return f}function l1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Qo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function pf(){var e=Pu!==0;return Pu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Pi=0,Se=Xt=At=null,Aa=!1,Yo=Pu=0,Sa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var n=Yo;return Yo+=1,Sa===null&&(Sa=[]),e=jp(Sa,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Og:Nf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===ft)return qe(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function zi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=pe();return vf(n,Xt,e)}function vf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,I=null,z=n,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ct&Q)===Q:(Pi&Q)===Q){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===ya&&(G=!0);else if((Pi&j)===j){z=z.next,j===ya&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Q,y=f):I=I.next=Q,At.lanes|=j,ws|=j;Q=z.action,Dr&&s(f,Q),f=z.hasEagerState?z.eagerState:s(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,y=f):I=I.next=j,At.lanes|=Q,ws|=Q;z=z.next}while(z!==null&&z!==n);if(I===null?y=f:I.next=E,!pn(f,e.memoizedState)&&(be=!0,G&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);pn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zp(e,n,s){var o=At,h=pe(),f=xt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!pn((Xt||h).memoizedState,s);if(y&&(h.memoizedState=s,be=!0),h=h.queue,Sf(tg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},Wp.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(Pi&127)!==0||Jp(o,n,s)}return s}function Jp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=zu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,o){n.value=s,n.getSnapshot=o,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function ng(e){var n=Tr(e,2);n!==null&&hn(n,e,2)}function Tf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Dr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function ig(e,n,s,o){return e.baseState=s,vf(e,Xt,typeof o=="function"?o:zi)}function u1(e,n,s,o,h){if(Gu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=s(h,o),I=F.S;I!==null&&I(y,E),rg(e,n,E)}catch(z){Af(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=s(h,o),rg(e,n,f)}catch(z){Af(e,n,z)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ag(e,n,o)},function(o){return Af(e,n,o)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,og(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function Af(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==o)}e.action=null}function og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lg(e,n){return n}function ug(e,n){if(xt){var s=te.formState;if(s!==null){t:{var o=At;if(xt){if(ee){e:{for(var h=ee,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Vn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},s.queue=o,s=Ig.bind(null,At,o),o.dispatch=s,o=Tf(!1),f=If.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=u1.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function cg(e){var n=pe();return hg(n,Xt,e)}function hg(e,n,s){if(n=vf(e,n,lg)[0],e=Bu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qo(n)}catch(y){throw y===va?Ou:y}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,ba(9,{destroy:void 0},c1.bind(null,h,s),null)),[o,f,e]}function c1(e,n){e.action=n}function fg(e){var n=pe(),s=Xt;if(s!==null)return hg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ba(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=zu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function dg(){return pe().memoizedState}function qu(e,n,s,o){var h=nn();At.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&df(o,Xt.memoizedState.deps)?h.memoizedState=ba(n,f,s,o):(At.flags|=e,h.memoizedState=ba(1|n,f,s,o))}function mg(e,n){qu(8390656,8,e,n)}function Sf(e,n){Hu(2048,8,e,n)}function h1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=zu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=pe().memoizedState;return h1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return Hu(4,2,e,n)}function yg(e,n){return Hu(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,_g.bind(null,n,e),s)}function bf(){}function Eg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Dr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function wf(e,n,s){return s===void 0||(Pi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),At.lanes|=e,ws|=e,s)}function Ag(e,n,s,o){return pn(s,n)?s:Ta.current!==null?(e=wf(e,s,o),pn(e,n)||(be=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=s):(e=Ay(),At.lanes|=e,ws|=e,n)}function Sg(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,If(e,!1,n,s);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=a1(I,o);Ko(e,n,G,Tn(e))}else Ko(e,n,o,Tn(e))}catch(Q){Ko(e,n,{then:function(){},status:"rejected",reason:Q},Tn())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function f1(){}function Rf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=bg(e).queue;Sg(e,h,n,ct,s===null?f1:function(){return wg(e),s(o)})}function bg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=bg(e);n.next===null&&(n=e.alternate.memoizedState),Ko(e,n.next.queue,{},Tn())}function Cf(){return qe(hl)}function Rg(){return pe().memoizedState}function Cg(){return pe().memoizedState}function d1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=vs(s);var o=Es(n,e,s);o!==null&&(hn(o,n,s),Ho(o,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function m1(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(e)?Ng(n,s):(s=Gh(e,n,s,o),s!==null&&(hn(s,e,o),Dg(s,n,o)))}function Ig(e,n,s){var o=Tn();Ko(e,n,s,o)}function Ko(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,y))return bu(e,n,h,0),te===null&&Su(),!1}catch{}finally{}if(s=Gh(e,n,h,o),s!==null)return hn(s,e,o),Dg(s,n,o),!0}return!1}function If(e,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(a(479))}else n=Gh(e,s,o,2),n!==null&&hn(n,e,2)}function Gu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Ng(e,n){Aa=Uu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,go(e,s)}}var Xo={readContext:qe,use:ju,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Xo.useEffectEvent=ce;var Og={readContext:qe,use:ju,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(Dr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Dr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=m1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=Ig.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=nn();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Sg.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=nn();if(xt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Ct&127)!==0||Jp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},Wp.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=te.identifierPrefix;if(xt){var s=_i,o=yi;s=(o&~(1<<32-fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=o1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=d1.bind(null,At)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Nf={readContext:qe,use:ju,useCallback:Eg,useContext:qe,useEffect:Sf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Bu,useRef:dg,useState:function(){return Bu(zi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=pe();return Ag(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Bu(zi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Cf,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=pe();return ig(s,Xt,e,n)},useMemoCache:_f,useCacheRefresh:Cg};Nf.useEffectEvent=pg;var Mg={readContext:qe,use:ju,useCallback:Eg,useContext:qe,useEffect:Sf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Ef,useRef:dg,useState:function(){return Ef(zi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=pe();return Xt===null?wf(s,e,n):Ag(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Ef(zi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Qo(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Cf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=pe();return Xt!==null?ig(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Cg};Mg.useEffectEvent=pg;function Df(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Of={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=vs(o);h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(hn(n,e,o),Ho(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=vs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,o),n!==null&&(hn(n,e,o),Ho(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=vs(s);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,s),n!==null&&(hn(n,e,s),Ho(n,e,s))}};function xg(e,n,s,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function Vg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Or(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kg(e){Au(e)}function Lg(e){console.error(e)}function Ug(e){Au(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,s){return s=vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function zg(e){return e=vs(e),e.tag=3,e}function jg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Pg(n,s,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function p1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ga(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return xn===null?ic():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(e,o,h)),!1}throw Error(a(435,s.tag))}return id(e,o,h),ic(),!1}if(xt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(a(422),{cause:o}),Po(Nn(e,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),Po(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=Mf(e.stateNode,o,h),lf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),il===null?il=[f]:il.push(f),he!==4&&(he=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Mf(s.stateNode,o,e),lf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),jg(h,e,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),be=!1;function He(e,n,s,o){n.child=e===null?Gp(n,null,s,o):Nr(n,e.child,s,o)}function Bg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return wr(n),o=mf(e,n,s,y,f,h),E=pf(),e!==null&&!be?(gf(e,n,h),ji(e,n,h)):(xt&&E&&Kh(n),n.flags|=1,He(e,n,o,h),n.child)}function qg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(y,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Vf(e,n,s,o,h)}function Gg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Qp(n,f):cf(),Kp(n);else return o=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Qp(n,f),As(),n.memoizedState=null):(e!==null&&Du(n,null),cf(),As());return He(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),cf(),Kp(n),e!==null&&ga(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yg(e,n,s){return Nr(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function g1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,$o(null,e);if(ff(n),(e=ee)?(e=s_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Yg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||ga(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(o=te,o!==null&&(y=yo(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Tr(e,y),hn(o,e,y),xf;ic(),n=Yg(e,n,s)}else e=f.treeContext,ee=Vn(y.nextSibling),Be=n,xt=!0,ps=null,Mn=!1,e!==null&&Mp(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return wr(n),s=mf(e,n,s,o,void 0,h),o=pf(),e!==null&&!be?(gf(e,n,h),ji(e,n,h)):(xt&&o&&Kh(n),n.flags|=1,He(e,n,s,h),n.child)}function Qg(e,n,s,o,h,f){return wr(n),n.updateQueue=null,s=$p(n,o,s,h),Xp(e),o=pf(),e!==null&&!be?(gf(e,n,f),ji(e,n,f)):(xt&&o&&Kh(n),n.flags|=1,He(e,n,s,f),n.child)}function Kg(e,n,s,o,h){if(wr(n),n.stateNode===null){var f=fa,y=s.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?qe(y):fa,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Df(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Of.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Or(s,E);f.props=I;var z=f.context,G=s.contextType;y=fa,typeof G=="object"&&G!==null&&(y=qe(G));var Q=s.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Vg(n,f,o,y),_s=!1;var j=n.memoizedState;f.state=j,Fo(n,o,f,h),Go(),z=n.memoizedState,E||j!==z||_s?(typeof Q=="function"&&(Df(n,s,Q,o),z=n.memoizedState),(I=_s||xg(n,s,I,o,j,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),y=n.memoizedProps,G=Or(s,y),f.props=G,Q=n.pendingProps,j=f.context,z=s.contextType,I=fa,typeof z=="object"&&z!==null&&(I=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||j!==I)&&Vg(n,f,o,I),_s=!1,j=n.memoizedState,f.state=j,Fo(n,o,f,h),Go();var q=n.memoizedState;y!==Q||j!==q||_s||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Df(n,s,E,o),q=n.memoizedState),(G=_s||xg(n,s,G,o,j,q,I)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Nr(n,e.child,null,h),n.child=Nr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Xg(e,n,s,o){return Sr(),n.flags|=256,He(e,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Pp()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function $g(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(h?Ts(n):As(),(e=ee)?(e=s_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw gs(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(As(),h=n.mode,E=Ku({mode:"hidden",children:E},h),o=Ar(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Lf(s),o.childLanes=Uf(e,y,s),n.memoizedState=kf,$o(null,o)):(Ts(n),Pf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(As(),n.child=e.child,n.flags|=128,n=null):(As(),E=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),E=Ar(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Nr(n,e.child,null,s),o=n.child,o.memoizedState=Lf(s),o.childLanes=Uf(e,y,s),n.memoizedState=kf,n=$o(null,o));else if(Ts(n),vd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(a(419)),o.stack="",o.digest=y,Po({value:o,source:null,stack:null}),n=zf(e,n,s)}else if(be||ga(e,n,s,!1),y=(s&e.childLanes)!==0,be||y){if(y=te,y!==null&&(o=yo(y,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Tr(e,o),hn(y,e,o),xf;_d(E)||ic(),n=zf(e,n,s)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=Vn(E.nextSibling),Be=n,xt=!0,ps=null,Mn=!1,e!==null&&Mp(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(As(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Vi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Ar(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Lf(s):(h=E.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(e,y,s),n.memoizedState=kf,$o(e.child,o)):(Ts(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return Nr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function Jg(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,nt(me,y),He(e,n,o,s),o=xt?Uo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,s,n);else if(e.tag===19)Zg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Lu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ga(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function y1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),ys(n,Ae,e.memoizedState.cache),Sr();break;case 27:case 5:ir(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(Ts(n),e=ji(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ga(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,Gg(e,n,s,n.pendingProps);case 24:ys(n,Ae,e.memoizedState.cache)}return ji(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return be=!1,y1(e,n,s);be=(e.flags&131072)!==0}else be=!1,xt&&(n.flags&1048576)!==0&&Op(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Or(e,o),n.tag=1,n=Kg(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Vt){n.tag=11,n=Bg(null,n,e,o,s);break t}else if(h===b){n.tag=14,n=qg(null,n,e,o,s);break t}}throw n=re(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Or(o,n.pendingProps),Kg(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Fo(n,o,null,s);var y=n.memoizedState;if(o=y.cache,ys(n,Ae,o),o!==f.cache&&tf(n,[Ae],s,!0),Go(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),Po(h),n=Xg(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Vn(e.firstChild),Be=n,xt=!0,ps=null,Mn=!0,s=Gp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Sr(),o===h){n=ji(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Qu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:xt||(s=n.type,e=n.pendingProps,o=cc(St.current).createElement(s),o[ve]=n,o[ke]=e,Ge(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ir(n),e===null&&xt&&(o=n.stateNode=o_(n.type,n.pendingProps,St.current),Be=n,Mn=!0,h=ee,Ds(n.type)?(Ed=h,ee=Vn(o.firstChild)):ee=h),He(e,n,n.pendingProps.children,s),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((h=o=ee)&&(o=Q1(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Be=n,ee=Vn(o.firstChild),Mn=!1,h=!0):h=!1),h||gs(n)),ir(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:y!==null&&pd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,l1,null,null,s),hl._currentValue=h),Qu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&xt&&((e=s=ee)&&(s=K1(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,Be=n,ee=null,e=!0):e=!1),e||gs(n)),null;case 13:return $g(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Hg(e,n,n.type,n.pendingProps,s);case 19:return Jg(e,n,s);case 31:return g1(e,n,s);case 22:return Gg(e,n,s,n.pendingProps);case 24:return wr(n),o=qe(Ae),e===null?(h=sf(),h===null&&(h=te,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),ys(n,Ae,h)):((e.lanes&s)!==0&&(of(e,n),Fo(n,null,null,s),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Ae,o)):(o=f.cache,ys(n,Ae,o),o!==h.cache&&tf(n,[Ae],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function qf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Ir=Mu,rf}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Ir=Mu,rf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ia|=n)}function Zo(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function _1(e,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ae),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ne(n),ty(n,f)):(ne(n),qf(n,h,null,o,s))):f?f!==e.memoizedState?(Bi(n),ne(n),ty(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ne(n),qf(n,h,e,o,s)),null;case 27:if(Qr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=st.current,pa(n)?xp(n):(e=o_(h,o,s),n.stateNode=e,Bi(n))}return ne(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=st.current,pa(n))xp(n);else{var y=cc(St.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ve]=n,f[ke]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ne(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,pa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||gs(n,!0)}else e=cc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),ne(n),null);case 4:return ae(),e===null&&cd(n.stateNode.containerInfo),ne(n),null;case 10:return Ui(n.type),ne(n),null;case 19:if(K(me),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Zo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ip(s,e),s=s.sibling;return nt(me,me.current&1|2),xt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>tc&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ne(n),null}else 2*tn()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=me.current,nt(me,h?s&1|2:s&1),xt&&ki(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return _n(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Rr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function v1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ae),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Sr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(me),null;case 4:return ae(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),hf(),e!==null&&K(Rr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ae),null;case 25:return null;default:return null}}function ey(e,n){switch(Xh(n),n.tag){case 3:Ui(Ae),ae();break;case 26:case 27:case 5:Qr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:K(me);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),hf(),e!==null&&K(Rr);break;case 24:Ui(Ae)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function Ss(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){Qt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Qt(n,n.return,G)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Yp(n,s)}catch(o){Qt(e,e.return,o)}}}function iy(e,n,s){s.props=Or(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Wo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function Hf(e,n,s){try{var o=e.stateNode;B1(o,e.type,s,n),o[ke]=n}catch(h){Qt(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function $u(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for($u(e,n,s),e=e.sibling;e!==null;)$u(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[ve]=e,n[ke]=s}catch(f){Qt(e,e.return,f)}}var qi=!1,we=!1,Yf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function E1(e,n){if(e=e.containerInfo,dd=yc,e=vp(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,I=-1,z=0,G=0,Q=e,j=null;e:for(;;){for(var q;Q!==s||h!==0&&Q.nodeType!==3||(E=y+h),Q!==f||o!==0&&Q.nodeType!==3||(I=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===e)break e;if(j===s&&++z===h&&(E=y),j===f&&++G===o&&(I=y),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},yc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Or(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Qt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function ly(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),o&4&&Jo(5,s);break;case 1:if(Gi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){Qt(s,s.return,y)}else{var h=Or(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Qt(s,s.return,y)}}o&64&&ny(s),o&512&&Wo(s,s.return);break;case 3:if(Gi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yp(e,n)}catch(y){Qt(s,s.return,y)}}break;case 27:n===null&&o&4&&ay(s);case 26:case 5:Gi(e,s),n===null&&o&4&&sy(s),o&512&&Wo(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),o&4&&hy(e,s);break;case 13:Gi(e,s),o&4&&fy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=N1.bind(null,s),X1(e,s))));break;case 22:if(o=s.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||we,h=qi;var f=we;qi=o,(we=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),qi=h,we=f}break;case 30:break;default:Gi(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Hi(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:we||vi(s,n),Hi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||vi(s,n);var o=le,h=on;Ds(s.type)&&(le=s.stateNode,on=!1),Hi(e,n,s),ll(s.stateNode),le=o,on=h;break;case 5:we||vi(s,n);case 6:if(o=le,h=on,le=null,Hi(e,n,s),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:le!==null&&(on?(e=le,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),La(e)):n_(le,s.stateNode));break;case 4:o=le,h=on,le=s.stateNode.containerInfo,on=!0,Hi(e,n,s),le=o,on=h;break;case 0:case 11:case 14:case 15:Ss(2,s,n),we||Ss(4,s,n),Hi(e,n,s);break;case 1:we||(vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&iy(s,n,o)),Hi(e,n,s);break;case 21:Hi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,Hi(e,n,s),we=o;break;default:Hi(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(s){Qt(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(s){Qt(n,n.return,s)}}function T1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var s=T1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=D1.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ds(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(a(160));cy(f,y,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Qn=null;function dy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Ss(3,e,e.return),Jo(3,e),Ss(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(we||s===null||vi(s,s.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(ln(n,e),un(e),o&512&&(we||s===null||vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var y=d_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(y=d_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?m_(h,e.type,e.stateNode):f_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(we||s===null||vi(s,s.return)),s!==null&&o&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(we||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(rt){Qt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(dc=null,h=Qn,Qn=hc(n.containerInfo),ln(n,e),Qn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}Yf&&(Yf=!1,my(e));break;case 4:o=Qn,Qn=hc(e.stateNode.containerInfo),ln(n,e),un(e),Qn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=qi,G=we;if(qi=z||h,we=G||I,ln(n,e),we=G,qi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||qi||we||Mr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=I.stateNode;var Q=I.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Qt(I,I.return,rt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(rt){Qt(I,I.return,rt)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?i_(q,!0):i_(I.stateNode,!1)}catch(rt){Qt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);$u(e,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(an(y,""),s.flags&=-33);var E=Gf(e);$u(e,E,y);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Gf(e);Ff(e,z,I);break;default:throw Error(a(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(e,n.alternate,n),n=n.sibling}function Mr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Mr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Mr(n);break;case 27:ll(n.stateNode);case 26:case 5:vi(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),Jo(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Fp(I[h],E)}catch(z){Qt(o,o.return,z)}}s&&y&64&&ny(f),Wo(f,f.return);break;case 27:ay(f);case 26:case 5:Fi(h,f,s),s&&o===null&&y&4&&sy(f),Wo(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&y&4&&hy(h,f);break;case 13:Fi(h,f,s),s&&y&4&&fy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Wo(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function Qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&zo(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,o),n=n.sibling}function py(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Jo(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(n,n.return,I)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):tl(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,wa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(y,n);break;case 24:Kn(e,n,s,o),h&2048&&Kf(n.alternate,n);break;default:Kn(e,n,s,o)}}function wa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=s,I=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:wa(f,y,E,I,h),Jo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?wa(f,y,E,I,h):tl(f,y):(G._visibility|=2,wa(f,y,E,I,h)),h&&z&2048&&Qf(y.alternate,y);break;case 24:wa(f,y,E,I,h),h&&z&2048&&Kf(y.alternate,y);break;default:wa(f,y,E,I,h)}n=n.sibling}}function tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&Qf(o.alternate,o);break;case 24:tl(s,o),h&2048&&Kf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var el=8192;function Ra(e,n,s){if(e.subtreeFlags&el)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&el&&e.memoizedState!==null&&oA(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Qn;Qn=hc(e.stateNode.containerInfo),Ra(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=el,el=16777216,Ra(e,n,s),el=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,vy(o,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Ss(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):nl(e);break;default:nl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,vy(o,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function vy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(uy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var A1={getCacheForType:function(e){var n=qe(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Ae).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,wt=null,Ct=0,Yt=0,vn=null,bs=!1,Ca=!1,Xf=!1,Yi=0,he=0,ws=0,xr=0,$f=0,En=0,Ia=0,il=null,cn=null,Zf=!1,Wu=0,Ey=0,tc=1/0,ec=null,Rs=null,Oe=0,Cs=null,Na=null,Qi=0,Jf=0,Wf=null,Ty=null,sl=0,td=null;function Tn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:F.T!==null?ad():nu()}function Ay(){if(En===0)if((Ct&536870912)===0||xt){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function hn(e,n,s){(e===te&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Is(e,Ct,En,!1)),or(e,s),((qt&2)===0||e!==te)&&(e===te&&((qt&2)===0&&(xr|=s),he===4&&Is(e,Ct,En,!1)),Ei(e))}function Sy(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?R1(e,n):nd(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Is(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!b1(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=il;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,y).flags|=256),y=nd(E,y,!1),y!==2){if(Xf&&!I){E.errorRecoveryDisabledLanes|=f,xr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Is(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(o,n,En,!bs);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-tn(),10<h)){if(Is(o,n,En,!bs),ni(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=t_(by.bind(null,o,s,cn,ec,Zf,n,En,xr,Ia,bs,f,"Throttled",-0,0),h);break t}by(o,s,cn,ec,Zf,n,En,xr,Ia,bs,f,null,-0,0)}}break}while(!0);Ei(e)}function by(e,n,s,o,h,f,y,E,I,z,G,Q,j,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},gy(n,f,Q);var rt=(f&62914560)===f?Wu-tn():(f&4194048)===f?Ey-tn():0;if(rt=lA(Q,rt),rt!==null){Qi=f,e.cancelPendingCommit=rt(My.bind(null,e,n,f,s,o,h,y,E,I,G,Q,null,j,q)),Is(e,f,y,!z);return}}My(e,n,f,s,o,h,y,E,I)}function b1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(e,n,s,o){n&=~$f,n&=~xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&lr(e,s,n)}function nc(){return(qt&6)===0?(rl(0),!1):!0}function ed(){if(wt!==null){if(Yt===0)var e=wt.return;else e=wt,Li=br=null,yf(e),Ea=null,Bo=0,e=wt;for(;e!==null;)ey(e.alternate,e),e=e.return;wt=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,G1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,ed(),te=e,wt=s=Vi(e.current,null),Ct=n,Yt=0,vn=null,bs=!1,Ca=Pn(e,n),Xf=!1,Ia=En=$f=xr=ws=he=0,cn=il=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Su(),s}function wy(e,n){At=null,F.H=Xo,n===va||n===Ou?(n=Bp(),Yt=3):n===rf?(n=Bp(),Yt=4):Yt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,wt===null&&(he=1,Fu(e,Nn(n,e.current)))}function Ry(){var e=yn.current;return e===null?!0:(Ct&4194048)===Ct?xn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===xn:!1}function Cy(){var e=F.H;return F.H=Xo,e===null?Xo:e}function Iy(){var e=F.A;return F.A=A1,e}function ic(){he=4,bs||(Ct&4194048)!==Ct&&yn.current!==null||(Ca=!0),(ws&134217727)===0&&(xr&134217727)===0||te===null||Is(te,Ct,En,!1)}function nd(e,n,s){var o=qt;qt|=2;var h=Cy(),f=Iy();(te!==e||Ct!==n)&&(ec=null,Da(e,n)),n=!1;var y=he;t:do try{if(Yt!==0&&wt!==null){var E=wt,I=vn;switch(Yt){case 8:ed(),y=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Yt;if(Yt=0,vn=null,Oa(e,E,I,z),s&&Ca){y=0;break t}break;default:z=Yt,Yt=0,vn=null,Oa(e,E,I,z)}}w1(),y=he;break}catch(G){wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Li=br=null,qt=o,F.H=h,F.A=f,wt===null&&(te=null,Ct=0,Su()),y}function w1(){for(;wt!==null;)Ny(wt)}function R1(e,n){var s=qt;qt|=2;var o=Cy(),h=Iy();te!==e||Ct!==n?(ec=null,tc=tn()+500,Da(e,n)):Ca=Pn(e,n);t:do try{if(Yt!==0&&wt!==null){n=wt;var f=vn;e:switch(Yt){case 1:Yt=0,vn=null,Oa(e,n,f,1);break;case 2:case 9:if(zp(f)){Yt=0,vn=null,Dy(n);break}n=function(){Yt!==2&&Yt!==9||te!==e||(Yt=7),Ei(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:zp(f)?(Yt=0,vn=null,Dy(n)):(Yt=0,vn=null,Oa(e,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(y?p_(y):E.stateNode.complete){Yt=0,vn=null;var I=E.sibling;if(I!==null)wt=I;else{var z=E.return;z!==null?(wt=z,sc(z)):wt=null}break e}}Yt=0,vn=null,Oa(e,n,f,5);break;case 6:Yt=0,vn=null,Oa(e,n,f,6);break;case 8:ed(),he=6;break t;default:throw Error(a(462))}}C1();break}catch(G){wy(e,G)}while(!0);return Li=br=null,F.H=o,F.A=h,qt=s,wt!==null?0:(te=null,Ct=0,Su(),he)}function C1(){for(;wt!==null&&!Oh();)Ny(wt)}function Ny(e){var n=Wg(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?sc(e):wt=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Qg(s,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Qg(s,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:yf(n);default:ey(s,n),n=wt=Ip(n,Yi),n=Wg(s,n,Yi)}e.memoizedProps=e.pendingProps,n===null?sc(e):wt=n}function Oa(e,n,s,o){Li=br=null,yf(n),Ea=null,Bo=0;var h=n.return;try{if(p1(e,h,n,s,Ct)){he=1,Fu(e,Nn(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;he=1,Fu(e,Nn(s,e.current)),wt=null;return}n.flags&32768?(xt||o===1?e=!0:Ca||(Ct&536870912)!==0?e=!1:(bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,bs);return}e=n.return;var s=_1(n.alternate,n,Yi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);he===0&&(he=5)}function Oy(e,n){do{var s=v1(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);he=6,wt=null}function My(e,n,s,o,h,f,y,E,I){e.cancelPendingCommit=null;do rc();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,s,f,y,E,I),e===te&&(wt=te=null,Ct=0),Na=n,Cs=e,Qi=s,Jf=f,Wf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O1(ss,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,y=qt,qt|=4;try{E1(e,n,s)}finally{qt=y,et.p=h,F.T=o}}Oe=1,xy(),Vy(),ky()}}function xy(){if(Oe===1){Oe=0;var e=Cs,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{dy(n,e);var f=md,y=vp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(I!==null&&Ph(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=E.textContent.length,dt=Math.min(I.start,rt),Zt=I.end===void 0?dt:Math.min(I.end,rt);!q.extend&&dt>Zt&&(y=Zt,Zt=dt,dt=y);var V=yp(E,dt),D=yp(E,Zt);if(V&&D&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(V.node,V.offset),q.removeAllRanges(),dt>Zt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var Y=Q[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}yc=!!dd,md=dd=null}finally{qt=h,et.p=o,F.T=s}}e.current=n,Oe=2}}function Vy(){if(Oe===2){Oe=0;var e=Cs,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{ly(e,n.alternate,n)}finally{qt=h,et.p=o,F.T=s}}Oe=3}}function ky(){if(Oe===4||Oe===3){Oe=0,Xl();var e=Cs,n=Na,s=Qi,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Na=Cs=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Di(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Qi&3)!==0&&rc(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?sl++:(sl=0,td=e):sl=0,rl(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function rc(){return xy(),Vy(),ky(),Uy()}function Uy(){if(Oe!==5)return!1;var e=Cs,n=Jf;Jf=0;var s=Di(Qi),o=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=Wf,Wf=null;var f=Cs,y=Qi;if(Oe=0,Na=Cs=null,Qi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,_y(f.current),py(f,f.current,y,s),qt=E,rl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{et.p=h,F.T=o,Ly(e,n)}}function Py(e,n,s){n=Nn(s,n),n=Mf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(or(e,2),Ei(e))}function Qt(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=Nn(s,e),s=zg(2),o=Es(n,s,2),o!==null&&(jg(s,o,n,e),or(o,2),Ei(o));break}}n=n.return}}function id(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new S1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=I1.bind(null,e,n,s),n.then(e,e))}function I1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Ct&s)===s&&(he===4||he===3&&(Ct&62914560)===Ct&&300>tn()-Wu?(qt&2)===0&&Da(e,0):$f|=s,Ia===Ct&&(Ia=0)),Ei(e)}function zy(e,n){n===0&&(n=eu()),e=Tr(e,n),e!==null&&(or(e,n),Ei(e))}function N1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function D1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),zy(e,s)}function O1(e,n){return De(e,n)}var ac=null,Ma=null,sd=!1,oc=!1,rd=!1,Ns=0;function Ei(e){e!==Ma&&e.next===null&&(Ma===null?ac=Ma=e:Ma=Ma.next=e),oc=!0,sd||(sd=!0,x1())}function rl(e,n){if(!rd&&oc){rd=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(o,f))}else f=Ct,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(s=!0,Hy(o,f));o=o.next}while(s);rd=!1}}function M1(){jy()}function jy(){oc=sd=!1;var e=0;Ns!==0&&H1()&&(e=Ns);for(var n=tn(),s=null,o=ac;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Oe!==0&&Oe!==5||rl(e),Ns!==0&&(Ns=0)}function By(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-fe(f),E=1<<y,I=h[y];I===-1?((E&s)===0||(E&o)!==0)&&(h[y]=xh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Ct,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&is(o),Di(s)){case 2:case 8:s=po;break;case 32:s=ss;break;case 268435456:s=$l;break;default:s=ss}return o=qy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=Ct;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),By(e,tn()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(rc())return null;Sy(e,n,!0)}function x1(){F1(function(){(qt&6)!==0?De(mo,M1):jy()})}function ad(){if(Ns===0){var e=ya;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ns=e}return Ns}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function V1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[ke]||null).action),y=o.submitter;y&&(n=(n=y[ke]||null)?Gy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ns!==0){var I=y?Fy(h,y):new FormData(h);Rf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=y?Fy(h,y):new FormData(h),Rf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],k1=ld.toLowerCase(),L1=ld[0].toUpperCase()+ld.slice(1);Yn(k1,"on"+L1)}Yn(Ap,"onAnimationEnd"),Yn(Sp,"onAnimationIteration"),Yn(bp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(JT,"onTransitionRun"),Yn(WT,"onTransitionStart"),Yn(t1,"onTransitionCancel"),Yn(wp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Yy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=I}else for(y=0;y<o.length;y++){if(E=o[y],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){Au(G)}h.currentTarget=null,f=I}}}}function Rt(e,n){var s=n[Zr];s===void 0&&(s=n[Zr]=new Set);var o=e+"__bubble";s.has(o)||(Qy(n,e,2,!1),s.add(o))}function ud(e,n,s){var o=0;n&&(o|=4),Qy(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[lc]){e[lc]=!0,_o.forEach(function(s){s!=="selectionchange"&&(U1.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,ud("selectionchange",!1,n))}}function Qy(e,n,s,o){switch(A_(n)){case 2:var h=hA;break;case 8:h=fA;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){o=f=y;continue t}E=E.parentNode}}o=o.return}cs(function(){var z=f,G=wn(s),Q=[];t:{var j=Rp.get(e);if(j!==void 0){var q=di,rt=e;switch(e){case"keypress":if(pr(s)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":rt="focus",q=yr;break;case"focusout":rt="blur",q=yr;break;case"beforeblur":case"afterblur":q=yr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ap:case Sp:case bp:q=fu;break;case wp:q=T;break;case"scroll":case"scrollend":q=Do;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xi;break;case"toggle":case"beforetoggle":q=Tt}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),V=dt?j!==null?j+"Capture":null:j;dt=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||V===null||(Y=qn(D,V),Y!=null&&dt.push(ol(D,Y,P))),Zt)break;D=D.return}0<dt.length&&(j=new q(j,rt,null,s,G),Q.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Co&&(rt=s.relatedTarget||s.fromElement)&&(ai(rt)||rt[si]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=s.relatedTarget||s.toElement,q=z,rt=rt?ai(rt):null,rt!==null&&(Zt=c(rt),dt=rt.tag,rt!==Zt||dt!==5&&dt!==27&&dt!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(dt=Oo,Y="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(dt=xi,Y="onPointerLeave",V="onPointerEnter",D="pointer"),Zt=q==null?j:dn(q),P=rt==null?j:dn(rt),j=new dt(Y,D+"leave",q,s,G),j.target=Zt,j.relatedTarget=P,Y=null,ai(G)===z&&(dt=new dt(V,D+"enter",rt,s,G),dt.target=P,dt.relatedTarget=Zt,Y=dt),Zt=Y,q&&rt)e:{for(dt=P1,V=q,D=rt,P=0,Y=V;Y;Y=dt(Y))P++;Y=0;for(var lt=D;lt;lt=dt(lt))Y++;for(;0<P-Y;)V=dt(V),P--;for(;0<Y-P;)D=dt(D),Y--;for(;P--;){if(V===D||D!==null&&V===D.alternate){dt=V;break e}V=dt(V),D=dt(D)}dt=null}else dt=null;q!==null&&Ky(Q,j,q,dt,!1),rt!==null&&Zt!==null&&Ky(Q,Zt,rt,dt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=hp;else if(up(j))if(fp)zt=XT;else{zt=QT;var at=YT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ea(z.elementType)&&(zt=hp):zt=KT;if(zt&&(zt=zt(e,z))){cp(Q,zt,s,G);break t}at&&at(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&bo(j,"number",j.value)}switch(at=z?dn(z):window,e){case"focusin":(up(at)||at.contentEditable==="true")&&(ua=at,zh=z,Lo=null);break;case"focusout":Lo=zh=ua=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ep(Q,s,G);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Ep(Q,s,G)}var bt;if(Bt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else la?_r(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(gi&&s.locale!=="ko"&&(la||It!=="onCompositionStart"?It==="onCompositionEnd"&&la&&(bt=No()):(fi=G,Io="value"in fi?fi.value:fi.textContent,la=!0)),at=uc(z,It),0<at.length&&(It=new pi(It,e,null,s,G),Q.push({event:It,listeners:at}),bt?It.data=bt:(bt=oa(s),bt!==null&&(It.data=bt)))),(bt=Cn?qT(e,s):HT(e,s))&&(It=uc(z,"onBeforeInput"),0<It.length&&(at=new pi("onBeforeInput","beforeinput",null,s,G),Q.push({event:at,listeners:It}),at.data=bt)),V1(Q,e,z,s,G)}Yy(Q,n)})}function ol(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,s),h!=null&&o.unshift(ol(e,h,f)),h=qn(e,n),h!=null&&o.push(ol(e,h,f))),e.tag===3)return o;e=e.return}return[]}function P1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=qn(s,f),z!=null&&y.unshift(ol(s,z,I))):h||(z=qn(s,f),z!=null&&y.push(ol(s,z,I)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var z1=/\r\n?/g,j1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(z1,`
`).replace(j1,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":Ro(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,Wr(e,s,o))}}function fd(e,n,s,o,h,f){switch(s){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Wr(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,y,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=y=h=null,I=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,s,null)}}au(e,f,E,I,z,y,h,!1);return;case"select":Rt("invalid",e),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=y,e.multiple=!!o,n!=null?as(e,!!o,n,!1):s!=null&&as(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,y,E,s,null)}os(e,o,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(o=s[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,I,o,s,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<al.length;o++)Rt(al[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,s,null)}return;default:if(ea(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&fd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function B1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,I=null,z=null,G=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,Q)}}for(var j in o){var q=o[j];if(Q=s[j],o.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&$t(e,n,j,q,o,Q)}}ta(e,y,E,I,z,G,f,h);return;case"select":q=y=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==I&&$t(e,n,h,f,o,I)}n=E,s=y,o=q,j!=null?as(e,!!s,j,!1):!!o!=!!s&&(n!=null?as(e,!!s,n,!0):as(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,y,h,o,f)}ou(e,j,q);return;case"option":for(var rt in s)if(j=s[rt],s.hasOwnProperty(rt)&&j!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:$t(e,n,rt,null,o,j)}for(I in o)if(j=o[I],q=s[I],o.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$t(e,n,I,j,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)j=s[dt],s.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt)&&$t(e,n,dt,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:$t(e,n,z,j,o,q)}return;default:if(ea(n)){for(var Zt in s)j=s[Zt],s.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&fd(e,n,Zt,void 0,o,j);for(G in o)j=o[G],q=s[G],!o.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||fd(e,n,G,j,o,q);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&$t(e,n,V,null,o,j);for(Q in o)j=o[Q],q=s[Q],!o.hasOwnProperty(Q)||j===q||j==null&&q==null||$t(e,n,Q,j,o,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Zy(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],z=I.startTime;if(z>E)break;var G=I.transferSize,Q=I.initiatorType;G&&Zy(Q)&&(I=I.responseEnd,y+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function H1(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(Y1)}:t_;function Y1(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function n_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ll(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ll(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&ll(e.ownerDocument.body);s=h}while(s);La(n)}function i_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Q1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function K1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var kn=new Map,l_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=et.d;et.d={f:$1,r:Z1,D:J1,C:W1,L:tA,m:eA,X:iA,S:nA,M:sA};function $1(){var e=Ki.f(),n=nc();return e||n}function Z1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):Ki.r(e)}var xa=typeof document>"u"?null:document;function u_(e,n,s){var o=xa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function J1(e){Ki.D(e),u_("dns-prefetch",e,null)}function W1(e,n){Ki.C(e,n),u_("preconnect",e,n)}function tA(e,n,s){Ki.L(e,n,s);var o=xa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}kn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ul(f))||n==="script"&&o.querySelector(cl(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function eA(e,n){Ki.m(e,n);var s=xa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!kn.has(f)&&(e=w({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(f)))return}o=s.createElement("link"),Ge(o,"link",e),Ee(o),s.head.appendChild(o)}}}function nA(e,n,s){Ki.S(e,n,s);var o=xa;if(o&&e){var h=oi(o).hoistableStyles,f=Va(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(ul(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&Td(e,s);var I=y=o.createElement("link");Ee(I),Ge(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function iA(e,n){Ki.X(e,n);var s=xa;if(s&&e){var o=oi(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=w({src:e,async:!0},n),(n=kn.get(h))&&Ad(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function sA(e,n){Ki.M(e,n);var s=xa;if(s&&e){var o=oi(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(cl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Ad(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(e,n,s,o){var h=(h=St.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=oi(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(ul(e)))&&!f._p&&(y.instance=f,y.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||rA(h,e,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+rn(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function rA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),Ee(n),e.head.appendChild(n))}function ka(e){return'[src="'+rn(e)+'"]'}function cl(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(ul(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=h_(s),(h=kn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var y=f;return y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Ge(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(cl(f)))?(n.instance=h,Ee(h),h):(o=s,(h=kn.get(f))&&(o=w({},s),Ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function d_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function aA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(ul(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=h_(o),(h=kn.get(h))&&Td(o,h),f=f.createElement("link"),Ee(f);var y=f;y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function lA(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(uA,e),pc=null,mc.call(e))}function uA(e,n){if(!(n.state.loading&4)){var s=pc.get(e);if(s)var o=s.get(null);else{s=new Map,pc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var hl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function cA(e,n,s,o,h,f,y,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function g_(e,n,s,o,h,f,y,E,I,z,G,Q){return e=new cA(e,n,s,y,I,z,G,Q,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),e}function y_(e){return e?(e=fa,e):fa}function __(e,n,s,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Es(e,o,n),s!==null&&(hn(s,e,n),Ho(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Tr(e,67108864);n!==null&&hn(n,e,67108864),bd(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Tn();n=ur(n);var s=Tr(e,n);s!==null&&hn(s,e,n),bd(e,n)}}var yc=!0;function hA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,wd(e,n,s,o)}finally{et.p=f,F.T=h}}function fA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,wd(e,n,s,o)}finally{et.p=f,F.T=h}}function wd(e,n,s,o){if(yc){var h=Rd(o);if(h===null)hd(e,n,o,_c,s),S_(e,o);else if(mA(h,e,n,s,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<dA.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ei(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var I=1<<31-fe(y);E.entanglements[1]|=I,y&=~I}Ei(f),(qt&6)===0&&(tc=tn()+500,rl(0))}}break;case 31:case 13:E=Tr(f,2),E!==null&&hn(E,f,2),nc(),bd(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,s)}}function Rd(e){return e=wn(e),Cd(e)}var _c=null;function Cd(e){if(_c=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case mo:return 2;case po:return 8;case ss:case Mh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Id=!1,Os=null,Ms=null,xs=null,fl=new Map,dl=new Map,Vs=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mA(e,n,s,o,h){switch(n){case"focusin":return Os=ml(Os,e,n,s,o,h),!0;case"dragenter":return Ms=ml(Ms,e,n,s,o,h),!0;case"mouseover":return xs=ml(xs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return fl.set(f,ml(fl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,dl.set(f,ml(dl.get(f)||null,e,n,s,o,h)),!0}return!1}function b_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,zn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Co=o,s.target.dispatchEvent(o),Co=null}else return n=bn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){vc(e)&&s.delete(n)}function pA(){Id=!1,Os!==null&&vc(Os)&&(Os=null),Ms!==null&&vc(Ms)&&(Ms=null),xs!==null&&vc(xs)&&(xs=null),fl.forEach(w_),dl.forEach(w_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pA)))}var Tc=null;function R_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function La(e){function n(I){return Ec(I,e)}Os!==null&&Ec(Os,e),Ms!==null&&Ec(Ms,e),xs!==null&&Ec(xs,e),fl.forEach(n),dl.forEach(n);for(var s=0;s<Vs.length;s++){var o=Vs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)b_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[ke]||null;if(typeof f=="function")y||R_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ke]||null)E=y.formAction;else if(Cd(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),R_(s)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Ac.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();__(s,o,e,n,null,null)},Ac.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),nc(),n[si]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&b_(e)}};var I_=t.version;if(I_!=="19.2.0")throw Error(a(527,I_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var gA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Un=Sc.inject(gA),ze=Sc}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=kg,f=Lg,y=Ug;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,o,null,h,f,y,C_),e[si]=n.current,cd(e),new Nd(n)},gl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=kg,y=Lg,E=Ug,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=g_(e,1,!0,n,s??null,o,h,I,f,y,E,C_),n.context=y_(null),s=n.current,o=Tn(),o=ur(o),h=vs(o),h.callback=null,Es(s,h,o),s=o,n.current.lanes=s,or(n,s),Ei(n),e[si]=n.current,cd(e),new Ac(n)},gl.version="19.2.0",gl}var P_;function RA(){if(P_)return Md.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=wA(),Md.exports}var CA=RA();const IA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),z_=r=>{const t=NA(r);return t.charAt(0).toUpperCase()+t.slice(1)},_0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),DA=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var OA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const MA=Pt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Pt.createElement("svg",{ref:_,...OA,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:_0("lucide",l),...!c&&!DA(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,A])=>Pt.createElement(g,A)),...Array.isArray(c)?c:[c]]));const Jt=(r,t)=>{const i=Pt.forwardRef(({className:a,...l},c)=>Pt.createElement(MA,{ref:c,iconNode:t,className:_0(`lucide-${IA(z_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=z_(r),i};const xA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],v0=Jt("arrow-left",xA);const VA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E0=Jt("calendar",VA);const kA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],LA=Jt("camera",kA);const UA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PA=Jt("chevron-right",UA);const zA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jA=Jt("circle-alert",zA);const BA=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],qA=Jt("coffee",BA);const HA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],GA=Jt("house",HA);const FA=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],YA=Jt("link",FA);const QA=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],KA=Jt("list",QA);const XA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$A=Jt("lock",XA);const ZA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JA=Jt("mail",ZA);const WA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],T0=Jt("map-pin",WA);const tS=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],eS=Jt("map",tS);const nS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iS=Jt("pen-line",nS);const sS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rS=Jt("pencil",sS);const aS=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],oS=Jt("plane",aS);const lS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],A0=Jt("plus",lS);const uS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cS=Jt("save",uS);const hS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fS=Jt("settings",hS);const dS=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Em=Jt("shopping-bag",dS);const mS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zl=Jt("square-check-big",mS);const pS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],gS=Jt("tag",pS);const yS=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],_S=Jt("tram-front",yS);const vS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ES=Jt("trash-2",vS);const TS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],AS=Jt("upload",TS);const SS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bS=Jt("user",SS);const wS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],RS=Jt("x",wS);const CS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],IS=Jt("zoom-in",CS),NS=()=>{};var j_={};const S0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},DS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,g=_?r[l+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let x=(p&15)<<2|g>>6,H=g&63;_||(H=64,d||(x=64)),a.push(i[A],i[w],i[x],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(S0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):DS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const g=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||g==null||w==null)throw new OS;const x=c<<2|p>>4;if(a.push(x),g!==64){const H=p<<4&240|g>>2;if(a.push(H),w!==64){const J=g<<6&192|w;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class OS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MS=function(r){const t=S0(r);return b0.encodeByteArray(t,!0)},qc=function(r){return MS(r).replace(/\./g,"")},w0=function(r){try{return b0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VS=()=>xS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&w0(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return NS()||VS()||kS()||LS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>lh()?.emulatorHosts?.[r],US=r=>{const t=R0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},C0=()=>lh()?.config,I0=r=>lh()?.[`_${r}`];class PS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}function zS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Sl={};function jS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?r.emulator.push(t):r.prod.push(t);return r}function BS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let B_=!1;function D0(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Sl[r]===t||Sl[r]||B_)return;Sl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=jS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{B_=!0,d()},x}function A(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=BS(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),$=i("learnmore"),W=document.getElementById($)||document.createElement("a"),ut=i("preprendIcon"),mt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ft=x.element;p(ft),A(W,$);const Vt=g();_(mt,ut),ft.append(mt,J,W,Vt),document.body.appendChild(ft)}c?(J.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function HS(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QS(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KS(){return!HS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const ZS="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=ZS,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?JS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ns(l,p,a)}}function JS(r,t){return r.replace(WS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const WS=/\{\$([^}]+)}/g;function tb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Pr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(q_(c)&&q_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(r){return r!==null&&typeof r=="object"}function Bl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function _l(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function eb(r,t){const i=new nb(r,t);return i.subscribe.bind(i)}class nb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ib(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ib(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function Qe(r){return r&&r._delegate?r._delegate:r}class zr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vr="[DEFAULT]";class sb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new PS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ab(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rb(r){return r===Vr?void 0:r}function ab(r){return r.instantiationMode==="EAGER"}class ob{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const lb={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},ub=Nt.INFO,cb={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},hb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=cb[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=ub,this._logHandler=hb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const fb=(r,t)=>t.some(i=>r instanceof i);let H_,G_;function db(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mb(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,Xd=new WeakMap,M0=new WeakMap,Ud=new WeakMap,Am=new WeakMap;function pb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&O0.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function gb(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||M0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function yb(r){$d=r($d)}function _b(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Pd(this),t,...i);return M0.set(a,t.sort?t.sort():[t]),qs(a)}:mb().includes(r)?function(...t){return r.apply(Pd(this),t),qs(O0.get(this))}:function(...t){return qs(r.apply(Pd(this),t))}}function vb(r){return typeof r=="function"?_b(r):(r instanceof IDBTransaction&&gb(r),fb(r,db())?new Proxy(r,$d):r)}function qs(r){if(r instanceof IDBRequest)return pb(r);if(Ud.has(r))return Ud.get(r);const t=vb(r);return t!==r&&(Ud.set(r,t),Am.set(t,r)),t}const Pd=r=>Am.get(r);function Eb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=qs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qs(d.result),_.oldVersion,_.newVersion,qs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Tb=["get","getKey","getAll","getAllKeys","count"],Ab=["put","add","delete","clear"],zd=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Ab.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Tb.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let g=_.store;return a&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),l&&_.done]))[0]};return zd.set(t,c),c}yb(r=>({...r,get:(t,i,a)=>F_(t,i)||r.get(t,i,a),has:(t,i)=>!!F_(t,i)||r.has(t,i)}));class Sb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function bb(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",Y_="0.14.6";const Ji=new Tm("@firebase/app"),wb="@firebase/app-compat",Rb="@firebase/analytics-compat",Cb="@firebase/analytics",Ib="@firebase/app-check-compat",Nb="@firebase/app-check",Db="@firebase/auth",Ob="@firebase/auth-compat",Mb="@firebase/database",xb="@firebase/data-connect",Vb="@firebase/database-compat",kb="@firebase/functions",Lb="@firebase/functions-compat",Ub="@firebase/installations",Pb="@firebase/installations-compat",zb="@firebase/messaging",jb="@firebase/messaging-compat",Bb="@firebase/performance",qb="@firebase/performance-compat",Hb="@firebase/remote-config",Gb="@firebase/remote-config-compat",Fb="@firebase/storage",Yb="@firebase/storage-compat",Qb="@firebase/firestore",Kb="@firebase/ai",Xb="@firebase/firestore-compat",$b="firebase",Zb="12.6.0";const Jd="[DEFAULT]",Jb={[Zd]:"fire-core",[wb]:"fire-core-compat",[Cb]:"fire-analytics",[Rb]:"fire-analytics-compat",[Nb]:"fire-app-check",[Ib]:"fire-app-check-compat",[Db]:"fire-auth",[Ob]:"fire-auth-compat",[Mb]:"fire-rtdb",[xb]:"fire-data-connect",[Vb]:"fire-rtdb-compat",[kb]:"fire-fn",[Lb]:"fire-fn-compat",[Ub]:"fire-iid",[Pb]:"fire-iid-compat",[zb]:"fire-fcm",[jb]:"fire-fcm-compat",[Bb]:"fire-perf",[qb]:"fire-perf-compat",[Hb]:"fire-rc",[Gb]:"fire-rc-compat",[Fb]:"fire-gcs",[Yb]:"fire-gcs-compat",[Qb]:"fire-fst",[Xb]:"fire-fst-compat",[Kb]:"fire-vertex","fire-js":"fire-js",[$b]:"fire-js-all"};const Nl=new Map,Wb=new Map,Wd=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ka(r){const t=r.name;if(Wd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Nl.values())Q_(i,r);for(const i of Wb.values())Q_(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}const t2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new jl("app","Firebase",t2);class e2{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const io=Zb;function x0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=C0()),!i)throw Hs.create("no-options");const c=Nl.get(l);if(c){if(Pr(i,c.options)&&Pr(a,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new ob(l);for(const _ of Wd.values())d.addComponent(_);const p=new e2(i,a,d);return Nl.set(l,p),p}function bm(r=Jd){const t=Nl.get(r);if(!t&&r===Jd&&C0())return x0();if(!t)throw Hs.create("no-app",{appName:r});return t}function n2(){return Array.from(Nl.values())}function Gs(r,t,i){let a=Jb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ka(new zr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const i2="firebase-heartbeat-database",s2=1,Dl="firebase-heartbeat-store";let jd=null;function V0(){return jd||(jd=Eb(i2,s2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),jd}async function r2(r){try{const i=(await V0()).transaction(Dl),a=await i.objectStore(Dl).get(k0(r));return await i.done,a}catch(t){if(t instanceof ns)Ji.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function K_(r,t){try{const a=(await V0()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,k0(r)),await a.done}catch(i){if(i instanceof ns)Ji.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function k0(r){return`${r.name}!${r.options.appId}`}const a2=1024,o2=30;class l2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new c2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>o2){const l=h2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=u2(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function u2(r,t=a2){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class c2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await r2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}function h2(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function f2(r){Ka(new zr("platform-logger",t=>new Sb(t),"PRIVATE")),Ka(new zr("heartbeat",t=>new l2(t),"PRIVATE")),Gs(Zd,Y_,r),Gs(Zd,Y_,"esm2020"),Gs("fire-js","")}f2("");var d2="firebase",m2="12.6.0";Gs(d2,m2,"app");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,L0;(function(){var r;function t(b,S){function R(){}R.prototype=S.prototype,b.F=S.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(M,N,L){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return S.prototype[N].apply(M,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(b,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)M[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)M[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=b.g[0],R=b.g[1],N=b.g[2];let L=b.g[3],C;C=S+(L^R&(N^L))+M[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(N^S&(R^N))+M[1]+3905402710&4294967295,L=S+(C<<12&4294967295|C>>>20),C=N+(R^L&(S^R))+M[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=R+(S^N&(L^S))+M[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(L^R&(N^L))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(N^S&(R^N))+M[5]+1200080426&4294967295,L=S+(C<<12&4294967295|C>>>20),C=N+(R^L&(S^R))+M[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=R+(S^N&(L^S))+M[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(L^R&(N^L))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(N^S&(R^N))+M[9]+2336552879&4294967295,L=S+(C<<12&4294967295|C>>>20),C=N+(R^L&(S^R))+M[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=R+(S^N&(L^S))+M[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(L^R&(N^L))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(N^S&(R^N))+M[13]+4254626195&4294967295,L=S+(C<<12&4294967295|C>>>20),C=N+(R^L&(S^R))+M[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=R+(S^N&(L^S))+M[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(N^L&(R^N))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^N&(S^R))+M[6]+3225465664&4294967295,L=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(L^S))+M[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(N^L))+M[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^L&(R^N))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^N&(S^R))+M[10]+38016083&4294967295,L=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(L^S))+M[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(N^L))+M[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^L&(R^N))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^N&(S^R))+M[14]+3275163606&4294967295,L=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(L^S))+M[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(N^L))+M[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^L&(R^N))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^N&(S^R))+M[2]+4243563512&4294967295,L=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(L^S))+M[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(N^L))+M[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(R^N^L)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^N)+M[8]+2272392833&4294967295,L=S+(C<<11&4294967295|C>>>21),C=N+(L^S^R)+M[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=R+(N^L^S)+M[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^L)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^N)+M[4]+1272893353&4294967295,L=S+(C<<11&4294967295|C>>>21),C=N+(L^S^R)+M[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=R+(N^L^S)+M[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^L)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^N)+M[0]+3936430074&4294967295,L=S+(C<<11&4294967295|C>>>21),C=N+(L^S^R)+M[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=R+(N^L^S)+M[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^L)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^N)+M[12]+3873151461&4294967295,L=S+(C<<11&4294967295|C>>>21),C=N+(L^S^R)+M[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=R+(N^L^S)+M[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(N^(R|~L))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~N))+M[7]+1126891415&4294967295,L=S+(C<<10&4294967295|C>>>22),C=N+(S^(L|~R))+M[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=R+(L^(N|~S))+M[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~L))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~N))+M[3]+2399980690&4294967295,L=S+(C<<10&4294967295|C>>>22),C=N+(S^(L|~R))+M[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=R+(L^(N|~S))+M[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~L))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~N))+M[15]+4264355552&4294967295,L=S+(C<<10&4294967295|C>>>22),C=N+(S^(L|~R))+M[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=R+(L^(N|~S))+M[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~L))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~N))+M[11]+3174756917&4294967295,L=S+(C<<10&4294967295|C>>>22),C=N+(S^(L|~R))+M[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=R+(L^(N|~S))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+L&4294967295}a.prototype.v=function(b,S){S===void 0&&(S=b.length);const R=S-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<S;){if(N==0)for(;L<=R;)l(this,b,L),L+=this.blockSize;if(typeof b=="string"){for(;L<S;)if(M[N++]=b.charCodeAt(L++),N==this.blockSize){l(this,M),N=0;break}}else for(;L<S;)if(M[N++]=b[L++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;S=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=S&255,S/=256;for(this.v(b),b=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)b[S++]=this.g[R]>>>M&255;return b};function c(b,S){var R=p;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=S(b)}function d(b,S){this.h=S;const R=[];let M=!0;for(let N=b.length-1;N>=0;N--){const L=b[N]|0;M&&L==S||(R[N]=L,M=!1)}this.g=R}var p={};function _(b){return-128<=b&&b<128?c(b,function(S){return new d([S|0],S<0?-1:0)}):new d([b|0],b<0?-1:0)}function g(b){if(isNaN(b)||!isFinite(b))return w;if(b<0)return W(g(-b));const S=[];let R=1;for(let M=0;b>=R;M++)S[M]=b/R|0,R*=4294967296;return new d(S,0)}function A(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return W(A(b.substring(1),S));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(S,8));let M=w;for(let L=0;L<b.length;L+=8){var N=Math.min(8,b.length-L);const C=parseInt(b.substring(L,L+N),S);N<8?(N=g(Math.pow(S,N)),M=M.j(N).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var w=_(0),x=_(1),H=_(16777216);r=d.prototype,r.m=function(){if($(this))return-W(this).m();let b=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);b+=(M>=0?M:4294967296+M)*S,S*=4294967296}return b},r.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(J(this))return"0";if($(this))return"-"+W(this).toString(b);const S=g(Math.pow(b,6));var R=this;let M="";for(;;){const N=Vt(R,S).g;R=ut(R,N.j(S));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=N,J(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function J(b){if(b.h!=0)return!1;for(let S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function $(b){return b.h==-1}r.l=function(b){return b=ut(this,b),$(b)?-1:J(b)?0:1};function W(b){const S=b.g.length,R=[];for(let M=0;M<S;M++)R[M]=~b.g[M];return new d(R,~b.h).add(x)}r.abs=function(){return $(this)?W(this):this},r.add=function(b){const S=Math.max(this.g.length,b.g.length),R=[];let M=0;for(let N=0;N<=S;N++){let L=M+(this.i(N)&65535)+(b.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);M=C>>>16,L&=65535,C&=65535,R[N]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ut(b,S){return b.add(W(S))}r.j=function(b){if(J(this)||J(b))return w;if($(this))return $(b)?W(this).j(W(b)):W(W(this).j(b));if($(b))return W(this.j(W(b)));if(this.l(H)<0&&b.l(H)<0)return g(this.m()*b.m());const S=this.g.length+b.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<b.g.length;N++){const L=this.i(M)>>>16,C=this.i(M)&65535,re=b.i(N)>>>16,Ie=b.i(N)&65535;R[2*M+2*N]+=C*Ie,mt(R,2*M+2*N),R[2*M+2*N+1]+=L*Ie,mt(R,2*M+2*N+1),R[2*M+2*N+1]+=C*re,mt(R,2*M+2*N+1),R[2*M+2*N+2]+=L*re,mt(R,2*M+2*N+2)}for(b=0;b<S;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=S;b<2*S;b++)R[b]=0;return new d(R,0)};function mt(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function ft(b,S){this.g=b,this.h=S}function Vt(b,S){if(J(S))throw Error("division by zero");if(J(b))return new ft(w,w);if($(b))return S=Vt(W(b),S),new ft(W(S.g),W(S.h));if($(S))return S=Vt(b,W(S)),new ft(W(S.g),S.h);if(b.g.length>30){if($(b)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=S;M.l(b)<=0;)R=Wt(R),M=Wt(M);var N=Mt(R,1),L=Mt(M,1);for(M=Mt(M,2),R=Mt(R,2);!J(M);){var C=L.add(M);C.l(b)<=0&&(N=N.add(R),L=C),M=Mt(M,1),R=Mt(R,1)}return S=ut(b,N.j(S)),new ft(N,S)}for(N=w;b.l(S)>=0;){for(R=Math.max(1,Math.floor(b.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(R),C=L.j(S);$(C)||C.l(b)>0;)R-=M,L=g(R),C=L.j(S);J(L)&&(L=x),N=N.add(L),b=ut(b,C)}return new ft(N,b)}r.B=function(b){return Vt(this,b).h},r.and=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&b.i(M);return new d(R,this.h&b.h)},r.or=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|b.i(M);return new d(R,this.h|b.h)},r.xor=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^b.i(M);return new d(R,this.h^b.h)};function Wt(b){const S=b.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=b.i(M)<<1|b.i(M-1)>>>31;return new d(R,b.h)}function Mt(b,S){const R=S>>5;S%=32;const M=b.g.length-R,N=[];for(let L=0;L<M;L++)N[L]=S>0?b.i(L+R)>>>S|b.i(L+R+1)<<32-S:b.i(L+R);return new d(N,b.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,L0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=A,Fs=d}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U0,vl,P0,Dc,tm,z0,j0,B0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function g(u,m,v){return g=_,g.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=b;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,v){const T=ft.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new $(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Mt=!1,b=new mt,S=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(R)}};function R(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){W(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(re,N),re.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=St(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,U);return null}return v=fo(v),u&&u[Ie]?u.J(m,v,p(T)?!!T.capture:!1,U):ir(u,m,v,!1,T,U)}function ir(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Tt=sr(u);if(Tt||(u[kt]=Tt=new st(u)),v=Tt.add(m,v,T,tt,B),v.proxy)return v;if(T=Qr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qr(){function u(v){return m.call(u.src,u.listener,v)}const m=co;return u}function Kr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Kr(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=fo(v),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=sr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,U)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=sr(m))?(yt(v,u),v.h==0&&(v.src=null,m[kt]=null)):ct(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function co(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=v.call(T,m)}return u}function sr(u){return u=u[kt],u instanceof st?u:null}var ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function fo(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(m){return u.handleEvent(m)}),u[ho])}function ye(){M.call(this),this.i=new st(this),this.M=this,this.G=null}w(ye,M),ye.prototype[Ie]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Kr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),nt(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=is(B,T,!0,m)&&U;if(B=m.g=u,U=is(B,T,!0,m)&&U,U=is(B,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=is(B,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,de=tt.ha||tt.src;tt.fa&&yt(u.i,tt),U=Tt.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){M.call(this),this.h=u,this.g={}}w(rr,M);var mo=[];function po(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}rr.prototype.N=function(){rr.Z.N.call(this),po(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Mh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}w(ze,N);function Sn(){N.call(this,"c")}w(Sn,N);var fe={},Wl=null;function $r(){return Wl=Wl||new ye}fe.Ia="serverreachability";function tu(u){N.call(this,fe.Ia,u)}w(tu,N);function ti(u){const m=$r();De(m,new tu(m))}fe.STAT_EVENT="statevent";function ar(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}w(ar,N);function _e(u){const m=$r();De(m,new ar(m,u))}fe.Ja="timingevent";function ei(u,m){N.call(this,fe.Ja,u),this.size=m}w(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function xh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var tt="",Tt=B.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var de=Tt[Bt].split("=");if(de.length>1){const oe=de[0];de=de[1];const Cn=oe.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(oe+"="+de+"&"):tt+(oe+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function eu(u,m,v,T,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function or(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ss(B)}catch{return m}}var lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yo;function ur(){}w(ur,Zl),ur.prototype.g=function(){return new XMLHttpRequest},yo=new ur;function Di(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function si(u,m,v){u.M=1,u.A=cr(Te(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(g(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(mo[0]=U.toString()),U=mo);for(let B=0;B<U.length;B++){const tt=ae(v,U[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||de==7||(de==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=su(this,v),oe==ke){Tt==4&&(this.m=4,_e(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==ve){this.m=4,_e(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,oe,null),oi(this,oe);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo(tt),tt.P=!0,_e(11))}}else ii(this.i,this.l,v,null),oi(this,v);Tt==4&&dn(this),this.o&&!this.K&&(Tt==4?du(this.j,this):(this.o=!1,ri(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}finally{}};function kh(u){if(!iu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(g(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(or(this.i,this.B),this.M!=2&&(ti(),_e(17)),dn(this),this.m=2,bn(this)):Jr(this,this.T-u)};function bn(u){u.j.I==0||u.K||du(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,po(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),fs(v);else break t;yr(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(g(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&aa(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const oe=Bt[0];if(!(oe<=v.K))if(v.K=oe,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const gi=Bt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Gn=Bt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const _r=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var B=T.h;B.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(T.G){const oa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Ft(T.J,T.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=gu(T,T.L?T.ba:null,T.W),tt.L){To(T.h,tt);var Tt=tt,de=T.O;de&&(Tt.H=de),Tt.D&&(ai(Tt),ri(Tt)),T.g=tt}else hu(T);v.i.length>0&&mi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||pi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?pi(v,7):Do(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ti(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function _o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Eo(u,m){u.g?u.g.add(m):u.h=m}function To(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_o.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ao(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,So(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Le(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(hr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hr(m,ta,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(hr(v,v.charAt(0)=="/"?bo:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",hr(v,ou)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const Tt=U[tt++];Tt=="."?T&&tt==U.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==U.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?So(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function Le(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof os?(u.i=m,na(u.i,u.l)):(v||(m=hr(m,as)),u.i=new os(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function cr(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,au=/[#\?:]/g,bo=/[#\?]/g,as=/[#\?@]/g,ou=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=os.prototype,r.add=function(u,m){an(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){an(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wo(u,m){return an(u),m=ls(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ro(u,m){an(u);let v=[];if(typeof m=="string")wo(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ls(this,u),wo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ro(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Di(v);v=Ro(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Di(v[B])),u.push(tt)}}return this.i=u.join("&")};function uu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(lu(this,T),ea(this,U,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function us(){this.g=new $l}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,Zl),hi.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fr,ye),r=fr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):qn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},r.Na=function(u){this.g&&(this.response=u,cs(this))},r.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function dr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Di(v):Ft(u,m,v))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Kt,ye);var fi=/^https?$/i,Io=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){mr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){mr(this,B)}};function mr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Oi(u)}function No(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},r.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(ru)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!fi.test(tt?tt.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",No(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var v=nu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),mi(this)};function Do(u){if(sa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),gr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=cr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}pu(u)}function fs(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function sa(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||S(),Mt||(Wt(),Mt=!0),b.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(g(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,U,m),v=Te(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),gr(this,v),B&&(this.R?m="headers="+Di(Rn(B))+"&"+m:this.u&&dr(v,this.u,B)),Eo(this.h,U),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||vo(this.h)||Oo(this))};function Oo(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Ft(T,"SID",u.M),Ft(T,"RID",v),Ft(T,"AID",u.K),gr(u,T),u.u&&u.o&&dr(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Eo(u.h,v),si(v,T,m)}function gr(u,m){u.H&&Ut(u.H,function(v,T){Ft(m,T,v)}),u.l&&Ut({},function(v,T){Ft(m,T,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?g(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const de=["count="+v];Tt==-1?v>0?(Tt=U[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let Bt=!0;for(let oe=0;oe<v;oe++){var B=U[oe].g;const Cn=U[oe].map;if(B-=Tt,B<0)Tt=Math.max(0,U[oe].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[gi,Gn]of tt){let Fn=Gn;p(Gn)&&(Fn=ss(Gn)),de.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw de.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Cn)}}if(Bt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||S(),Mt||(Wt(),Mt=!0),b.add(m,u),u.A=0}}function yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(g(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(g(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),fs(this),fu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),gr(u,m),u.u&&u.o&&dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=cr(Te(m)),v.u=null,v.R=!0,Zr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,fs(this),yr(this),_e(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){aa(u),Mo(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,To(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=$r(),De(T,new ei(T,v)),mi(u)}else hu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=g(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),cr(T),U?Bn(T.toString(),v):Co(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),pu(u),sa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=Ao(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var T=v instanceof mn?Te(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);T&&Le(B,T),m&&(B.g=m),U&&rs(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",u.ka),gr(u,T),T}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new hi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}w(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Do(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,en.Z.N.call(this)};function vu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(vu,ze);function Eu(){Sn.call(this),this.status=1}w(Eu,Sn);function xi(u){this.g=u}w(xi,_u),xi.prototype.ra=function(){De(this.g,"a")},xi.prototype.qa=function(u){De(this.g,new vu(u))},xi.prototype.pa=function(u){De(this.g,new Eu)},xi.prototype.oa=function(){De(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,B0=function(){return new ds},j0=function(){return $r()},z0=fe,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Dc=lr,go.COMPLETE="complete",P0=go,Jl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ye.prototype.listen=ye.prototype.J,vl=Jl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,U0=Kt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",W_="4.9.2";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let so="12.3.0";const jr=new Tm("@firebase/firestore");function Ua(){return jr.logLevel}function it(r,...t){if(jr.logLevel<=Nt.DEBUG){const i=t.map(wm);jr.debug(`Firestore (${so}): ${r}`,...i)}}function Wi(r,...t){if(jr.logLevel<=Nt.ERROR){const i=t.map(wm);jr.error(`Firestore (${so}): ${r}`,...i)}}function Xa(r,...t){if(jr.logLevel<=Nt.WARN){const i=t.map(wm);jr.warn(`Firestore (${so}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,q0(r,a,i)}function q0(r,t,i){let a=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function Ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||q0(t,l,a)}function Et(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class H0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class g2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new H0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class _2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new _2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=T2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Dt(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Dt(l,c):Bd(l)?1:-1}return Dt(r.length,t.length)}const A2=55296,S2=57343;function Bd(r){const t=r.charCodeAt(0);return t>=A2&&t<=S2}function $a(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const ev="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fs.fromString(t.substring(4,t.length-2))}}class ie extends Ti{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ti{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return b2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new Ye([ev])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ie.fromString(t))}static fromName(t){return new ht(ie.fromString(t).popFirst(5))}static empty(){return new ht(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ie(t.slice()))}}function G0(r,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function w2(r,t,i,a){if(t===!0&&a===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function nv(r){if(!ht.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iv(r){if(ht.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function F0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function qa(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cm(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function ql(r,t){if(!F0(r))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,rv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*rv);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<sv)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new se(0,0))}static max(){return new _t(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function R2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new Xs(l,ht.empty(),t)}function C2(r){return new Xs(r.readTime,r.key,Ol)}class Xs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xs(_t.min(),ht.empty(),Ol)}static max(){return new Xs(_t.max(),ht.empty(),Ol)}}function I2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Dt(r.largestBatchId,t.largestBatchId))}const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==N2)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const g=_;i(t[g]).next((A=>{d[g]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function O2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(r){return r.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Im=-1;function ch(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function M2(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Y0="";function x2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=av(t)),t=V2(r.get(i),t);return av(t)}function V2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Y0:i+="";break;default:i+=c}}return i}function av(r){return r+Y0+""}function ov(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function er(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Q0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(t){return new lv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class lv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new $n([])}unionWith(t){let i=new Ve(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new $n(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new K0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=k2.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zs(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const X0="server_timestamp",$0="__type__",Z0="__previous_value__",J0="__local_write_time__";function Nm(r){return(r?.mapValue?.fields||{})[$0]?.stringValue===X0}function hh(r){const t=r.mapValue.fields[Z0];return Nm(t)?hh(t):t}function Ml(r){const t=$s(r.mapValue.fields[J0].timestampValue);return new se(t.seconds,t.nanos)}class L2{constructor(t,i,a,l,c,d,p,_,g,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=A}}const Gc="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}const W0="__type__",U2="__max__",Rc={mapValue:{}},tE="__vector__",Fc="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nm(r)?4:z2(r)?9007199254740991:P2(r)?10:11:gt(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const i=Js(r);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ml(r).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Hc(d)===Hc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(ov(d)!==ov(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ii(d[_],p[_])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>Ii(i,t)))!==void 0}function Za(r,t){if(r===t)return 0;const i=Js(r),a=Js(t);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return uv(r.timestampValue,t.timestampValue);case 4:return uv(Ml(r),Ml(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zs(c),_=Zs(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let g=0;g<p.length&&g<_.length;g++){const A=Dt(p[g],_[g]);if(A!==0)return A}return Dt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(ge(c.latitude),ge(d.latitude));return p!==0?p:Dt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return cv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},g=p[Fc]?.arrayValue,A=_[Fc]?.arrayValue,w=Dt(g?.values?.length||0,A?.values?.length||0);return w!==0?w:cv(g,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),g=d.fields||{},A=Object.keys(g);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const x=em(_[w],A[w]);if(x!==0)return x;const H=Za(p[_[w]],g[A[w]]);if(H!==0)return H}return Dt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function uv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const i=$s(r),a=$s(t),l=Dt(i.seconds,a.seconds);return l!==0?l:Dt(i.nanos,a.nanos)}function cv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Za(i[l],a[l]);if(c)return c}return Dt(i.length,a.length)}function Ja(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${nm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Oc(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return er(a.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function Dm(r){return!!r&&"arrayValue"in r}function hv(r){return!!r&&"nullValue"in r}function fv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function P2(r){return(r?.mapValue?.fields||{})[W0]?.stringValue===tE}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return er(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(r.arrayValue.values[i]);return t}return{...r}}function z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){er(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new An(bl(this.value))}}function eE(r){const t=[];return er(r.fields,((i,a)=>{const l=new Ye([i]);if(Mc(a)){const c=eE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new $n(t)}class Je{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),An.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),An.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function dv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function j2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class nE{}class Me extends nE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new q2(t,i,a):i==="array-contains"?new F2(t,a):i==="in"?new Y2(t,a):i==="not-in"?new Q2(t,a):i==="array-contains-any"?new K2(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new H2(t,a):new G2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends nE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return iE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(r){return r.op==="and"}function sE(r){return B2(r)&&iE(r)}function B2(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function sm(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(sE(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function rE(r,t){return r instanceof Me?(function(a,l){return l instanceof Me&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(r,t):r instanceof Ni?(function(a,l){return l instanceof Ni&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&rE(d,l.filters[p])),!0):!1})(r,t):void gt(19439)}function aE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(aE).join(" ,")+"}"})(r):"Filter"}class q2 extends Me{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class H2 extends Me{constructor(t,i){super(t,"in",i),this.keys=oE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class G2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=oE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function oE(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class F2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Vl(i.arrayValue,this.value)}}class Y2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class Q2 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class K2 extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class X2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new X2(r,t,i,a,l,c,d)}function Om(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!j2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!rE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!mv(r.startAt,t.startAt)&&mv(r.endAt,t.endAt)}function rm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $2(r,t,i,a,l,c,d,p){return new fh(r,t,i,a,l,c,d,p)}function xm(r){return new fh(r)}function gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z2(r){return r.collectionGroup!==null}function wl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ye.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Qc(Ye.keyField(),a))}return t.Ie}function Ai(r){const t=Et(r);return t.Ee||(t.Ee=J2(t,wl(r))),t.Ee}function J2(r,t){if(r.limitType==="F")return pv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)}));const i=r.endAt?new Yc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Yc(r.startAt.position,r.startAt.inclusive):null;return pv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t,i){return new fh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function dh(r,t){return Mm(Ai(r),Ai(t))&&r.limitType===t.limitType}function lE(r){return`${Om(Ai(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>aE(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function mh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const g=dv(d,p,_);return d.inclusive?g<=0:g<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,p,_){const g=dv(d,p,_);return d.inclusive?g>=0:g>0})(a.endAt,wl(a),l))})(r,t)}function W2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uE(r){return(t,i)=>{let a=!1;for(const l of wl(r)){const c=tw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function tw(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),g=p.data.field(c);return _!==null&&g!==null?Za(_,g):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class Hr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){er(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}const ew=new ue(ht.comparator);function ts(){return ew}const cE=new ue(ht.comparator);function El(...r){let t=cE;for(const i of r)t=t.insert(i.key,i);return t}function hE(r){let t=cE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function kr(){return Rl()}function fE(){return Rl()}function Rl(){return new Hr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const nw=new ue(ht.comparator),iw=new Ve(ht.comparator);function Ot(...r){let t=iw;for(const i of r)t=t.add(i);return t}const sw=new Ve(Dt);function rw(){return sw}function Vm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function dE(r){return{integerValue:""+r}}function aw(r,t){return M2(t)?dE(t):Vm(r,t)}class ph{constructor(){this._=void 0}}function ow(r,t,i){return r instanceof Kc?(function(l,c){const d={fields:{[$0]:{stringValue:X0},[J0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=hh(c)),c&&(d.fields[Z0]=c),{mapValue:d}})(i,t):r instanceof kl?pE(r,t):r instanceof Ll?gE(r,t):(function(l,c){const d=mE(l,c),p=yv(d)+yv(l.Ae);return im(d)&&im(l.Ae)?dE(p):Vm(l.serializer,p)})(r,t)}function lw(r,t,i){return r instanceof kl?pE(r,t):r instanceof Ll?gE(r,t):i}function mE(r,t){return r instanceof Xc?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Kc extends ph{}class kl extends ph{constructor(t){super(),this.elements=t}}function pE(r,t){const i=yE(t);for(const a of r.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends ph{constructor(t){super(),this.elements=t}}function gE(r,t){let i=yE(t);for(const a of r.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class Xc extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function yv(r){return ge(r.integerValue||r.doubleValue)}function yE(r){return Dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function uw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Ll&&l instanceof Ll?$a(a.elements,l.elements,Ii):a instanceof Xc&&l instanceof Xc?Ii(a.Ae,l.Ae):a instanceof Kc&&l instanceof Kc})(r.transform,t.transform)}class cw{constructor(t,i){this.version=t,this.transformResults=i}}class Zi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function _E(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new EE(r.key,Zi.none()):new yh(r.key,r.data,Zi.none());{const i=r.data,a=An.empty();let l=new Ve(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Gr(r.key,a,new $n(l.toArray()),Zi.none())}}function hw(r,t,i){r instanceof yh?(function(l,c,d){const p=l.value.clone(),_=vv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Gr?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=vv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(vE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,a){return r instanceof yh?(function(c,d,p,_){if(!xc(c.precondition,d))return p;const g=c.value.clone(),A=Ev(c.fieldTransforms,_,d);return g.setAll(A),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(r,t,i,a):r instanceof Gr?(function(c,d,p,_){if(!xc(c.precondition,d))return p;const g=Ev(c.fieldTransforms,_,d),A=d.data;return A.setAll(vE(c)),A.setAll(g),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function fw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=mE(a.transform,l||null);c!=null&&(i===null&&(i=An.empty()),i.set(a.field,c))}return i||null}function _v(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$a(a,l,((c,d)=>uw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class yh extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Gr extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function vv(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,lw(d,p,i[l]))}return a}function Ev(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,ow(c,d,t))}return a}class EE extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dw extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&hw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=fE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=_E(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>_v(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>_v(i,a)))}}class km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return nw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new km(t,i,a,l)}}class pw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function yw(r){switch(r){case Z.OK:return gt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function TE(r){if(r===void 0)return Wi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return gt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function _w(){return new TextEncoder}const vw=new Fs([4294967295,4294967295],0);function Tv(r){const t=_w().encode(r),i=new L0;return i.update(t),new Uint8Array(i.digest())}function Av(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fs([i,a],0),new Fs([l,c],0)]}class Lm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Fs.fromNumber(a)));return l.compare(vw)===1&&(l=new Fs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Tv(t),[a,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Lm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Tv(t),[a,l]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(_t.min(),l,new ue(Dt),ts(),Ot())}}class Hl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Ot(),Ot(),Ot())}}class Vc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class AE{constructor(t,i){this.targetId=t,this.Ce=i}}class SE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Sv{constructor(){this.ve=0,this.Fe=bv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=bv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ew{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=Cc(),this.He=Cc(),this.Ye=new ue(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(rm(c))if(a===0){const d=new ht(c.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zs(a).toUint8Array()}catch(_){if(_ instanceof K0)return Xa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Lm(d,l,c)}catch(_){return Xa(_ instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new _h(t,i,this.Ye,this.je,a);return this.je=ts(),this.Je=Cc(),this.He=Cc(),this.Ye=new ue(Dt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Sv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ue(ht.comparator)}function bv(){return new ue(ht.comparator)}const Tw={asc:"ASCENDING",desc:"DESCENDING"},Aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sw={and:"AND",or:"OR"};class bw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(r,t){return r.useProto3Json||ch(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function ww(r,t){return $c(r,t.toTimestamp())}function Si(r){return Ht(!!r,49232),_t.fromTimestamp((function(i){const a=$s(i);return new se(a.seconds,a.nanos)})(r))}function Um(r,t){return lm(r,t).canonicalString()}function lm(r,t){const i=(function(l){return new ie(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function wE(r){const t=ie.fromString(r);return Ht(DE(t),10190,{key:t.toString()}),t}function um(r,t){return Um(r.databaseId,t.path)}function qd(r,t){const i=wE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(CE(i))}function RE(r,t){return Um(r.databaseId,t)}function Rw(r){const t=wE(r);return t.length===4?ie.emptyPath():CE(t)}function cm(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wv(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function Cw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:gt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(g,A){return g.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(g){const A=g.code===void 0?Z.UNKNOWN:TE(g.code);return new ot(A,g.message||"")})(d);i=new SE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):_t.min(),p=new An({mapValue:{fields:a.document.fields}}),_=Je.newFoundDocument(l,c,d,p),g=a.targetIds||[],A=a.removedTargetIds||[];i=new Vc(g,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Si(a.readTime):_t.min(),d=Je.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Vc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new Vc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new gw(l,c),p=a.targetId;i=new AE(p,d)}}return i}function Iw(r,t){let i;if(t instanceof yh)i={update:wv(r,t.key,t.value)};else if(t instanceof EE)i={delete:um(r,t.key)};else if(t instanceof Gr)i={update:wv(r,t.key,t.data),updateMask:Uw(t.fieldMask)};else{if(!(t instanceof dw))return gt(16599,{Vt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:ww(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function Nw(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Si(l.updateTime):Si(c);return d.isEqual(_t.min())&&(d=Si(c)),new cw(d,l.transformResults||[])})(i,t)))):[]}function Dw(r,t){return{documents:[RE(r,t.path)]}}function Ow(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=RE(r,l);const c=(function(g){if(g.length!==0)return NE(Ni.create(g,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((A=>(function(x){return{field:za(x.field),direction:Vw(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:l}}function Mw(r){let t=Rw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const x=IE(w);return x instanceof Ni&&sE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((x=>(function(J){return new Qc(ja(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let x;return x=typeof w=="object"?w.value:w,ch(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(w){const x=!!w.before,H=w.values||[];return new Yc(H,x)})(i.startAt));let g=null;return i.endAt&&(g=(function(w){const x=!w.before,H=w.values||[];return new Yc(H,x)})(i.endAt)),$2(t,l,d,c,p,"F",_,g)}function xw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function IE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((a=>IE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function Vw(r){return Tw[r]}function kw(r){return Aw[r]}function Lw(r){return Sw[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Ye.fromServerFormat(r.fieldPath)}function NE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:kw(i.op),value:i.value}}})(r):r instanceof Ni?(function(i){const a=i.getFilters().map((l=>NE(l)));return a.length===1?a[0]:{compositeFilter:{op:Lw(i.op),filters:a}}})(r):gt(54877,{filter:r})}function Uw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function DE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Bs{constructor(t,i,a,l,c=_t.min(),d=_t.min(),p=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Pw{constructor(t){this.yt=t}}function zw(r){const t=Mw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}class jw{constructor(){this.Cn=new Bw}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xs.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Bw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ie.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ie.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(OE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}const Cv="LruGarbageCollector",qw=1048576;function Iv([r,t],[i,a]){const l=Dt(r,i);return l===0?Dt(t,a):l}class Hw{constructor(t){this.Ir=t,this.buffer=new Ve(Iv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Iv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Gw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?it(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Vr(3e5)}))}}class Fw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(uh.ce);const a=new Hw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Rv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,g;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(g=Date.now(),Ua()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(g-_)+`ms
Total Duration: ${g-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function Yw(r,t){return new Fw(r,t)}class Qw{constructor(){this.changes=new Hr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Kw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Xw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,$n.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=kr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=El();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=kr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ts();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((_,g)=>{const A=a.get(g.key);l.has(g.key)&&(A===void 0||A.mutation instanceof Gr)?c=c.insert(g.key,g):A!==void 0?(d.set(g.key,A.mutation.getFieldMask()),Cl(A.mutation,g,A.mutation.getFieldMask(),se.now())):d.set(g.key,$n.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((g,A)=>d.set(g,A))),i.forEach(((g,A)=>p.set(g,new Kw(A,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new ue(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const g=i.get(_);if(g===null)return;let A=a.get(_)||$n.empty();A=p.applyToLocalView(g,A),a.set(_,A);const w=(l.get(p.batchId)||Ot()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),g=_.key,A=_.value,w=fE();A.forEach((x=>{if(!c.has(x)){const H=_E(i.get(x),a.get(x));H!==null&&w.set(x,H),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,g,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Z2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(kr());let p=Ol,_=c;return d.next((g=>X.forEach(g,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,_,g,Ot()))).next((A=>({batchId:p,changes:hE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let l=El();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const g=(function(w,x){return new fh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,a,l).next((A=>{A.forEach(((w,x)=>{d=d.insert(w,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,g)=>{const A=g.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=El();return d.forEach(((_,g)=>{const A=c.get(_);A!==void 0&&Cl(A.mutation,g,$n.empty(),se.now()),mh(i,g)&&(p=p.insert(_,g))})),p}))}}class $w{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:zw(l.bundledQuery),readTime:Si(l.readTime)}})(i)),X.resolve()}}class Zw{constructor(){this.overlays=new ue(ht.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=kr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=kr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,g=_.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((g,A)=>g-A));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>a){let A=c.get(g.largestBatchId);A===null&&(A=kr(),c=c.insert(g.largestBatchId,A)),A.set(g.getKey(),g)}}const p=kr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,A)=>p.set(g,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pw(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Jw{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Pm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new ie([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ie([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class Ww{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Dt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ht(c),0);let p=new Ve(Dt);return this.Zr.forEachWhile((_=>{const g=_.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class tR{constructor(t){this.ri=t,this.docs=(function(){return new ue(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ts();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:g,value:{document:A}}=_.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||I2(C2(A),a)<=0||(l.has(A.key)||mh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new eR(this)}getSize(t){return X.resolve(this.size)}}class eR extends Qw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class nR{constructor(t){this.persistence=t,this.si=new Hr((i=>Om(i)),Mm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class ME{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new Jw,this.referenceDelegate=t(this),this.Pi=new nR(this),this.indexManager=new jw,this.remoteDocumentCache=(function(l){return new tR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Pw(i),this.Ii=new $w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Zw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new Ww(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new iR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class iR extends D2{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=ht.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Hr((a=>x2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Yw(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,a,l)}}class sR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KS()?8:O2(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ua()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ua()<=Nt.DEBUG&&it("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ua()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}ys(t,i){if(gv(i))return X.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=am(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const g=this.Ds(i,p);return this.Cs(i,g,d,_.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,g,i,_)}))))})))))}ws(t,i,a,l){return gv(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Ua()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,R2(l,Ol)).next((p=>p)))}))}Ds(t,i){let a=new Ve(uE(t));return i.forEach(((l,c)=>{mh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ua()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",aR=3e8;class oR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Dt),this.xs=new Hr((c=>Om(c)),Mm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function lR(r,t,i,a){return new oR(r,t,i,a)}async function xE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ot();for(const g of l){d.push(g.batchId);for(const A of g.mutations)_=_.add(A.key)}for(const g of c){p.push(g.batchId);for(const A of g.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((g=>({Ls:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function uR(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,g,A){const w=g.batch,x=w.keys();let H=X.resolve();return x.forEach((J=>{H=H.next((()=>A.getEntry(_,J))).next(($=>{const W=g.docVersions.get(J);Ht(W!==null,48541),$.version.compareTo(W)<0&&(w.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),A.addEntry($)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ot();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(_=_.add(p.batch.mutations[g].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function VE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cR(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,w)=>{const x=l.get(w);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let H=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(w,H),(function($,W,ut){return $.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=aR?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(x,H,A)&&p.push(i.Pi.updateTargetData(c,H))}));let _=ts(),g=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(hR(c,d,t.documentUpdates).next((A=>{_=A.ks,g=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,g))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function hR(r,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ts();return i.forEach(((p,_)=>{const g=c.get(p);_.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Bm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function fR(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function dR(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Bs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(r,t,i){const a=Et(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;it(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Nv(r,t,i){const a=Et(r);let l=_t.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,g,A){const w=Et(_),x=w.xs.get(A);return x!==void 0?X.resolve(w.Ms.get(x)):w.Pi.getTargetData(g,A)})(a,d,Ai(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((p=>(mR(a,W2(t),p),{documents:p,Qs:c})))))}function mR(r,t,i){let a=r.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Dv{constructor(){this.activeTargetIds=rw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pR{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gR{Oo(t){}shutdown(){}}const Ov="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function fm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const Hd="RestConnection",yR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _R{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Gc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=fm(),p=this.zo(t,i.toUriEncodedString());it(Hd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:g}=new URL(p),A=no(g);return this.Jo(t,p,_,a,A).then((w=>(it(Hd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Xa(Hd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=yR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class vR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class ER extends _R{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=fm();return new Promise(((p,_)=>{const g=new U0;g.setWithCredentials(!0),g.listenOnce(P0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Dc.NO_ERROR:const w=g.getResponseJson();it($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Dc.TIMEOUT:it($e,`RPC '${t}' ${d} timed out`),_(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const x=g.getStatus();if(it($e,`RPC '${t}' ${d} failed with status:`,x,"response text:",g.getResponseText()),x>0){let H=g.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const $=(function(ut){const mt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(mt)>=0?mt:Z.UNKNOWN})(J.status);_(new ot($,J.message))}else _(new ot(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{it($e,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it($e,`RPC '${t}' ${d} sending request:`,l),g.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=B0(),p=j0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(_.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");it($e,`Creating RPC '${t}' stream ${l}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let x=!1,H=!1;const J=new vR({Yo:W=>{H?it($e,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(x||(it($e,`Opening RPC '${t}' stream ${l} transport.`),w.open(),x=!0),it($e,`RPC '${t}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),$=(W,ut,mt)=>{W.listen(ut,(ft=>{try{mt(ft)}catch(Vt){setTimeout((()=>{throw Vt}),0)}}))};return $(w,vl.EventType.OPEN,(()=>{H||(it($e,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),$(w,vl.EventType.CLOSE,(()=>{H||(H=!0,it($e,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(w))})),$(w,vl.EventType.ERROR,(W=>{H||(H=!0,Xa($e,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),$(w,vl.EventType.MESSAGE,(W=>{if(!H){const ut=W.data[0];Ht(!!ut,16349);const mt=ut,ft=mt?.error||mt[0]?.error;if(ft){it($e,`RPC '${t}' stream ${l} received error:`,ft);const Vt=ft.status;let Wt=(function(S){const R=Re[S];if(R!==void 0)return TE(R)})(Vt),Mt=ft.message;Wt===void 0&&(Wt=Z.INTERNAL,Mt="Unknown error status: "+Vt+" with message "+ft.message),H=!0,J.a_(new ot(Wt,Mt)),w.close()}else it($e,`RPC '${t}' stream ${l} received:`,ut),J.u_(ut)}})),$(p,z0.STAT_EVENT,(W=>{W.stat===tm.PROXY?it($e,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===tm.NOPROXY&&it($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function vh(r){return new bw(r,!0)}class kE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class LE{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TR extends LE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Cw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=rm(_)?{documents:Dw(c,_)}:{query:Ow(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=bE(c,d.resumeToken);const g=om(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=$c(c,d.snapshotVersion.toTimestamp());const g=om(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,t);const a=xw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class AR extends LE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Nw(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Iw(this.serializer,a)))};this.q_(i)}}class SR{}class bR extends SR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,lm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,lm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class RR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Fr(this)&&(it(Br,"Restarting streams for network reachability change."),await(async function(_){const g=Et(_);g.Ea.add(4),await Gl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Eh(g)})(this))}))})),this.Ra=new wR(a,l)}}async function Eh(r){if(Fr(r))for(const t of r.da)await t(!0)}async function Gl(r){for(const t of r.da)await t(!1)}function UE(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):oo(i).O_()&&Hm(i,t))}function qm(r,t){const i=Et(r),a=oo(i);i.Ia.delete(t),a.O_()&&PE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fr(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(r).Y_(t)}function PE(r,t){r.Va.Ue(t),oo(r).Z_(t)}function Gm(r){r.Va=new Ew({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),oo(r).start(),r.Ra.ua()}function Fm(r){return Fr(r)&&!oo(r).x_()&&r.Ia.size>0}function Fr(r){return Et(r).Ea.size===0}function zE(r){r.Va=void 0}async function CR(r){r.Ra.set("Online")}async function IR(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function NR(r,t){zE(r),Fm(r)?(r.Ra.ha(t),Gm(r)):r.Ra.set("Unknown")}async function DR(r,t,i){if(r.Ra.set("Online"),t instanceof SE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){it(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jc(r,a)}else if(t instanceof Vc?r.Va.Ze(t):t instanceof AE?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const a=await VE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(g);A&&c.Ia.set(g,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,g)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),PE(c,_);const w=new Bs(A.target,_,g,A.sequenceNumber);Hm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){it(Br,"Failed to raise snapshot:",a),await Jc(r,a)}}async function Jc(r,t,i){if(!ao(t))throw t;r.Ea.add(1),await Gl(r),r.Ra.set("Offline"),i||(i=()=>VE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Br,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Eh(r)}))}function jE(r,t){return t().catch((i=>Jc(r,i,t)))}async function Th(r){const t=Et(r),i=Ws(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;OR(t);)try{const l=await fR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,MR(t,l)}catch(l){await Jc(t,l)}BE(t)&&qE(t)}function OR(r){return Fr(r)&&r.Ta.length<10}function MR(r,t){r.Ta.push(t);const i=Ws(r);i.O_()&&i.X_&&i.ea(t.mutations)}function BE(r){return Fr(r)&&!Ws(r).x_()&&r.Ta.length>0}function qE(r){Ws(r).start()}async function xR(r){Ws(r).ra()}async function VR(r){const t=Ws(r);for(const i of r.Ta)t.ea(i.mutations)}async function kR(r,t,i){const a=r.Ta.shift(),l=km.from(a,t,i);await jE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Th(r)}async function LR(r,t){t&&Ws(r).X_&&await(async function(a,l){if((function(d){return yw(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();Ws(a).B_(),await jE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(a)}})(r,t),BE(r)&&qE(r)}async function Vv(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(Br,"RemoteStore received new credentials");const a=Fr(i);i.Ea.add(3),await Gl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function UR(r,t){const i=Et(r);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function oo(r){return r.ma||(r.ma=(function(i,a,l){const c=Et(i);return c.sa(),new TR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:CR.bind(null,r),t_:IR.bind(null,r),r_:NR.bind(null,r),H_:DR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),zE(r))}))),r.ma}function Ws(r){return r.fa||(r.fa=(function(i,a,l){const c=Et(i);return c.sa(),new AR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xR.bind(null,r),r_:LR.bind(null,r),ta:VR.bind(null,r),na:kR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Br,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ym{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Ym(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),ao(r))return new ot(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=El(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class kv{constructor(){this.ga=new ue(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,_,g){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Ha.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class PR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zR{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=Lv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Lv(){return new Hr((r=>lE(r)),dh)}async function jR(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new PR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Qm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function BR(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function qR(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Km(i)}function HR(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Km(r){r.Ca.forEach((t=>{t.next()}))}var dm,Uv;(Uv=dm||(dm={})).Ma="default",Uv.Cache="cache";class GR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class HE{constructor(t){this.key=t}}class GE{constructor(t){this.key=t}}class FR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=uE(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new kv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const x=l.get(A),H=mh(this.query,w)?w:null,J=!!x&&this.mutatedKeys.has(x.key),$=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;x&&H?x.data.isEqual(H.data)?J!==$&&(a.track({type:3,doc:H}),W=!0):this.su(x,H)||(a.track({type:2,doc:H}),W=!0,(_&&this.eu(H,_)>0||g&&this.eu(H,g)<0)&&(p=!0)):!x&&H?(a.track({type:0,doc:H}),W=!0):x&&!H&&(a.track({type:1,doc:x}),W=!0,(_||g)&&(p=!0)),W&&(H?(d=d.add(H),c=$?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(H,J){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:W})}};return $(H)-$(J)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,g=_!==this.Za;return this.Za=_,d.length!==0||g?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,_===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new GE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new HE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class YR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class QR{constructor(t){this.key=t,this.hu=!1}}class KR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hr((p=>lE(p)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ht.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XR(r,t,i=!0){const a=$E(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await FE(a,t,i,!0),l}async function $R(r,t){const i=$E(r);await FE(i,t,!0,!1)}async function FE(r,t,i,a){const l=await dR(r.localStore,Ai(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await ZR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&UE(r.remoteStore,l),p}async function ZR(r,t,i,a,l){r.pu=(w,x,H)=>(async function($,W,ut,mt){let ft=W.view.ru(ut);ft.Cs&&(ft=await Nv($.localStore,W.query,!1).then((({documents:b})=>W.view.ru(b,ft))));const Vt=mt&&mt.targetChanges.get(W.targetId),Wt=mt&&mt.targetMismatches.get(W.targetId)!=null,Mt=W.view.applyChanges(ft,$.isPrimaryClient,Vt,Wt);return zv($,W.targetId,Mt.au),Mt.snapshot})(r,w,x,H);const c=await Nv(r.localStore,t,!0),d=new FR(t,c.Qs),p=d.ru(c.documents),_=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),g=d.applyChanges(p,r.isPrimaryClient,_);zv(r,i,g.au);const A=new YR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),g.snapshot}async function JR(r,t,i){const a=Et(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&qm(a.remoteStore,l.targetId),mm(a,l.targetId)})).catch(ro)):(mm(a,l.targetId),await hm(a.localStore,l.targetId,!0))}async function WR(r,t){const i=Et(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function tC(r,t,i){const a=oC(r);try{const l=await(function(d,p){const _=Et(d),g=se.now(),A=p.reduce(((H,J)=>H.add(J.key)),Ot());let w,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=ts(),$=Ot();return _.Ns.getEntries(H,A).next((W=>{J=W,J.forEach(((ut,mt)=>{mt.isValidDocument()||($=$.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,J))).next((W=>{w=W;const ut=[];for(const mt of p){const ft=fw(mt,w.get(mt.key).overlayedDocument);ft!=null&&ut.push(new Gr(mt.key,ft,eE(ft.value.mapValue),Zi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,g,ut,p)})).next((W=>{x=W;const ut=W.applyToLocalDocumentSet(w,$);return _.documentOverlayCache.saveOverlays(H,W.batchId,ut)}))})).then((()=>({batchId:x.batchId,changes:hE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let g=d.Vu[d.currentUser.toKey()];g||(g=new ue(Dt)),g=g.insert(p,_),d.Vu[d.currentUser.toKey()]=g})(a,l.batchId,i),await Fl(a,l.changes),await Th(a.remoteStore)}catch(l){const c=Qm(l,"Failed to persist write");i.reject(c)}}async function YE(r,t){const i=Et(r);try{const a=await cR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Fl(i,a,t)}catch(a){await ro(a)}}function Pv(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Et(d);_.onlineState=p;let g=!1;_.queries.forEach(((A,w)=>{for(const x of w.Sa)x.va(p)&&(g=!0)})),g&&Km(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eC(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(ht.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const p=Ot().add(c),_=new _h(_t.min(),new Map,new ue(Dt),d,p);await YE(a,_),a.du=a.du.remove(c),a.Au.delete(t),$m(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(ro)}async function nC(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await uR(i.localStore,t);KE(i,a,null),QE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fl(i,l)}catch(l){await ro(l)}}async function iC(r,t,i){const a=Et(r);try{const l=await(function(d,p){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let A;return _.mutationQueue.lookupMutationBatch(g,p).next((w=>(Ht(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(g,w)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,A))).next((()=>_.localDocuments.getDocuments(g,A)))}))})(a.localStore,t);KE(a,t,i),QE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Fl(a,l)}catch(l){await ro(l)}}function QE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function KE(r,t,i){const a=Et(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function mm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||XE(r,a)}))}function XE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),$m(r))}function zv(r,t,i){for(const a of i)a instanceof HE?(r.Ru.addReference(a.key,t),sC(r,a)):a instanceof GE?(it(Xm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||XE(r,a.key)):gt(19791,{wu:a})}function sC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(it(Xm,"New document in limbo: "+i),r.Eu.add(a),$m(r))}function $m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(ie.fromString(t)),a=r.fu.next();r.Au.set(a,new QR(i)),r.du=r.du.insert(i,a),UE(r.remoteStore,new Bs(Ai(xm(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Fl(r,t,i){const a=Et(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((g=>{if((g||i)&&a.isPrimaryClient){const A=g?!g.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(g){l.push(g);const A=jm.As(_.targetId,g);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,g){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(g,(x=>X.forEach(x.Es,(H=>A.persistence.referenceDelegate.addReference(w,x.targetId,H))).next((()=>X.forEach(x.ds,(H=>A.persistence.referenceDelegate.removeReference(w,x.targetId,H)))))))))}catch(w){if(!ao(w))throw w;it(Bm,"Failed to update sequence numbers: "+w)}for(const w of g){const x=w.targetId;if(!w.fromCache){const H=A.Ms.get(x),J=H.snapshotVersion,$=H.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,$)}}})(a.localStore,c))}async function rC(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){it(Xm,"User change. New user:",t.toKey());const a=await xE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ot(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Fl(i,a.Ls)}}function aC(r,t){const i=Et(r),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function $E(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eC.bind(null,t),t.Pu.H_=qR.bind(null,t.eventManager),t.Pu.yu=HR.bind(null,t.eventManager),t}function oC(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iC.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return lR(this.persistence,new rR,t.initialUser,this.serializer)}Cu(t){return new ME(zm.mi,this.serializer)}Du(t){return new pR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class lC extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Gw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ME((a=>Zc.mi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rC.bind(null,this.syncEngine),await UR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zR})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=(function(c){return new ER(c)})(t.databaseInfo);return(function(c,d,p,_){return new bR(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new RR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new gR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,g,A){const w=new KR(l,c,d,p,_,g);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);it(Br,"RemoteStore shutting down."),a.Ea.add(5),await Gl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class uC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class cC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await xE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function jv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await hC(r);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Vv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Vv(t.remoteStore,l))),r._onlineComponents=t}async function hC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new Wc)}}else it(tr,"Using default OfflineComponentProvider"),await Fd(r,new lC(void 0));return r._offlineComponents}async function ZE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await jv(r,r._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await jv(r,new pm))),r._onlineComponents}function fC(r){return ZE(r).then((t=>t.syncEngine))}async function Bv(r){const t=await ZE(r),i=t.eventManager;return i.onListen=XR.bind(null,t.syncEngine),i.onUnlisten=JR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$R.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WR.bind(null,t.syncEngine),i}function JE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const qv=new Map;const WE="firestore.googleapis.com",Hv=!0;class Gv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=Hv}else this.host=t.host,this.ssl=t.ssl??Hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qw)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}w2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new p2;switch(a.type){case"firstParty":return new v2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=qv.get(i);a&&(it("ComponentProvider","Removing Datastore"),qv.delete(i),a.terminate())})(this),Promise.resolve()}}function dC(r,t,i,a={}){r=qa(r,Ah);const l=no(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(N0(`https://${p}`),D0("Firestore",!0)),c.host!==WE&&c.host!==p&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Pr(_,d)&&(r._setSettings(_),a.mockUserToken)){let g,A;if(typeof a.mockUserToken=="string")g=a.mockUserToken,A=Ze.MOCK_USER;else{g=zS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(w)}r._authCredentials=new g2(new H0(g,A))}}class Sh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class xe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(ql(i,xe._jsonSchema))return new xe(t,a||null,new ht(ie.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ce("string",xe._jsonSchemaVersion),referencePath:Ce("string")};class Ys extends Sh{constructor(t,i,a){super(t,i,xm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new ht(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function mC(r,t,...i){if(r=Qe(r),G0("collection","path",t),r instanceof Ah){const a=ie.fromString(t,...i);return iv(a),new Ys(r,null,a)}{if(!(r instanceof xe||r instanceof Ys))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return iv(a),new Ys(r.firestore,null,a)}}function pC(r,t,...i){if(r=Qe(r),arguments.length===1&&(t=Rm.newId()),G0("doc","path",t),r instanceof Ah){const a=ie.fromString(t,...i);return nv(a),new xe(r,null,new ht(a))}{if(!(r instanceof xe||r instanceof Ys))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return nv(a),new xe(r.firestore,r instanceof Ys?r.converter:null,new ht(a))}}const Fv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kE(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&it(Fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;it(Fv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Ym.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Kv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class th extends Ah{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Yv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function gC(r,t){const i=typeof r=="object"?r:bm(),a=typeof r=="string"?r:Gc,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=US("firestore");c&&dC(l,...c)}return l}function tT(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yC(r),r._firestoreClient}function yC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new L2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,JE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new cC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ke.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zm{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(ql(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Ce("string",bi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};const _C=/^__.*__$/;class eT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function nT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Jm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(nT(this.Ac)&&_C.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class vC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}Cc(t,i,a,l=!1){return new Jm({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EC(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new vC(r._databaseId,!!t.ignoreUndefinedProperties,i)}class wh extends Zm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}function TC(r,t,i,a){const l=r.Cc(1,t,i);sT("Data must be an object, but it was:",l,a);const c=[],d=An.empty();er(a,((_,g)=>{const A=Wm(t,_,i);g=Qe(g);const w=l.yc(A);if(g instanceof wh)c.push(A);else{const x=Rh(g,w);x!=null&&(c.push(A),d.set(A,x))}}));const p=new $n(c);return new eT(d,p,l.fieldTransforms)}function AC(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Xv(t,a,i)],_=[l];if(c.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Xv(t,c[x])),_.push(c[x+1]);const g=[],A=An.empty();for(let x=p.length-1;x>=0;--x)if(!wC(g,p[x])){const H=p[x];let J=_[x];J=Qe(J);const $=d.yc(H);if(J instanceof wh)g.push(H);else{const W=Rh(J,$);W!=null&&(g.push(H),A.set(H,W))}}const w=new $n(g);return new eT(A,w,d.fieldTransforms)}function Rh(r,t){if(iT(r=Qe(r)))return sT("Unsupported field value:",t,r),SC(r,t);if(r instanceof Zm)return(function(a,l){if(!nT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Rh(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:$c(l.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:bE(l.serializer,a._byteString)};if(a instanceof xe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,p){return{mapValue:{fields:{[W0]:{stringValue:tE},[Fc]:{arrayValue:{values:d.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Vm(p.serializer,g)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Cm(a)}`)})(r,t)}function SC(r,t){const i={};return Q0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):er(r,((a,l)=>{const c=Rh(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function iT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof bi||r instanceof Ln||r instanceof xe||r instanceof Zm||r instanceof wi)}function sT(r,t,i){if(!iT(i)||!F0(i)){const a=Cm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Xv(r,t,i){if((t=Qe(t))instanceof bh)return t._internalPath;if(typeof t=="string")return Wm(r,t);throw eh("Field path arguments must be of type string or ",r,!1,void 0,i)}const bC=new RegExp("[~\\*/\\[\\]]");function Wm(r,t,i){if(t.search(bC)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bh(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function eh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ot(Z.INVALID_ARGUMENT,p+r+_)}function wC(r,t){return r.some((i=>i.isEqual(t)))}class rT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(aT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RC extends rT{data(){return super.data()}}function aT(r,t){return typeof t=="string"?Wm(r,t):t instanceof bh?t._internalPath:t._delegate._internalPath}function CC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IC{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return er(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Fc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=$s(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Ht(DE(a),9688,{name:t});const l=new xl(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends rT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(aT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ur._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Ce("string",Ur._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class kc extends Ur{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,A=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:NC(p.type),doc:_,oldIndex:g,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ce("string",Ga._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class oT extends IC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function DC(r,t,i,...a){r=qa(r,xe);const l=qa(r.firestore,th),c=EC(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof bh?AC(c,"updateDoc",r._key,t,i,a):TC(c,"updateDoc",r._key,t),MC(l,[d.toMutation(r._key,Zi.exists(!0))])}function OC(r,...t){r=Qe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Kv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Kv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof xe)d=qa(r.firestore,th),p=xm(r._key.path),c={next:_=>{t[a]&&t[a](xC(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=qa(r,Sh);d=qa(_.firestore,th),p=_._query;const g=new oT(d);c={next:A=>{t[a]&&t[a](new Ga(d,g,_,A))},error:t[a+1],complete:t[a+2]},CC(r._query)}return(function(g,A,w,x){const H=new uC(x),J=new GR(A,H,w);return g.asyncQueue.enqueueAndForget((async()=>jR(await Bv(g),J))),()=>{H.Nu(),g.asyncQueue.enqueueAndForget((async()=>BR(await Bv(g),J)))}})(tT(d),p,l,c)}function MC(r,t){return(function(a,l){const c=new Lr;return a.asyncQueue.enqueueAndForget((async()=>tC(await fC(a),l,c))),c.promise})(tT(r),t)}function xC(r,t,i){const a=i.docs.get(t._key),l=new oT(r);return new Ur(r,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(io),Ka(new zr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new th(new y2(a.getProvider("auth-internal")),new E2(d,a.getProvider("app-check-internal")),(function(g,A){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(g.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(J_,W_,t),Gs(J_,W_,"esm2020")})();function lT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VC=lT,uT=new jl("auth","Firebase",lT());const nh=new Tm("@firebase/auth");function kC(r,...t){nh.logLevel<=Nt.WARN&&nh.warn(`Auth (${io}): ${r}`,...t)}function Lc(r,...t){nh.logLevel<=Nt.ERROR&&nh.error(`Auth (${io}): ${r}`,...t)}function Jn(r,...t){throw tp(r,...t)}function Ri(r,...t){return tp(r,...t)}function cT(r,t,i){const a={...VC(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:r.name})}function Qs(r){return cT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return uT.create(r,...t)}function pt(r,t,...i){if(!r)throw tp(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function es(r,t){r||Xi(t)}function gm(){return typeof self<"u"&&self.location?.href||""}function LC(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}function UC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||FS()||"connection"in navigator)?navigator.onLine:!0}function PC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,es(i>t,"Short delay should be less than long delay!"),this.isMobile=qS()||YS()}get(){return UC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ep(r,t){es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class hT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BC=new Yl(3e4,6e4);function Yr(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function nr(r,t,i,a,l={}){return fT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:_,...c};return GS()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(g.credentials="include"),hT.fetch()(await dT(r,r.config.apiHost,i,p),g)})}async function fT(r,t,i){r._canInitEmulator=!1;const a={...zC,...t};try{const l=new HC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,g]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cT(r,A,g);Jn(r,A)}}catch(l){if(l instanceof ns)throw l;Jn(r,"network-request-failed",{message:String(l)})}}async function Ch(r,t,i,a,l={}){const c=await nr(r,t,i,a,l);return"mfaPendingCredential"in c&&Jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function dT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?ep(r.config,l):`${r.config.apiScheme}://${l}`;return jC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function qC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),BC.get())})}}function Nc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ri(r,t,a);return l.customData._tokenResponse=i,l}function Zv(r){return r!==void 0&&r.enterprise!==void 0}class GC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return qC(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FC(r,t){return nr(r,"GET","/v2/recaptchaConfig",Yr(r,t))}async function YC(r,t){return nr(r,"POST","/v1/accounts:delete",t)}async function ih(r,t){return nr(r,"POST","/v1/accounts:lookup",t)}function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function QC(r,t=!1){const i=Qe(r),a=await i.getIdToken(t),l=np(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(Yd(l.auth_time)),issuedAtTime:Il(Yd(l.iat)),expirationTime:Il(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function np(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=w0(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Jv(r){const t=np(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&KC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function KC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class XC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(r){const t=r.auth,i=await r.getIdToken(),a=await Ul(r,ih(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?mT(l.providerUserInfo):[],d=ZC(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,g=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,A)}async function $C(r){const t=Qe(r);await sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function mT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function JC(r,t){const i=await fT(r,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await dT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(_.credentials="include"),hT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function WC(r,t){return nr(r,"POST","/v2/accounts:revokeToken",Yr(r,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Jv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Jv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await JC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Fa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ls(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new XC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return QC(this,t)}reload(){return $C(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await Ul(this,YC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,g=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:H,providerData:J,stsTokenManager:$}=i;pt(w&&$,t,"internal-error");const W=Fa.fromJSON(this.name,$);pt(typeof w=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),pt(typeof x=="boolean",t,"internal-error"),pt(typeof H=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(_,t.name),Ls(g,t.name),Ls(A,t.name);const ut=new Zn({uid:w,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:g,lastLoginAt:A});return J&&Array.isArray(J)&&(ut.providerData=J.map(mt=>({...mt}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?mT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(a);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,g),_}}const Wv=new Map;function $i(r){es(r instanceof Function,"Expected a class definition");let t=Wv.get(r);return t?(es(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Wv.set(r,t),t)}class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}pT.type="NONE";const t0=pT;function Uc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ih(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya($i(t0),t,a);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||$i(t0);const d=Uc(a,t.config.apiKey,t.name);let p=null;for(const g of i)try{const A=await g._get(d);if(A){let w;if(typeof A=="string"){const x=await ih(t,{idToken:A}).catch(()=>{});if(!x)break;w=await Zn._fromGetAccountInfoResponse(t,x,A)}else w=Zn._fromJSON(t,A);g!==c&&(p=w),c=g;break}}catch{}const _=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ya(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Ya(c,t,a))}}function e0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TT(t))return"Blackberry";if(AT(t))return"Webos";if(yT(t))return"Safari";if((t.includes("chrome/")||_T(t))&&!t.includes("edge/"))return"Chrome";if(ET(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function gT(r=We()){return/firefox\//i.test(r)}function yT(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _T(r=We()){return/crios\//i.test(r)}function vT(r=We()){return/iemobile/i.test(r)}function ET(r=We()){return/android/i.test(r)}function TT(r=We()){return/blackberry/i.test(r)}function AT(r=We()){return/webos/i.test(r)}function ip(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tI(r=We()){return ip(r)&&!!window.navigator?.standalone}function eI(){return QS()&&document.documentMode===10}function ST(r=We()){return ip(r)||ET(r)||AT(r)||TT(r)||/windows phone/i.test(r)||vT(r)}function bT(r,t=[]){let i;switch(r){case"Browser":i=e0(We());break;case"Worker":i=`${e0(We())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class nI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function iI(r,t={}){return nr(r,"GET","/v2/passwordPolicy",Yr(r,t))}const sI=6;class rI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??sI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class aI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new nI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ih(this,{idToken:t}),a=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await sh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Qs(this));const i=t?Qe(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iI(this),i=new rI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await WC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&kC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function lo(r){return Qe(r)}class n0{constructor(t){this.auth=t,this.observer=null,this.addObserver=eb(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oI(r){Ih=r}function wT(r){return Ih.loadJS(r)}function lI(){return Ih.recaptchaEnterpriseScript}function uI(){return Ih.gapiScript}function cI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class hI{constructor(){this.enterprise=new fI}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class fI{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const dI="recaptcha-enterprise",RT="NO_RECAPTCHA";class mI{constructor(t){this.type=dI,this.auth=lo(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{FC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new GC(_);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;Zv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(g=>{d(g)}).catch(()=>{d(RT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&Zv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=lI();_.length!==0&&(_+=p),wT(_).then(()=>{l(p,c,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function i0(r,t,i,a=!1,l=!1){const c=new mI(r);let d;if(l)d=RT;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function s0(r,t,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await i0(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await i0(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function pI(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Pr(c,t??{}))return l;Jn(l,"already-initialized")}return i.initialize({options:t})}function gI(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function yI(r,t,i){const a=lo(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=CT(t),{host:d,port:p}=_I(t),_=p===null?"":`:${p}`,g={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Pr(g,a.config.emulator)&&Pr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,no(d)?(N0(`${c}//${d}${_}`),D0("Auth",!0)):vI()}function CT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _I(r){const t=CT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:r0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:r0(d)}}}function r0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function EI(r,t){return nr(r,"POST","/v1/accounts:signUp",t)}async function TI(r,t){return Ch(r,"POST","/v1/accounts:signInWithPassword",Yr(r,t))}async function AI(r,t){return Ch(r,"POST","/v1/accounts:signInWithEmailLink",Yr(r,t))}async function SI(r,t){return Ch(r,"POST","/v1/accounts:signInWithEmailLink",Yr(r,t))}class Pl extends sp{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Pl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Pl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s0(t,i,"signInWithPassword",TI);case"emailLink":return AI(t,{email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s0(t,a,"signUpPassword",EI);case"emailLink":return SI(t,{idToken:i,email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Qa(r,t){return Ch(r,"POST","/v1/accounts:signInWithIdp",Yr(r,t))}const bI="http://localhost";class qr extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Jn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new qr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Qa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:bI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}function wI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RI(r){const t=yl(_l(r)).link,i=t?yl(_l(t)).deep_link_id:null,a=yl(_l(r)).deep_link_id;return(a?yl(_l(a)).link:null)||a||i||t||r}class rp{constructor(t){const i=yl(_l(t)),a=i.apiKey??null,l=i.oobCode??null,c=wI(i.mode??null);pt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=RI(t);try{return new rp(i)}catch{return null}}}class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(t,i){return Pl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=rp.parseLink(i);return pt(a,"argument-error"),Pl._fromEmailAndCode(t,a.code,a.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class IT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ql extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends Ql{constructor(){super("facebook.com")}static credential(t){return qr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ps extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return qr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ps.credential(i,a)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class zs extends Ql{constructor(){super("github.com")}static credential(t){return qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class js extends Ql{constructor(){super("twitter.com")}static credential(t,i){return qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return js.credential(i,a)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";class eo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Zn._fromIdTokenResponse(t,a,l),d=a0(a);return new eo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=a0(a);return new eo({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function a0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class rh extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new rh(t,i,a,l)}}function NT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,c,t,a):c})}async function CI(r,t,i=!1){const a=await Ul(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return eo._forOperation(r,"link",a)}async function II(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(Qs(a));const l="reauthenticate";try{const c=await Ul(r,NT(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=np(c.idToken);pt(d,a,"internal-error");const{sub:p}=d;return pt(r.uid===p,a,"user-mismatch"),eo._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jn(a,"user-mismatch"),c}}async function DT(r,t,i=!1){if(Xn(r.app))return Promise.reject(Qs(r));const a="signIn",l=await NT(r,a,t),c=await eo._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function NI(r,t){return DT(lo(r),t)}async function DI(r){const t=lo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function OI(r,t,i){return Xn(r.app)?Promise.reject(Qs(r)):NI(Qe(r),uo.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&DI(r),a})}function MI(r,t,i,a){return Qe(r).onIdTokenChanged(t,i,a)}function xI(r,t,i){return Qe(r).beforeAuthStateChanged(t,i)}function VI(r,t,i,a){return Qe(r).onAuthStateChanged(t,i,a)}const ah="__sak";class OT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const kI=1e3,LI=10;class MT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);eI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,LI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}MT.type="LOCAL";const UI=MT;class xT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}xT.type="SESSION";const VT=xT;function PI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Nh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async g=>g(i.origin,c)),_=await PI(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function ap(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class zI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const g=ap("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const x=w;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function jI(r){Ci().location.href=r}function kT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function BI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qI(){return navigator?.serviceWorker?.controller||null}function HI(){return kT()?self:null}const LT="firebaseLocalStorageDb",GI=1,oh="firebaseLocalStorage",UT="fbase_key";class Kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Dh(r,t){return r.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function FI(){const r=indexedDB.deleteDatabase(LT);return new Kl(r).toPromise()}function _m(){const r=indexedDB.open(LT,GI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(oh,{keyPath:UT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(oh)?t(a):(a.close(),await FI(),t(await _m()))})})}async function o0(r,t,i){const a=Dh(r,!0).put({[UT]:t,value:i});return new Kl(a).toPromise()}async function YI(r,t){const i=Dh(r,!1).get(t),a=await new Kl(i).toPromise();return a===void 0?null:a.value}function l0(r,t){const i=Dh(r,!0).delete(t);return new Kl(i).toPromise()}const QI=800,KI=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>KI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(HI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new zI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await o0(t,ah,"1"),await l0(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>o0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>YI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>l0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Dh(l,!1).getAll();return new Kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const XI=PT;new Yl(3e4,6e4);function $I(r,t){return t?$i(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class op extends sp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ZI(r){return DT(r.auth,new op(r),r.bypassAuthState)}function JI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),II(i,new op(r),r.bypassAuthState)}async function WI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),CI(i,new op(r),r.bypassAuthState)}class zT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZI;case"linkViaPopup":case"linkViaRedirect":return WI;case"reauthViaPopup":case"reauthViaRedirect":return JI;default:Jn(this.auth,"internal-error")}}resolve(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tN=new Yl(2e3,1e4);class Ba extends zT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const t=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tN.get())};t()}}Ba.currentPopupAction=null;const eN="pendingRedirect",Pc=new Map;class nN extends zT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await iN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iN(r,t){const i=aN(t),a=rN(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function sN(r,t){Pc.set(r._key(),t)}function rN(r){return $i(r._redirectPersistence)}function aN(r){return Uc(eN,r.config.apiKey,r.name)}async function oN(r,t,i=!1){if(Xn(r.app))return Promise.reject(Qs(r));const a=lo(r),l=$I(a,t),d=await new nN(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const lN=600*1e3;class uN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!jT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lN&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(t))}saveEventToCache(t){this.cachedEventUids.add(u0(t)),this.lastProcessedEventTime=Date.now()}}function u0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function jT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function cN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(r);default:return!1}}async function hN(r,t={}){return nr(r,"GET","/v1/projects",t)}const fN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function mN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await hN(r);for(const i of t)try{if(pN(i))return}catch{}Jn(r,"unauthorized-domain")}function pN(r){const t=gm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!dN.test(i))return!1;if(fN.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const gN=new Yl(3e4,6e4);function c0(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function yN(r){return new Promise((t,i)=>{function a(){c0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{c0(),i(Ri(r,"network-request-failed"))},timeout:gN.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)a();else{const l=cI("iframefcb");return Ci()[l]=()=>{gapi.load?a():i(Ri(r,"network-request-failed"))},wT(`${uI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function _N(r){return zc=zc||yN(r),zc}const vN=new Yl(5e3,15e3),EN="__/auth/iframe",TN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ep(t,TN):`https://${r.config.authDomain}/${EN}`,a={apiKey:t.apiKey,appName:r.name,v:io},l=SN.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function wN(r){const t=await _N(r),i=Ci().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:bN(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(r,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},vN.get());function _(){Ci().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const RN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CN=500,IN=600,NN="_blank",DN="http://localhost";class h0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ON(r,t,i,a=CN,l=IN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...RN,width:a.toString(),height:l.toString(),top:c,left:d},g=We().toLowerCase();i&&(p=_T(g)?NN:i),gT(g)&&(t=t||DN,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[H,J])=>`${x}${H}=${J},`,"");if(tI(g)&&p!=="_self")return MN(t||"",p),new h0(null);const w=window.open(t||"",p,A);pt(w,r,"popup-blocked");try{w.focus()}catch{}return new h0(w)}function MN(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const xN="__/auth/handler",VN="emulator/auth/handler",kN=encodeURIComponent("fac");async function f0(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof IT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",tb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Ql){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),g=_?`#${kN}=${encodeURIComponent(_)}`:"";return`${LN(r)}?${Bl(p).slice(1)}${g}`}function LN({config:r}){return r.emulator?ep(r,VN):`https://${r.authDomain}/${xN}`}const Qd="webStorageSupport";class UN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=oN,this._overrideRedirectResult=sN}async _openPopup(t,i,a,l){es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await f0(t,i,a,gm(),l);return ON(t,c,ap())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await f0(t,i,a,gm(),l);return jI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await wN(t),a=new uN(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ST()||yT()||ip()}}const PN=UN;var d0="@firebase/auth",m0="1.11.1";class zN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BN(r){Ka(new zr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(r)},g=new aI(a,l,c,_);return gI(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ka(new zr("auth-internal",t=>{const i=lo(t.getProvider("auth").getImmediate());return(a=>new zN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(d0,m0,jN(r)),Gs(d0,m0,"esm2020")}const qN=300,HN=I0("authIdTokenMaxAge")||qN;let p0=null;const GN=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>HN)return;const l=i?.token;p0!==l&&(p0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function FN(r=bm()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=pI(r,{popupRedirectResolver:PN,persistence:[XI,UI,VT]}),a=I0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=GN(c.toString());xI(i,d,()=>d(i.currentUser)),MI(i,p=>d(p))}}const l=R0("auth");return l&&yI(i,`http://${l}`),i}function YN(){return document.getElementsByTagName("head")?.[0]??document}oI({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",YN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BN("Browser");const QN={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Kd,jc,Bc;try{Kd=n2().length===0?x0(QN):bm(),jc=FN(Kd),Bc=gC(Kd)}catch(r){console.error("Firebase init error:",r)}const sn={glassCard:"bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",glassInput:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",primaryBtn:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all",iconBtn:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40 text-gray-700"},Ks=({icon:r,className:t="",color:i="blue",...a})=>k.jsxs("div",{className:"relative mb-4",children:[k.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-${i}-500/80`,children:k.jsx(r,{size:18})}),k.jsx("input",{className:`${sn.glassInput} focus:ring-${i}-400/50 ${t}`,...a})]}),BT=({title:r,onClose:t,children:i,className:a=""})=>k.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[k.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:t}),k.jsxs("div",{className:`relative ${sn.glassCard} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] ${a}`,children:[k.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),k.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[k.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:r}),k.jsx("button",{onClick:t,className:sn.iconBtn,children:k.jsx(RS,{size:20})})]}),k.jsx("div",{className:"relative z-10 overflow-y-auto scrollbar-hide",children:i})]})]}),g0=({message:r,type:t,onClose:i})=>{Pt.useEffect(()=>{const l=setTimeout(i,3e3);return()=>clearTimeout(l)},[i]);const a=t==="error";return k.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${a?"bg-red-500/95":"bg-gray-800/90"} min-w-[300px] justify-center`,children:[a?k.jsx(jA,{size:18}):k.jsx(zl,{size:18}),k.jsx("span",{className:"font-bold text-sm",children:r})]})},lp=Pt.memo(({title:r,subtitle:t,leftAction:i,rightAction:a,bgImage:l,themeColor:c,coverOffsetY:d=50,coverScale:p=1})=>k.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden",children:[k.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[l?k.jsxs("div",{className:"w-full h-full overflow-hidden relative",children:[k.jsx("img",{src:l,className:"w-full h-full object-cover transition-transform duration-700",style:{objectPosition:`center ${d}%`,transform:`scale(${p})`},alt:""}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 via-white/60 to-white/90 backdrop-blur-[2px]"})]}):k.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),k.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),k.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[i,k.jsxs("div",{className:"drop-shadow-sm",children:[k.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:r}),t&&k.jsx("p",{className:"text-gray-600 font-bold text-xs opacity-80 truncate max-w-[200px]",children:t})]})]}),k.jsx("div",{className:"scale-90 origin-right",children:a})]})]})),KN=({trip:r,onClose:t,onSave:i,onPreviewChange:a})=>{const[l,c]=Pt.useState({destination:r.destination||"",date:r.date||"",coverImage:r.coverImage||"",coverOffsetY:r.coverOffsetY??50,coverScale:r.coverScale??1}),d=Pt.useRef(null);Pt.useEffect(()=>{a&&a(l)},[l,a]);const p=g=>c(A=>({...A,[g.target.name]:g.target.value})),_=async g=>{const A=g.target.files[0];if(!A)return;const w=new FileReader;w.readAsDataURL(A),w.onload=x=>{const H=new Image;H.src=x.target.result,H.onload=()=>{const J=document.createElement("canvas"),$=Math.min(800/H.width,1);J.width=H.width*$,J.height=H.height*$,J.getContext("2d").drawImage(H,0,0,J.width,J.height),c(W=>({...W,coverImage:J.toDataURL("image/jpeg",.7)}))}}};return k.jsxs(BT,{title:"",onClose:t,children:[k.jsx(Ks,{icon:T0,name:"destination",value:l.destination,onChange:p,placeholder:""}),k.jsx(Ks,{icon:E0,name:"date",value:l.date,onChange:p,placeholder:"YYYY/MM/DD"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1 mb-2 block",children:""}),k.jsxs("div",{className:"flex gap-2 mb-2",children:[k.jsxs("button",{onClick:()=>d.current?.click(),className:"flex-1 py-2 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform",children:[k.jsx(AS,{size:14})," "]}),k.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:_})]}),k.jsx(Ks,{icon:YA,name:"coverImage",value:l.coverImage,onChange:p,placeholder:"...",className:"!mb-0"})]}),l.coverImage&&k.jsxs("div",{className:"mb-4 space-y-2",children:[k.jsxs("div",{className:"h-40 rounded-xl overflow-hidden relative border-2 border-blue-400/50 bg-gray-200",children:[k.jsx("img",{src:l.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},alt:"Preview"}),k.jsx("input",{type:"range",min:"0",max:"100",value:l.coverOffsetY,onChange:g=>c(A=>({...A,coverOffsetY:parseInt(g.target.value)})),className:"absolute right-2 top-2 bottom-2 w-1 appearance-none bg-black/30 rounded-full h-[90%] slider-vertical opacity-50 hover:opacity-100",style:{writingMode:"vertical-lr"}})]}),k.jsxs("div",{className:"flex items-center gap-2 px-1",children:[k.jsx(IS,{size:14,className:"text-gray-500"}),k.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:g=>c(A=>({...A,coverScale:parseFloat(g.target.value)})),className:"flex-1 h-1.5 bg-gray-300 rounded-lg appearance-none accent-blue-500"})]})]}),k.jsxs("button",{onClick:()=>i(r.id,l),className:`${sn.primaryBtn} bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30`,children:[k.jsx(cS,{size:18})," "]})]})},XN=({type:r,onClose:t,onAdd:i})=>{const[a,l]=Pt.useState(""),[c,d]=Pt.useState(""),[p,_]=Pt.useState(""),g=r==="shopping",A=g?"pink":"blue";return k.jsxs(BT,{title:g?"":"",onClose:t,children:[k.jsx(Ks,{icon:g?Em:zl,value:a,onChange:w=>l(w.target.value),placeholder:"",color:A,autoFocus:!0}),k.jsx(Ks,{icon:gS,value:c,onChange:w=>d(w.target.value),placeholder:" ()",color:A}),g&&k.jsx(Ks,{icon:iS,value:p,onChange:w=>_(w.target.value),placeholder:" ()",color:A}),k.jsxs("button",{onClick:()=>i(a,c,p),disabled:!a.trim(),className:`${sn.primaryBtn} ${a.trim()?`bg-gradient-to-r from-${A}-500 to-${A}-600 shadow-${A}-500/30`:"bg-gray-400/50 cursor-not-allowed"}`,children:[k.jsx(A0,{size:20})," "]})]})},$N=Pt.memo(({currentTrip:r,calculateDaysLeft:t,setActiveTab:i,onEditTrip:a,setShowTripListModal:l,previewTrip:c})=>{const d=c||r,p=r?.shoppingList?.filter(g=>!g.checked).length||0,_=r?.packingList?.filter(g=>!g.checked).length||0;return k.jsxs("div",{className:"px-6 mt-4 pb-32",children:[k.jsx(lp,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:k.jsx("button",{onClick:()=>l(!0),className:`${sn.iconBtn} -ml-2`,children:k.jsx(KA,{size:24})}),rightAction:r&&k.jsx("button",{onClick:a,className:`${sn.iconBtn} -mr-2`,children:k.jsx(fS,{size:22})}),bgImage:d?.coverImage,coverOffsetY:d?.coverOffsetY,coverScale:d?.coverScale}),!d||d.date==="----/--/--"?k.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg mt-4",children:[k.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),k.jsx("p",{className:"text-sm text-gray-500",children:"  "})]}):k.jsxs("div",{onClick:()=>i("itinerary"),className:`group ${sn.glassCard} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 mt-4`,children:[k.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[d.coverImage&&k.jsx("img",{src:d.coverImage,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${d.coverOffsetY}%`,transform:`scale(${d.coverScale})`},alt:""}),k.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${d.themeColor} ${d.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60"}),k.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 to-transparent",children:[k.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2",children:"Current Trip"}),k.jsx("h3",{className:"text-4xl font-black leading-none drop-shadow-lg",children:d.destination}),k.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 w-fit px-4 py-1.5 rounded-full backdrop-blur-md",children:[k.jsx(E0,{size:14,className:"mr-2"}),d.date]})]})]}),k.jsxs("div",{className:"p-6 flex justify-between items-center",children:[k.jsxs("div",{children:[k.jsx("span",{className:"text-gray-500 text-xs font-black uppercase",children:"Countdown"}),k.jsxs("div",{className:"text-5xl font-[900] text-gray-800",children:[t(d.date),k.jsx("span",{className:"text-base text-gray-500 ml-1",children:"days"})]})]}),k.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform",children:k.jsx(PA,{size:28})})]})]}),k.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[{id:"shopping",icon:Em,title:"",count:p,label:"",color:"pink"},{id:"packing",icon:zl,title:"",count:_,label:"",color:"blue"}].map(g=>k.jsxs("div",{onClick:()=>i(g.id),className:`${sn.glassCard} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all flex items-center gap-4 h-24`,children:[k.jsx("div",{className:`bg-${g.color}-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-${g.color}-500 shrink-0`,children:k.jsx(g.icon,{size:24})}),k.jsxs("div",{children:[k.jsx("h3",{className:"font-bold text-gray-800 text-base",children:g.title}),k.jsxs("p",{className:"text-xs text-gray-500 font-bold opacity-70",children:[g.count," ",g.label]})]})]},g.id))})]})}),y0=Pt.memo(({type:r,trip:t,setActiveTab:i,onToggle:a,onDelete:l,onEdit:c,onAddOpen:d})=>{const p=r==="shopping",_=p?t?.shoppingList||[]:t?.packingList||[],g=p?"pink":"blue",[A,w]=Pt.useState(""),x=["",...new Set(_.map($=>$.category||"").filter($=>$))],H=_.filter($=>A===""||($.category||"")===A),J=Math.round(_.filter($=>$.checked).length/(_.length||1)*100);return k.jsxs("div",{className:"px-6 mt-4 pb-32 h-full overflow-y-auto scrollbar-hide",children:[k.jsx(lp,{title:p?"":"",subtitle:t?.destination,showBack:!0,setActiveTab:i,bgImage:t?.coverImage,coverOffsetY:t?.coverOffsetY,coverScale:t?.coverScale,leftAction:k.jsx("button",{onClick:()=>i("home"),className:`${sn.iconBtn} -ml-2`,children:k.jsx(v0,{size:20})})}),k.jsxs("div",{className:`${sn.glassCard} rounded-[2.5rem] p-6 mb-6 mt-4`,children:[k.jsxs("div",{className:"flex justify-between items-end mb-4",children:[k.jsxs("div",{children:[k.jsx("span",{className:`text-${g}-500 font-black text-xs uppercase`,children:"Progress"}),k.jsxs("div",{className:"text-4xl font-[900] text-gray-800",children:[J,"%"]})]}),k.jsx("button",{onClick:d,className:`bg-gradient-to-br from-${g}-500 to-${g}-600 text-white p-4 rounded-2xl shadow-lg shadow-${g}-500/30 active:scale-90 transition-all`,children:k.jsx(A0,{size:24,strokeWidth:3})})]}),k.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden",children:k.jsx("div",{className:`bg-gradient-to-r from-${g}-400 to-${g}-600 h-4 rounded-full transition-all duration-700`,style:{width:`${J}%`}})})]}),k.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide mb-4 pb-2 sticky top-0 z-10 mask-linear-fade",children:x.map($=>k.jsx("button",{onClick:()=>w($),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${A===$?`bg-${g}-500 text-white border-${g}-500`:"bg-white/60 text-gray-600 border-white/40"}`,children:$},$))}),k.jsx("div",{className:"space-y-3",children:H.map($=>k.jsxs("div",{onClick:()=>a($.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 cursor-pointer backdrop-blur-md shadow-sm ${$.checked?"bg-gray-50/30 opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60"}`,children:[k.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all border border-white/40 ${$.checked?`bg-${g}-500 text-white`:"bg-white/50 text-transparent group-hover:bg-white/80"}`,children:k.jsx(zl,{size:18,strokeWidth:3})}),k.jsxs("div",{className:"flex-1",children:[k.jsx("span",{className:`font-bold text-lg ${$.checked?"line-through text-gray-500":"text-gray-800"}`,children:$.item}),k.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[$.category&&k.jsx("span",{className:`text-[10px] font-bold text-${g}-600 bg-${g}-100/80 px-2 py-0.5 rounded-md`,children:$.category}),$.note&&k.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:$.note})]})]}),k.jsxs("div",{className:"flex gap-1",children:[k.jsx("button",{onClick:W=>{W.stopPropagation(),c($)},className:"p-2 text-gray-400 hover:text-blue-500",children:k.jsx(rS,{size:18})}),k.jsx("button",{onClick:W=>{W.stopPropagation(),l($.id)},className:"p-2 text-gray-400 hover:text-red-500",children:k.jsx(ES,{size:18})})]})]},$.id))})]})}),ZN=Pt.memo(({currentTrip:r,setActiveTab:t,setShowFlightModal:i,onScroll:a})=>{const l=c=>window.open(`https://www.google.com/maps/search/?api=1&query=$${encodeURIComponent(c)}`,"_blank");return k.jsxs("div",{className:"px-6 mt-4 pb-32 h-full overflow-y-auto scrollbar-hide",onScroll:a,children:[k.jsx(lp,{title:"",subtitle:r?.destination,showBack:!0,setActiveTab:t,bgImage:r?.coverImage,coverOffsetY:r?.coverOffsetY,coverScale:r?.coverScale,leftAction:k.jsx("button",{onClick:()=>t("home"),className:`${sn.iconBtn} -ml-2`,children:k.jsx(v0,{size:20})}),rightAction:k.jsx("button",{onClick:()=>i(!0),className:`${sn.iconBtn} bg-white/30`,children:k.jsx(oS,{size:20,className:"text-blue-700"})})}),k.jsxs("div",{className:"space-y-10 mt-6",children:[!r?.days?.length&&k.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),r?.days?.map((c,d)=>k.jsxs("div",{className:"relative pl-4",children:[d!==r.days.length-1&&k.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full"}),k.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[k.jsxs("div",{className:"bg-gray-800/90 text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0",children:[k.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),k.jsx("span",{className:"text-xl font-black",children:c.day})]}),k.jsx("h3",{className:"font-[900] text-gray-800 text-xl",children:c.title})]}),k.jsx("div",{className:"space-y-4 pl-4 relative z-10",children:c.activities.map((p,_)=>k.jsxs("div",{className:"group relative p-5 rounded-[2rem] border backdrop-blur-md shadow-sm bg-white/30 border-white/40 hover:bg-white/50 transition-all",children:[k.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 ${p.type==="transport"?"bg-purple-400":p.type==="food"?"bg-orange-400":"bg-blue-400"}`}),k.jsxs("div",{className:"flex justify-between items-start mb-2",children:[k.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold bg-white/60 text-gray-600",children:p.time}),k.jsx("div",{className:"p-1.5 bg-white/40 rounded-full",children:p.type==="food"?k.jsx(qA,{size:14}):p.type==="transport"?k.jsx(_S,{size:14}):k.jsx(LA,{size:14})})]}),k.jsxs("div",{className:"flex justify-between items-end gap-2",children:[k.jsx("h4",{className:"font-bold text-gray-800 text-lg flex-1",children:p.title}),k.jsx("button",{onClick:()=>l(p.title),className:"p-2 text-blue-600 bg-blue-50/80 rounded-full",children:k.jsx(T0,{size:18})})]})]},_))})]},d))]})]})}),JN=({activeTab:r,setActiveTab:t,children:i})=>{const a=["home","itinerary","shopping","packing"],l=a.indexOf(r),[c,d]=Pt.useState(0),p=Pt.useRef(null),_=w=>{p.current=w.touches[0].clientX},g=w=>{if(p.current===null)return;const x=w.touches[0].clientX-p.current;if(l===0&&x>0||l===3&&x<0)return d(x*.3);d(x)},A=()=>{Math.abs(c)>80&&(c>0&&l>0?t(a[l-1]):c<0&&l<a.length-1&&t(a[l+1])),d(0),p.current=null};return k.jsx("div",{className:"flex w-[400vw] h-full transition-transform duration-300 ease-out",style:{transform:`translateX(calc(-${l*100}vw + ${c}px))`,transition:p.current?"none":void 0},onTouchStart:_,onTouchMove:g,onTouchEnd:A,children:i})};function WN(){const[r,t]=Pt.useState("home"),[i,a]=Pt.useState(null),[l,c]=Pt.useState([]),[d,p]=Pt.useState(null),[_,g]=Pt.useState({type:null,data:null}),[A,w]=Pt.useState(null),[x,H]=Pt.useState(null),[J,$]=Pt.useState({show:!1,msg:"",type:"ok"}),W=Pt.useCallback((b,S="ok")=>$({show:!0,msg:b,type:S}),[]),ut=()=>{g({type:null,data:null}),H(null),w(null)};Pt.useEffect(()=>{if(jc)return VI(jc,b=>{a(b),b&&W(` ${b.email}`)})},[]),Pt.useEffect(()=>{if(!(!i||!Bc))return OC(mC(Bc,"users",i.uid,"trips"),b=>{const S=b.docs.map(R=>({id:R.id,...R.data()})).sort((R,M)=>new Date(R.date)-new Date(M.date));c(S),S.length>0&&!d&&p(S[0].id)})},[i,d]);const mt=Pt.useMemo(()=>l.find(b=>b.id===d)||null,[l,d]),ft=async b=>{if(!mt)return;const S=b(mt);await DC(pC(Bc,"users",i.uid,"trips",d),S).catch(R=>W("","error"))},Vt={toggle:(b,S)=>{const R=b==="shopping"?"shoppingList":"packingList";ft(M=>({...M,[R]:M[R].map(N=>N.id===S?{...N,checked:!N.checked}:N)}))},delete:(b,S)=>{if(!confirm(""))return;const R=b==="shopping"?"shoppingList":"packingList";ft(M=>({...M,[R]:M[R].filter(N=>N.id!==S)})),W("")},add:(b,S,R)=>{const M=A==="shopping"?"shoppingList":"packingList",N={id:Date.now(),item:b,category:S||"",checked:!1,...A==="shopping"?{note:R}:{}};ft(L=>({...L,[M]:[...L[M]||[],N]})),ut(),W("")}},Wt=Pt.useCallback(b=>!b||b==="----/--/--"?0:Math.max(0,Math.ceil((new Date(b)-new Date)/864e5)),[]),Mt=(b,S)=>OI(jc,b,S).catch(()=>W("","error"));return i?k.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[k.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-br from-[#E0E5EC] to-white",children:k.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})}),k.jsx("style",{children:".scrollbar-hide::-webkit-scrollbar { display: none; } .mask-linear-fade { mask-image: linear-gradient(to right, black 85%, transparent 100%); }"}),J.show&&k.jsx(g0,{message:J.msg,type:J.type,onClose:()=>$({...J,show:!1})}),_.type==="tripConfig"&&k.jsx(KN,{trip:_.data,onClose:ut,onPreviewChange:H,onSave:(b,S)=>{ft(()=>S),ut(),W("")}}),A&&k.jsx(XN,{type:A,onClose:ut,onAdd:Vt.add}),k.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",children:[k.jsxs(JN,{activeTab:r,setActiveTab:t,children:[k.jsx($N,{currentTrip:mt,previewTrip:x,calculateDaysLeft:Wt,setActiveTab:t,onEditTrip:()=>g({type:"tripConfig",data:mt}),setShowTripListModal:()=>{}}),k.jsx(ZN,{currentTrip:mt,setActiveTab:t,setShowFlightModal:()=>{}}),k.jsx(y0,{type:"shopping",trip:mt,setActiveTab:t,onToggle:b=>Vt.toggle("shopping",b),onDelete:b=>Vt.delete("shopping",b),onAddOpen:()=>w("shopping")}),k.jsx(y0,{type:"packing",trip:mt,setActiveTab:t,onToggle:b=>Vt.toggle("packing",b),onDelete:b=>Vt.delete("packing",b),onAddOpen:()=>w("packing")})]}),k.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ${r?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:k.jsx("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] p-2 shadow-lg flex gap-2 pointer-events-auto",children:["home","itinerary","shopping","packing"].map(b=>{const R={home:GA,itinerary:eS,shopping:Em,packing:zl}[b];return k.jsx("button",{onClick:()=>t(b),className:`p-4 rounded-full transition-all ${r===b?"bg-white text-blue-600 shadow-md scale-110":"text-white hover:bg-white/10"}`,children:k.jsx(R,{size:24,strokeWidth:r===b?3:2})},b)})})})]})]}):k.jsxs("div",{className:"h-screen flex items-center justify-center bg-[#E0E5EC] relative overflow-hidden",children:[k.jsx("div",{className:"absolute w-[150vw] h-[150vw] bg-blue-300/30 rounded-full blur-3xl -top-1/2 -left-1/2"}),J.show&&k.jsx(g0,{message:J.msg,type:J.type,onClose:()=>$({...J,show:!1})}),k.jsxs("div",{className:`${sn.glassCard} p-8 w-full max-w-sm flex flex-col items-center`,children:[k.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center text-white mb-6 shadow-lg",children:k.jsx(bS,{size:32})}),k.jsx("h1",{className:"text-2xl font-black text-gray-800 mb-6",children:""}),k.jsxs("form",{onSubmit:b=>{b.preventDefault(),Mt(b.target[0].value,b.target[1].value)},className:"w-full space-y-4",children:[k.jsx(Ks,{icon:JA,placeholder:"Email",type:"email"}),k.jsx(Ks,{icon:$A,placeholder:"Password",type:"password"}),k.jsx("button",{className:`${sn.primaryBtn} bg-blue-600`,children:""})]})]})]})}CA.createRoot(document.getElementById("root")).render(k.jsx(Pt.StrictMode,{children:k.jsx(WN,{})}));
