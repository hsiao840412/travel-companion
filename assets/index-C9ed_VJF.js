(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var qd={exports:{}},Ml={};var r_;function $T(){if(r_)return Ml;r_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var a_;function ZT(){return a_||(a_=1,qd.exports=$T()),qd.exports}var v=ZT(),Hd={exports:{}},Ie={};var o_;function JT(){if(o_)return Ie;o_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,W={};function oe(O,Q,ne){this.props=O,this.context=Q,this.refs=W,this.updater=ne||J}oe.prototype.isReactComponent={},oe.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},oe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ce(){}ce.prototype=oe.prototype;function Y(O,Q,ne){this.props=O,this.context=Q,this.refs=W,this.updater=ne||J}var ae=Y.prototype=new ce;ae.constructor=Y,ee(ae,oe.prototype),ae.isPureReactComponent=!0;var Ee=Array.isArray;function Te(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,Q,ne){var le=ne.ref;return{$$typeof:s,type:O,key:Q,ref:le!==void 0?le:null,props:ne}}function M(O,Q){return I(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return Q[ne]})}var x=/\/+/g;function rt(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):Q.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Te,Te):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Q,ne,le,_e){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case s:case e:je=!0;break;case T:return je=O._init,F(je(O._payload),Q,ne,le,_e)}}if(je)return _e=_e(O),je=le===""?"."+rt(O,0):le,Ee(_e)?(ne="",je!=null&&(ne=je.replace(x,"$&/")+"/"),F(_e,Q,ne,"",function(Gi){return Gi})):_e!=null&&(D(_e)&&(_e=M(_e,ne+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(x,"$&/")+"/")+je)),Q.push(_e)),1;je=0;var Ve=le===""?".":le+":";if(Ee(O))for(var tt=0;tt<O.length;tt++)le=O[tt],xe=Ve+rt(le,tt),je+=F(le,Q,ne,xe,_e);else if(tt=P(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(le=O.next()).done;)le=le.value,xe=Ve+rt(le,tt++),je+=F(le,Q,ne,xe,_e);else if(xe==="object"){if(typeof O.then=="function")return F(Et(O),Q,ne,le,_e);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return je}function ie(O,Q,ne){if(O==null)return O;var le=[],_e=0;return F(O,le,"","",function(xe){return Q.call(ne,xe,_e++)}),le}function ye(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Fe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ye={map:ie,forEach:function(O,Q,ne){ie(O,function(){Q.apply(this,arguments)},ne)},count:function(O){var Q=0;return ie(O,function(){Q++}),Q},toArray:function(O){return ie(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ie.Activity=S,Ie.Children=Ye,Ie.Component=oe,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=Y,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(O,Q,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=ee({},O.props),_e=O.key;if(Q!=null)for(xe in Q.key!==void 0&&(_e=""+Q.key),Q)!A.call(Q,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Q.ref===void 0||(le[xe]=Q[xe]);var xe=arguments.length-2;if(xe===1)le.children=ne;else if(1<xe){for(var je=Array(xe),Ve=0;Ve<xe;Ve++)je[Ve]=arguments[Ve+2];le.children=je}return I(O.type,_e,le)},Ie.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ie.createElement=function(O,Q,ne){var le,_e={},xe=null;if(Q!=null)for(le in Q.key!==void 0&&(xe=""+Q.key),Q)A.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=Q[le]);var je=arguments.length-2;if(je===1)_e.children=ne;else if(1<je){for(var Ve=Array(je),tt=0;tt<je;tt++)Ve[tt]=arguments[tt+2];_e.children=Ve}if(O&&O.defaultProps)for(le in je=O.defaultProps,je)_e[le]===void 0&&(_e[le]=je[le]);return I(O,xe,_e)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:p,render:O}},Ie.isValidElement=D,Ie.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ye}},Ie.memo=function(O,Q){return{$$typeof:y,type:O,compare:Q===void 0?null:Q}},Ie.startTransition=function(O){var Q=N.T,ne={};N.T=ne;try{var le=O(),_e=N.S;_e!==null&&_e(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Te,Fe)}catch(xe){Fe(xe)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),N.T=Q}},Ie.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ie.use=function(O){return N.H.use(O)},Ie.useActionState=function(O,Q,ne){return N.H.useActionState(O,Q,ne)},Ie.useCallback=function(O,Q){return N.H.useCallback(O,Q)},Ie.useContext=function(O){return N.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,Q){return N.H.useDeferredValue(O,Q)},Ie.useEffect=function(O,Q){return N.H.useEffect(O,Q)},Ie.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Ie.useId=function(){return N.H.useId()},Ie.useImperativeHandle=function(O,Q,ne){return N.H.useImperativeHandle(O,Q,ne)},Ie.useInsertionEffect=function(O,Q){return N.H.useInsertionEffect(O,Q)},Ie.useLayoutEffect=function(O,Q){return N.H.useLayoutEffect(O,Q)},Ie.useMemo=function(O,Q){return N.H.useMemo(O,Q)},Ie.useOptimistic=function(O,Q){return N.H.useOptimistic(O,Q)},Ie.useReducer=function(O,Q,ne){return N.H.useReducer(O,Q,ne)},Ie.useRef=function(O){return N.H.useRef(O)},Ie.useState=function(O){return N.H.useState(O)},Ie.useSyncExternalStore=function(O,Q,ne){return N.H.useSyncExternalStore(O,Q,ne)},Ie.useTransition=function(){return N.H.useTransition()},Ie.version="19.2.0",Ie}var l_;function Lm(){return l_||(l_=1,Hd.exports=JT()),Hd.exports}var fe=Lm(),Fd={exports:{}},Vl={},Gd={exports:{}},Yd={};var u_;function WT(){return u_||(u_=1,(function(s){function e(F,ie){var ye=F.length;F.push(ie);e:for(;0<ye;){var Fe=ye-1>>>1,Ye=F[Fe];if(0<l(Ye,ie))F[Fe]=ie,F[ye]=Ye,ye=Fe;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ie=F[0],ye=F.pop();if(ye!==ie){F[0]=ye;e:for(var Fe=0,Ye=F.length,O=Ye>>>1;Fe<O;){var Q=2*(Fe+1)-1,ne=F[Q],le=Q+1,_e=F[le];if(0>l(ne,ye))le<Ye&&0>l(_e,ne)?(F[Fe]=_e,F[le]=ye,Fe=le):(F[Fe]=ne,F[Q]=ye,Fe=Q);else if(le<Ye&&0>l(_e,ye))F[Fe]=_e,F[le]=ye,Fe=le;else break e}}return ie}function l(F,ie){var ye=F.sortIndex-ie.sortIndex;return ye!==0?ye:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,S=null,R=3,P=!1,J=!1,ee=!1,W=!1,oe=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ae(F){for(var ie=i(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=F)r(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=i(y)}}function Ee(F){if(ee=!1,ae(F),!J)if(i(g)!==null)J=!0,Te||(Te=!0,j());else{var ie=i(y);ie!==null&&Et(Ee,ie.startTime-F)}}var Te=!1,N=-1,A=5,I=-1;function M(){return W?!0:!(s.unstable_now()-I<A)}function D(){if(W=!1,Te){var F=s.unstable_now();I=F;var ie=!0;try{e:{J=!1,ee&&(ee=!1,ce(N),N=-1),P=!0;var ye=R;try{t:{for(ae(F),S=i(g);S!==null&&!(S.expirationTime>F&&M());){var Fe=S.callback;if(typeof Fe=="function"){S.callback=null,R=S.priorityLevel;var Ye=Fe(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ye=="function"){S.callback=Ye,ae(F),ie=!0;break t}S===i(g)&&r(g),ae(F)}else r(g);S=i(g)}if(S!==null)ie=!0;else{var O=i(y);O!==null&&Et(Ee,O.startTime-F),ie=!1}}break e}finally{S=null,R=ye,P=!1}ie=void 0}}finally{ie?j():Te=!1}}}var j;if(typeof Y=="function")j=function(){Y(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,rt=x.port2;x.port1.onmessage=D,j=function(){rt.postMessage(null)}}else j=function(){oe(D,0)};function Et(F,ie){N=oe(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(F){switch(R){case 1:case 2:case 3:var ie=3;break;default:ie=R}var ye=R;R=ie;try{return F()}finally{R=ye}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ye=R;R=F;try{return ie()}finally{R=ye}},s.unstable_scheduleCallback=function(F,ie,ye){var Fe=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Fe+ye:Fe):ye=Fe,F){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ye+Ye,F={id:T++,callback:ie,priorityLevel:F,startTime:ye,expirationTime:Ye,sortIndex:-1},ye>Fe?(F.sortIndex=ye,e(y,F),i(g)===null&&F===i(y)&&(ee?(ce(N),N=-1):ee=!0,Et(Ee,ye-Fe))):(F.sortIndex=Ye,e(g,F),J||P||(J=!0,Te||(Te=!0,j()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var ie=R;return function(){var ye=R;R=ie;try{return F.apply(this,arguments)}finally{R=ye}}}})(Yd)),Yd}var c_;function ew(){return c_||(c_=1,Gd.exports=WT()),Gd.exports}var Qd={exports:{}},on={};var h_;function tw(){if(h_)return on;h_=1;var s=Lm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},on.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},on.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},on.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},on.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},on.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},on.requestFormReset=function(g){r.d.r(g)},on.unstable_batchedUpdates=function(g,y){return g(y)},on.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.0",on}var f_;function nw(){if(f_)return Qd.exports;f_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Qd.exports=tw(),Qd.exports}var d_;function iw(){if(d_)return Vl;d_=1;var s=ew(),e=Lm(),i=nw();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case oe:return"Profiler";case W:return"StrictMode";case Ee:return"Suspense";case Te:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case Y:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var Et=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Fe=[],Ye=-1;function O(t){return{current:t}}function Q(t){0>Ye||(t.current=Fe[Ye],Fe[Ye]=null,Ye--)}function ne(t,n){Ye++,Fe[Ye]=t.current,t.current=n}var le=O(null),_e=O(null),xe=O(null),je=O(null);function Ve(t,n){switch(ne(xe,n),ne(_e,t),ne(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?I0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=I0(n),t=C0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(le),ne(le,t)}function tt(){Q(le),Q(_e),Q(xe)}function Gi(t){t.memoizedState!==null&&ne(je,t);var n=le.current,a=C0(n,t.type);n!==a&&(ne(_e,t),ne(le,a))}function vs(t){_e.current===t&&(Q(le),Q(_e)),je.current===t&&(Q(je),Nl._currentValue=ye)}var Ft,bs;function Ln(t){if(Ft===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ft=n&&n[1]||"",bs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ft+t+bs}var Es=!1;function Yi(t,n){if(!t||Es)return"";Es=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Es=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ln(a):""}function Ir(t,n){switch(t.tag){case 26:case 27:case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return t.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Yi(t.type,!1);case 11:return Yi(t.type.render,!1);case 1:return Yi(t.type,!0);case 31:return Ln("Activity");default:return""}}function Cr(t){try{var n="",a=null;do n+=Ir(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Tt=Object.prototype.hasOwnProperty,At=s.unstable_scheduleCallback,Wn=s.unstable_cancelCallback,Vo=s.unstable_shouldYield,Ts=s.unstable_requestPaint,Xt=s.unstable_now,Qi=s.unstable_getCurrentPriorityLevel,ws=s.unstable_ImmediatePriority,yi=s.unstable_UserBlockingPriority,Pn=s.unstable_NormalPriority,Ss=s.unstable_LowPriority,Nr=s.unstable_IdlePriority,As=s.log,Dr=s.unstable_setDisableYieldValue,$t=null,ft=null;function pn(t){if(typeof As=="function"&&Dr(t),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode($t,t)}catch{}}var _t=Math.clz32?Math.clz32:se,ya=Math.log,xs=Math.LN2;function se(t){return t>>>=0,t===0?32:31-(ya(t)/xs|0)|0}var me=256,pe=262144,re=4194304;function Ke(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oe(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ke(o):(_&=E,_!==0?h=Ke(_):a||(a=E&~t,a!==0&&(h=Ke(a))))):(E=o&~f,E!==0?h=Ke(E):_!==0?h=Ke(_):a||(a=o&~t,a!==0&&(h=Ke(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Xe(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function an(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var t=re;return re<<=1,(re&62914560)===0&&(re=4194304),t}function fn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function xn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jo(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-_t(a),X=1<<G;E[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&vi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function vi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function kr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-_t(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Or(t,n){var a=n&-n;return a=(a&42)!==0?1:ei(a),(a&(t.suspendedLanes|n))!==0?0:a}function ei(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Un(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:J0(t.type))}function ni(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var ii=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ii,Gt="__reactProps$"+ii,bi="__reactContainer$"+ii,_a="__reactEvents$"+ii,Qh="__reactListeners$"+ii,Eu="__reactHandles$"+ii,Tu="__reactResources$"+ii,Ei="__reactMarker$"+ii;function va(t){delete t[Nt],delete t[Gt],delete t[_a],delete t[Qh],delete t[Eu]}function Ti(t){var n=t[Nt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[bi]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=j0(t);t!==null;){if(a=t[Nt])return a;t=j0(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Nt]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function wi(t){var n=t[Tu];return n||(n=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[Ei]=!0}var Lo=new Set,Po={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(Po[t]=n,t=0;t<n.length;t++)Lo.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function wu(t){return Tt.call(Bo,t)?!0:Tt.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ba(t,n,a){if(wu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function In(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function kt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Rs(t)?"checked":"value";t._valueTracker=qo(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Rs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function gn(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Yt(n)):t.value!==""+Yt(n)&&(t.value=""+Yt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ho(t,_,Yt(n)):a!=null?Ho(t,_,Yt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Yt(E):t.removeAttribute("name")}function Su(t,n,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+Yt(a):"",n=n!=null?""+Yt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),nt(t)}function Ho(t,n,a){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Is(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Au(t,n,a){if(n!=null&&(n=""+Yt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Yt(a):""}function Cs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Et(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Yt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function yn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||xu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Go(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Fo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Fo(t,f,n[f])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var Yo=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Ri=null;function jr(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Gt]||null;if(!h)throw Error(r(90));Ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Mr(o)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Is(t,!!a.multiple,n,!1)}}}var Sa=!1;function ks(t,n,a){if(Sa)return t(n,a);Sa=!0;try{var o=t(n);return o}finally{if(Sa=!1,(Ds!==null||Ri!==null)&&(bc(),Ds&&(n=Ds,t=Ri,Ri=Ds=null,jr(n),t)))for(n=0;n<t.length;n++)jr(t[n])}}function ri(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Gt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(qn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Lr=!1}var Ii=null,Qo=null,Pr=null;function Ko(){if(Pr)return Pr;var t,n=Qo,a=n.length,o,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return Pr=h.slice(t,1<o?1-o:void 0)}function Ur(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ai(){return!1}function Zt(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ai,this.isPropagationStopped=ai,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Zt(Xi),Os=S({},Xi,{view:0,detail:0}),Xo=Zt(Os),Ms,Aa,Ni,xa=S({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ms=t.screenX-Ni.screenX,Aa=t.screenY-Ni.screenY):Aa=Ms=0,Ni=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),$o=Zt(xa),zr=S({},xa,{dataTransfer:0}),Iu=Zt(zr),Cu=S({},Os,{relatedTarget:0}),Br=Zt(Cu),Zo=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Zt(Zo),Ra=S({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Zt(Ra),ku=S({},Xi,{data:0}),Di=Zt(ku),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vu[t])?!!n[t]:!1}function Vs(){return ju}var dn=S({},Os,{key:function(t){if(t.key){var n=Ou[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Zt(dn),Pu=S({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Zt(Pu),u=S({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=Zt(u),b=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Zt(b),L=S({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Zt(L),te=S({},Xi,{newState:0,oldState:0}),Ne=Zt(te),xt=[9,13,27,32],Je=qn&&"CompositionEvent"in window,gt=null;qn&&"documentMode"in document&&(gt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!gt,ki=qn&&(!Je||gt&&8<gt&&11>=gt),oi=" ",li=!1;function qr(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function bE(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(li=!0,oi);case"textInput":return t=n.data,t===oi&&li?null:t;default:return null}}function EE(t,n){if(Ca)return t==="compositionend"||!Je&&qr(t,n)?(t=Ko(),Pr=Qo=Ii=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!TE[t.type]:n==="textarea"}function zp(t,n,a,o){Ds?Ri?Ri.push(o):Ri=[o]:Ds=o,n=Rc(n,"onChange"),0<n.length&&(a=new Ci("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Jo=null,Wo=null;function wE(t){T0(t,0)}function Uu(t){var n=Rn(t);if(Mr(n))return t}function Bp(t,n){if(t==="change")return n}var qp=!1;if(qn){var Kh;if(qn){var Xh="oninput"in document;if(!Xh){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),Xh=typeof Hp.oninput=="function"}Kh=Xh}else Kh=!1;qp=Kh&&(!document.documentMode||9<document.documentMode)}function Fp(){Jo&&(Jo.detachEvent("onpropertychange",Gp),Wo=Jo=null)}function Gp(t){if(t.propertyName==="value"&&Uu(Wo)){var n=[];zp(n,Wo,t,Bn(t)),ks(wE,n)}}function SE(t,n,a){t==="focusin"?(Fp(),Jo=n,Wo=a,Jo.attachEvent("onpropertychange",Gp)):t==="focusout"&&Fp()}function AE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Wo)}function xE(t,n){if(t==="click")return Uu(n)}function RE(t,n){if(t==="input"||t==="change")return Uu(n)}function IE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Cn=typeof Object.is=="function"?Object.is:IE;function el(t,n){if(Cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Tt.call(n,h)||!Cn(t[h],n[h]))return!1}return!0}function Yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qp(t,n){var a=Yp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Kp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=xi(t.document)}return n}function $h(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var CE=qn&&"documentMode"in document&&11>=document.documentMode,Na=null,Zh=null,tl=null,Jh=!1;function $p(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jh||Na==null||Na!==xi(o)||(o=Na,"selectionStart"in o&&$h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),tl&&el(tl,o)||(tl=o,o=Rc(Zh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Na)))}function Hr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Da={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Wh={},Zp={};qn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Fr(t){if(Wh[t])return Wh[t];if(!Da[t])return t;var n=Da[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zp)return Wh[t]=n[a];return t}var Jp=Fr("animationend"),Wp=Fr("animationiteration"),eg=Fr("animationstart"),NE=Fr("transitionrun"),DE=Fr("transitionstart"),kE=Fr("transitioncancel"),tg=Fr("transitionend"),ng=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function ui(t,n){ng.set(t,n),Si(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],ka=0,tf=0;function Bu(){for(var t=ka,n=tf=ka=0;n<t;){var a=Fn[n];Fn[n++]=null;var o=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&ig(a,h,f)}}function qu(t,n,a,o){Fn[ka++]=t,Fn[ka++]=n,Fn[ka++]=a,Fn[ka++]=o,tf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function nf(t,n,a,o){return qu(t,n,a,o),Hu(t)}function Gr(t,n){return qu(t,null,null,n),Hu(t)}function ig(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Hu(t){if(50<wl)throw wl=0,fd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Oa={};function OE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,a,o){return new OE(t,n,a,o)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=Nn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")sf(t)&&(_=1);else if(typeof t=="string")_=PT(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Nn(31,a,n,h),t.elementType=I,t.lanes=f,t;case ee:return Yr(a.children,h,f,n);case W:_=8,h|=24;break;case oe:return t=Nn(12,a,n,h|2),t.elementType=oe,t.lanes=f,t;case Ee:return t=Nn(13,a,n,h),t.elementType=Ee,t.lanes=f,t;case Te:return t=Nn(19,a,n,h),t.elementType=Te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:_=10;break e;case ce:_=9;break e;case ae:_=11;break e;case N:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Nn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Yr(t,n,a,o){return t=Nn(7,t,o,n),t.lanes=a,t}function rf(t,n,a){return t=Nn(6,t,null,n),t.lanes=a,t}function rg(t){var n=Nn(18,null,null,0);return n.stateNode=t,n}function af(t,n,a){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ag=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Cr(n)},ag.set(t,n),n)}return{value:t,source:n,stack:Cr(n)}}var Ma=[],Va=0,Gu=null,nl=0,Yn=[],Qn=0,js=null,Oi=1,Mi="";function Ji(t,n){Ma[Va++]=nl,Ma[Va++]=Gu,Gu=t,nl=n}function og(t,n,a){Yn[Qn++]=Oi,Yn[Qn++]=Mi,Yn[Qn++]=js,js=t;var o=Oi;t=Mi;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var f=32-_t(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Oi=1<<32-_t(n)+h|a<<h|o,Mi=f+t}else Oi=1<<f|a<<h|o,Mi=t}function of(t){t.return!==null&&(Ji(t,1),og(t,1,0))}function lf(t){for(;t===Gu;)Gu=Ma[--Va],Ma[Va]=null,nl=Ma[--Va],Ma[Va]=null;for(;t===js;)js=Yn[--Qn],Yn[Qn]=null,Mi=Yn[--Qn],Yn[Qn]=null,Oi=Yn[--Qn],Yn[Qn]=null}function lg(t,n){Yn[Qn++]=Oi,Yn[Qn++]=Mi,Yn[Qn++]=js,Oi=n.id,Mi=n.overflow,js=t}var Jt=null,dt=null,Ge=!1,Ls=null,Kn=!1,uf=Error(r(519));function Ps(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Gn(n,t)),uf}function ug(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Gt]=o,a){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Pe(Al[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),Su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Cs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||x0(n.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Ps(t,!0)}function cg(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Jt=Jt.return}}function ja(t){if(t!==Jt)return!1;if(!Ge)return cg(t),Ge=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&dt&&Ps(t),cg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=V0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=V0(t)}else n===27?(n=dt,Js(t.type)?(t=kd,kd=null,dt=t):dt=n):dt=Jt?$n(t.stateNode.nextSibling):null;return!0}function Qr(){dt=Jt=null,Ge=!1}function cf(){var t=Ls;return t!==null&&(En===null?En=t:En.push.apply(En,t),Ls=null),t}function il(t){Ls===null?Ls=[t]:Ls.push(t)}var hf=O(null),Kr=null,Wi=null;function Us(t,n,a){ne(hf,n._currentValue),n._currentValue=a}function es(t){t._currentValue=hf.current,Q(hf)}function ff(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function df(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ff(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),ff(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function La(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;Cn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&df(n,t,a,o),n.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Kr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return hg(Kr,t)}function Qu(t,n){return Kr===null&&Xr(t),hg(t,n)}function hg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var ME=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},VE=s.unstable_scheduleCallback,jE=s.unstable_NormalPriority,Ot={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new ME,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&VE(jE,function(){t.controller.abort()})}var rl=null,pf=0,Pa=0,Ua=null;function LE(t,n){if(rl===null){var a=rl=[];pf=0,Pa=_d(),Ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return pf++,n.then(fg,fg),n}function fg(){if(--pf===0&&rl!==null){Ua!==null&&(Ua.status="fulfilled");var t=rl;rl=null,Pa=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function PE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dg=F.S;F.S=function(t,n){$y=Xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&LE(t,n),dg!==null&&dg(t,n)};var $r=O(null);function gf(){var t=$r.current;return t!==null?t:ct.pooledCache}function Ku(t,n){n===null?ne($r,$r.current):ne($r,n.pool)}function mg(){var t=gf();return t===null?null:{parent:Ot._currentValue,pool:t}}var za=Error(r(460)),yf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(si,si),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_g(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_g(t),t}throw Jr=n,za}}function Zr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Jr=a,za):a}}var Jr=null;function yg(){if(Jr===null)throw Error(r(459));var t=Jr;return Jr=null,t}function _g(t){if(t===za||t===Xu)throw Error(r(483))}var Ba=null,al=0;function Zu(t){var n=al;return al+=1,Ba===null&&(Ba=[]),gg(Ba,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ju(t,n){throw n.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vg(t){function n(V,k){if(t){var U=V.deletions;U===null?(V.deletions=[k],V.flags|=16):U.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)n(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=Zi(V,k),V.index=0,V.sibling=null,V}function f(V,k,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<k?(V.flags|=67108866,k):U):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function _(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,U,K){return k===null||k.tag!==6?(k=rf(U,V.mode,K),k.return=V,k):(k=h(k,U),k.return=V,k)}function C(V,k,U,K){var ve=U.type;return ve===ee?G(V,k,U.props.children,K,U.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Zr(ve)===k.type)?(k=h(k,U.props),ol(k,U),k.return=V,k):(k=Fu(U.type,U.key,U.props,null,V.mode,K),ol(k,U),k.return=V,k)}function z(V,k,U,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=af(U,V.mode,K),k.return=V,k):(k=h(k,U.children||[]),k.return=V,k)}function G(V,k,U,K,ve){return k===null||k.tag!==7?(k=Yr(U,V.mode,K,ve),k.return=V,k):(k=h(k,U),k.return=V,k)}function X(V,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=rf(""+k,V.mode,U),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return U=Fu(k.type,k.key,k.props,null,V.mode,U),ol(U,k),U.return=V,U;case J:return k=af(k,V.mode,U),k.return=V,k;case A:return k=Zr(k),X(V,k,U)}if(Et(k)||j(k))return k=Yr(k,V.mode,U,null),k.return=V,k;if(typeof k.then=="function")return X(V,Zu(k),U);if(k.$$typeof===Y)return X(V,Qu(V,k),U);Ju(V,k)}return null}function B(V,k,U,K){var ve=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ve!==null?null:E(V,k,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===ve?C(V,k,U,K):null;case J:return U.key===ve?z(V,k,U,K):null;case A:return U=Zr(U),B(V,k,U,K)}if(Et(U)||j(U))return ve!==null?null:G(V,k,U,K,null);if(typeof U.then=="function")return B(V,k,Zu(U),K);if(U.$$typeof===Y)return B(V,k,Qu(V,U),K);Ju(V,U)}return null}function H(V,k,U,K,ve){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(U)||null,E(k,V,""+K,ve);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return V=V.get(K.key===null?U:K.key)||null,C(k,V,K,ve);case J:return V=V.get(K.key===null?U:K.key)||null,z(k,V,K,ve);case A:return K=Zr(K),H(V,k,U,K,ve)}if(Et(K)||j(K))return V=V.get(U)||null,G(k,V,K,ve,null);if(typeof K.then=="function")return H(V,k,U,Zu(K),ve);if(K.$$typeof===Y)return H(V,k,U,Qu(k,K),ve);Ju(k,K)}return null}function de(V,k,U,K){for(var ve=null,$e=null,ge=k,Me=k=0,ze=null;ge!==null&&Me<U.length;Me++){ge.index>Me?(ze=ge,ge=null):ze=ge.sibling;var Ze=B(V,ge,U[Me],K);if(Ze===null){ge===null&&(ge=ze);break}t&&ge&&Ze.alternate===null&&n(V,ge),k=f(Ze,k,Me),$e===null?ve=Ze:$e.sibling=Ze,$e=Ze,ge=ze}if(Me===U.length)return a(V,ge),Ge&&Ji(V,Me),ve;if(ge===null){for(;Me<U.length;Me++)ge=X(V,U[Me],K),ge!==null&&(k=f(ge,k,Me),$e===null?ve=ge:$e.sibling=ge,$e=ge);return Ge&&Ji(V,Me),ve}for(ge=o(ge);Me<U.length;Me++)ze=H(ge,V,Me,U[Me],K),ze!==null&&(t&&ze.alternate!==null&&ge.delete(ze.key===null?Me:ze.key),k=f(ze,k,Me),$e===null?ve=ze:$e.sibling=ze,$e=ze);return t&&ge.forEach(function(ir){return n(V,ir)}),Ge&&Ji(V,Me),ve}function we(V,k,U,K){if(U==null)throw Error(r(151));for(var ve=null,$e=null,ge=k,Me=k=0,ze=null,Ze=U.next();ge!==null&&!Ze.done;Me++,Ze=U.next()){ge.index>Me?(ze=ge,ge=null):ze=ge.sibling;var ir=B(V,ge,Ze.value,K);if(ir===null){ge===null&&(ge=ze);break}t&&ge&&ir.alternate===null&&n(V,ge),k=f(ir,k,Me),$e===null?ve=ir:$e.sibling=ir,$e=ir,ge=ze}if(Ze.done)return a(V,ge),Ge&&Ji(V,Me),ve;if(ge===null){for(;!Ze.done;Me++,Ze=U.next())Ze=X(V,Ze.value,K),Ze!==null&&(k=f(Ze,k,Me),$e===null?ve=Ze:$e.sibling=Ze,$e=Ze);return Ge&&Ji(V,Me),ve}for(ge=o(ge);!Ze.done;Me++,Ze=U.next())Ze=H(ge,V,Me,Ze.value,K),Ze!==null&&(t&&Ze.alternate!==null&&ge.delete(Ze.key===null?Me:Ze.key),k=f(Ze,k,Me),$e===null?ve=Ze:$e.sibling=Ze,$e=Ze);return t&&ge.forEach(function(XT){return n(V,XT)}),Ge&&Ji(V,Me),ve}function ut(V,k,U,K){if(typeof U=="object"&&U!==null&&U.type===ee&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var ve=U.key;k!==null;){if(k.key===ve){if(ve=U.type,ve===ee){if(k.tag===7){a(V,k.sibling),K=h(k,U.props.children),K.return=V,V=K;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Zr(ve)===k.type){a(V,k.sibling),K=h(k,U.props),ol(K,U),K.return=V,V=K;break e}a(V,k);break}else n(V,k);k=k.sibling}U.type===ee?(K=Yr(U.props.children,V.mode,K,U.key),K.return=V,V=K):(K=Fu(U.type,U.key,U.props,null,V.mode,K),ol(K,U),K.return=V,V=K)}return _(V);case J:e:{for(ve=U.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(V,k.sibling),K=h(k,U.children||[]),K.return=V,V=K;break e}else{a(V,k);break}else n(V,k);k=k.sibling}K=af(U,V.mode,K),K.return=V,V=K}return _(V);case A:return U=Zr(U),ut(V,k,U,K)}if(Et(U))return de(V,k,U,K);if(j(U)){if(ve=j(U),typeof ve!="function")throw Error(r(150));return U=ve.call(U),we(V,k,U,K)}if(typeof U.then=="function")return ut(V,k,Zu(U),K);if(U.$$typeof===Y)return ut(V,k,Qu(V,U),K);Ju(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(V,k.sibling),K=h(k,U),K.return=V,V=K):(a(V,k),K=rf(U,V.mode,K),K.return=V,V=K),_(V)):a(V,k)}return function(V,k,U,K){try{al=0;var ve=ut(V,k,U,K);return Ba=null,ve}catch(ge){if(ge===za||ge===Xu)throw ge;var $e=Nn(29,ge,null,V.mode);return $e.lanes=K,$e.return=V,$e}finally{}}}var Wr=vg(!0),bg=vg(!1),zs=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Hu(t),ig(t,null,a),n}return qu(t,o,n,a),Hu(t)}function ll(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,kr(t,a)}}function bf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ef=!1;function ul(){if(Ef){var t=Ua;if(t!==null)throw t}}function cl(t,n,a,o){Ef=!1;var h=t.updateQueue;zs=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,_===null?f=z:_.next=z,_=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;_=0,G=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ue&B)===B:(o&B)===B){B!==0&&B===Pa&&(Ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var de=t,we=E;B=n;var ut=a;switch(we.tag){case 1:if(de=we.payload,typeof de=="function"){X=de.call(ut,X,B);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=we.payload,B=typeof de=="function"?de.call(ut,X,B):de,B==null)break e;X=S({},X,B);break e;case 2:zs=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,C=X):G=G.next=H,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Qs|=_,t.lanes=_,t.memoizedState=X}}function Eg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Eg(a[t],n)}var qa=O(null),Wu=O(0);function wg(t,n){t=us,ne(Wu,t),ne(qa,n),us=t|n.baseLanes}function Tf(){ne(Wu,us),ne(qa,qa.current)}function wf(){us=Wu.current,Q(qa),Q(Wu)}var Dn=O(null),Xn=null;function Hs(t){var n=t.alternate;ne(Rt,Rt.current&1),ne(Dn,t),Xn===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(Xn=t)}function Sf(t){ne(Rt,Rt.current),ne(Dn,t),Xn===null&&(Xn=t)}function Sg(t){t.tag===22?(ne(Rt,Rt.current),ne(Dn,t),Xn===null&&(Xn=t)):Fs()}function Fs(){ne(Rt,Rt.current),ne(Dn,Dn.current)}function kn(t){Q(Dn),Xn===t&&(Xn=null),Q(Rt)}var Rt=O(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nd(a)||Dd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,De=null,ot=null,Mt=null,tc=!1,Ha=!1,ea=!1,nc=0,hl=0,Fa=null,UE=0;function wt(){throw Error(r(321))}function Af(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Cn(t[a],n[a]))return!1;return!0}function xf(t,n,a,o,h,f){return ts=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?oy:Bf,ea=!1,f=a(o,h),ea=!1,Ha&&(f=xg(n,a,o,h)),Ag(t),f}function Ag(t){F.H=ml;var n=ot!==null&&ot.next!==null;if(ts=0,Mt=ot=De=null,tc=!1,hl=0,Fa=null,n)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Yu(t)&&(Vt=!0))}function xg(t,n,a,o){De=t;var h=0;do{if(Ha&&(Fa=null),hl=0,Ha=!1,25<=h)throw Error(r(301));if(h+=1,Mt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ly,f=n(a,o)}while(Ha);return f}function zE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(De.flags|=1024),n}function Rf(){var t=nc!==0;return nc=0,t}function If(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Cf(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}ts=0,Mt=ot=De=null,Ha=!1,hl=nc=0,Fa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?De.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function It(){if(ot===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Mt===null?De.memoizedState:Mt.next;if(n!==null)Mt=n,ot=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Mt===null?De.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Fa===null&&(Fa=[]),t=gg(Fa,t,n),n=De,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?oy:Bf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===Y)return Wt(t)}throw Error(r(438,String(t)))}function Nf(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ic(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function ns(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=It();return Df(n,ot,t)}function Df(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,C=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ue&X)===X:(ts&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Pa&&(G=!0);else if((ts&B)===B){z=z.next,B===Pa&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,_=f):C=C.next=X,De.lanes|=B,Qs|=B;X=z.action,ea&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,_=f):C=C.next=B,De.lanes|=X,Qs|=X;z=z.next}while(z!==null&&z!==n);if(C===null?_=f:C.next=E,!Cn(f,t.memoizedState)&&(Vt=!0,G&&(a=Ua,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function kf(t){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Cn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Rg(t,n,a){var o=De,h=It(),f=Ge;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!Cn((ot||h).memoizedState,a);if(_&&(h.memoizedState=a,Vt=!0),h=h.queue,Vf(Ng.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,{destroy:void 0},Cg.bind(null,o,h,a,n),null),ct===null)throw Error(r(349));f||(ts&127)!==0||Ig(o,n,a)}return a}function Ig(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=ic(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cg(t,n,a,o){n.value=a,n.getSnapshot=o,Dg(n)&&kg(t)}function Ng(t,n,a){return a(function(){Dg(n)&&kg(t)})}function Dg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Cn(t,a)}catch{return!0}}function kg(t){var n=Gr(t,2);n!==null&&Tn(n,t,2)}function Of(t){var n=mn();if(typeof t=="function"){var a=t;if(t=a(),ea){pn(!0);try{a()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function Og(t,n,a,o){return t.baseState=a,Df(t,ot,typeof o=="function"?o:ns)}function BE(t,n,a,o,h){if(lc(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Mg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Mg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var E=a(h,o),C=F.S;C!==null&&C(_,E),Vg(t,n,E)}catch(z){Mf(t,n,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),Vg(t,n,f)}catch(z){Mf(t,n,z)}}function Vg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){jg(t,n,o)},function(o){return Mf(t,n,o)}):jg(t,n,a)}function jg(t,n,a){n.status="fulfilled",n.value=a,Lg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mg(t,a)))}function Mf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==o)}t.action=null}function Lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pg(t,n){return n}function Ug(t,n){if(Ge){var a=ct.formState;if(a!==null){e:{var o=De;if(Ge){if(dt){t:{for(var h=dt,f=Kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=$n(h.nextSibling),o=h.data==="F!";break e}}Ps(o)}o=!1}o&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:n},a.queue=o,a=sy.bind(null,De,o),o.dispatch=a,o=Of(!1),f=zf.bind(null,De,!1,o.queue),o=mn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=BE.bind(null,De,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function zg(t){var n=It();return Bg(n,ot,t)}function Bg(t,n,a){if(n=Df(t,n,Pg)[0],t=rc(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=fl(n)}catch(_){throw _===za?Xu:_}else o=n;n=It();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,Ga(9,{destroy:void 0},qE.bind(null,h,a),null)),[o,f,t]}function qE(t,n){t.action=n}function qg(t){var n=It(),a=ot;if(a!==null)return Bg(n,a,t);It(),n=n.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ga(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=ic(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Hg(){return It().memoizedState}function ac(t,n,a,o){var h=mn();De.flags|=t,h.memoizedState=Ga(1|n,{destroy:void 0},a,o===void 0?null:o)}function oc(t,n,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&Af(o,ot.memoizedState.deps)?h.memoizedState=Ga(n,f,a,o):(De.flags|=t,h.memoizedState=Ga(1|n,f,a,o))}function Fg(t,n){ac(8390656,8,t,n)}function Vf(t,n){oc(2048,8,t,n)}function HE(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=ic(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Gg(t){var n=It().memoizedState;return HE({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Yg(t,n){return oc(4,2,t,n)}function Qg(t,n){return oc(4,4,t,n)}function Kg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xg(t,n,a){a=a!=null?a.concat([t]):null,oc(4,4,Kg.bind(null,n,t),a)}function jf(){}function $g(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Af(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Zg(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Af(n,o[1]))return o[0];if(o=t(),ea){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o}function Lf(t,n,a){return a===void 0||(ts&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Jy(),De.lanes|=t,Qs|=t,a)}function Jg(t,n,a,o){return Cn(a,n)?a:qa.current!==null?(t=Lf(t,a,o),Cn(t,n)||(Vt=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=a):(t=Jy(),De.lanes|=t,Qs|=t,n)}function Wg(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,zf(t,!1,n,a);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=PE(C,o);dl(t,n,G,Vn(t))}else dl(t,n,o,Vn(t))}catch(X){dl(t,n,{then:function(){},status:"rejected",reason:X},Vn())}finally{ie.p=f,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function FE(){}function Pf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=ey(t).queue;Wg(t,h,n,ye,a===null?FE:function(){return ty(t),a(o)})}function ey(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ty(t){var n=ey(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},Vn())}function Uf(){return Wt(Nl)}function ny(){return It().memoizedState}function iy(){return It().memoizedState}function GE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vn();t=Bs(a);var o=qs(n,t,a);o!==null&&(Tn(o,n,a),ll(o,n,a)),n={cache:mf()},t.payload=n;return}n=n.return}}function YE(t,n,a){var o=Vn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?ry(n,a):(a=nf(t,n,a,o),a!==null&&(Tn(a,t,o),ay(a,n,o)))}function sy(t,n,a){var o=Vn();dl(t,n,a,o)}function dl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))ry(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,Cn(E,_))return qu(t,n,h,0),ct===null&&Bu(),!1}catch{}finally{}if(a=nf(t,n,h,o),a!==null)return Tn(a,t,o),ay(a,n,o),!0}return!1}function zf(t,n,a,o){if(o={lane:2,revertLane:_d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(n)throw Error(r(479))}else n=nf(t,a,o,2),n!==null&&Tn(n,t,2)}function lc(t){var n=t.alternate;return t===De||n!==null&&n===De}function ry(t,n){Ha=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ay(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,kr(t,a)}}var ml={readContext:Wt,use:sc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};ml.useEffectEvent=wt;var oy={readContext:Wt,use:sc,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Fg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Kg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var a=mn();n=n===void 0?null:n;var o=t();if(ea){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=mn();if(a!==void 0){var h=a(n);if(ea){pn(!0);try{a(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=YE.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,a=sy.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,n){var a=mn();return Lf(a,t,n)},useTransition:function(){var t=Of(!1);return t=Wg.bind(null,De,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=De,h=mn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ct===null)throw Error(r(349));(Ue&127)!==0||Ig(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Fg(Ng.bind(null,o,f,t),[t]),o.flags|=2048,Ga(9,{destroy:void 0},Cg.bind(null,o,f,a,n),null),a},useId:function(){var t=mn(),n=ct.identifierPrefix;if(Ge){var a=Mi,o=Oi;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=nc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=UE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var n=mn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zf.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return mn().memoizedState=GE.bind(null,De)},useEffectEvent:function(t){var n=mn(),a={impl:t};return n.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Bf={readContext:Wt,use:sc,useCallback:$g,useContext:Wt,useEffect:Vf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Zg,useReducer:rc,useRef:Hg,useState:function(){return rc(ns)},useDebugValue:jf,useDeferredValue:function(t,n){var a=It();return Jg(a,ot.memoizedState,t,n)},useTransition:function(){var t=rc(ns)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:Uf,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var a=It();return Og(a,ot,t,n)},useMemoCache:Nf,useCacheRefresh:iy};Bf.useEffectEvent=Gg;var ly={readContext:Wt,use:sc,useCallback:$g,useContext:Wt,useEffect:Vf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Zg,useReducer:kf,useRef:Hg,useState:function(){return kf(ns)},useDebugValue:jf,useDeferredValue:function(t,n){var a=It();return ot===null?Lf(a,t,n):Jg(a,ot.memoizedState,t,n)},useTransition:function(){var t=kf(ns)[0],n=It().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:Uf,useFormState:qg,useActionState:qg,useOptimistic:function(t,n){var a=It();return ot!==null?Og(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:iy};ly.useEffectEvent=Gg;function qf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Vn(),h=Bs(o);h.payload=n,a!=null&&(h.callback=a),n=qs(t,h,o),n!==null&&(Tn(n,t,o),ll(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Vn(),h=Bs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=qs(t,h,o),n!==null&&(Tn(n,t,o),ll(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Vn(),o=Bs(a);o.tag=2,n!=null&&(o.callback=n),n=qs(t,o,a),n!==null&&(Tn(n,t,a),ll(n,t,a))}};function uy(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!el(a,o)||!el(h,f):!0}function cy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Hf.enqueueReplaceState(n,n.state,null)}function ta(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){zu(t)}function fy(t){console.error(t)}function dy(t){zu(t)}function uc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(t,n,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,n)},a}function py(t){return t=Bs(t),t.tag=3,t}function gy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){my(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){my(n,a,o),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function QE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&La(n,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?Ec():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),pd(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),pd(t,o,h)),!1}throw Error(r(435,a.tag))}return pd(t,o,h),Ec(),!1}if(Ge)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==uf&&(t=Error(r(422),{cause:o}),il(Gn(t,a)))):(o!==uf&&(n=Error(r(423),{cause:o}),il(Gn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Gn(o,a),h=Ff(t.stateNode,o,h),bf(t,h),St!==4&&(St=2)),!1;var f=Error(r(520),{cause:o});if(f=Gn(f,a),Tl===null?Tl=[f]:Tl.push(f),St!==4&&(St=2),n===null)return!0;o=Gn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ff(a.stateNode,o,t),bf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),gy(h,t,a,o),bf(a,h),!1}a=a.return}while(a!==null);return!1}var Gf=Error(r(461)),Vt=!1;function en(t,n,a,o){n.child=t===null?bg(n,null,a,o):Wr(n,t.child,a,o)}function yy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Xr(n),o=xf(t,n,a,_,f,h),E=Rf(),t!==null&&!Vt?(If(t,n,h),is(t,n,h)):(Ge&&E&&of(n),n.flags|=1,en(t,n,o,h),n.child)}function _y(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,vy(t,n,f,o,h)):(t=Fu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Wf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(_,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Zi(f,o),t.ref=n.ref,t.return=n,n.child=t}function vy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(el(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Wf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,is(t,n,h)}return Yf(t,n,a,o,h)}function by(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ey(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(n,f!==null?f.cachePool:null),f!==null?wg(n,f):Tf(),Sg(n);else return o=n.lanes=536870912,Ey(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ku(n,f.cachePool),wg(n,f),Fs(),n.memoizedState=null):(t!==null&&Ku(n,null),Tf(),Fs());return en(t,n,h,a),n.child}function pl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ey(t,n,a,o,h){var f=gf();return f=f===null?null:{parent:Ot._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ku(n,null),Tf(),Sg(n),t!==null&&La(t,n,o,!0),n.childLanes=h,null}function cc(t,n){return n=fc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ty(t,n,a){return Wr(n,t.child,null,a),t=cc(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function KE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,pl(null,t);if(Sf(n),(t=dt)?(t=M0(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=n,n.child=a,Jt=n,dt=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return cc(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Sf(n),h)if(n.flags&256)n.flags&=-257,n=Ty(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Vt||La(t,n,a,!1),h=(a&t.childLanes)!==0,Vt||h){if(o=ct,o!==null&&(_=Or(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Gr(t,_),Tn(o,t,_),Gf;Ec(),n=Ty(t,n,a)}else t=f.treeContext,dt=$n(_.nextSibling),Jt=n,Ge=!0,Ls=null,Kn=!1,t!==null&&lg(n,t),n=cc(n,o),n.flags|=4096;return n}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function hc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Yf(t,n,a,o,h){return Xr(n),a=xf(t,n,a,o,void 0,h),o=Rf(),t!==null&&!Vt?(If(t,n,h),is(t,n,h)):(Ge&&o&&of(n),n.flags|=1,en(t,n,a,h),n.child)}function wy(t,n,a,o,h,f){return Xr(n),n.updateQueue=null,a=xg(n,o,a,h),Ag(t),o=Rf(),t!==null&&!Vt?(If(t,n,f),is(t,n,f)):(Ge&&o&&of(n),n.flags|=1,en(t,n,a,f),n.child)}function Sy(t,n,a,o,h){if(Xr(n),n.stateNode===null){var f=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Wt(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},_f(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Wt(_):Oa,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(qf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Hf.enqueueReplaceState(f,f.state,null),cl(n,o,f,h),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ta(a,E);f.props=C;var z=f.context,G=a.contextType;_=Oa,typeof G=="object"&&G!==null&&(_=Wt(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==_)&&cy(n,f,o,_),zs=!1;var B=n.memoizedState;f.state=B,cl(n,o,f,h),ul(),z=n.memoizedState,E||B!==z||zs?(typeof X=="function"&&(qf(n,a,X,o),z=n.memoizedState),(C=zs||uy(n,a,C,o,B,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,vf(t,n),_=n.memoizedProps,G=ta(a,_),f.props=G,X=n.pendingProps,B=f.context,z=a.contextType,C=Oa,typeof z=="object"&&z!==null&&(C=Wt(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||B!==C)&&cy(n,f,o,C),zs=!1,B=n.memoizedState,f.state=B,cl(n,o,f,h),ul();var H=n.memoizedState;_!==X||B!==H||zs||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(qf(n,a,E,o),H=n.memoizedState),(G=zs||uy(n,a,G,o,B,H,C)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,hc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Wr(n,t.child,null,h),n.child=Wr(n,null,a,h)):en(t,n,a,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function Ay(t,n,a,o){return Qr(),n.flags|=256,en(t,n,a,o),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:mg()}}function Xf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Mn),t}function xy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Hs(n):Fs(),(t=dt)?(t=M0(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=n,n.child=a,Jt=n,dt=null)):t=null,t===null)throw Ps(n);return Dd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Fs(),h=n.mode,E=fc({mode:"hidden",children:E},h),o=Yr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Kf(a),o.childLanes=Xf(t,_,a),n.memoizedState=Qf,pl(null,o)):(Hs(n),$f(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Zf(t,n,a)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),E=o.fallback,h=n.mode,o=fc({mode:"visible",children:o.children},h),E=Yr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Wr(n,t.child,null,a),o=n.child,o.memoizedState=Kf(a),o.childLanes=Xf(t,_,a),n.memoizedState=Qf,n=pl(null,o));else if(Hs(n),Dd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,il({value:o,source:null,stack:null}),n=Zf(t,n,a)}else if(Vt||La(t,n,a,!1),_=(a&t.childLanes)!==0,Vt||_){if(_=ct,_!==null&&(o=Or(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Gr(t,o),Tn(_,t,o),Gf;Nd(E)||Ec(),n=Zf(t,n,a)}else Nd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,dt=$n(E.nextSibling),Jt=n,Ge=!0,Ls=null,Kn=!1,t!==null&&lg(n,t),n=$f(n,o.children),n.flags|=4096);return n}return h?(Fs(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Zi(z,E):(E=Yr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,pl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Kf(a):(h=E.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=mg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Xf(t,_,a),n.memoizedState=Qf,pl(t.child,o)):(Hs(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function $f(t,n){return n=fc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fc(t,n){return t=Nn(22,t,null,n),t.lanes=0,t}function Zf(t,n,a){return Wr(n,t.child,null,a),t=$f(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ff(t.return,n,a)}function Jf(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Iy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Rt.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,ne(Rt,_),en(t,n,o,a),o=Ge?nl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,n);else if(t.tag===19)Ry(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Jf(n,!0,a,null,f,o);break;case"together":Jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Qs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(La(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Wf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function XE(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),Us(n,Ot,t.memoizedState.cache),Qr();break;case 27:case 5:Gi(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Hs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?xy(t,n,a):(Hs(n),t=is(t,n,a),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(La(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Iy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Rt,Rt.current),o)break;return null;case 22:return n.lanes=0,by(t,n,a,n.pendingProps);case 24:Us(n,Ot,t.memoizedState.cache)}return is(t,n,a)}function Cy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Wf(t,a)&&(n.flags&128)===0)return Vt=!1,XE(t,n,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ge&&(n.flags&1048576)!==0&&og(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Zr(n.elementType),n.type=t,typeof t=="function")sf(t)?(o=ta(t,o),n.tag=1,n=Sy(null,n,t,o,a)):(n.tag=0,n=Yf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ae){n.tag=11,n=yy(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=_y(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return Yf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=ta(o,n.pendingProps),Sy(t,n,o,h,a);case 3:e:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,vf(t,n),cl(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Us(n,Ot,o),o!==f.cache&&df(n,[Ot],a,!0),ul(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ay(t,n,o,a);break e}else if(o!==h){h=Gn(Error(r(424)),n),il(h),n=Ay(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=$n(t.firstChild),Jt=n,Ge=!0,Ls=null,Kn=!0,a=bg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qr(),o===h){n=is(t,n,a);break e}en(t,n,o,a)}n=n.child}return n;case 26:return hc(t,n),t===null?(a=z0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ge||(a=n.type,t=n.pendingProps,o=Ic(xe.current).createElement(a),o[Nt]=n,o[Gt]=t,tn(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=z0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Gi(n),t===null&&Ge&&(o=n.stateNode=L0(n.type,n.pendingProps,xe.current),Jt=n,Kn=!0,h=dt,Js(n.type)?(kd=h,dt=$n(o.firstChild)):dt=h),en(t,n,n.pendingProps.children,a),hc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=dt)&&(o=AT(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,Jt=n,dt=$n(o.firstChild),Kn=!1,h=!0):h=!1),h||Ps(n)),Gi(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Rd(h,f)?o=null:_!==null&&Rd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=xf(t,n,zE,null,null,a),Nl._currentValue=h),hc(t,n),en(t,n,o,a),n.child;case 6:return t===null&&Ge&&((t=a=dt)&&(a=xT(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Jt=n,dt=null,t=!0):t=!1),t||Ps(n)),null;case 13:return xy(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Wr(n,null,o,a):en(t,n,o,a),n.child;case 11:return yy(t,n,n.type,n.pendingProps,a);case 7:return en(t,n,n.pendingProps,a),n.child;case 8:return en(t,n,n.pendingProps.children,a),n.child;case 12:return en(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),en(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Xr(n),h=Wt(h),o=o(h),n.flags|=1,en(t,n,o,a),n.child;case 14:return _y(t,n,n.type,n.pendingProps,a);case 15:return vy(t,n,n.type,n.pendingProps,a);case 19:return Iy(t,n,a);case 31:return KE(t,n,a);case 22:return by(t,n,a,n.pendingProps);case 24:return Xr(n),o=Wt(Ot),t===null?(h=gf(),h===null&&(h=ct,f=mf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},_f(n),Us(n,Ot,h)):((t.lanes&a)!==0&&(vf(t,n),cl(n,null,null,a),ul()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Ot,o)):(o=f.cache,Us(n,Ot,o),o!==h.cache&&df(n,[Ot],a,!0))),en(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ss(t){t.flags|=4}function ed(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(n0())t.flags|=8192;else throw Jr=$u,yf}else t.flags&=-16777217}function Ny(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!G0(n))if(n0())t.flags|=8192;else throw Jr=$u,yf}function dc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_i():536870912,t.lanes|=n,Xa|=n)}function gl(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function $E(t,n,a){var o=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Ot),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cf())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(mt(n),Ny(n,f)):(mt(n),ed(n,h,null,o,a))):f?f!==t.memoizedState?(ss(n),mt(n),Ny(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),mt(n),ed(n,h,t,o,a)),null;case 27:if(vs(n),a=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}t=le.current,ja(n)?ug(n):(t=L0(h,o,a),n.stateNode=t,ss(n))}return mt(n),null;case 5:if(vs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}if(f=le.current,ja(n))ug(n);else{var _=Ic(xe.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Nt]=n,f[Gt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(tn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return mt(n),ed(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=xe.current,ja(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||x0(t.nodeValue,a)),t||Ps(n,!0)}else t=Ic(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return mt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=ja(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else a=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return mt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Nt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),dc(n,n.updateQueue),mt(n),null);case 4:return tt(),t===null&&Td(n.stateNode.containerInfo),mt(n),null;case 10:return es(n.type),mt(n),null;case 19:if(Q(Rt),o=n.memoizedState,o===null)return mt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)gl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ec(t),f!==null){for(n.flags|=128,gl(o,!1),t=f.updateQueue,n.updateQueue=t,dc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)sg(a,t),a=a.sibling;return ne(Rt,Rt.current&1|2),Ge&&Ji(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Xt()>_c&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,dc(n,t),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return mt(n),null}else 2*Xt()-o.renderingStartTime>_c&&a!==536870912&&(n.flags|=128,h=!0,gl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,a=Rt.current,ne(Rt,h?a&1|2:a&1),Ge&&Ji(n,o.treeForkCount),t):(mt(n),null);case 22:case 23:return kn(n),wf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),a=n.updateQueue,a!==null&&dc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Q($r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),es(Ot),mt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function ZE(t,n){switch(lf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Ot),tt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(r(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Rt),null;case 4:return tt(),null;case 10:return es(n.type),null;case 22:case 23:return kn(n),wf(),t!==null&&Q($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Ot),null;case 25:return null;default:return null}}function Dy(t,n){switch(lf(n),n.tag){case 3:es(Ot),tt();break;case 26:case 27:case 5:vs(n);break;case 4:tt();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:Q(Rt);break;case 10:es(n.type);break;case 22:case 23:kn(n),wf(),t!==null&&Q($r);break;case 24:es(Ot)}}function yl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){st(n,n.return,E)}}function Gs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(G){st(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){st(n,n.return,G)}}function ky(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Tg(n,a)}catch(o){st(t,t.return,o)}}}function Oy(t,n,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function Vi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function My(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function td(t,n,a){try{var o=t.stateNode;vT(o,t.type,a,n),o[Gt]=n}catch(h){st(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=si));else if(o!==4&&(o===27&&Js(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(id(t,n,a),t=t.sibling;t!==null;)id(t,n,a),t=t.sibling}function mc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,n,a),t=t.sibling;t!==null;)mc(t,n,a),t=t.sibling}function jy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,o,a),n[Nt]=t,n[Gt]=a}catch(f){st(t,t.return,f)}}var rs=!1,jt=!1,sd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function JE(t,n){if(t=t.containerInfo,Ad=Vc,t=Xp(t),$h(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,z=0,G=0,X=t,B=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=_+h),X!==f||o!==0&&X.nodeType!==3||(C=_+o),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===a&&++z===h&&(E=_),B===f&&++G===o&&(C=_),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Vc=!1,Qt=n;Qt!==null;)if(n=Qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qt=t;else for(;Qt!==null;){switch(n=Qt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var de=ta(a.type,h);t=o.getSnapshotBeforeUpdate(de,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){st(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Qt=t;break}Qt=n.return}}function Py(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:os(t,a),o&4&&yl(5,a);break;case 1:if(os(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=ta(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}o&64&&ky(a),o&512&&_l(a,a.return);break;case 3:if(os(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tg(t,n)}catch(_){st(a,a.return,_)}}break;case 27:n===null&&o&4&&jy(a);case 26:case 5:os(t,a),n===null&&o&4&&My(a),o&512&&_l(a,a.return);break;case 12:os(t,a);break;case 31:os(t,a),o&4&&By(t,a);break;case 13:os(t,a),o&4&&qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=oT.bind(null,a),RT(t,a))));break;case 22:if(o=a.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||jt,h=rs;var f=jt;rs=o,(jt=n)&&!f?ls(t,a,(a.subtreeFlags&8772)!==0):os(t,a),rs=h,jt=f}break;case 30:break;default:os(t,a)}}function Uy(t){var n=t.alternate;n!==null&&(t.alternate=null,Uy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,_n=!1;function as(t,n,a){for(a=a.child;a!==null;)zy(t,n,a),a=a.sibling}function zy(t,n,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount($t,a)}catch{}switch(a.tag){case 26:jt||Vi(a,n),as(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Vi(a,n);var o=yt,h=_n;Js(a.type)&&(yt=a.stateNode,_n=!1),as(t,n,a),Rl(a.stateNode),yt=o,_n=h;break;case 5:jt||Vi(a,n);case 6:if(o=yt,h=_n,yt=null,as(t,n,a),yt=o,_n=h,yt!==null)if(_n)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{yt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:yt!==null&&(_n?(t=yt,k0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):k0(yt,a.stateNode));break;case 4:o=yt,h=_n,yt=a.stateNode.containerInfo,_n=!0,as(t,n,a),yt=o,_n=h;break;case 0:case 11:case 14:case 15:Gs(2,a,n),jt||Gs(4,a,n),as(t,n,a);break;case 1:jt||(Vi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Oy(a,n,o)),as(t,n,a);break;case 21:as(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,as(t,n,a),jt=o;break;default:as(t,n,a)}}function By(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){st(n,n.return,a)}}}function qy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){st(n,n.return,a)}}function WE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ly),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ly),n;default:throw Error(r(435,t.tag))}}function pc(t,n){var a=WE(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=lT.bind(null,t,o);o.then(h,h)}})}function vn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){yt=E.stateNode,_n=!1;break e}break;case 5:yt=E.stateNode,_n=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,_n=!0;break e}E=E.return}if(yt===null)throw Error(r(160));zy(f,_,h),yt=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Hy(n,t),n=n.sibling}var ci=null;function Hy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),bn(t),o&4&&(Gs(3,t,t.return),yl(3,t),Gs(5,t,t.return));break;case 1:vn(n,t),bn(t),o&512&&(jt||a===null||Vi(a,a.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ci;if(vn(n,t),bn(t),o&512&&(jt||a===null||Vi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),tn(f,o,a),f[Nt]=t,Dt(f),o=f;break e;case"link":var _=H0("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;case"meta":if(_=H0("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),tn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Nt]=t,Dt(f),o=f}t.stateNode=o}else F0(h,t.type,t.stateNode);else t.stateNode=q0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?F0(h,t.type,t.stateNode):q0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&td(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(n,t),bn(t),o&512&&(jt||a===null||Vi(a,a.return)),a!==null&&o&4&&td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(n,t),bn(t),o&512&&(jt||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(de){st(t,t.return,de)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,td(t,h,a!==null?a.memoizedProps:h)),o&1024&&(sd=!0);break;case 6:if(vn(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(de){st(t,t.return,de)}}break;case 3:if(Dc=null,h=ci,ci=Cc(n.containerInfo),vn(n,t),ci=h,bn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(de){st(t,t.return,de)}sd&&(sd=!1,Fy(t));break;case 4:o=ci,ci=Cc(t.stateNode.containerInfo),vn(n,t),bn(t),ci=o;break;case 12:vn(n,t),bn(t);break;case 31:vn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:vn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=Xt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=rs,G=jt;if(rs=z||h,jt=G||C,vn(n,t),jt=G,rs=z,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||rs||jt||na(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(de){st(C,C.return,de)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(de){st(C,C.return,de)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?O0(H,!0):O0(C.stateNode,!1)}catch(de){st(C,C.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:vn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:vn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Vy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=nd(t);mc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(yn(_,""),a.flags&=-33);var E=nd(t);mc(t,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,z=nd(t);id(t,z,C);break;default:throw Error(r(161))}}catch(G){st(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Py(t,n.alternate,n),n=n.sibling}function na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),na(n);break;case 1:Vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Oy(n,n.return,a),na(n);break;case 27:Rl(n.stateNode);case 26:case 5:Vi(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}t=t.sibling}}function ls(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,a),yl(4,f);break;case 1:if(ls(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Eg(C[h],E)}catch(z){st(o,o.return,z)}}a&&_&64&&ky(f),_l(f,f.return);break;case 27:jy(f);case 26:case 5:ls(h,f,a),a&&o===null&&_&4&&My(f),_l(f,f.return);break;case 12:ls(h,f,a);break;case 31:ls(h,f,a),a&&_&4&&By(h,f);break;case 13:ls(h,f,a),a&&_&4&&qy(h,f);break;case 22:f.memoizedState===null&&ls(h,f,a),_l(f,f.return);break;case 30:break;default:ls(h,f,a)}n=n.sibling}}function rd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function ad(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function hi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gy(t,n,a,o),n=n.sibling}function Gy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,a,o),h&2048&&yl(9,n);break;case 1:hi(t,n,a,o);break;case 3:hi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(h&2048){hi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(n,n.return,C)}}else hi(t,n,a,o);break;case 31:hi(t,n,a,o);break;case 13:hi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,a,o):vl(t,n):f._visibility&2?hi(t,n,a,o):(f._visibility|=2,Ya(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&rd(_,n);break;case 24:hi(t,n,a,o),h&2048&&ad(n.alternate,n);break;default:hi(t,n,a,o)}}function Ya(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=a,C=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ya(f,_,E,C,h),yl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Ya(f,_,E,C,h):vl(f,_):(G._visibility|=2,Ya(f,_,E,C,h)),h&&z&2048&&rd(_.alternate,_);break;case 24:Ya(f,_,E,C,h),h&&z&2048&&ad(_.alternate,_);break;default:Ya(f,_,E,C,h)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:vl(a,o),h&2048&&rd(o.alternate,o);break;case 24:vl(a,o),h&2048&&ad(o.alternate,o);break;default:vl(a,o)}n=n.sibling}}var bl=8192;function Qa(t,n,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)Yy(t,n,a),t=t.sibling}function Yy(t,n,a){switch(t.tag){case 26:Qa(t,n,a),t.flags&bl&&t.memoizedState!==null&&UT(a,ci,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,a);break;case 3:case 4:var o=ci;ci=Cc(t.stateNode.containerInfo),Qa(t,n,a),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=bl,bl=16777216,Qa(t,n,a),bl=o):Qa(t,n,a));break;default:Qa(t,n,a)}}function Qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qt=o,Xy(o,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gc(t)):El(t);break;default:El(t)}}function gc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Qt=o,Xy(o,t)}Qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),gc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gc(n));break;default:gc(n)}t=t.sibling}}function Xy(t,n){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:Gs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Qt=o;else e:for(a=t;Qt!==null;){o=Qt;var h=o.sibling,f=o.return;if(Uy(o),o===a){Qt=null;break e}if(h!==null){h.return=f,Qt=h;break e}Qt=f}}}var eT={getCacheForType:function(t){var n=Wt(Ot),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Wt(Ot).controller.signal}},tT=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Le=null,Ue=0,it=0,On=null,Ys=!1,Ka=!1,od=!1,us=0,St=0,Qs=0,ia=0,ld=0,Mn=0,Xa=0,Tl=null,En=null,ud=!1,yc=0,$y=0,_c=1/0,vc=null,Ks=null,Bt=0,Xs=null,$a=null,cs=0,cd=0,hd=null,Zy=null,wl=0,fd=null;function Vn(){return(We&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?_d():Un()}function Jy(){if(Mn===0)if((Ue&536870912)===0||Ge){var t=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),Mn=t}else Mn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Mn}function Tn(t,n,a){(t===ct&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Za(t,0),$s(t,Ue,Mn,!1)),xn(t,a),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(ia|=a),St===4&&$s(t,Ue,Mn,!1)),ji(t))}function Wy(t,n,a){if((We&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Xe(t,n),h=o?sT(t,n):md(t,n,!0),f=o;do{if(h===0){Ka&&!o&&$s(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!nT(a)){h=md(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=Tl;var C=E.current.memoizedState.isDehydrated;if(C&&(Za(E,_).flags|=256),_=md(E,_,!1),_!==2){if(od&&!C){E.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),$s(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:$s(o,n,Mn,!Ys);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=yc+300-Xt(),10<h)){if($s(o,n,Mn,!Ys),Oe(o,0,!0)!==0)break e;cs=n,o.timeoutHandle=N0(e0.bind(null,o,a,En,vc,ud,n,Mn,ia,Xa,Ys,f,"Throttled",-0,0),h);break e}e0(o,a,En,vc,ud,n,Mn,ia,Xa,Ys,f,null,-0,0)}}break}while(!0);ji(t)}function e0(t,n,a,o,h,f,_,E,C,z,G,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Yy(n,f,X);var de=(f&62914560)===f?yc-Xt():(f&4194048)===f?$y-Xt():0;if(de=zT(X,de),de!==null){cs=f,t.cancelPendingCommit=de(l0.bind(null,t,n,f,a,o,h,_,E,C,G,X,null,B,H)),$s(t,f,_,!z);return}}l0(t,n,f,a,o,h,_,E,C)}function nT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,a,o){n&=~ld,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&vi(t,a,n)}function bc(){return(We&6)===0?(Sl(0),!1):!0}function dd(){if(Le!==null){if(it===0)var t=Le.return;else t=Le,Wi=Kr=null,Cf(t),Ba=null,al=0,t=Le;for(;t!==null;)Dy(t.alternate,t),t=t.return;Le=null}}function Za(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,TT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cs=0,dd(),ct=t,Le=a=Zi(t.current,null),Ue=n,it=0,On=null,Ys=!1,Ka=Xe(t,n),od=!1,Xa=Mn=ld=ia=Qs=St=0,En=Tl=null,ud=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_t(o),f=1<<h;n|=t[h],o&=~f}return us=n,Bu(),a}function t0(t,n){De=null,F.H=ml,n===za||n===Xu?(n=yg(),it=3):n===yf?(n=yg(),it=4):it=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Le===null&&(St=1,uc(t,Gn(n,t.current)))}function n0(){var t=Dn.current;return t===null?!0:(Ue&4194048)===Ue?Xn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Xn:!1}function i0(){var t=F.H;return F.H=ml,t===null?ml:t}function s0(){var t=F.A;return F.A=eT,t}function Ec(){St=4,Ys||(Ue&4194048)!==Ue&&Dn.current!==null||(Ka=!0),(Qs&134217727)===0&&(ia&134217727)===0||ct===null||$s(ct,Ue,Mn,!1)}function md(t,n,a){var o=We;We|=2;var h=i0(),f=s0();(ct!==t||Ue!==n)&&(vc=null,Za(t,n)),n=!1;var _=St;e:do try{if(it!==0&&Le!==null){var E=Le,C=On;switch(it){case 8:dd(),_=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var z=it;if(it=0,On=null,Ja(t,E,C,z),a&&Ka){_=0;break e}break;default:z=it,it=0,On=null,Ja(t,E,C,z)}}iT(),_=St;break}catch(G){t0(t,G)}while(!0);return n&&t.shellSuspendCounter++,Wi=Kr=null,We=o,F.H=h,F.A=f,Le===null&&(ct=null,Ue=0,Bu()),_}function iT(){for(;Le!==null;)r0(Le)}function sT(t,n){var a=We;We|=2;var o=i0(),h=s0();ct!==t||Ue!==n?(vc=null,_c=Xt()+500,Za(t,n)):Ka=Xe(t,n);e:do try{if(it!==0&&Le!==null){n=Le;var f=On;t:switch(it){case 1:it=0,On=null,Ja(t,n,f,1);break;case 2:case 9:if(pg(f)){it=0,On=null,a0(n);break}n=function(){it!==2&&it!==9||ct!==t||(it=7),ji(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:pg(f)?(it=0,On=null,a0(n)):(it=0,On=null,Ja(t,n,f,7));break;case 5:var _=null;switch(Le.tag){case 26:_=Le.memoizedState;case 5:case 27:var E=Le;if(_?G0(_):E.stateNode.complete){it=0,On=null;var C=E.sibling;if(C!==null)Le=C;else{var z=E.return;z!==null?(Le=z,Tc(z)):Le=null}break t}}it=0,On=null,Ja(t,n,f,5);break;case 6:it=0,On=null,Ja(t,n,f,6);break;case 8:dd(),St=6;break e;default:throw Error(r(462))}}rT();break}catch(G){t0(t,G)}while(!0);return Wi=Kr=null,F.H=o,F.A=h,We=a,Le!==null?0:(ct=null,Ue=0,Bu(),St)}function rT(){for(;Le!==null&&!Vo();)r0(Le)}function r0(t){var n=Cy(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?Tc(t):Le=n}function a0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=wy(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=wy(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Cf(n);default:Dy(a,n),n=Le=sg(n,us),n=Cy(a,n,us)}t.memoizedProps=t.pendingProps,n===null?Tc(t):Le=n}function Ja(t,n,a,o){Wi=Kr=null,Cf(n),Ba=null,al=0;var h=n.return;try{if(QE(t,h,n,a,Ue)){St=1,uc(t,Gn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;St=1,uc(t,Gn(a,t.current)),Le=null;return}n.flags&32768?(Ge||o===1?t=!0:Ka||(Ue&536870912)!==0?t=!1:(Ys=t=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),o0(n,t)):Tc(n)}function Tc(t){var n=t;do{if((n.flags&32768)!==0){o0(n,Ys);return}t=n.return;var a=$E(n.alternate,n,us);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);St===0&&(St=5)}function o0(t,n){do{var a=ZE(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);St=6,Le=null}function l0(t,n,a,o,h,f,_,E,C){t.cancelPendingCommit=null;do wc();while(Bt!==0);if((We&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=tf,jo(t,a,f,_,E,C),t===ct&&(Le=ct=null,Ue=0),$a=n,Xs=t,cs=a,cd=f,hd=h,Zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uT(Pn,function(){return d0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ie.p,ie.p=2,_=We,We|=4;try{JE(t,n,a)}finally{We=_,ie.p=h,F.T=o}}Bt=1,u0(),c0(),h0()}}function u0(){if(Bt===1){Bt=0;var t=Xs,n=$a,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=ie.p;ie.p=2;var h=We;We|=4;try{Hy(n,t);var f=xd,_=Xp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Kp(E.ownerDocument.documentElement,E)){if(C!==null&&$h(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),de=E.textContent.length,we=Math.min(C.start,de),ut=C.end===void 0?we:Math.min(C.end,de);!H.extend&&we>ut&&(_=ut,ut=we,we=_);var V=Qp(E,we),k=Qp(E,ut);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var U=X.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),we>ut?(H.addRange(U),H.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),H.addRange(U))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Vc=!!Ad,xd=Ad=null}finally{We=h,ie.p=o,F.T=a}}t.current=n,Bt=2}}function c0(){if(Bt===2){Bt=0;var t=Xs,n=$a,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=ie.p;ie.p=2;var h=We;We|=4;try{Py(t,n.alternate,n)}finally{We=h,ie.p=o,F.T=a}}Bt=3}}function h0(){if(Bt===4||Bt===3){Bt=0,Ts();var t=Xs,n=$a,a=cs,o=Zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,$a=Xs=null,f0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),ti(a),n=n.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot($t,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{F.T=n,ie.p=h}}(cs&3)!==0&&wc(),ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===fd?wl++:(wl=0,fd=t):wl=0,Sl(0)}}function f0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function wc(){return u0(),c0(),h0(),d0()}function d0(){if(Bt!==5)return!1;var t=Xs,n=cd;cd=0;var a=ti(cs),o=F.T,h=ie.p;try{ie.p=32>a?32:a,F.T=null,a=hd,hd=null;var f=Xs,_=cs;if(Bt=0,$a=Xs=null,cs=0,(We&6)!==0)throw Error(r(331));var E=We;if(We|=4,Ky(f.current),Gy(f,f.current,_,a),We=E,Sl(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot($t,f)}catch{}return!0}finally{ie.p=h,F.T=o,f0(t,n)}}function m0(t,n,a){n=Gn(a,n),n=Ff(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(xn(t,2),ji(t))}function st(t,n,a){if(t.tag===3)m0(t,t,a);else for(;n!==null;){if(n.tag===3){m0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ks===null||!Ks.has(o))){t=Gn(a,t),a=py(2),o=qs(n,a,2),o!==null&&(gy(a,o,n,t),xn(o,2),ji(o));break}}n=n.return}}function pd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new tT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(od=!0,h.add(a),t=aT.bind(null,t,n,a),n.then(t,t))}function aT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(Ue&a)===a&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Xt()-yc?(We&2)===0&&Za(t,0):ld|=a,Xa===Ue&&(Xa=0)),ji(t)}function p0(t,n){n===0&&(n=_i()),t=Gr(t,n),t!==null&&(xn(t,n),ji(t))}function oT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),p0(t,a)}function lT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),p0(t,a)}function uT(t,n){return At(t,n)}var Sc=null,Wa=null,gd=!1,Ac=!1,yd=!1,Zs=0;function ji(t){t!==Wa&&t.next===null&&(Wa===null?Sc=Wa=t:Wa=Wa.next=t),Ac=!0,gd||(gd=!0,hT())}function Sl(t,n){if(!yd&&Ac){yd=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,v0(o,f))}else f=Ue,f=Oe(o,o===ct?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xe(o,f)||(a=!0,v0(o,f));o=o.next}while(a);yd=!1}}function cT(){g0()}function g0(){Ac=gd=!1;var t=0;Zs!==0&&ET()&&(t=Zs);for(var n=Xt(),a=null,o=Sc;o!==null;){var h=o.next,f=y0(o,n);f===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Wa=a)):(a=o,(t!==0||(f&3)!==0)&&(Ac=!0)),o=h}Bt!==0&&Bt!==5||Sl(t),Zs!==0&&(Zs=0)}function y0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=an(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ct,a=Ue,a=Oe(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Wn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xe(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Wn(o),ti(a)){case 2:case 8:a=yi;break;case 32:a=Pn;break;case 268435456:a=Nr;break;default:a=Pn}return o=_0.bind(null,t),a=At(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Wn(o),t.callbackPriority=2,t.callbackNode=null,2}function _0(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var o=Ue;return o=Oe(t,t===ct?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,n),y0(t,Xt()),t.callbackNode!=null&&t.callbackNode===a?_0.bind(null,t):null)}function v0(t,n){if(wc())return null;Wy(t,n,!0)}function hT(){wT(function(){(We&6)!==0?At(ws,cT):g0()})}function _d(){if(Zs===0){var t=Pa;t===0&&(t=me,me<<=1,(me&261888)===0&&(me=256)),Zs=t}return Zs}function b0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function E0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function fT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=b0((h[Gt]||null).action),_=o.submitter;_&&(n=(n=_[Gt]||null)?b0(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ci("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var C=_?E0(h,_):new FormData(h);Pf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?E0(h,_):new FormData(h),Pf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var vd=0;vd<ef.length;vd++){var bd=ef[vd],dT=bd.toLowerCase(),mT=bd[0].toUpperCase()+bd.slice(1);ui(dT,"on"+mT)}ui(Jp,"onAnimationEnd"),ui(Wp,"onAnimationIteration"),ui(eg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(NE,"onTransitionRun"),ui(DE,"onTransitionStart"),ui(kE,"onTransitionCancel"),ui(tg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function T0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){zu(G)}h.currentTarget=null,f=C}}}}function Pe(t,n){var a=n[_a];a===void 0&&(a=n[_a]=new Set);var o=t+"__bubble";a.has(o)||(w0(n,t,2,!1),a.add(o))}function Ed(t,n,a){var o=0;n&&(o|=4),w0(a,t,o,n)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[xc]){t[xc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(pT.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[xc]||(n[xc]=!0,Ed("selectionchange",!1,n))}}function w0(t,n,a,o){switch(J0(n)){case 2:var h=HT;break;case 8:h=FT;break;default:h=Ld}a=h.bind(null,n,a,t),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function wd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=Ti(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue e}E=E.parentNode}}o=o.return}ks(function(){var z=f,G=Bn(a),X=[];e:{var B=ng.get(t);if(B!==void 0){var H=Ci,de=t;switch(t){case"keypress":if(Ur(a)===0)break e;case"keydown":case"keyup":H=Lu;break;case"focusin":de="focus",H=Br;break;case"focusout":de="blur",H=Br;break;case"beforeblur":case"afterblur":H=Br;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Jp:case Wp:case eg:H=Nu;break;case tg:H=w;break;case"scroll":case"scrollend":H=Xo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=Ne}var we=(n&4)!==0,ut=!we&&(t==="scroll"||t==="scrollend"),V=we?B!==null?B+"Capture":null:B;we=[];for(var k=z,U;k!==null;){var K=k;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||V===null||(K=ri(k,V),K!=null&&we.push(xl(k,K,U))),ut)break;k=k.return}0<we.length&&(B=new H(B,de,null,a,G),X.push({event:B,listeners:we}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Yo&&(de=a.relatedTarget||a.fromElement)&&(Ti(de)||de[bi]))break e;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(de=a.relatedTarget||a.toElement,H=z,de=de?Ti(de):null,de!==null&&(ut=c(de),we=de.tag,de!==ut||we!==5&&we!==27&&we!==6)&&(de=null)):(H=null,de=z),H!==de)){if(we=$o,K="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(we=$i,K="onPointerLeave",V="onPointerEnter",k="pointer"),ut=H==null?B:Rn(H),U=de==null?B:Rn(de),B=new we(K,k+"leave",H,a,G),B.target=ut,B.relatedTarget=U,K=null,Ti(G)===z&&(we=new we(V,k+"enter",de,a,G),we.target=U,we.relatedTarget=ut,K=we),ut=K,H&&de)t:{for(we=gT,V=H,k=de,U=0,K=V;K;K=we(K))U++;K=0;for(var ve=k;ve;ve=we(ve))K++;for(;0<U-K;)V=we(V),U--;for(;0<K-U;)k=we(k),K--;for(;U--;){if(V===k||k!==null&&V===k.alternate){we=V;break t}V=we(V),k=we(k)}we=null}else we=null;H!==null&&S0(X,B,H,we,!1),de!==null&&ut!==null&&S0(X,ut,de,we,!0)}}e:{if(B=z?Rn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var $e=Bp;else if(Up(B))if(qp)$e=RE;else{$e=AE;var ge=SE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ta(z.elementType)&&($e=Bp):$e=xE;if($e&&($e=$e(t,z))){zp(X,$e,a,G);break e}ge&&ge(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(ge=z?Rn(z):window,t){case"focusin":(Up(ge)||ge.contentEditable==="true")&&(Na=ge,Zh=z,tl=null);break;case"focusout":tl=Zh=Na=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,$p(X,a,G);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":$p(X,a,G)}var Me;if(Je)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ca?qr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(ki&&a.locale!=="ko"&&(Ca||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ca&&(Me=Ko()):(Ii=G,Qo="value"in Ii?Ii.value:Ii.textContent,Ca=!0)),ge=Rc(z,ze),0<ge.length&&(ze=new Di(ze,t,null,a,G),X.push({event:ze,listeners:ge}),Me?ze.data=Me:(Me=Ia(a),Me!==null&&(ze.data=Me)))),(Me=Hn?bE(t,a):EE(t,a))&&(ze=Rc(z,"onBeforeInput"),0<ze.length&&(ge=new Di("onBeforeInput","beforeinput",null,a,G),X.push({event:ge,listeners:ze}),ge.data=Me)),fT(X,t,z,a,G)}T0(X,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Rc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ri(t,a),h!=null&&o.unshift(xl(t,h,f)),h=ri(t,n),h!=null&&o.push(xl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function gT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S0(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=ri(a,f),z!=null&&_.unshift(xl(a,z,C))):h||(z=ri(a,f),z!=null&&_.push(xl(a,z,C)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var yT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function A0(t){return(typeof t=="string"?t:""+t).replace(yT,`
`).replace(_T,"")}function x0(t,n){return n=A0(n),A0(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":In(t,"class",o);break;case"tabIndex":In(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,o);break;case"style":Go(t,o,f);break;case"data":if(n!=="object"){In(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=wa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=si);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ba(t,"popover",o);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ba(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,ba(t,a,o))}}function Sd(t,n,a,o,h,f){switch(a){case"style":Go(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ba(t,a,o)}}}function tn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,_,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":Pe("invalid",t);var E=f=_=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:lt(t,n,o,G,a,null)}}Su(t,f,E,C,z,_,h,!1);return;case"select":Pe("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:lt(t,n,h,E,a,null)}n=f,a=_,t.multiple=!!o,n!=null?Is(t,!!o,n,!1):a!=null&&Is(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:lt(t,n,_,E,a,null)}Cs(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:lt(t,n,C,o,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<Al.length;o++)Pe(Al[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,z,o,a,null)}return;default:if(Ta(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Sd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&lt(t,n,E,o,a,null))}function vT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,C=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||lt(t,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&lt(t,n,B,H,o,X)}}Ea(t,_,E,C,z,G,f,h);return;case"select":H=_=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&lt(t,n,h,f,o,C)}n=E,a=_,o=H,B!=null?Is(t,!!a,B,!1):!!o!=!!a&&(n!=null?Is(t,!!a,n,!0):Is(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,_,h,o,f)}Au(t,B,H);return;case"option":for(var de in a)if(B=a[de],a.hasOwnProperty(de)&&B!=null&&!o.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:lt(t,n,de,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:lt(t,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)B=a[we],a.hasOwnProperty(we)&&B!=null&&!o.hasOwnProperty(we)&&lt(t,n,we,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,z,B,o,H)}return;default:if(Ta(n)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&Sd(t,n,ut,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Sd(t,n,G,B,o,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&lt(t,n,V,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||lt(t,n,X,B,o,H)}function R0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&R0(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var G=C.transferSize,X=C.initiatorType;G&&R0(X)&&(C=C.responseEnd,_+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,xd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function I0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function ET(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var N0=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,wT=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(t){return D0.resolve(null).then(t).catch(ST)}:N0;function ST(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function k0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),io(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);io(n)}function O0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Cd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function AT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function xT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function M0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function Dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function RT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var kd=null;function V0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return $n(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function j0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function L0(t,n,a){switch(n=Ic(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var Zn=new Map,P0=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=ie.d;ie.d={f:IT,r:CT,D:NT,C:DT,L:kT,m:OT,X:VT,S:MT,M:jT};function IT(){var t=hs.f(),n=bc();return t||n}function CT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?ty(n):hs.r(t)}var eo=typeof document>"u"?null:document;function U0(t,n,a){var o=eo;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P0.has(h)||(P0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function NT(t){hs.D(t),U0("dns-prefetch",t,null)}function DT(t,n){hs.C(t,n),U0("preconnect",t,n)}function kT(t,n,a){hs.L(t,n,a);var o=eo;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=to(t);break;case"script":f=no(t)}Zn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Zn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Il(f))||n==="script"&&o.querySelector(Cl(f))||(n=o.createElement("link"),tn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function OT(t,n){hs.m(t,n);var a=eo;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!Zn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Zn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(f)))return}o=a.createElement("link"),tn(o,"link",t),Dt(o),a.head.appendChild(o)}}}function MT(t,n,a){hs.S(t,n,a);var o=eo;if(o&&t){var h=wi(o).hoistableStyles,f=to(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Il(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Zn.get(f))&&Od(t,a);var C=_=o.createElement("link");Dt(C),tn(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function VT(t,n){hs.X(t,n);var a=eo;if(a&&t){var o=wi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=S({src:t,async:!0},n),(n=Zn.get(h))&&Md(t,n),f=a.createElement("script"),Dt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function jT(t,n){hs.M(t,n);var a=eo;if(a&&t){var o=wi(a).hoistableScripts,h=no(t),f=o.get(h);f||(f=a.querySelector(Cl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&Md(t,n),f=a.createElement("script"),Dt(f),tn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function z0(t,n,a,o){var h=(h=xe.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=to(a.href),a=wi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var f=wi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Il(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),f||LT(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(a),a=wi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function to(t){return'href="'+gn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function B0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function LT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tn(n,"link",a),Dt(n),t.head.appendChild(n))}function no(t){return'[src="'+gn(t)+'"]'}function Cl(t){return"script[async]"+t}function q0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),tn(o,"style",h),Nc(o,a.precedence,t),n.instance=o;case"stylesheet":h=to(a.href);var f=t.querySelector(Il(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=B0(a),(h=Zn.get(h))&&Od(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),tn(f,"link",o),n.state.loading|=4,Nc(f,a.precedence,t),n.instance=f;case"script":return f=no(a.src),(h=t.querySelector(Cl(f)))?(n.instance=h,Dt(h),h):(o=a,(h=Zn.get(f))&&(o=S({},a),Md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),tn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,a.precedence,t));return n.instance}function Nc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Dc=null;function H0(t,n,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ei]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function F0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function PT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function G0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function UT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(o.href),f=n.querySelector(Il(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=kc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=n.ownerDocument||n,o=B0(o),(h=Zn.get(h))&&Od(o,h),f=f.createElement("link"),Dt(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),tn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=kc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Vd=0;function zT(t,n){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Vd===0&&(Vd=62500*bT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Vd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Mc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,n.forEach(BT,t),Oc=null,kc.call(t))}function BT(t,n){if(!(n.state.loading&4)){var a=Oc.get(t);if(a)var o=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=kc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function qT(t,n,a,o,h,f,_,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fn(0),this.hiddenUpdates=fn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Y0(t,n,a,o,h,f,_,E,C,z,G,X){return t=new qT(t,n,a,_,C,z,G,X,E),n=1,f===!0&&(n|=24),f=Nn(3,null,null,n),t.current=f,f.stateNode=t,n=mf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},_f(f),t}function Q0(t){return t?(t=Oa,t):Oa}function K0(t,n,a,o,h,f){h=Q0(h),o.context===null?o.context=h:o.pendingContext=h,o=Bs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=qs(t,o,n),a!==null&&(Tn(a,t,n),ll(a,t,n))}function X0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function jd(t,n){X0(t,n),(t=t.alternate)&&X0(t,n)}function $0(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&Tn(n,t,67108864),jd(t,67108864)}}function Z0(t){if(t.tag===13||t.tag===31){var n=Vn();n=ei(n);var a=Gr(t,n);a!==null&&Tn(a,t,n),jd(t,n)}}var Vc=!0;function HT(t,n,a,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=2,Ld(t,n,a,o)}finally{ie.p=f,F.T=h}}function FT(t,n,a,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=8,Ld(t,n,a,o)}finally{ie.p=f,F.T=h}}function Ld(t,n,a,o){if(Vc){var h=Pd(o);if(h===null)wd(t,n,o,jc,a),W0(t,o);else if(YT(h,t,n,a,o))o.stopPropagation();else if(W0(t,o),n&4&&-1<GT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ke(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-_t(_);E.entanglements[1]|=C,_&=~C}ji(f),(We&6)===0&&(_c=Xt()+500,Sl(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&Tn(E,f,2),bc(),jd(f,2)}if(f=Pd(o),f===null&&wd(t,n,o,jc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else wd(t,n,o,null,a)}}function Pd(t){return t=Bn(t),Ud(t)}var jc=null;function Ud(t){if(jc=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return jc=t,null}function J0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case ws:return 2;case yi:return 8;case Pn:case Ss:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var zd=!1,Ws=null,er=null,tr=null,Dl=new Map,kl=new Map,nr=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Ol(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&$0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function YT(t,n,a,o,h){switch(n){case"focusin":return Ws=Ol(Ws,t,n,a,o,h),!0;case"dragenter":return er=Ol(er,t,n,a,o,h),!0;case"mouseover":return tr=Ol(tr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Dl.set(f,Ol(Dl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,kl.set(f,Ol(kl.get(f)||null,t,n,a,o,h)),!0}return!1}function e_(t){var n=Ti(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ni(t.priority,function(){Z0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,ni(t.priority,function(){Z0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Yo=o,a.target.dispatchEvent(o),Yo=null}else return n=zn(a),n!==null&&$0(n),t.blockedOn=a,!1;n.shift()}return!0}function t_(t,n,a){Lc(t)&&a.delete(n)}function QT(){zd=!1,Ws!==null&&Lc(Ws)&&(Ws=null),er!==null&&Lc(er)&&(er=null),tr!==null&&Lc(tr)&&(tr=null),Dl.forEach(t_),kl.forEach(t_)}function Pc(t,n){t.blockedOn===n&&(t.blockedOn=null,zd||(zd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,QT)))}var Uc=null;function n_(t){Uc!==t&&(Uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Ud(o||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,Pf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function io(t){function n(C){return Pc(C,t)}Ws!==null&&Pc(Ws,t),er!==null&&Pc(er,t),tr!==null&&Pc(tr,t),Dl.forEach(n),kl.forEach(n);for(var a=0;a<nr.length;a++){var o=nr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&nr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Gt]||null;if(typeof f=="function")_||n_(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Gt]||null)E=_.formAction;else if(Ud(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),n_(a)}}}function i_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Bd(t){this._internalRoot=t}zc.prototype.render=Bd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Vn();K0(a,o,t,n,null,null)},zc.prototype.unmount=Bd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;K0(t.current,2,null,t,null,null),bc(),n[bi]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Un();t={blockedOn:null,target:t,priority:n};for(var a=0;a<nr.length&&n!==0&&n<nr[a].priority;a++);nr.splice(a,0,t),a===0&&e_(t)}};var s_=e.version;if(s_!=="19.2.0")throw Error(r(527,s_,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var KT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{$t=Bc.inject(KT),ft=Bc}catch{}}return Vl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=hy,f=fy,_=dy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Y0(t,1,!1,null,null,a,o,null,h,f,_,i_),t[bi]=n.current,Td(t),new Bd(n)},Vl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=hy,_=fy,E=dy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Y0(t,1,!0,n,a??null,o,h,C,f,_,E,i_),n.context=Q0(null),a=n.current,o=Vn(),o=ei(o),h=Bs(o),h.callback=null,qs(a,h,o),a=o,n.current.lanes=a,xn(n,a),ji(n),t[bi]=n.current,Td(t),new zc(n)},Vl.version="19.2.0",Vl}var m_;function sw(){if(m_)return Fd.exports;m_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=iw(),Fd.exports}var rw=sw();const aw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ow=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),p_=s=>{const e=ow(s);return e.charAt(0).toUpperCase()+e.slice(1)},$v=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),lw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cw=fe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>fe.createElement("svg",{ref:g,...uw,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:$v("lucide",l),...!c&&!lw(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>fe.createElement(y,T)),...Array.isArray(c)?c:[c]]));const ke=(s,e)=>{const i=fe.forwardRef(({className:r,...l},c)=>fe.createElement(cw,{ref:c,iconNode:e,className:$v(`lucide-${aw(p_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=p_(s),i};const hw=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],fw=ke("arrow-down-a-z",hw);const dw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mw=ke("arrow-left",dw);const pw=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ou=ke("briefcase",pw);const gw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pm=ke("calendar",gw);const yw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_w=ke("camera",yw);const vw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sh=ke("check",vw);const bw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ew=ke("chevron-right",bw);const Tw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ww=ke("circle-alert",Tw);const Sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Aw=ke("circle-plus",Sw);const xw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Rw=ke("cloud-upload",xw);const Iw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Cw=ke("coffee",Iw);const Nw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dw=ke("download",Nw);const kw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ow=ke("external-link",kw);const Mw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Vw=ke("house",Mw);const jw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zv=ke("image",jw);const Lw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pw=ke("info",Lw);const Uw=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Um=ke("link",Uw);const zw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Bw=ke("list",zw);const qw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hw=ke("lock",qw);const Fw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gw=ke("log-out",Fw);const Yw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qw=ke("mail",Yw);const Kw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xw=ke("map-pin",Kw);const $w=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Zw=ke("map",$w);const Jw=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],Ww=ke("move-vertical",Jw);const e2=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jv=ke("pen-line",e2);const t2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zm=ke("pencil",t2);const n2=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],cm=ke("plane",n2);const i2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ah=ke("plus",i2);const s2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ao=ke("refresh-cw",s2);const r2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],a2=ke("save",r2);const o2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l2=ke("settings",o2);const u2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],lu=ke("shopping-bag",u2);const c2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h2=ke("square-check-big",c2);const f2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],d2=ke("sun",f2);const m2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Bm=ke("tag",m2);const p2=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],g2=ke("tram-front",p2);const y2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uu=ke("trash-2",y2);const _2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v2=ke("triangle-alert",_2);const b2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wv=ke("upload",b2);const E2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],T2=ke("user",E2);const w2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sr=ke("x",w2);const S2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],qm=ke("zoom-in",S2),A2=()=>{};var g_={};const e1=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},x2=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},t1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let R=(p&15)<<2|y>>6,P=y&63;g||(P=64,d||(R=64)),r.push(i[T],i[S],i[R],i[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(e1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):x2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new R2;const R=c<<2|p>>4;if(r.push(R),y!==64){const P=p<<4&240|y>>2;if(r.push(P),S!==64){const J=y<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I2=function(s){const e=e1(s);return t1.encodeByteArray(e,!0)},ah=function(s){return I2(s).replace(/\./g,"")},n1=function(s){try{return t1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function C2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const N2=()=>C2().__FIREBASE_DEFAULTS__,D2=()=>{if(typeof process>"u"||typeof g_>"u")return;const s=g_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},k2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&n1(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return A2()||N2()||D2()||k2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},i1=s=>xh()?.emulatorHosts?.[s],O2=s=>{const e=i1(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},s1=()=>xh()?.config,r1=s=>xh()?.[`_${s}`];class M2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function xo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a1(s){return(await fetch(s,{credentials:"include"})).ok}function V2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(i)),ah(JSON.stringify(d)),""].join(".")}const Fl={};function j2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?s.emulator.push(e):s.prod.push(e);return s}function L2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let y_=!1;function o1(s,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Fl[s]===e||Fl[s]||y_)return;Fl[s]=e;function i(R){return`__firebase__banner__${R}`}const r="__firebase__banner",c=j2().prod.length>0;function d(){const R=document.getElementById(r);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{y_=!0,d()},R}function T(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=L2(r),P=i("text"),J=document.getElementById(P)||document.createElement("span"),ee=i("learnmore"),W=document.getElementById(ee)||document.createElement("a"),oe=i("preprendIcon"),ce=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const Y=R.element;p(Y),T(W,ee);const ae=y();g(ce,oe),Y.append(ce,J,W,ae),document.body.appendChild(Y)}c?(J.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function U2(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function q2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H2(){const s=hn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function F2(){return!U2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G2(){try{return typeof indexedDB=="object"}catch{return!1}}function Y2(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const Q2="FirebaseError";class _s extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Q2,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?K2(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new _s(l,p,r)}}function K2(s,e){return s.replace(X2,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const X2=/\{\$([^}]+)}/g;function $2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function la(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(__(c)&&__(d)){if(!la(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function __(s){return s!==null&&typeof s=="object"}function hu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Pl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Z2(s,e){const i=new J2(s,e);return i.subscribe.bind(i)}class J2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");W2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Kd),l.error===void 0&&(l.error=Kd),l.complete===void 0&&(l.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function Ht(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class eS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new M2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nS(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(s){return s===sa?void 0:s}function nS(s){return s.instantiationMode==="EAGER"}class iS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const sS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},rS=Be.INFO,aS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},oS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=aS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=rS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const lS=(s,e)=>e.some(i=>s instanceof i);let v_,b_;function uS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l1=new WeakMap,hm=new WeakMap,u1=new WeakMap,Xd=new WeakMap,Fm=new WeakMap;function hS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(hr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&l1.set(i,s)}).catch(()=>{}),Fm.set(e,s),e}function fS(s){if(hm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});hm.set(s,e)}let fm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||u1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function dS(s){fm=s(fm)}function mS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call($d(this),e,...i);return u1.set(r,e.sort?e.sort():[e]),hr(r)}:cS().includes(s)?function(...e){return s.apply($d(this),e),hr(l1.get(this))}:function(...e){return hr(s.apply($d(this),e))}}function pS(s){return typeof s=="function"?mS(s):(s instanceof IDBTransaction&&fS(s),lS(s,uS())?new Proxy(s,fm):s)}function hr(s){if(s instanceof IDBRequest)return hS(s);if(Xd.has(s))return Xd.get(s);const e=pS(s);return e!==s&&(Xd.set(s,e),Fm.set(e,s)),e}const $d=s=>Fm.get(s);function gS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=hr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(hr(d.result),g.oldVersion,g.newVersion,hr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const yS=["get","getKey","getAll","getAllKeys","count"],_S=["put","add","delete","clear"],Zd=new Map;function E_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=_S.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||yS.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&g.done]))[0]};return Zd.set(e,c),c}dS(s=>({...s,get:(e,i,r)=>E_(e,i)||s.get(e,i,r),has:(e,i)=>!!E_(e,i)||s.has(e,i)}));class vS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function bS(s){return s.getComponent()?.type==="VERSION"}const dm="@firebase/app",T_="0.14.6";const ms=new Hm("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",wS="@firebase/analytics",SS="@firebase/app-check-compat",AS="@firebase/app-check",xS="@firebase/auth",RS="@firebase/auth-compat",IS="@firebase/database",CS="@firebase/data-connect",NS="@firebase/database-compat",DS="@firebase/functions",kS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",jS="@firebase/messaging-compat",LS="@firebase/performance",PS="@firebase/performance-compat",US="@firebase/remote-config",zS="@firebase/remote-config-compat",BS="@firebase/storage",qS="@firebase/storage-compat",HS="@firebase/firestore",FS="@firebase/ai",GS="@firebase/firestore-compat",YS="firebase",QS="12.6.0";const mm="[DEFAULT]",KS={[dm]:"fire-core",[ES]:"fire-core-compat",[wS]:"fire-analytics",[TS]:"fire-analytics-compat",[AS]:"fire-app-check",[SS]:"fire-app-check-compat",[xS]:"fire-auth",[RS]:"fire-auth-compat",[IS]:"fire-rtdb",[CS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[DS]:"fire-fn",[kS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[jS]:"fire-fcm-compat",[LS]:"fire-perf",[PS]:"fire-perf-compat",[US]:"fire-rc",[zS]:"fire-rc-compat",[BS]:"fire-gcs",[qS]:"fire-gcs-compat",[HS]:"fire-fst",[GS]:"fire-fst-compat",[FS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};const $l=new Map,XS=new Map,pm=new Map;function w_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function go(s){const e=s.name;if(pm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,s);for(const i of $l.values())w_(i,s);for(const i of XS.values())w_(i,s);return!0}function Gm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function fi(s){return s==null?!1:s.settings!==void 0}const $S={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new cu("app","Firebase",$S);class ZS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Ro=QS;function c1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:mm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=s1()),!i)throw fr.create("no-options");const c=$l.get(l);if(c){if(la(i,c.options)&&la(r,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new iS(l);for(const g of pm.values())d.addComponent(g);const p=new ZS(i,r,d);return $l.set(l,p),p}function Ym(s=mm){const e=$l.get(s);if(!e&&s===mm&&s1())return c1();if(!e)throw fr.create("no-app",{appName:s});return e}function JS(){return Array.from($l.values())}function dr(s,e,i){let r=KS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}go(new ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const WS="firebase-heartbeat-database",eA=1,Zl="firebase-heartbeat-store";let Jd=null;function h1(){return Jd||(Jd=gS(WS,eA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function tA(s){try{const i=(await h1()).transaction(Zl),r=await i.objectStore(Zl).get(f1(s));return await i.done,r}catch(e){if(e instanceof _s)ms.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function S_(s,e){try{const r=(await h1()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,f1(s)),await r.done}catch(i){if(i instanceof _s)ms.warn(i.message);else{const r=fr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(r.message)}}}function f1(s){return`${s.name}!${s.options.appId}`}const nA=1024,iA=30;class sA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new aA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>iA){const l=oA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A_(),{heartbeatsToSend:i,unsentEntries:r}=rA(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ms.warn(e),""}}}function A_(){return new Date().toISOString().substring(0,10)}function rA(s,e=nA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),x_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class aA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G2()?Y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function x_(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function oA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function lA(s){go(new ua("platform-logger",e=>new vS(e),"PRIVATE")),go(new ua("heartbeat",e=>new sA(e),"PRIVATE")),dr(dm,T_,s),dr(dm,T_,"esm2020"),dr("fire-js","")}lA("");var uA="firebase",cA="12.6.0";dr(uA,cA,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,d1;(function(){var s;function e(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,D,j){for(var x=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)x[rt-2]=arguments[rt];return A.prototype[D].apply(M,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],D=N.g[2];let j=N.g[3],x;x=A+(j^I&(D^j))+M[0]+3614090360&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(D^A&(I^D))+M[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(I^j&(A^I))+M[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(A^D&(j^A))+M[3]+3250441966&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(j^I&(D^j))+M[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(D^A&(I^D))+M[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(I^j&(A^I))+M[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(A^D&(j^A))+M[7]+4249261313&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(j^I&(D^j))+M[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(D^A&(I^D))+M[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(I^j&(A^I))+M[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(A^D&(j^A))+M[11]+2304563134&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(j^I&(D^j))+M[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=j+(D^A&(I^D))+M[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(I^j&(A^I))+M[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=I+(A^D&(j^A))+M[15]+1236535329&4294967295,I=D+(x<<22&4294967295|x>>>10),x=A+(D^j&(I^D))+M[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(A^I))+M[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(j^A))+M[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(D^j))+M[0]+3921069994&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(I^D))+M[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(A^I))+M[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(j^A))+M[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(D^j))+M[4]+3889429448&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(I^D))+M[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(A^I))+M[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(j^A))+M[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(D^j))+M[8]+1163531501&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(I^D))+M[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=j+(I^D&(A^I))+M[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^I&(j^A))+M[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=I+(j^A&(D^j))+M[12]+2368359562&4294967295,I=D+(x<<20&4294967295|x>>>12),x=A+(I^D^j)+M[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^D)+M[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^I)+M[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^A)+M[14]+4259657740&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(I^D^j)+M[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^D)+M[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^I)+M[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^A)+M[10]+3200236656&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(I^D^j)+M[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^D)+M[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^I)+M[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^A)+M[6]+76029189&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(I^D^j)+M[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=j+(A^I^D)+M[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^I)+M[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=I+(D^j^A)+M[2]+3299628645&4294967295,I=D+(x<<23&4294967295|x>>>9),x=A+(D^(I|~j))+M[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~D))+M[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~I))+M[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~A))+M[5]+4237533241&4294967295,I=D+(x<<21&4294967295|x>>>11),x=A+(D^(I|~j))+M[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~D))+M[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~I))+M[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~A))+M[1]+2240044497&4294967295,I=D+(x<<21&4294967295|x>>>11),x=A+(D^(I|~j))+M[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~D))+M[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~I))+M[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~A))+M[13]+1309151649&4294967295,I=D+(x<<21&4294967295|x>>>11),x=A+(D^(I|~j))+M[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=j+(I^(A|~D))+M[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~I))+M[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=I+(j^(D|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<A;){if(D==0)for(;j<=I;)l(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(M[D++]=N.charCodeAt(j++),D==this.blockSize){l(this,M),D=0;break}}else for(;j<A;)if(M[D++]=N[j++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[A++]=this.g[I]>>>M&255;return N};function c(N,A){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let M=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;M&&j==A||(I[D]=j,M=!1)}this.g=I}var p={};function g(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(y(-N));const A=[];let I=1;for(let M=0;N>=I;M++)A[M]=N/I|0,I*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return W(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let M=S;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+D),A);D<8?(D=y(Math.pow(A,D)),M=M.j(D).add(y(x))):(M=M.j(I),M=M.add(y(x)))}return M}var S=g(0),R=g(1),P=g(16777216);s=d.prototype,s.m=function(){if(ee(this))return-W(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(ee(this))return"-"+W(this).toString(N);const A=y(Math.pow(N,6));var I=this;let M="";for(;;){const D=ae(I,A).g;I=oe(I,D.j(A));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,J(I))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function ee(N){return N.h==-1}s.l=function(N){return N=oe(this,N),ee(N)?-1:J(N)?0:1};function W(N){const A=N.g.length,I=[];for(let M=0;M<A;M++)I[M]=~N.g[M];return new d(I,~N.h).add(R)}s.abs=function(){return ee(this)?W(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let D=0;D<=A;D++){let j=M+(this.i(D)&65535)+(N.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=x>>>16,j&=65535,x&=65535,I[D]=x<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function oe(N,A){return N.add(W(A))}s.j=function(N){if(J(this)||J(N))return S;if(ee(this))return ee(N)?W(this).j(W(N)):W(W(this).j(N));if(ee(N))return W(this.j(W(N)));if(this.l(P)<0&&N.l(P)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const j=this.i(M)>>>16,x=this.i(M)&65535,rt=N.i(D)>>>16,Et=N.i(D)&65535;I[2*M+2*D]+=x*Et,ce(I,2*M+2*D),I[2*M+2*D+1]+=j*Et,ce(I,2*M+2*D+1),I[2*M+2*D+1]+=x*rt,ce(I,2*M+2*D+1),I[2*M+2*D+2]+=j*rt,ce(I,2*M+2*D+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function ce(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Y(N,A){this.g=N,this.h=A}function ae(N,A){if(J(A))throw Error("division by zero");if(J(N))return new Y(S,S);if(ee(N))return A=ae(W(N),A),new Y(W(A.g),W(A.h));if(ee(A))return A=ae(N,W(A)),new Y(W(A.g),A.h);if(N.g.length>30){if(ee(N)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var I=R,M=A;M.l(N)<=0;)I=Ee(I),M=Ee(M);var D=Te(I,1),j=Te(M,1);for(M=Te(M,2),I=Te(I,2);!J(M);){var x=j.add(M);x.l(N)<=0&&(D=D.add(I),j=x),M=Te(M,1),I=Te(I,1)}return A=oe(N,D.j(A)),new Y(D,A)}for(D=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=y(I),x=j.j(A);ee(x)||x.l(N)>0;)I-=M,j=y(I),x=j.j(A);J(j)&&(j=R),D=D.add(j),N=oe(N,x)}return new Y(D,N)}s.B=function(N){return ae(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&N.i(M);return new d(I,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|N.i(M);return new d(I,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^N.i(M);return new d(I,this.h^N.h)};function Ee(N){const A=N.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(I,N.h)}function Te(N,A){const I=A>>5;A%=32;const M=N.g.length-I,D=[];for(let j=0;j<M;j++)D[j]=A>0?N.i(j+I)>>>A|N.i(j+I+1)<<32-A:N.i(j+I);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,d1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,mr=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var m1,Ul,p1,$c,gm,g1,y1,_1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var b=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in b))break e;b=b[L]}u=u[u.length-1],w=b[u],m=m(w),m!=w&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var b=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.push([w,m[w]]);return b}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,b){return u.call.apply(u.bind,arguments)}function y(u,m,b){return y=g,y.apply(null,arguments)}function T(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,L,q){for(var te=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)te[Ne-2]=arguments[Ne];return m.prototype[L].apply(w,te)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const b=Array(m);for(let w=0;w<m;w++)b[w]=u[w];return b}return[]}function J(u,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const q=L.length||0;u.length=b+q;for(let te=0;te<q;te++)u[b+te]=L[te]}else u.push(L)}}class ee{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function oe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,b){const w=Y.get();w.set(m,b),this.h?this.h.next=w:this.g=w,this.h=w}}var Y=new ee(()=>new ae,u=>u.reset());class ae{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Te=!1,N=new ce,A=()=>{const u=Promise.resolve(void 0);Ee=()=>{u.then(I)}};function I(){for(var u;u=oe();){try{u.h.call(u.g)}catch(b){W(b)}var m=Y;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Te=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(rt,D),rt.prototype.init=function(u,m){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,m,b,w,L){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!w,this.ha=L,this.key=++F,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u,m,b){for(const w in u)m.call(b,u[w],w,u)}function Ye(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function O(u){const m={};for(const b in u)m[b]=u[b];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let b,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(b in w)u[b]=w[b];for(let q=0;q<Q.length;q++)b=Q[q],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,b,w,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=xe(u,m,w,L);return te>-1?(m=u[te],b||(m.fa=!1)):(m=new ie(m,this.src,q,!!w,L),m.fa=b,u.push(m)),m};function _e(u,m){const b=m.type;if(b in u.g){var w=u.g[b],L=Array.prototype.indexOf.call(w,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(w,L,1),q&&(ye(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function xe(u,m,b,w){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==w)return L}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ve={};function tt(u,m,b,w,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)tt(u,m[q],b,w,L);return null}return b=Cr(b),u&&u[Et]?u.J(m,b,p(w)?!!w.capture:!1,L):Gi(u,m,b,!1,w,L)}function Gi(u,m,b,w,L,q){if(!m)throw Error("Invalid event type");const te=p(L)?!!L.capture:!!L;let Ne=Yi(u);if(Ne||(u[je]=Ne=new le(u)),b=Ne.add(m,b,w,te,q),b.proxy)return b;if(w=vs(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)j||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),w,L);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function vs(){function u(b){return m.call(u.src,u.listener,b)}const m=Es;return u}function Ft(u,m,b,w,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ft(u,m[q],b,w,L);else w=p(w)?!!w.capture:!!w,b=Cr(b),u&&u[Et]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],b=xe(m,b,w,L),b>-1&&(ye(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Yi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,b,w,L)),(b=u>-1?m[u]:null)&&bs(b))}function bs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])_e(m.i,u);else{var b=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(b,w,u.capture):m.detachEvent?m.detachEvent(Ln(b),w):m.addListener&&m.removeListener&&m.removeListener(w),(b=Yi(m))?(_e(b,u),b.h==0&&(b.src=null,m[je]=null)):ye(u)}}}function Ln(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Es(u,m){if(u.da)u=!0;else{m=new rt(m,this);const b=u.listener,w=u.ha||u.src;u.fa&&bs(u),u=b.call(w,m)}return u}function Yi(u){return u=u[je],u instanceof le?u:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cr(u){return typeof u=="function"?u:(u[Ir]||(u[Ir]=function(m){return u.handleEvent(m)}),u[Ir])}function Tt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}S(Tt,M),Tt.prototype[Et]=!0,Tt.prototype.removeEventListener=function(u,m,b,w){Ft(this,u,m,b,w)};function At(u,m){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(w,u),ne(m,L)}L=!0;let q,te;if(b)for(te=b.length-1;te>=0;te--)q=m.g=b[te],L=Wn(q,w,!0,m)&&L;if(q=m.g=u,L=Wn(q,w,!0,m)&&L,L=Wn(q,w,!1,m)&&L,b)for(te=0;te<b.length;te++)q=m.g=b[te],L=Wn(q,w,!1,m)&&L}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let w=0;w<b.length;w++)ye(b[w]);delete u.g[m],u.h--}}this.G=null},Tt.prototype.J=function(u,m,b,w){return this.i.add(String(u),m,!1,b,w)},Tt.prototype.K=function(u,m,b,w){return this.i.add(String(u),m,!0,b,w)};function Wn(u,m,b,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==b){const Ne=te.listener,xt=te.ha||te.src;te.fa&&_e(u.i,te),L=Ne.call(xt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Vo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ts(u){u.g=Vo(()=>{u.g=null,u.i&&(u.i=!1,Ts(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xt extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ts(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qi(u){M.call(this),this.h=u,this.g={}}S(Qi,M);var ws=[];function yi(u){Fe(u.g,function(m,b){this.g.hasOwnProperty(b)&&bs(m)},u),u.g={}}Qi.prototype.N=function(){Qi.Z.N.call(this),yi(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=d.JSON.stringify,Ss=d.JSON.parse,Nr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function As(){}function Dr(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ft(){D.call(this,"d")}S(ft,D);function pn(){D.call(this,"c")}S(pn,D);var _t={},ya=null;function xs(){return ya=ya||new Tt}_t.Ia="serverreachability";function se(u){D.call(this,_t.Ia,u)}S(se,D);function me(u){const m=xs();At(m,new se(m))}_t.STAT_EVENT="statevent";function pe(u,m){D.call(this,_t.STAT_EVENT,u),this.stat=m}S(pe,D);function re(u){const m=xs();At(m,new pe(m,u))}_t.Ja="timingevent";function Ke(u,m){D.call(this,_t.Ja,u),this.size=m}S(Ke,D);function Oe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xe(){this.g=!0}Xe.prototype.ua=function(){this.g=!1};function an(u,m,b,w,L,q){u.info(function(){if(u.g)if(q){var te="",Ne=q.split("&");for(let Je=0;Je<Ne.length;Je++){var xt=Ne[Je].split("=");if(xt.length>1){const gt=xt[0];xt=xt[1];const Hn=gt.split("_");te=Hn.length>=2&&Hn[1]=="type"?te+(gt+"="+xt+"&"):te+(gt+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+b+`
`+te})}function _i(u,m,b,w,L,q,te){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+b+`
`+q+" "+te})}function fn(u,m,b,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jo(u,b)+(w?" "+w:"")})}function xn(u,m){u.info(function(){return"TIMEOUT: "+m})}Xe.prototype.info=function(){};function jo(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var b=q[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<w.length;te++)w[te]=""}}}}return Pn(q)}catch{return m}}var vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Or;function ei(){}S(ei,As),ei.prototype.g=function(){return new XMLHttpRequest},Or=new ei;function ti(u){return encodeURIComponent(String(u))}function Un(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ni(u,m,b,w){this.j=u,this.i=m,this.l=b,this.S=w||1,this.V=new Qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function bi(u,m,b){u.M=1,u.A=Mr(kt(m)),u.u=b,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Ei(u),u.B=kt(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Ta(b.i,"t",w),u.C=0,b=u.j.L,u.h=new ii,u.g=Vu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Xt(y(u.Y,u,u.g),u.P)),m=u.V,b=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ws[0]=L.toString()),L=ws);for(let q=0;q<L.length;q++){const te=tt(b,L[q],w||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),me(),an(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=ai(this.g),xt=this.g.ya(),Je=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Ne!=4||xt==7||(xt==8||Je<=0?me(3):me(2)),Ti(this);var m=this.g.ca();this.X=m;var b=Qh(this);if(this.o=m==200,_i(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var q=w;break t}}q=null}if(u=q)fn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,re(12),Rn(this),zn(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<b.length;)if(gt=Tu(this,b),gt==Gt){Ne==4&&(this.m=4,re(14),u=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,re(15),fn(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else fn(this.i,this.l,gt,null),wi(this,gt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,re(16),u=!1),this.o=this.o&&u,!u)fn(this.i,this.l,b,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zo(te),te.P=!0,re(11))}}else fn(this.i,this.l,b,null),wi(this,b);Ne==4&&Rn(this),this.o&&!this.K&&(Ne==4?Du(this.j,this):(this.o=!1,Ei(this)))}else Xi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,re(12)):(this.m=0,re(13)),Rn(this),zn(this)}}}catch{}finally{}};function Qh(u){if(!Eu(u))return u.g.la();const m=Zt(u.g);if(m==="")return"";let b="";const w=m.length,L=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),zn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<w;q++)u.h.h=!0,b+=u.h.i.decode(m[q],{stream:!(L&&q==w-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function Eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Tu(u,m){var b=u.C,w=m.indexOf(`
`,b);return w==-1?Gt:(b=Number(m.substring(b,w)),isNaN(b)?Nt:(w+=1,w+b>m.length?Gt:(m=m.slice(w,w+b),u.C=w+b,m)))}ni.prototype.cancel=function(){this.K=!0,Rn(this)};function Ei(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Oe(y(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xn(this.i,this.B),this.M!=2&&(me(),re(17)),Rn(this),this.m=2,zn(this)):va(this,this.T-u)};function zn(u){u.j.I==0||u.K||Du(u.j,u)}function Rn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ai(b.h,u))){if(!u.L&&Ai(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ra(b),Ms(b);else break e;Br(b),re(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Oe(y(b.Va,b),6e3));Si(b.h)<=1&&b.ta&&(b.ta=void 0)}else Di(b,11)}else if((u.L||b.g==u)&&Ra(b),!x(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let Je=L[m];const gt=Je[0];if(!(gt<=b.K))if(b.K=gt,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const Hn=Je[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const ki=Je[4];ki!=null&&(b.za=ki,b.j.info("SVER="+b.za));const oi=Je[5];oi!=null&&typeof oi=="number"&&oi>0&&(w=1.5*oi,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const li=u.g;if(li){const qr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var q=w.h;q.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(w.G){const Ia=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(w.wa=Ia,nt(w.J,w.G,Ia))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var te=u;if(w.na=Mu(w,w.L?w.ba:null,w.W),te.L){zo(w.h,te);var Ne=te,xt=w.O;xt&&(Ne.H=xt),Ne.D&&(Ti(Ne),Ei(Ne)),w.g=te}else Cu(w);b.i.length>0&&Ni(b)}else Je[0]!="stop"&&Je[0]!="close"||Di(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Di(b,7):Xo(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}me(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Lo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Uo(u,m){u.g?u.g.add(m):u.h=m}function zo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Lo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return P(u.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let L,q=null;w>=0?(L=u[b].substring(0,w),q=u[b].substring(w+1)):L=u[b],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Yt(this,u.j),this.o=u.o,this.g=u.g,Rs(this,u.u),this.h=u.h,qo(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(wu))?(this.l=!1,Yt(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Rs(this,m[4]),this.h=xi(m[5]||"",!0),qo(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,Ea,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,Ea,!0),"@"),u.push(ti(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Vr(b,b.charAt(0)=="/"?Ho:Su,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Vr(b,Au)),u.join("")},In.prototype.resolve=function(u){const m=kt(this);let b=!!u.j;b?Yt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var w=u.h;if(b)Rs(m,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let te=0;te<L.length;){const Ne=L[te++];Ne=="."?w&&te==L.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&te==L.length&&q.push("")):(q.push(Ne),w=!0)}w=q.join("/")}else w=L}return b?m.h=w:b=u.i.toString()!=="",b?qo(m,Ru(u.i)):b=!!u.m,b&&(m.m=u.m),m};function kt(u){return new In(u)}function Yt(u,m,b){u.j=b?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function qo(u,m,b){m instanceof Cs?(u.i=m,wa(u.i,u.l)):(b||(m=Vr(m,Is)),u.i=new Cs(m,u.l))}function nt(u,m,b){u.i.set(m,b)}function Mr(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,Su=/[#\?:]/g,Ho=/[#\?]/g,Is=/[#\?@]/g,Au=/#/g;function Cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Cs.prototype,s.add=function(u,m){yn(this),this.i=null,u=Ns(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function xu(u,m){yn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fo(u,m){return yn(u),m=Ns(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(b,w){b.forEach(function(L){u.call(m,L,w,this)},this)},this)};function Go(u,m){yn(u);let b=[];if(typeof m=="string")Fo(u,m)&&(b=b.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return yn(this),this.i=null,u=Ns(this,u),Fo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Go(this,u),u.length>0?String(u[0]):m):m};function Ta(u,m,b){xu(u,m),b.length>0&&(u.i=null,u.g.set(Ns(u,m),P(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var b=m[w];const L=ti(b);b=Go(this,b);for(let q=0;q<b.length;q++){let te=L;b[q]!==""&&(te+="="+ti(b[q])),u.push(te)}}return this.i=u.join("&")};function Ru(u){const m=new Cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wa(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(b,w){const L=w.toLowerCase();w!=L&&(xu(this,w),Ta(this,L,b))},u)),u.j=m}function si(u,m){const b=new Xe;if(d.Image){const w=new Image;w.onload=T(Bn,b,"TestLoadImage: loaded",!0,m,w),w.onerror=T(Bn,b,"TestLoadImage: error",!1,m,w),w.onabort=T(Bn,b,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(Bn,b,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Yo(u,m){const b=new Xe,w=new AbortController,L=setTimeout(()=>{w.abort(),Bn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(q=>{clearTimeout(L),q.ok?Bn(b,"TestPingServer: ok",!0,m):Bn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Bn(b,"TestPingServer: error",!1,m)})}function Bn(u,m,b,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(b)}catch{}}function Ds(){this.g=new Nr}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ri,As),Ri.prototype.g=function(){return new jr(this.i,this.h)};function jr(u,m){Tt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(jr,Tt),s=jr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ks(this):ri(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},s.Na=function(u){this.g&&(this.response=u,ks(this))},s.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qn(u){let m="";return Fe(u,function(b,w){m+=w,m+=":",m+=b,m+=`\r
`}),m}function Lr(u,m,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=qn(b),typeof u=="string"?b!=null&&ti(b):nt(u,m,b))}function at(u){Tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(at,Tt);var Ii=/^https?$/i,Qo=["POST","PUT"];s=at.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Or.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Pr(this,q);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)b.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())b.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Qo,m,void 0)>=0)||w||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of b)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Pr(this,q)}};function Pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ko(u),Ki(u)}function Ko(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,At(this,"complete"),At(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ur(this):this.Xa())},s.Xa=function(){Ur(this)};function Ur(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(At(u,"readystatechange"),ai(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var w;if(w=q===0){let te=String(u.D).match(wu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),w=!Ii.test(te?te.toLowerCase():"")}b=w}if(b)At(u,"complete"),At(u,"success");else{u.o=6;try{var L=ai(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ko(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||At(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ss(m)}};function Zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(x(u[w]))continue;var b=Un(u[w]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[L]||[];m[L]=q,q.push(b)}Ye(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new Xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,w){re(0),this.W=u,this.H=m||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Mu(this,null,this.W),Ni(this)};function Xo(u){if(Aa(u),u.I==3){var m=u.V++,b=kt(u.J);if(nt(b,"SID",u.M),nt(b,"RID",m),nt(b,"TYPE","terminate"),zr(u,b),m=new ni(u,u.j,m),m.M=2,m.A=Mr(kt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Ou(u)}function Ms(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function Aa(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ni(u){if(!Po(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ee||A(),Te||(Ee(),Te=!0),N.add(m,u),u.D=0}}function xa(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Oe(y(u.Ea,u,m),ku(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ni(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Iu(this,L,m),b=kt(this.J),nt(b,"RID",u),nt(b,"CVER",22),this.G&&nt(b,"X-HTTP-Session-Id",this.G),zr(this,b),q&&(this.R?m="headers="+ti(qn(q))+"&"+m:this.u&&Lr(b,this.u,q)),Uo(this.h,L),this.Ra&&nt(b,"TYPE","init"),this.S?(nt(b,"$req",m),nt(b,"SID","null"),L.U=!0,bi(L,b,null)):bi(L,b,m),this.I=2}}else this.I==3&&(u?$o(this,u):this.i.length==0||Po(this.h)||$o(this))};function $o(u,m){var b;m?b=m.l:b=u.V++;const w=kt(u.J);nt(w,"SID",u.M),nt(w,"RID",b),nt(w,"AID",u.K),zr(u,w),u.u&&u.o&&Lr(w,u.u,u.o),b=new ni(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Uo(u.h,b),bi(b,w,m)}function zr(u,m){u.H&&Fe(u.H,function(b,w){nt(m,w,b)}),u.l&&Fe({},function(b,w){nt(m,w,b)})}function Iu(u,m,b){b=Math.min(u.i.length,b);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ne=-1;for(;;){const xt=["count="+b];Ne==-1?b>0?(Ne=L[0].g,xt.push("ofs="+Ne)):Ne=0:xt.push("ofs="+Ne);let Je=!0;for(let gt=0;gt<b;gt++){var q=L[gt].g;const Hn=L[gt].map;if(q-=Ne,q<0)Ne=Math.max(0,L[gt].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var te=Hn instanceof Map?Hn:Object.entries(Hn);for(const[ki,oi]of te){let li=oi;p(oi)&&(li=Pn(oi)),xt.push(q+ki+"="+encodeURIComponent(li))}}catch(ki){throw xt.push(q+"type="+encodeURIComponent("_badmap")),ki}}catch{w&&w(Hn)}}if(Je){te=xt.join("&");break e}}te=void 0}return u=u.i.splice(0,b),m.G=u,te}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ee||A(),Te||(Ee(),Te=!0),N.add(m,u),u.A=0}}function Br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Oe(y(u.Da,u),ku(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Oe(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,re(10),Ms(this),Nu(this))};function Zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=kt(u.na);nt(m,"RID","rpc"),nt(m,"SID",u.M),nt(m,"AID",u.K),nt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(m,"TO",u.ia),nt(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Mr(kt(m)),b.u=null,b.R=!0,_a(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),Br(this),re(19))};function Ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var b=null;if(u.g==m){Ra(u),Zo(u),u.g=null;var w=2}else if(Ai(u.h,m))b=m.G,zo(u.h,m),w=1;else return;if(u.I!=0){if(m.o)if(w==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;w=xs(),At(w,new Ke(w,b)),Ni(u)}else Cu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&xa(u,m)||w==2&&Br(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function ku(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var b=y(u.bb,u),w=u.Ua;const L=!w;w=new In(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Yt(w,"https"),Mr(w),L?si(w.toString(),b):Yo(w.toString(),b)}else re(2);u.I=0,u.l&&u.l.pa(m),Ou(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=Bo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,b){var w=b instanceof In?kt(b):new In(b);if(w.g!="")m&&(w.g=m+"."+w.g),Rs(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new In(null);w&&Yt(q,w),m&&(q.g=m),L&&Rs(q,L),b&&(q.h=b),w=q}return b=u.G,m=u.wa,b&&m&&nt(w,b,m),nt(w,"VER",u.ka),zr(u,w),w}function Vu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new at(new Ri({ab:b})):new at(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){Tt.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(dn,Tt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Xo(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Pn(u),u=b);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Ni(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,dn.Z.N.call(this)};function Lu(u){ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Lu,ft);function Pu(){pn.call(this),this.status=1}S(Pu,pn);function $i(u){this.g=u}S($i,ju),$i.prototype.ra=function(){At(this.g,"a")},$i.prototype.qa=function(u){At(this.g,new Lu(u))},$i.prototype.pa=function(u){At(this.g,new Pu)},$i.prototype.oa=function(){At(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,_1=function(){return new Vs},y1=function(){return xs()},g1=_t,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,$c=vi,kr.COMPLETE="complete",p1=kr,Dr.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ul=Dr,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,m1=at}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",C_="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Io="12.3.0";const ca=new Hm("@firebase/firestore");function so(){return ca.logLevel}function he(s,...e){if(ca.logLevel<=Be.DEBUG){const i=e.map(Qm);ca.debug(`Firestore (${Io}): ${s}`,...i)}}function ps(s,...e){if(ca.logLevel<=Be.ERROR){const i=e.map(Qm);ca.error(`Firestore (${Io}): ${s}`,...i)}}function yo(s,...e){if(ca.logLevel<=Be.WARN){const i=e.map(Qm);ca.warn(`Firestore (${Io}): ${s}`,...i)}}function Qm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,v1(s,r,i)}function v1(s,e,i){let r=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function et(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||v1(e,l,r)}function Ce(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class aa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class b1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(un.UNAUTHENTICATED)))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class dA{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let c=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new aa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new aa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new b1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class mA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new mA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=yA(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function ym(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Wd(l)===Wd(c)?qe(l,c):Wd(l)?1:-1}return qe(s.length,e.length)}const _A=55296,vA=57343;function Wd(s){const e=s.charCodeAt(0);return e>=_A&&e<=vA}function _o(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const D_="__name__";class Li{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Li.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=Li.isNumericId(e),l=Li.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Li.extractNumericId(e).compare(Li.extractNumericId(i)):ym(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class ht extends Li{construct(e,i,r){return new ht(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const bA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Li{construct(e,i,r){return new sn(e,i,r)}static isValidIdentifier(e){return bA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new sn([D_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ht.fromString(e))}static fromName(e){return new be(ht.fromString(e).popFirst(5))}static empty(){return new be(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ht(e.slice()))}}function E1(s,e,i){if(!i)throw new ue($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function EA(s,e,i,r){if(e===!0&&r===!0)throw new ue($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function k_(s){if(!be.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O_(s){if(be.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function T1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function pr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rh(s);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function fu(s,e){if(!T1(s))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue($.INVALID_ARGUMENT,i);return!0}const M_=-62135596800,V_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*V_);return new pt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<M_)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ut("string",pt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new pt(0,0))}static max(){return new Re(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function TA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(r===1e9?new pt(i+1,0):new pt(i,r));return new _r(l,be.empty(),e)}function wA(s){return new _r(s.readTime,s.key,Jl)}class _r{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new _r(Re.min(),be.empty(),Jl)}static max(){return new _r(Re.max(),be.empty(),Jl)}}function SA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const AA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==AA)throw s;he("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(g=>r(g)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function RA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function No(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const Xm=-1;function Ch(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function IA(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const w1="";function CA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=j_(e)),e=NA(s.get(i),e);return j_(e)}function NA(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case w1:i+="";break;default:i+=c}}return i}function j_(s){return s+w1+""}function L_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ar(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function S1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??nn.RED,this.left=l??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new nn(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new jn([])}unionWith(e){let i=new qt(sn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new A1("Invalid base64 string: "+c):c}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const DA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=DA.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?rn.fromBase64String(s):rn.fromUint8Array(s)}const x1="server_timestamp",R1="__type__",I1="__previous_value__",C1="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[R1]?.stringValue===x1}function Nh(s){const e=s.mapValue.fields[I1];return $m(e)?Nh(e):e}function Wl(s){const e=vr(s.mapValue.fields[C1].timestampValue);return new pt(e.seconds,e.nanos)}class kA{constructor(e,i,r,l,c,d,p,g,y,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const lh="(default)";class eu{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}const N1="__type__",OA="__max__",Fc={mapValue:{}},D1="__vector__",uh="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:VA(s)?9007199254740991:MA(s)?10:11:Ae(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Wl(s).isEqual(Wl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=vr(l.timestampValue),p=vr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return br(l.bytesValue).isEqual(br(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),p=Ct(c.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(L_(d)!==L_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Fi(d[g],p[g])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function tu(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function vo(s,e){if(s===e)return 0;const i=Er(s),r=Er(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ct(c.integerValue||c.doubleValue),g=Ct(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return U_(s.timestampValue,e.timestampValue);case 4:return U_(Wl(s),Wl(e));case 5:return ym(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=br(c),g=br(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=qe(p[y],g[y]);if(T!==0)return T}return qe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=qe(Ct(c.latitude),Ct(d.latitude));return p!==0?p:qe(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return z_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[uh]?.arrayValue,T=g[uh]?.arrayValue,S=qe(y?.values?.length||0,T?.values?.length||0);return S!==0?S:z_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Fc.mapValue&&d===Fc.mapValue)return 0;if(c===Fc.mapValue)return 1;if(d===Fc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const R=ym(g[S],T[S]);if(R!==0)return R;const P=vo(p[g[S]],y[T[S]]);if(P!==0)return P}return qe(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function U_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=vr(s),r=vr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function z_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=vo(i[l],r[l]);if(c)return c}return qe(i.length,r.length)}function bo(s){return _m(s)}function _m(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=vr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return br(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return be.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=_m(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${_m(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Zc(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ar(r.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function B_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function vm(s){return!!s&&"integerValue"in s}function Zm(s){return!!s&&"arrayValue"in s}function q_(s){return!!s&&"nullValue"in s}function H_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function MA(s){return(s?.mapValue?.fields||{})[N1]?.stringValue===D1}function Gl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ar(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Gl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(s.arrayValue.values[i]);return e}return{...s}}function VA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=sn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Gl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Ar(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Sn(Gl(this.value))}}function k1(s){const e=[];return Ar(s.fields,((i,r)=>{const l=new sn([i]);if(Jc(r)){const c=k1(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new jn(e)}class cn{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,Re.min(),Re.min(),Re.min(),Sn.empty(),0)}static newFoundDocument(e,i,r,l){return new cn(e,1,i,Re.min(),r,l,0)}static newNoDocument(e,i){return new cn(e,2,i,Re.min(),Re.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new cn(e,3,i,Re.min(),Re.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function F_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=be.comparator(be.fromName(d.referenceValue),i.key):r=vo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function G_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class nu{constructor(e,i="asc"){this.field=e,this.dir=i}}function jA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class O1{}class Pt extends O1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new PA(e,i,r):i==="array-contains"?new BA(e,r):i==="in"?new qA(e,r):i==="not-in"?new HA(e,r):i==="array-contains-any"?new FA(e,r):new Pt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new UA(e,r):new zA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vo(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(vo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends O1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new pi(e,i)}matches(e){return M1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M1(s){return s.op==="and"}function V1(s){return LA(s)&&M1(s)}function LA(s){for(const e of s.filters)if(e instanceof pi)return!1;return!0}function bm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+bo(s.value);if(V1(s))return s.filters.map((e=>bm(e))).join(",");{const e=s.filters.map((i=>bm(i))).join(",");return`${s.op}(${e})`}}function j1(s,e){return s instanceof Pt?(function(r,l){return l instanceof Pt&&r.op===l.op&&r.field.isEqual(l.field)&&Fi(r.value,l.value)})(s,e):s instanceof pi?(function(r,l){return l instanceof pi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&j1(d,l.filters[p])),!0):!1})(s,e):void Ae(19439)}function L1(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${bo(i.value)}`})(s):s instanceof pi?(function(i){return i.op.toString()+" {"+i.getFilters().map(L1).join(" ,")+"}"})(s):"Filter"}class PA extends Pt{constructor(e,i,r){super(e,i,r),this.key=be.fromName(r.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class UA extends Pt{constructor(e,i){super(e,"in",i),this.keys=P1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class zA extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=P1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function P1(s,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class BA extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zm(i)&&tu(i.arrayValue,this.value)}}class qA extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class HA extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class FA extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>tu(this.value.arrayValue,r)))}}class GA{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Y_(s,e=null,i=[],r=[],l=null,c=null,d=null){return new GA(s,e,i,r,l,c,d)}function Jm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>bm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ch(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>bo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>bo(r))).join(",")),e.Te=i}return e.Te}function Wm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!jA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!j1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!G_(s.startAt,e.startAt)&&G_(s.endAt,e.endAt)}function Em(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Do{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YA(s,e,i,r,l,c,d,p){return new Do(s,e,i,r,l,c,d,p)}function ep(s){return new Do(s)}function Q_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function U1(s){return s.collectionGroup!==null}function Yl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new qt(sn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nu(c,r))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new nu(sn.keyField(),r))}return e.Ie}function Pi(s){const e=Ce(s);return e.Ee||(e.Ee=QA(e,Yl(s))),e.Ee}function QA(s,e){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new nu(l.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Tm(s,e){const i=s.filters.concat([e]);return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function wm(s,e,i){return new Do(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Dh(s,e){return Wm(Pi(s),Pi(e))&&s.limitType===e.limitType}function z1(s){return`${Jm(Pi(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>L1(l))).join(", ")}]`),Ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>bo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>bo(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function kh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Yl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=F_(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,Yl(r),l)||r.endAt&&!(function(d,p,g){const y=F_(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,Yl(r),l))})(s,e)}function KA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function B1(s){return(e,i)=>{let r=!1;for(const l of Yl(s)){const c=XA(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function XA(s,e,i){const r=s.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?vo(g,y):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}const $A=new bt(be.comparator);function gs(){return $A}const q1=new bt(be.comparator);function zl(...s){let e=q1;for(const i of s)e=e.insert(i.key,i);return e}function H1(s){let e=q1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ra(){return Ql()}function F1(){return Ql()}function Ql(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const ZA=new bt(be.comparator),JA=new qt(be.comparator);function He(...s){let e=JA;for(const i of s)e=e.add(i);return e}const WA=new qt(qe);function ex(){return WA}function tp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function G1(s){return{integerValue:""+s}}function tx(s,e){return IA(e)?G1(e):tp(s,e)}class Oh{constructor(){this._=void 0}}function nx(s,e,i){return s instanceof hh?(function(l,c){const d={fields:{[R1]:{stringValue:x1},[C1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Nh(c)),c&&(d.fields[I1]=c),{mapValue:d}})(i,e):s instanceof iu?Q1(s,e):s instanceof su?K1(s,e):(function(l,c){const d=Y1(l,c),p=K_(d)+K_(l.Ae);return vm(d)&&vm(l.Ae)?G1(p):tp(l.serializer,p)})(s,e)}function ix(s,e,i){return s instanceof iu?Q1(s,e):s instanceof su?K1(s,e):i}function Y1(s,e){return s instanceof fh?(function(r){return vm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class hh extends Oh{}class iu extends Oh{constructor(e){super(),this.elements=e}}function Q1(s,e){const i=X1(e);for(const r of s.elements)i.some((l=>Fi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class su extends Oh{constructor(e){super(),this.elements=e}}function K1(s,e){let i=X1(e);for(const r of s.elements)i=i.filter((l=>!Fi(l,r)));return{arrayValue:{values:i}}}class fh extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K_(s){return Ct(s.integerValue||s.doubleValue)}function X1(s){return Zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function sx(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof iu&&l instanceof iu||r instanceof su&&l instanceof su?_o(r.elements,l.elements,Fi):r instanceof fh&&l instanceof fh?Fi(r.Ae,l.Ae):r instanceof hh&&l instanceof hh})(s.transform,e.transform)}class rx{constructor(e,i){this.version=e,this.transformResults=i}}class mi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function $1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new np(s.key,mi.none()):new du(s.key,s.data,mi.none());{const i=s.data,r=Sn.empty();let l=new qt(sn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new xr(s.key,r,new jn(l.toArray()),mi.none())}}function ax(s,e,i){s instanceof du?(function(l,c,d){const p=l.value.clone(),g=$_(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof xr?(function(l,c,d){if(!Wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$_(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(Z1(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,r){return s instanceof du?(function(c,d,p,g){if(!Wc(c.precondition,d))return p;const y=c.value.clone(),T=Z_(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof xr?(function(c,d,p,g){if(!Wc(c.precondition,d))return p;const y=Z_(c.fieldTransforms,g,d),T=d.data;return T.setAll(Z1(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,p){return Wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function ox(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=Y1(r.transform,l||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,c))}return i||null}function X_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&_o(r,l,((c,d)=>sx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class du extends Mh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xr extends Mh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function $_(s,e,i){const r=new Map;et(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,ix(d,p,i[l]))}return r}function Z_(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,nx(c,d,e))}return r}class np extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lx extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ux{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ax(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=F1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const g=$1(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((i,r)=>X_(i,r)))&&_o(this.baseMutations,e.baseMutations,((i,r)=>X_(i,r)))}}class ip{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return ZA})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ip(e,i,r,l)}}class cx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Qe;function fx(s){switch(s){case $.OK:return Ae(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function J1(s){if(s===void 0)return ps("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return Ae(39323,{code:s})}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function dx(){return new TextEncoder}const mx=new mr([4294967295,4294967295],0);function J_(s){const e=dx().encode(s),i=new d1;return i.update(e),new Uint8Array(i.digest())}function W_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([i,r],0),new mr([l,c],0)]}class sp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(mr.fromNumber(r)));return l.compare(mx)===1&&(l=new mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=J_(e),[r,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new sp(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=J_(e),[r,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Vh(Re.min(),l,new bt(qe),gs(),He())}}class mu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new mu(r,i,He(),He(),He())}}class eh{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class W1{constructor(e,i){this.targetId=e,this.Ce=i}}class eb{constructor(e,i,r=rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:c})}})),new mu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class px{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=Gc(),this.He=Gc(),this.Ye=new bt(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(r===0){const d=new be(c.path);this.et(i,d,cn.newNoDocument(d,Re.min()))}else et(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=br(r).toUint8Array()}catch(g){if(g instanceof A1)return yo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new sp(d,l,c)}catch(g){return yo(g instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const g=new be(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,cn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=He();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Vh(e,i,this.Ye,this.je,r);return this.je=gs(),this.Je=Gc(),this.He=Gc(),this.Ye=new bt(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new ev,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||he("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gc(){return new bt(be.comparator)}function tv(){return new bt(be.comparator)}const gx={asc:"ASCENDING",desc:"DESCENDING"},yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_x={and:"AND",or:"OR"};class vx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bx(s,e){return dh(s,e.toTimestamp())}function Ui(s){return et(!!s,49232),Re.fromTimestamp((function(i){const r=vr(i);return new pt(r.seconds,r.nanos)})(s))}function rp(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(l){return new ht(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function nb(s){const e=ht.fromString(s);return et(ob(e),10190,{key:e.toString()}),e}function xm(s,e){return rp(s.databaseId,e.path)}function em(s,e){const i=nb(e);if(i.get(1)!==s.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new be(sb(i))}function ib(s,e){return rp(s.databaseId,e)}function Ex(s){const e=nb(s);return e.length===4?ht.emptyPath():sb(e)}function Rm(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sb(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,e,i){return{name:xm(s,e),fields:i.value.mapValue.fields}}function Tx(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(et(T===void 0||typeof T=="string",58123),rn.fromBase64String(T||"")):(et(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),rn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?$.UNKNOWN:J1(y.code);return new ue(T,y.message||"")})(d);i=new eb(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=em(s,r.document.name),c=Ui(r.document.updateTime),d=r.document.createTime?Ui(r.document.createTime):Re.min(),p=new Sn({mapValue:{fields:r.document.fields}}),g=cn.newFoundDocument(l,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];i=new eh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=em(s,r.document),c=r.readTime?Ui(r.readTime):Re.min(),d=cn.newNoDocument(l,c),p=r.removedTargetIds||[];i=new eh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=em(s,r.document),c=r.removedTargetIds||[];i=new eh([],c,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new hx(l,c),p=r.targetId;i=new W1(p,d)}}return i}function wx(s,e){let i;if(e instanceof du)i={update:nv(s,e.key,e.value)};else if(e instanceof np)i={delete:xm(s,e.key)};else if(e instanceof xr)i={update:nv(s,e.key,e.data),updateMask:kx(e.fieldMask)};else{if(!(e instanceof lx))return Ae(16599,{Vt:e.type});i={verify:xm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof iu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof su)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:bx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function Sx(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ui(l.updateTime):Ui(c);return d.isEqual(Re.min())&&(d=Ui(c)),new rx(d,l.transformResults||[])})(i,e)))):[]}function Ax(s,e){return{documents:[ib(s,e.path)]}}function xx(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=ib(s,l);const c=(function(y){if(y.length!==0)return ab(pi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(R){return{field:ao(R.field),direction:Cx(R.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Sm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function Rx(s){let e=Ex(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){et(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const R=rb(S);return R instanceof pi&&V1(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((R=>(function(J){return new nu(oo(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(R)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let R;return R=typeof S=="object"?S.value:S,Ch(R)?null:R})(i.limit));let g=null;i.startAt&&(g=(function(S){const R=!!S.before,P=S.values||[];return new ch(P,R)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const R=!S.before,P=S.values||[];return new ch(P,R)})(i.endAt)),YA(e,l,d,c,p,"F",g,y)}function Ix(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=oo(i.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(oo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return pi.create(i.compositeFilter.filters.map((r=>rb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function Cx(s){return gx[s]}function Nx(s){return yx[s]}function Dx(s){return _x[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return sn.fromServerFormat(s.fieldPath)}function ab(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:Nx(i.op),value:i.value}}})(s):s instanceof pi?(function(i){const r=i.getFilters().map((l=>ab(l)));return r.length===1?r[0]:{compositeFilter:{op:Dx(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function kx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function ob(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class cr{constructor(e,i,r,l,c=Re.min(),d=Re.min(),p=rn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ox{constructor(e){this.yt=e}}function Mx(s){const e=Rx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?wm(e,e.limit,"L"):e}class Vx{constructor(){this.Cn=new jx}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(_r.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class jx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new qt(ht.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new qt(ht.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lb=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(lb,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Eo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eo(0)}static cr(){return new Eo(-1)}}const sv="LruGarbageCollector",Lx=1048576;function rv([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class Px{constructor(e){this.Ir=e,this.buffer=new qt(rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();rv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ux{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){No(i)?he(sv,"Ignoring IndexedDB error during garbage collection: ",i):await Co(i)}await this.Vr(3e5)}))}}class zx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ih.ce);const r=new Px(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(iv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),so()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Bx(s,e){return new zx(s,e)}class qx{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Fx{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Kl(r.mutation,l,jn.empty(),pt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=ra();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=zl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ra();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=gs();const d=Ql(),p=(function(){return Ql()})();return i.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof xr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Kl(T.mutation,y,T.mutation.getFieldMask(),pt.now())):d.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new Hx(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Ql();let l=new bt(((d,p)=>d-p)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=i.get(g);if(y===null)return;let T=r.get(g)||jn.empty();T=p.applyToLocalView(y,T),r.set(g,T);const S=(l.get(p.batchId)||He()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=F1();T.forEach((R=>{if(!c.has(R)){const P=$1(i.get(R),r.get(R));P!==null&&S.set(R,P),c=c.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):U1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):Z.resolve(ra());let p=Jl,g=c;return d.next((y=>Z.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{g=g.insert(T,R)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,He()))).next((T=>({batchId:p,changes:H1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((r=>{let l=zl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(g=>{const y=(function(S,R){return new Do(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((S,R)=>{d=d.insert(S,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,cn.newInvalidDocument(T)))}));let p=zl();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&Kl(T.mutation,y,jn.empty(),pt.now()),kh(i,y)&&(p=p.insert(g,y))})),p}))}}class Gx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ui(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Mx(l.bundledQuery),readTime:Ui(l.readTime)}})(i)),Z.resolve()}}class Yx{constructor(){this.overlays=new bt(be.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ra();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=ra(),c=i.length+1,d=new be(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new bt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=ra(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=ra(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return Z.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new cx(i,r));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Qx{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class ap{constructor(){this.Qr=new qt(Kt.$r),this.Ur=new qt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Kt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new be(new ht([])),r=new Kt(i,e),l=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new ht([])),r=new Kt(i,e),l=new Kt(i,e+1);let c=He();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class Kx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Kt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ux(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Kt(i,0),l=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qt(qe);return i.forEach((l=>{const c=new Kt(l,0),d=new Kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new be(c),0);let p=new qt(qe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Kt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Kt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Xx{constructor(e){this.ri=e,this.docs=(function(){return new bt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(i))}getEntries(e,i){let r=gs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():cn.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=gs();const d=i.path,p=new be(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||SA(wA(T),r)<=0||(l.has(T.key)||kh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new $x(this)}getSize(e){return Z.resolve(this.size)}}class $x extends qx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Zx{constructor(e){this.persistence=e,this.si=new da((i=>Jm(i)),Wm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new ap,this.targetCount=0,this.ai=Eo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Eo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class ub{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new Qx,this.referenceDelegate=e(this),this.Pi=new Zx(this),this.indexManager=new Vx,this.remoteDocumentCache=(function(l){return new Xx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ox(i),this.Ii=new Gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Yx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Kx(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){he("MemoryPersistence","Starting transaction:",e);const l=new Jx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Jx extends xA{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Ri=new ap,this.Vi=null}static mi(e){return new op(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=be.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mh{constructor(e,i){this.persistence=e,this.pi=new da((r=>CA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Bx(this,i)}static mi(e,i){return new mh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Zc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new lp(e,i.fromCache,r,l)}}class Wx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return F2()?8:RA(hn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Wx;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(so()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(so()<=Be.DEBUG&&he("QueryEngine","Query:",ro(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(so()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):Z.resolve())}ys(e,i){if(Q_(i))return Z.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=wm(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,wm(i,null,"F")):this.vs(e,y,i,g)}))))})))))}ws(e,i,r,l){return Q_(i)||l.isEqual(Re.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(so()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(i)),this.vs(e,d,i,TA(l,Jl)).next((p=>p)))}))}Ds(e,i){let r=new qt(B1(e));return i.forEach(((l,c)=>{kh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return so()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(i)),this.ps.getDocumentsMatchingQuery(e,i,_r.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const up="LocalStore",tR=3e8;class nR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new bt(qe),this.xs=new da((c=>Jm(c)),Wm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function iR(s,e,i,r){return new nR(s,e,i,r)}async function cb(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=He();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function sR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,R=S.keys();let P=Z.resolve();return R.forEach((J=>{P=P.next((()=>T.getEntry(g,J))).next((ee=>{const W=y.docVersions.get(J);et(W!==null,48541),ee.version.compareTo(W)<0&&(S.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),T.addEntry(ee)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=He();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function hb(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function rR(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const R=l.get(S);if(!R)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let P=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(rn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,r)),l=l.insert(S,P),(function(ee,W,oe){return ee.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=tR?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(R,P,T)&&p.push(i.Pi.updateTargetData(c,P))}));let g=gs(),y=He();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(aR(c,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(Re.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function aR(s,e,i){let r=He(),l=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=gs();return i.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):he(up,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function oR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new cr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Im(s,e,i){const r=Ce(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;he(up,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function av(s,e,i){const r=Ce(s);let l=Re.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const S=Ce(g),R=S.xs.get(T);return R!==void 0?Z.resolve(S.Ms.get(R)):S.Pi.getTargetData(y,T)})(r,d,Pi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Re.min(),i?c:He()))).next((p=>(uR(r,KA(e),p),{documents:p,Qs:c})))))}function uR(s,e,i){let r=s.Os.get(e)||Re.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class ov{constructor(){this.activeTargetIds=ex()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hR{Oo(e){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Cm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const tm="RestConnection",fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Cm(),p=this.zo(e,i.toUriEncodedString());he(tm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),T=xo(y);return this.Jo(e,p,g,r,T).then((S=>(he(tm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw yo(tm,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=fR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class mR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class pR extends dR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Cm();return new Promise(((p,g)=>{const y=new m1;y.setWithCredentials(!0),y.listenOnce(p1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case $c.NO_ERROR:const S=y.getResponseJson();he(ln,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case $c.TIMEOUT:he(ln,`RPC '${e}' ${d} timed out`),g(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const R=y.getStatus();if(he(ln,`RPC '${e}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const J=P?.error;if(J&&J.status&&J.message){const ee=(function(oe){const ce=oe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ce)>=0?ce:$.UNKNOWN})(J.status);g(new ue(ee,J.message))}else g(new ue($.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue($.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(ln,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);he(ln,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_1(),p=y1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const T=c.join("");he(ln,`Creating RPC '${e}' stream ${l}: ${T}`,g);const S=d.createWebChannel(T,g);this.I_(S);let R=!1,P=!1;const J=new mR({Yo:W=>{P?he(ln,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(R||(he(ln,`Opening RPC '${e}' stream ${l} transport.`),S.open(),R=!0),he(ln,`RPC '${e}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),ee=(W,oe,ce)=>{W.listen(oe,(Y=>{try{ce(Y)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return ee(S,Ul.EventType.OPEN,(()=>{P||(he(ln,`RPC '${e}' stream ${l} transport opened.`),J.o_())})),ee(S,Ul.EventType.CLOSE,(()=>{P||(P=!0,he(ln,`RPC '${e}' stream ${l} transport closed`),J.a_(),this.E_(S))})),ee(S,Ul.EventType.ERROR,(W=>{P||(P=!0,yo(ln,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Ul.EventType.MESSAGE,(W=>{if(!P){const oe=W.data[0];et(!!oe,16349);const ce=oe,Y=ce?.error||ce[0]?.error;if(Y){he(ln,`RPC '${e}' stream ${l} received error:`,Y);const ae=Y.status;let Ee=(function(A){const I=Lt[A];if(I!==void 0)return J1(I)})(ae),Te=Y.message;Ee===void 0&&(Ee=$.INTERNAL,Te="Unknown error status: "+ae+" with message "+Y.message),P=!0,J.a_(new ue(Ee,Te)),S.close()}else he(ln,`RPC '${e}' stream ${l} received:`,oe),J.u_(oe)}})),ee(p,g1.STAT_EVENT,(W=>{W.stat===gm.PROXY?he(ln,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===gm.NOPROXY&&he(ln,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function nm(){return typeof document<"u"?document:null}function jh(s){return new vx(s,!0)}class fb{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class db{constructor(e,i,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(he(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends db{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Tx(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Ui(d.readTime):Re.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Rm(this.serializer),i.addTarget=(function(c,d){let p;const g=d.target;if(p=Em(g)?{documents:Ax(c,g)}:{query:xx(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tb(c,d.resumeToken);const y=Sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){p.readTime=dh(c,d.snapshotVersion.toTimestamp());const y=Sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=Ix(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Rm(this.serializer),i.removeTarget=e,this.q_(i)}}class yR extends db{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Sx(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Rm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>wx(this.serializer,r)))};this.q_(i)}}class _R{}class vR extends _R{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Am(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue($.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Am(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class ER{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(he(ha,"Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.Ea.add(4),await pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Lh(y)})(this))}))})),this.Ra=new bR(r,l)}}async function Lh(s){if(ma(s))for(const e of s.da)await e(!0)}async function pu(s){for(const e of s.da)await e(!1)}function mb(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),dp(i)?fp(i):ko(i).O_()&&hp(i,e))}function cp(s,e){const i=Ce(s),r=ko(i);i.Ia.delete(e),r.O_()&&pb(i,e),i.Ia.size===0&&(r.O_()?r.L_():ma(i)&&i.Ra.set("Unknown"))}function hp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ko(s).Y_(e)}function pb(s,e){s.Va.Ue(e),ko(s).Z_(e)}function fp(s){s.Va=new px({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ko(s).start(),s.Ra.ua()}function dp(s){return ma(s)&&!ko(s).x_()&&s.Ia.size>0}function ma(s){return Ce(s).Ea.size===0}function gb(s){s.Va=void 0}async function TR(s){s.Ra.set("Online")}async function wR(s){s.Ia.forEach(((e,i)=>{hp(s,e)}))}async function SR(s,e){gb(s),dp(s)?(s.Ra.ha(e),fp(s)):s.Ra.set("Unknown")}async function AR(s,e,i){if(s.Ra.set("Online"),e instanceof eb&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){he(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ph(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof W1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const r=await hb(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(rn.EMPTY_BYTE_STRING,T.snapshotVersion)),pb(c,g);const S=new cr(T.target,g,y,T.sequenceNumber);hp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){he(ha,"Failed to raise snapshot:",r),await ph(s,r)}}async function ph(s,e,i){if(!No(e))throw e;s.Ea.add(1),await pu(s),s.Ra.set("Offline"),i||(i=()=>hb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ha,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Lh(s)}))}function yb(s,e){return e().catch((i=>ph(s,i,e)))}async function Ph(s){const e=Ce(s),i=Tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xm;for(;xR(e);)try{const l=await oR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,RR(e,l)}catch(l){await ph(e,l)}_b(e)&&vb(e)}function xR(s){return ma(s)&&s.Ta.length<10}function RR(s,e){s.Ta.push(e);const i=Tr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function _b(s){return ma(s)&&!Tr(s).x_()&&s.Ta.length>0}function vb(s){Tr(s).start()}async function IR(s){Tr(s).ra()}async function CR(s){const e=Tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function NR(s,e,i){const r=s.Ta.shift(),l=ip.from(r,e,i);await yb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ph(s)}async function DR(s,e){e&&Tr(s).X_&&await(async function(r,l){if((function(d){return fx(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();Tr(r).B_(),await yb(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ph(r)}})(s,e),_b(s)&&vb(s)}async function hv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),he(ha,"RemoteStore received new credentials");const r=ma(i);i.Ea.add(3),await pu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Lh(i)}async function kR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Lh(i)):e||(i.Ea.add(2),await pu(i),i.Ra.set("Unknown"))}function ko(s){return s.ma||(s.ma=(function(i,r,l){const c=Ce(i);return c.sa(),new gR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:TR.bind(null,s),t_:wR.bind(null,s),r_:SR.bind(null,s),H_:AR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),dp(s)?fp(s):s.Ra.set("Unknown")):(await s.ma.stop(),gb(s))}))),s.ma}function Tr(s){return s.fa||(s.fa=(function(i,r,l){const c=Ce(i);return c.sa(),new yR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:IR.bind(null,s),r_:DR.bind(null,s),ta:CR.bind(null,s),na:NR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class mp{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new mp(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pp(s,e){if(ps("AsyncQueue",`${e}: ${s}`),No(s))return new ue($.UNAVAILABLE,`${e}: ${s}`);throw s}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||be.comparator(i.key,r.key):(i,r)=>be.comparator(i.key,r.key),this.keyedMap=zl(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class fv{constructor(){this.ga=new bt(be.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class To{constructor(e,i,r,l,c,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new To(e,i,co.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class OR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MR{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),c=l.queries;l.queries=dv(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function dv(){return new da((s=>z1(s)),Dh)}async function VR(s,e){const i=Ce(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new OR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=pp(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&gp(i)}async function jR(s,e){const i=Ce(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function LR(s,e){const i=Ce(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&gp(i)}function PR(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function gp(s){s.Ca.forEach((e=>{e.next()}))}var Nm,mv;(mv=Nm||(Nm={})).Ma="default",mv.Cache="cache";class UR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}class bb{constructor(e){this.key=e}}class Eb{constructor(e){this.key=e}}class zR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=B1(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const R=l.get(T),P=kh(this.query,S)?S:null,J=!!R&&this.mutatedKeys.has(R.key),ee=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let W=!1;R&&P?R.data.isEqual(P.data)?J!==ee&&(r.track({type:3,doc:P}),W=!0):this.su(R,P)||(r.track({type:2,doc:P}),W=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(p=!0)):!R&&P?(r.track({type:0,doc:P}),W=!0):R&&!P&&(r.track({type:1,doc:R}),W=!0,(g||y)&&(p=!0)),W&&(P?(d=d.add(P),c=ee?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(P,J){const ee=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:W})}};return ee(P)-ee(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new To(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Eb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new bb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yp="SyncEngine";class BR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class qR{constructor(e){this.key=e,this.hu=!1}}class HR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((p=>z1(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(be.comparator),this.Au=new Map,this.Ru=new ap,this.Vu={},this.mu=new Map,this.fu=Eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FR(s,e,i=!0){const r=Rb(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Tb(r,e,i,!0),l}async function GR(s,e){const i=Rb(s);await Tb(i,e,!0,!1)}async function Tb(s,e,i,r){const l=await lR(s.localStore,Pi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await YR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&mb(s.remoteStore,l),p}async function YR(s,e,i,r,l){s.pu=(S,R,P)=>(async function(ee,W,oe,ce){let Y=W.view.ru(oe);Y.Cs&&(Y=await av(ee.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,Y))));const ae=ce&&ce.targetChanges.get(W.targetId),Ee=ce&&ce.targetMismatches.get(W.targetId)!=null,Te=W.view.applyChanges(Y,ee.isPrimaryClient,ae,Ee);return gv(ee,W.targetId,Te.au),Te.snapshot})(s,S,R,P);const c=await av(s.localStore,e,!0),d=new zR(e,c.Qs),p=d.ru(c.documents),g=mu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);gv(s,i,y.au);const T=new BR(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function QR(s,e,i){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Dh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Im(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&cp(r.remoteStore,l.targetId),Dm(r,l.targetId)})).catch(Co)):(Dm(r,l.targetId),await Im(r.localStore,l.targetId,!0))}async function KR(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),cp(i.remoteStore,r.targetId))}async function XR(s,e,i){const r=nI(s);try{const l=await(function(d,p){const g=Ce(d),y=pt.now(),T=p.reduce(((P,J)=>P.add(J.key)),He());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let J=gs(),ee=He();return g.Ns.getEntries(P,T).next((W=>{J=W,J.forEach(((oe,ce)=>{ce.isValidDocument()||(ee=ee.add(oe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,J))).next((W=>{S=W;const oe=[];for(const ce of p){const Y=ox(ce,S.get(ce.key).overlayedDocument);Y!=null&&oe.push(new xr(ce.key,Y,k1(Y.value.mapValue),mi.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,oe,p)})).next((W=>{R=W;const oe=W.applyToLocalDocumentSet(S,ee);return g.documentOverlayCache.saveOverlays(P,W.batchId,oe)}))})).then((()=>({batchId:R.batchId,changes:H1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new bt(qe)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await gu(r,l.changes),await Ph(r.remoteStore)}catch(l){const c=pp(l,"Failed to persist write");i.reject(c)}}async function wb(s,e){const i=Ce(s);try{const r=await rR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await gu(i,r,e)}catch(r){await Co(r)}}function pv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ce(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const R of S.Sa)R.va(p)&&(y=!0)})),y&&gp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $R(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new bt(be.comparator);d=d.insert(c,cn.newNoDocument(c,Re.min()));const p=He().add(c),g=new Vh(Re.min(),new Map,new bt(qe),d,p);await wb(r,g),r.du=r.du.remove(c),r.Au.delete(e),_p(r)}else await Im(r.localStore,e,!1).then((()=>Dm(r,e,i))).catch(Co)}async function ZR(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await sR(i.localStore,e);Ab(i,r,null),Sb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await gu(i,l)}catch(l){await Co(l)}}async function JR(s,e,i){const r=Ce(s);try{const l=await(function(d,p){const g=Ce(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(et(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);Ab(r,e,i),Sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await gu(r,l)}catch(l){await Co(l)}}function Sb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Ab(s,e,i){const r=Ce(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Dm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||xb(s,r)}))}function xb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(cp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),_p(s))}function gv(s,e,i){for(const r of i)r instanceof bb?(s.Ru.addReference(r.key,e),WR(s,r)):r instanceof Eb?(he(yp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||xb(s,r.key)):Ae(19791,{wu:r})}function WR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(he(yp,"New document in limbo: "+i),s.Eu.add(r),_p(s))}function _p(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new be(ht.fromString(e)),r=s.fu.next();s.Au.set(r,new qR(i)),s.du=s.du.insert(i,r),mb(s.remoteStore,new cr(Pi(ep(i.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function gu(s,e,i){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=lp.As(g.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=Ce(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(R=>Z.forEach(R.Es,(P=>T.persistence.referenceDelegate.addReference(S,R.targetId,P))).next((()=>Z.forEach(R.ds,(P=>T.persistence.referenceDelegate.removeReference(S,R.targetId,P)))))))))}catch(S){if(!No(S))throw S;he(up,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const P=T.Ms.get(R),J=P.snapshotVersion,ee=P.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(R,ee)}}})(r.localStore,c))}async function eI(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){he(yp,"User change. New user:",e.toKey());const r=await cb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(i,r.Ls)}}function tI(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Rb(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$R.bind(null,e),e.Pu.H_=LR.bind(null,e.eventManager),e.Pu.yu=PR.bind(null,e.eventManager),e}function nI(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JR.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return iR(this.persistence,new eR,e.initialUser,this.serializer)}Cu(e){return new ub(op.mi,this.serializer)}Du(e){return new cR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class iI extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ux(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new ub((r=>mh.mi(r,i)),this.serializer)}}class km{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await kR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MR})()}createDatastore(e){const i=jh(e.databaseInfo.databaseId),r=(function(c){return new pR(c)})(e.databaseInfo);return(function(c,d,p,g){return new vR(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new ER(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new hR})())}createSyncEngine(e,i){return(function(l,c,d,p,g,y,T){const S=new HR(l,c,d,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);he(ha,"RemoteStore shutting down."),r.Ea.add(5),await pu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class sI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const wr="FirestoreClient";class rI{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{he(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(he(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=pp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),he(wr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await cb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function yv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await aI(s);he(wr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>hv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>hv(e.remoteStore,l))),s._onlineComponents=e}async function aI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(wr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;yo("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new gh)}}else he(wr,"Using default OfflineComponentProvider"),await im(s,new iI(void 0));return s._offlineComponents}async function Ib(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(wr,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(he(wr,"Using default OnlineComponentProvider"),await yv(s,new km))),s._onlineComponents}function oI(s){return Ib(s).then((e=>e.syncEngine))}async function _v(s){const e=await Ib(s),i=e.eventManager;return i.onListen=FR.bind(null,e.syncEngine),i.onUnlisten=QR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=KR.bind(null,e.syncEngine),i}function Cb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const vv=new Map;const Nb="firestore.googleapis.com",bv=!0;class Ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nb,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lx)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hA;switch(r.type){case"firstParty":return new pA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=vv.get(i);r&&(he("ComponentProvider","Removing Datastore"),vv.delete(i),r.terminate())})(this),Promise.resolve()}}function lI(s,e,i,r={}){s=pr(s,Uh);const l=xo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(a1(`https://${p}`),o1("Firestore",!0)),c.host!==Nb&&c.host!==p&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!la(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=un.MOCK_USER;else{y=V2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new un(S)}s._authCredentials=new fA(new b1(y,T))}}class pa{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class zt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(fu(i,zt._jsonSchema))return new zt(e,r||null,new be(ht.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ut("string",zt._jsonSchemaVersion),referencePath:Ut("string")};class gr extends pa{constructor(e,i,r){super(e,i,ep(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new be(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function sr(s,e,...i){if(s=Ht(s),E1("collection","path",e),s instanceof Uh){const r=ht.fromString(e,...i);return O_(r),new gr(s,null,r)}{if(!(s instanceof zt||s instanceof gr))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return O_(r),new gr(s.firestore,null,r)}}function lo(s,e,...i){if(s=Ht(s),arguments.length===1&&(e=Km.newId()),E1("doc","path",e),s instanceof Uh){const r=ht.fromString(e,...i);return k_(r),new zt(s,null,new be(r))}{if(!(s instanceof zt||s instanceof gr))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ht.fromString(e,...i));return k_(r),new zt(s.firestore,s instanceof gr?s.converter:null,new be(r))}}const Tv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fb(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&he(Tv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;he(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Sv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=mp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Av(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class wo extends Uh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function uI(s,e){const i=typeof s=="object"?s:Ym(),r=typeof s=="string"?s:lh,l=Gm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=O2("firestore");c&&lI(l,...c)}return l}function Db(s){if(s._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||cI(s),s._firestoreClient}function cI(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new kA(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Cb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new rI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(rn.fromBase64String(e))}catch(i){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Ut("string",Jn._jsonSchemaVersion),bytes:Ut("string")};class zh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._methodName=e}}class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(fu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ut("string",zi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Bi(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ut("string",Bi._jsonSchemaVersion),vectorValues:Ut("object")};const hI=/^__.*__$/;class fI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new du(e,this.data,i,this.fieldTransforms)}}class kb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new xr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Ob(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class bp{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ob(this.Ac)&&hI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||jh(e)}Cc(e,i,r,l=!1){return new bp({Ac:e,methodName:i,Dc:r,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ep(s){const e=s._freezeSettings(),i=jh(s._databaseId);return new dI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function mI(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);Tp("Data must be an object, but it was:",d,r);const p=Mb(r,d);let g,y;if(c.merge)g=new jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const R=Om(e,S,i);if(!d.contains(R))throw new ue($.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);jb(T,R)||T.push(R)}g=new jn(T),y=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=d.fieldTransforms;return new fI(new Sn(p),g,y)}class Bh extends vp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function pI(s,e,i,r){const l=s.Cc(1,e,i);Tp("Data must be an object, but it was:",l,r);const c=[],d=Sn.empty();Ar(r,((g,y)=>{const T=wp(e,g,i);y=Ht(y);const S=l.yc(T);if(y instanceof Bh)c.push(T);else{const R=yu(y,S);R!=null&&(c.push(T),d.set(T,R))}}));const p=new jn(c);return new kb(d,p,l.fieldTransforms)}function gI(s,e,i,r,l,c){const d=s.Cc(1,e,i),p=[Om(e,r,i)],g=[l];if(c.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)p.push(Om(e,c[R])),g.push(c[R+1]);const y=[],T=Sn.empty();for(let R=p.length-1;R>=0;--R)if(!jb(y,p[R])){const P=p[R];let J=g[R];J=Ht(J);const ee=d.yc(P);if(J instanceof Bh)y.push(P);else{const W=yu(J,ee);W!=null&&(y.push(P),T.set(P,W))}}const S=new jn(y);return new kb(T,S,d.fieldTransforms)}function yI(s,e,i,r=!1){return yu(i,s.Cc(r?4:3,e))}function yu(s,e){if(Vb(s=Ht(s)))return Tp("Unsupported field value:",e,s),Mb(s,e);if(s instanceof vp)return(function(r,l){if(!Ob(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=yu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=pt.fromDate(r);return{timestampValue:dh(l.serializer,c)}}if(r instanceof pt){const c=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(l.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:tb(l.serializer,r._byteString)};if(r instanceof zt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Bi)return(function(d,p){return{mapValue:{fields:{[N1]:{stringValue:D1},[uh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return tp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Rh(r)}`)})(s,e)}function Mb(s,e){const i={};return S1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(s,((r,l)=>{const c=yu(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function Vb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof pt||s instanceof zi||s instanceof Jn||s instanceof zt||s instanceof vp||s instanceof Bi)}function Tp(s,e,i){if(!Vb(i)||!T1(i)){const r=Rh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Om(s,e,i){if((e=Ht(e))instanceof zh)return e._internalPath;if(typeof e=="string")return wp(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const _I=new RegExp("[~\\*/\\[\\]]");function wp(s,e,i){if(e.search(_I)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new zh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new ue($.INVALID_ARGUMENT,p+s+g)}function jb(s,e){return s.some((i=>i.isEqual(e)))}class Lb{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Sp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vI extends Lb{data(){return super.data()}}function Sp(s,e){return typeof e=="string"?wp(s,e):e instanceof zh?e._internalPath:e._delegate._internalPath}function bI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ap{}class Pb extends Ap{}function sm(s,e,...i){let r=[];e instanceof Ap&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((g=>g instanceof Rp)).length,p=c.filter((g=>g instanceof xp)).length;if(d>1||d>0&&p>0)throw new ue($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class xp extends Pb{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new xp(e,i,r)}_apply(e){const i=this._parse(e);return Ub(e._query,i),new pa(e.firestore,e.converter,Tm(e._query,i))}_parse(e){const i=Ep(e.firestore);return(function(c,d,p,g,y,T,S){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Rv(S,T);const J=[];for(const ee of S)J.push(xv(g,c,ee));R={arrayValue:{values:J}}}else R=xv(g,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Rv(S,T),R=yI(p,d,S,T==="in"||T==="not-in");return Pt.create(y,T,R)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Rp extends Ap{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Rp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:pi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)Ub(d,g),d=Tm(d,g)})(e._query,i),new pa(e.firestore,e.converter,Tm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ip extends Pb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ip(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(c,d)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Do(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function rm(s,e="asc"){const i=e,r=Sp("orderBy",s);return Ip._create(r,i)}function xv(s,e,i){if(typeof(i=Ht(i))=="string"){if(i==="")throw new ue($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U1(e)&&i.indexOf("/")!==-1)throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ht.fromString(i));if(!be.isDocumentKey(r))throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B_(s,new be(r))}if(i instanceof zt)return B_(s,i._key);throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(i)}.`)}function Rv(s,e){if(!Array.isArray(s)||s.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ub(s,e){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class EI{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ar(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new Bi(i)}convertGeoPoint(e){return new zi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new pt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ht.fromString(e);et(ob(r),9688,{name:e});const l=new eu(r.get(1),r.get(3)),c=new be(r.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function TI(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Lb{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ut("string",oa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class th extends oa{data(e={}){return super.data(e)}}class ho{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new ql(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new th(this._firestore,this._userDataWriter,r.key,r,new ql(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ql(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:wI(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Ut("string",ho._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class zb extends EI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function Qc(s,e,i,...r){s=pr(s,zt);const l=pr(s.firestore,wo),c=Ep(l);let d;return d=typeof(e=Ht(e))=="string"||e instanceof zh?gI(c,"updateDoc",s._key,e,i,r):pI(c,"updateDoc",s._key,e),Cp(l,[d.toMutation(s._key,mi.exists(!0))])}function SI(s){return Cp(pr(s.firestore,wo),[new np(s._key,mi.none())])}function jl(s,e){const i=pr(s.firestore,wo),r=lo(s),l=TI(s.converter,e);return Cp(i,[mI(Ep(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,mi.exists(!1))]).then((()=>r))}function am(s,...e){s=Ht(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Av(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof zt)d=pr(s.firestore,wo),p=ep(s._key.path),c={next:g=>{e[r]&&e[r](AI(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=pr(s,pa);d=pr(g.firestore,wo),p=g._query;const y=new zb(d);c={next:T=>{e[r]&&e[r](new ho(d,y,g,T))},error:e[r+1],complete:e[r+2]},bI(s._query)}return(function(y,T,S,R){const P=new sI(R),J=new UR(T,P,S);return y.asyncQueue.enqueueAndForget((async()=>VR(await _v(y),J))),()=>{P.Nu(),y.asyncQueue.enqueueAndForget((async()=>jR(await _v(y),J)))}})(Db(d),p,l,c)}function Cp(s,e){return(function(r,l){const c=new aa;return r.asyncQueue.enqueueAndForget((async()=>XR(await oI(r),l,c))),c.promise})(Db(s),e)}function AI(s,e,i){const r=i.docs.get(e._key),l=new zb(s);return new oa(s,l,e._key,r,new ql(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Io=l})(Ro),go(new ua("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new wo(new dA(r.getProvider("auth-internal")),new gA(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),dr(I_,C_,e),dr(I_,C_,"esm2020")})();function Bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xI=Bb,qb=new cu("auth","Firebase",Bb());const _h=new Hm("@firebase/auth");function RI(s,...e){_h.logLevel<=Be.WARN&&_h.warn(`Auth (${Ro}): ${s}`,...e)}function nh(s,...e){_h.logLevel<=Be.ERROR&&_h.error(`Auth (${Ro}): ${s}`,...e)}function gi(s,...e){throw Np(s,...e)}function qi(s,...e){return Np(s,...e)}function Hb(s,e,i){const r={...xI(),[e]:i};return new cu("auth","Firebase",r).create(e,{appName:s.name})}function yr(s){return Hb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return qb.create(s,...e)}function Se(s,e,...i){if(!s)throw Np(e,...i)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw nh(e),new Error(e)}function ys(s,e){s||fs(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function II(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}function CI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(II()||B2()||"connection"in navigator)?navigator.onLine:!0}function NI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class _u{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=P2()||q2()}get(){return CI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dp(s,e){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Fb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OI=new _u(3e4,6e4);function ga(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rr(s,e,i,r,l={}){return Gb(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=hu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return z2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&xo(s.emulatorConfig.host)&&(y.credentials="include"),Fb.fetch()(await Yb(s,s.config.apiHost,i,p),y)})}async function Gb(s,e,i){s._canInitEmulator=!1;const r={...DI,...e};try{const l=new VI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Kc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Kc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Hb(s,T,y);gi(s,T)}}catch(l){if(l instanceof _s)throw l;gi(s,"network-request-failed",{message:String(l)})}}async function qh(s,e,i,r,l={}){const c=await Rr(s,e,i,r,l);return"mfaPendingCredential"in c&&gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yb(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Dp(s.config,l):`${s.config.apiScheme}://${l}`;return kI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function MI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),OI.get())})}}function Kc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=qi(s,e,r);return l.customData._tokenResponse=i,l}function Cv(s){return s!==void 0&&s.enterprise!==void 0}class jI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return MI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LI(s,e){return Rr(s,"GET","/v2/recaptchaConfig",ga(s,e))}async function PI(s,e){return Rr(s,"POST","/v1/accounts:delete",e)}async function vh(s,e){return Rr(s,"POST","/v1/accounts:lookup",e)}function Xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(s,e=!1){const i=Ht(s),r=await i.getIdToken(e),l=kp(r);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Xl(om(l.auth_time)),issuedAtTime:Xl(om(l.iat)),expirationTime:Xl(om(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function om(s){return Number(s)*1e3}function kp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=n1(i);return l?JSON.parse(l):(nh("Failed to decode base64 JWT payload"),null)}catch(l){return nh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Nv(s){const e=kp(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof _s&&zI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function zI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class BI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(s){const e=s.auth,i=await s.getIdToken(),r=await ru(s,vh(e,{idToken:i}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Qb(l.providerUserInfo):[],d=HI(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Vm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function qI(s){const e=Ht(s);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Qb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function FI(s,e){const i=await Gb(s,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Yb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&xo(s.emulatorConfig.host)&&(g.credentials="include"),Fb.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GI(s,e){return Rr(s,"POST","/v2/accounts:revokeToken",ga(s,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=Nv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await FI(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new fo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return fs("not implemented")}}function rr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new BI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return UI(this,e)}reload(){return qI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await ru(this,PI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:P,providerData:J,stsTokenManager:ee}=i;Se(S&&ee,e,"internal-error");const W=fo.fromJSON(this.name,ee);Se(typeof S=="string",e,"internal-error"),rr(r,e.name),rr(l,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof P=="boolean",e,"internal-error"),rr(c,e.name),rr(d,e.name),rr(p,e.name),rr(g,e.name),rr(y,e.name),rr(T,e.name);const oe=new di({uid:S,auth:e,email:l,emailVerified:R,displayName:r,isAnonymous:P,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(oe.providerData=J.map(ce=>({...ce}))),g&&(oe._redirectEventId=g),oe}static async _fromIdTokenResponse(e,i,r=!1){const l=new fo;l.updateFromServerResponse(i);const c=new di({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await bh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Qb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new fo;p.updateFromIdToken(r);const g=new di({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Dv=new Map;function ds(s){ys(s instanceof Function,"Expected a class definition");let e=Dv.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Dv.set(s,e),e)}class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kb.type="NONE";const kv=Kb;function ih(s,e,i){return`firebase:${s}:${e}:${i}`}class mo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=ih(this.userKey,l.apiKey,c),this.fullPersistenceKey=ih("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await vh(this.auth,{idToken:e}).catch(()=>{});return i?di._fromGetAccountInfoResponse(this.auth,i,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new mo(ds(kv),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ds(kv);const d=ih(r,e.config.apiKey,e.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const R=await vh(e,{idToken:T}).catch(()=>{});if(!R)break;S=await di._fromGetAccountInfoResponse(e,R,T)}else S=di._fromJSON(e,T);y!==c&&(p=S),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new mo(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new mo(c,e,r))}}function Ov(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eE(e))return"Blackberry";if(tE(e))return"Webos";if($b(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(Wb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Xb(s=hn()){return/firefox\//i.test(s)}function $b(s=hn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(s=hn()){return/crios\//i.test(s)}function Jb(s=hn()){return/iemobile/i.test(s)}function Wb(s=hn()){return/android/i.test(s)}function eE(s=hn()){return/blackberry/i.test(s)}function tE(s=hn()){return/webos/i.test(s)}function Op(s=hn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function YI(s=hn()){return Op(s)&&!!window.navigator?.standalone}function QI(){return H2()&&document.documentMode===10}function nE(s=hn()){return Op(s)||Wb(s)||tE(s)||eE(s)||/windows phone/i.test(s)||Jb(s)}function iE(s,e=[]){let i;switch(s){case"Browser":i=Ov(hn());break;case"Worker":i=`${Ov(hn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${r}`}class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function XI(s,e={}){return Rr(s,"GET","/v2/passwordPolicy",ga(s,e))}const $I=6;class ZI{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$I,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class JI{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await vh(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(yr(this));const i=e?Ht(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XI(this),i=new ZI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await GI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oo(s){return Ht(s)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z2(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(s){Hh=s}function sE(s){return Hh.loadJS(s)}function eC(){return Hh.recaptchaEnterpriseScript}function tC(){return Hh.gapiScript}function nC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class iC{constructor(){this.enterprise=new sC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class sC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const rC="recaptcha-enterprise",rE="NO_RECAPTCHA";class aC{constructor(e){this.type=rC,this.auth=Oo(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{LI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new jI(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;Cv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(rE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&Cv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=eC();g.length!==0&&(g+=p),sE(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Vv(s,e,i,r=!1,l=!1){const c=new aC(s);let d;if(l)d=rE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jv(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Vv(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Vv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function oC(s,e){const i=Gm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(la(c,e??{}))return l;gi(l,"already-initialized")}return i.initialize({options:e})}function lC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function uC(s,e,i){const r=Oo(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=aE(e),{host:d,port:p}=cC(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(la(y,r.config.emulator)&&la(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,xo(d)?(a1(`${c}//${d}${g}`),o1("Auth",!0)):hC()}function aE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function cC(s){const e=aE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Lv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Lv(d)}}}function Lv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function hC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Mp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,i){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function fC(s,e){return Rr(s,"POST","/v1/accounts:signUp",e)}async function dC(s,e){return qh(s,"POST","/v1/accounts:signInWithPassword",ga(s,e))}async function mC(s,e){return qh(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}async function pC(s,e){return qh(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}class au extends Mp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new au(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new au(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,i,"signInWithPassword",dC);case"emailLink":return mC(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,r,"signUpPassword",fC);case"emailLink":return pC(e,{idToken:i,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(s,e){return qh(s,"POST","/v1/accounts:signInWithIdp",ga(s,e))}const gC="http://localhost";class fa extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new fa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return po(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,po(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,po(e,i)}buildRequest(){const e={requestUri:gC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=hu(i)}return e}}function yC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _C(s){const e=Ll(Pl(s)).link,i=e?Ll(Pl(e)).deep_link_id:null,r=Ll(Pl(s)).deep_link_id;return(r?Ll(Pl(r)).link:null)||r||i||e||s}class Vp{constructor(e){const i=Ll(Pl(e)),r=i.apiKey??null,l=i.oobCode??null,c=yC(i.mode??null);Se(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=_C(e);try{return new Vp(i)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,i){return au._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Vp.parseLink(i);return Se(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vu extends oE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends vu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return or.credential(i,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends vu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends vu{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ur.credential(i,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await di._fromIdTokenResponse(e,r,l),d=Pv(r);return new So({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Pv(r);return new So({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Eh extends _s{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new Eh(e,i,r,l)}}function lE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(s,c,e,r):c})}async function vC(s,e,i=!1){const r=await ru(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return So._forOperation(s,"link",r)}async function bC(s,e,i=!1){const{auth:r}=s;if(fi(r.app))return Promise.reject(yr(r));const l="reauthenticate";try{const c=await ru(s,lE(r,l,e,s),i);Se(c.idToken,r,"internal-error");const d=kp(c.idToken);Se(d,r,"internal-error");const{sub:p}=d;return Se(s.uid===p,r,"user-mismatch"),So._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),c}}async function uE(s,e,i=!1){if(fi(s.app))return Promise.reject(yr(s));const r="signIn",l=await lE(s,r,e),c=await So._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function EC(s,e){return uE(Oo(s),e)}async function TC(s){const e=Oo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function wC(s,e,i){return fi(s.app)?Promise.reject(yr(s)):EC(Ht(s),Mo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TC(s),r})}function SC(s,e,i,r){return Ht(s).onIdTokenChanged(e,i,r)}function AC(s,e,i){return Ht(s).beforeAuthStateChanged(e,i)}function xC(s,e,i,r){return Ht(s).onAuthStateChanged(e,i,r)}function RC(s){return Ht(s).signOut()}const Th="__sak";class cE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IC=1e3,CC=10;class hE extends cE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);QI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,CC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}hE.type="LOCAL";const NC=hE;class fE extends cE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}fE.type="SESSION";const dE=fE;function DC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Fh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),g=await DC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];function jp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class kC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=jp("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(R.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function OC(s){Hi().location.href=s}function mE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function MC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function jC(){return mE()?self:null}const pE="firebaseLocalStorageDb",LC=1,wh="firebaseLocalStorage",gE="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Gh(s,e){return s.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function PC(){const s=indexedDB.deleteDatabase(pE);return new bu(s).toPromise()}function jm(){const s=indexedDB.open(pE,LC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(wh,{keyPath:gE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await PC(),e(await jm()))})})}async function Uv(s,e,i){const r=Gh(s,!0).put({[gE]:e,value:i});return new bu(r).toPromise()}async function UC(s,e){const i=Gh(s,!1).get(e),r=await new bu(i).toPromise();return r===void 0?null:r.value}function zv(s,e){const i=Gh(s,!0).delete(e);return new bu(i).toPromise()}const zC=800,BC=3;class yE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>BC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(jC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MC(),!this.activeServiceWorker)return;this.sender=new kC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await Uv(e,Th,"1"),await zv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Uv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>UC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>zv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Gh(l,!1).getAll();return new bu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yE.type="LOCAL";const qC=yE;new _u(3e4,6e4);function HC(s,e){return e?ds(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Lp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,i){return po(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function FC(s){return uE(s.auth,new Lp(s),s.bypassAuthState)}function GC(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),bC(i,new Lp(s),s.bypassAuthState)}async function YC(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),vC(i,new Lp(s),s.bypassAuthState)}class _E{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:gi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QC=new _u(2e3,1e4);class uo extends _E{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QC.get())};e()}}uo.currentPopupAction=null;const KC="pendingRedirect",sh=new Map;class XC extends _E{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(s,e){const i=WC(e),r=JC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function ZC(s,e){sh.set(s._key(),e)}function JC(s){return ds(s._redirectPersistence)}function WC(s){return ih(KC,s.config.apiKey,s.name)}async function eN(s,e,i=!1){if(fi(s.app))return Promise.reject(yr(s));const r=Oo(s),l=HC(r,e),d=await new XC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const tN=600*1e3;class nN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!vE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function vE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function iN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(s);default:return!1}}async function sN(s,e={}){return Rr(s,"GET","/v1/projects",e)}const rN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aN=/^https?/;async function oN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await sN(s);for(const i of e)try{if(lN(i))return}catch{}gi(s,"unauthorized-domain")}function lN(s){const e=Mm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!aN.test(i))return!1;if(rN.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const uN=new _u(3e4,6e4);function qv(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function cN(s){return new Promise((e,i)=>{function r(){qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qv(),i(qi(s,"network-request-failed"))},timeout:uN.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const l=nC("iframefcb");return Hi()[l]=()=>{gapi.load?r():i(qi(s,"network-request-failed"))},sE(`${tC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw rh=null,e})}let rh=null;function hN(s){return rh=rh||cN(s),rh}const fN=new _u(5e3,15e3),dN="__/auth/iframe",mN="emulator/auth/iframe",pN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yN(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Dp(e,mN):`https://${s.config.authDomain}/${dN}`,r={apiKey:e.apiKey,appName:s.name,v:Ro},l=gN.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${hu(r).slice(1)}`}async function _N(s){const e=await hN(s),i=Hi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:yN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pN,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=qi(s,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},fN.get());function g(){Hi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bN=500,EN=600,TN="_blank",wN="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SN(s,e,i,r=bN,l=EN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...vN,width:r.toString(),height:l.toString(),top:c,left:d},y=hn().toLowerCase();i&&(p=Zb(y)?TN:i),Xb(y)&&(e=e||wN,g.scrollbars="yes");const T=Object.entries(g).reduce((R,[P,J])=>`${R}${P}=${J},`,"");if(YI(y)&&p!=="_self")return AN(e||"",p),new Hv(null);const S=window.open(e||"",p,T);Se(S,s,"popup-blocked");try{S.focus()}catch{}return new Hv(S)}function AN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const xN="__/auth/handler",RN="emulator/auth/handler",IN=encodeURIComponent("fac");async function Fv(s,e,i,r,l,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ro,eventId:l};if(e instanceof oE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",$2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof vu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${IN}=${encodeURIComponent(g)}`:"";return`${CN(s)}?${hu(p).slice(1)}${y}`}function CN({config:s}){return s.emulator?Dp(s,RN):`https://${s.authDomain}/${xN}`}const lm="webStorageSupport";class NN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dE,this._completeRedirectFn=eN,this._overrideRedirectResult=ZC}async _openPopup(e,i,r,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Fv(e,i,r,Mm(),l);return SN(e,c,jp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await Fv(e,i,r,Mm(),l);return OC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await _N(e),r=new nN(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(lm,{type:lm},l=>{const c=l?.[0]?.[lm];c!==void 0&&i(!!c),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=oN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return nE()||$b()||Op()}}const DN=NN;var Gv="@firebase/auth",Yv="1.11.1";class kN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ON(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MN(s){go(new ua("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(s)},y=new JI(r,l,c,g);return lC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),go(new ua("auth-internal",e=>{const i=Oo(e.getProvider("auth").getImmediate());return(r=>new kN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Gv,Yv,ON(s)),dr(Gv,Yv,"esm2020")}const VN=300,jN=r1("authIdTokenMaxAge")||VN;let Qv=null;const LN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>jN)return;const l=i?.token;Qv!==l&&(Qv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PN(s=Ym()){const e=Gm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=oC(s,{popupRedirectResolver:DN,persistence:[qC,NC,dE]}),r=r1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=LN(c.toString());AC(i,d,()=>d(i.currentUser)),SC(i,p=>d(p))}}const l=i1("auth");return l&&uC(i,`http://${l}`),i}function UN(){return document.getElementsByTagName("head")?.[0]??document}WI({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=qi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",UN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MN("Browser");const Kv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Xc,Hl,vt;try{Kv.apiKey&&(JS().length===0?Xc=c1(Kv):Xc=Ym(),Hl=PN(Xc),vt=uI(Xc))}catch(s){console.error("Firebase init error:",s)}const An="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",um="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",zN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[]},Pp=s=>new Promise(e=>{const i=new FileReader;i.readAsDataURL(s),i.onload=r=>{const l=new Image;l.src=r.target.result,l.onload=()=>{const c=document.createElement("canvas"),d=800,p=d/l.width,g=l.width>d?d:l.width,y=l.width>d?l.height*p:l.height;c.width=g,c.height=y,c.getContext("2d").drawImage(l,0,0,g,y),e(c.toDataURL("image/jpeg",.7))}}}),BN=({image:s,onClose:e})=>s?v.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),v.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-[90vh] bg-transparent flex items-center justify-center",children:[v.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-3 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40 text-white shadow-lg",children:v.jsx(Sr,{size:24})}),v.jsx("img",{src:s,alt:"Full View",className:"object-contain w-full h-full rounded-2xl shadow-2xl",onError:i=>{i.target.style.display="none",alert(""),e()}})]})]}):null,Xv=({message:s,type:e,onClose:i})=>{fe.useEffect(()=>{const c=setTimeout(i,3e3);return()=>clearTimeout(c)},[i]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?v.jsx(ww,{size:18}):v.jsx(Sh,{size:18});return v.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[v.jsx("div",{className:"shrink-0",children:l}),v.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},qN=({title:s,message:e,onConfirm:i,onCancel:r})=>v.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:r}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-xs transform transition-all scale-100 text-center`,children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),v.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100/80 text-red-500 rounded-2xl flex items-center justify-center mb-4 shadow-inner border border-white/50",children:v.jsx(v2,{size:32})}),v.jsx("h3",{className:"text-xl font-[900] text-gray-800 mb-2 drop-shadow-sm",children:s}),v.jsx("p",{className:"text-sm text-gray-600 font-bold mb-6 leading-relaxed opacity-80",children:e}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-2xl font-bold text-gray-600 bg-white/40 hover:bg-white/60 transition-all border border-white/50 active:scale-95",children:""}),v.jsxs("button",{onClick:i,className:"flex-1 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/30 hover:shadow-red-500/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[v.jsx(uu,{size:16})," "]})]})]})]}),Yh=({title:s,subtitle:e,showBack:i,leftAction:r,rightAction:l,setActiveTab:c,bgImage:d,themeColor:p,coverOffsetY:g=50,coverScale:y=1})=>{const T=i&&!r?v.jsx("button",{onClick:()=>c&&c("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700 shadow-sm border border-white/20 backdrop-blur-sm",children:v.jsx(mw,{size:20})}):null;return v.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[v.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[d?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-full h-full overflow-hidden relative",children:v.jsx("img",{src:d,className:"w-full h-full object-cover opacity-100 transition-transform duration-700",style:{objectPosition:`center ${g}%`,transform:`scale(${y})`},alt:"",onError:S=>S.target.style.display="none"},d)}),v.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):v.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),v.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[r||T,v.jsxs("div",{className:"drop-shadow-sm",children:[v.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&v.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),v.jsx("div",{className:"scale-90 origin-right",children:l})]})]})},HN=({trip:s,onClose:e,onSave:i,onPreviewChange:r})=>{const[l,c]=fe.useState({destination:s.destination||"",date:s.date||"",coverImage:s.coverImage||"",coverOffsetY:s.coverOffsetY!==void 0?s.coverOffsetY:50,coverScale:s.coverScale!==void 0?s.coverScale:1});fe.useEffect(()=>{r&&r(l)},[l,r]);const[d,p]=fe.useState(!1),g=fe.useRef(null),y=fe.useRef(null),T=fe.useRef(!1),S=fe.useRef(0),R=fe.useRef(0),P=Y=>{const{name:ae,value:Ee}=Y.target;c(Te=>({...Te,[ae]:Ee}))},J=async Y=>{const ae=Y.target.files[0];if(ae){p(!0);try{const Ee=await Pp(ae);c(Te=>({...Te,coverImage:Ee,coverOffsetY:50,coverScale:1}))}catch(Ee){console.error("Image process error",Ee),alert("")}finally{p(!1)}}},ee=()=>{i(s.id,l)},W=Y=>{l.coverImage&&(T.current=!0,S.current=Y.clientY||Y.touches[0].clientY,R.current=l.coverOffsetY)},oe=Y=>{if(!T.current)return;const ae=Y.clientY||Y.touches&&Y.touches[0].clientY;if(!ae)return;const Ee=S.current-ae,Te=160,N=1.5*l.coverScale,A=Ee/Te*100/N;let I=R.current+A;I=Math.max(0,Math.min(100,I)),c(M=>({...M,coverOffsetY:I}))},ce=()=>{T.current=!1};return fe.useEffect(()=>(window.addEventListener("mouseup",ce),window.addEventListener("touchend",ce),()=>{window.removeEventListener("mouseup",ce),window.removeEventListener("touchend",ce)}),[]),v.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),v.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[v.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),v.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:v.jsx(Sr,{size:20,className:"text-gray-700"})})]}),v.jsxs("div",{className:"space-y-4 relative z-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:v.jsx(Xw,{size:18})}),v.jsx("input",{name:"destination",value:l.destination,onChange:P,className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:v.jsx(Pm,{size:18})}),v.jsx("input",{name:"date",value:l.date,onChange:P,placeholder:"YYYY/MM/DD",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsxs("button",{onClick:()=>g.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-md",children:[d?v.jsx(Ao,{className:"animate-spin",size:14}):v.jsx(Wv,{size:14}),""]}),v.jsx("input",{type:"file",ref:g,className:"hidden",accept:"image/*",onChange:J})]}),v.jsxs("div",{className:"relative mb-3",children:[v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:v.jsx(Um,{size:14})}),v.jsx("input",{name:"coverImage",value:l.coverImage,onChange:P,placeholder:"...",className:"w-full bg-white/40 border border-white/50 rounded-xl py-2 pl-10 pr-4 text-gray-600 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]}),l.coverImage&&v.jsxs("div",{className:"mt-1",children:[v.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1",children:[v.jsxs("div",{className:"text-[10px] text-gray-500 mb-1 ml-1 flex items-center gap-1",children:[v.jsx(Ww,{size:10})," "]}),v.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[v.jsx(qm,{size:10})," : ",l.coverScale,"x"]})]}),v.jsxs("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:W,onMouseMove:oe,onTouchStart:W,onTouchMove:oe,children:[v.jsx("img",{ref:y,src:l.coverImage,alt:"Preview",className:"w-full h-full object-cover pointer-events-none select-none origin-center",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},onError:Y=>Y.target.style.opacity=.3},l.coverImage),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 pointer-events-none",children:v.jsx("div",{className:"bg-black/50 text-white text-[10px] px-2 py-1 rounded-full backdrop-blur-sm",children:""})})]}),v.jsxs("div",{className:"mt-3 flex items-center gap-3 px-1",children:[v.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"1x"}),v.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:Y=>c(ae=>({...ae,coverScale:parseFloat(Y.target.value)})),className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"}),v.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"3x"})]})]})]}),v.jsxs("button",{onClick:ee,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all mt-4",children:[v.jsx(a2,{size:18})," "]})]})]})]})},FN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:r,onExportTrip:l,onEditTrip:c,onOpenImport:d,onClose:p,userEmail:g,onLogout:y})=>v.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:p}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),v.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[v.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),v.jsx("button",{onClick:p,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:v.jsx(Sr,{size:20,className:"text-gray-700"})})]}),v.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[v.jsxs("div",{className:"overflow-hidden",children:[v.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),v.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:g})]}),v.jsxs("button",{onClick:y,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[v.jsx(Gw,{size:12})," "]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&v.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(T=>v.jsxs("div",{onClick:()=>i(T.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===T.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[v.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${T.coverImage?"":`bg-gradient-to-br ${T.themeColor||"from-gray-300 to-gray-400"}`}`,children:T.coverImage?v.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${T.coverOffsetY||50}%`,transform:`scale(${T.coverScale||1})`},alt:""}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:v.jsx(Zv,{size:20})})}),v.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[v.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-tight truncate",children:T.destination||""}),v.jsxs("div",{className:"flex items-center text-xs text-gray-600 mt-0.5 font-bold",children:[v.jsx(Pm,{size:12,className:"mr-1"}),T.date||"--/--"]})]}),v.jsxs("div",{className:"flex items-center gap-1 z-20",children:[v.jsx("button",{onClick:S=>{S.stopPropagation(),c(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:"",children:v.jsx(zm,{size:18})}),v.jsx("button",{onClick:S=>{S.stopPropagation(),l(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:v.jsx(Dw,{size:18})}),v.jsx("button",{onClick:S=>{S.stopPropagation(),r(T.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:v.jsx(uu,{size:18})})]})]},T.id))]}),v.jsx("div",{className:"mt-auto relative z-10",children:v.jsxs("button",{onClick:d,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[v.jsx(Aw,{size:20})," /"]})})]})]}),GN=({onClose:s,onImport:e,isLoading:i})=>{const[r,l]=fe.useState("json"),[c,d]=fe.useState(""),p=()=>{e(c,r)};return v.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),v.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[v.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),v.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:v.jsx(Sr,{size:20,className:"text-gray-700"})})]}),v.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[v.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),v.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),v.jsxs("div",{className:"space-y-4 relative z-10",children:[v.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?v.jsx("textarea",{value:c,onChange:g=>d(g.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):v.jsx("input",{type:"text",value:c,onChange:g=>d(g.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),v.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),v.jsx("button",{onClick:p,disabled:!c.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!c.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?v.jsxs(v.Fragment,{children:[v.jsx(Ao,{className:"animate-spin",size:16})," ..."]}):v.jsxs(v.Fragment,{children:[v.jsx(Rw,{size:16})," "]})})]})]})]})},YN=({flights:s,onClose:e})=>v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[v.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),v.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:v.jsx(Sr,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?v.jsx("div",{className:"space-y-4",children:s.map((i,r)=>v.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[v.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:v.jsx(cm,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),v.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[v.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),v.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),v.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),v.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),v.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),v.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[v.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),v.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:v.jsx(cm,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),v.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),v.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&v.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):v.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[v.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),v.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),QN=({onClose:s,onAdd:e})=>{const[i,r]=fe.useState(""),[l,c]=fe.useState(""),[d,p]=fe.useState(""),[g,y]=fe.useState(""),[T,S]=fe.useState(""),[R,P]=fe.useState(!1),J=fe.useRef(null),ee=async ae=>{const Ee=ae.target.files[0];if(Ee){P(!0);try{const Te=await Pp(Ee);S(Te)}catch(Te){console.error("Image process error",Te),alert("")}finally{P(!1)}}},W=()=>{i.trim()&&e(i,l,d,g,T)},oe="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",ce="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",Y=16;return v.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),v.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[v.jsx("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),v.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:v.jsx(Sr,{size:20,className:"text-gray-700"})})]}),v.jsxs("div",{className:"space-y-3 relative z-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:oe,children:" *"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-500",children:v.jsx(lu,{size:Y})}),v.jsx("input",{type:"text",value:i,onChange:ae=>r(ae.target.value),placeholder:"",className:ce,autoFocus:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:oe,children:" ()"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:v.jsx(Bm,{size:Y})}),v.jsx("input",{type:"text",value:l,onChange:ae=>c(ae.target.value),placeholder:"",className:ce})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:oe,children:" ()"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:v.jsx(Um,{size:Y})}),v.jsx("input",{type:"url",value:g,onChange:ae=>y(ae.target.value),placeholder:"",className:ce})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:oe,children:" ()"}),v.jsx("input",{type:"file",ref:J,className:"hidden",accept:"image/*",onChange:ee}),v.jsx("div",{className:"relative",children:v.jsxs("button",{onClick:()=>J.current?.click(),disabled:R,className:"w-full py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[R?v.jsx(Ao,{className:"animate-spin",size:Y}):v.jsx(Zv,{size:Y}),T?" ()":""]})})]}),v.jsxs("div",{children:[v.jsx("label",{className:oe,children:" ()"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:v.jsx(Jv,{size:Y})}),v.jsx("input",{type:"text",value:d,onChange:ae=>p(ae.target.value),placeholder:"",className:ce})]})]}),v.jsxs("button",{onClick:W,disabled:!i.trim()||R,className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!i.trim()||R?"bg-gray-400/50 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50"}`,children:[v.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},KN=({onClose:s,onAdd:e})=>{const[i,r]=fe.useState(""),[l,c]=fe.useState(""),d="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",p="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",g=16,y=()=>{i.trim()&&e(i,l)};return v.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),v.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[v.jsx("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),v.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:v.jsx(Sr,{size:20,className:"text-gray-700"})})]}),v.jsxs("div",{className:"space-y-3 relative z-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:d,children:" *"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-500",children:v.jsx(ou,{size:g})})," ",v.jsx("input",{type:"text",value:i,onChange:T=>r(T.target.value),placeholder:"",className:p,autoFocus:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:d,children:""}),v.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(T=>v.jsx("button",{onClick:()=>c(T),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===T?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:T},T))})]}),v.jsxs("div",{children:[v.jsx("label",{className:d,children:""}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-400",children:v.jsx(Bm,{size:g})}),v.jsx("input",{type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"",className:p})]})]}),v.jsxs("button",{onClick:y,disabled:!i.trim(),className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[v.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},XN=({editingState:s,onClose:e,onSave:i,onImageView:r})=>{const{type:l,data:c}=s,[d,p]=fe.useState(c),[g,y]=fe.useState(!1),T=fe.useRef(null),S=l==="shopping",R=S?"pink":"blue",P=S?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",J=S?"text-pink-500":"text-blue-500",ee=S?lu:ou,W="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",oe="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",ce=16,Y=async Ee=>{const Te=Ee.target.files[0];if(Te){y(!0);try{const N=await Pp(Te);p(A=>({...A,image:N}))}catch(N){console.error("Image process error",N),alert("")}finally{y(!1)}}},ae=()=>{i(S?d:{id:d.id,item:d.item,category:d.category,checked:d.checked})};return v.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[v.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),v.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[v.jsxs("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:[" ",S?"":""]}),v.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:v.jsx(Sr,{size:20,className:"text-gray-700"})})]}),v.jsxs("div",{className:"space-y-3 relative z-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:W,children:""}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${J}`,children:v.jsx(ee,{size:ce})})," ",v.jsx("input",{type:"text",value:d.item,onChange:Ee=>p({...d,item:Ee.target.value}),className:oe.replace("focus:ring-pink",`focus:ring-${R}`),autoFocus:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:W,children:""}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${J}`,children:v.jsx(Bm,{size:ce})}),v.jsx("input",{type:"text",value:d.category||"",onChange:Ee=>p({...d,category:Ee.target.value}),placeholder:"",className:oe.replace("focus:ring-pink",`focus:ring-${R}`)})]})]}),S&&v.jsxs("div",{children:[v.jsx("label",{className:W,children:" ()"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${J}`,children:v.jsx(Um,{size:ce})}),v.jsx("input",{type:"url",value:d.link||"",onChange:Ee=>p({...d,link:Ee.target.value}),placeholder:"/",className:oe.replace("focus:ring-pink",`focus:ring-${R}`)})]})]}),S&&v.jsxs("div",{children:[v.jsx("label",{className:W,children:" ()"}),v.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",onChange:Y}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>T.current?.click(),disabled:g,className:"flex-1 py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[g?v.jsx(Ao,{className:"animate-spin",size:ce}):v.jsx(Wv,{size:ce}),d.image?"":""]}),d.image&&v.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),r(d.image)},className:"w-1/3 py-2.5 bg-blue-500/60 text-white rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-blue-600/70",title:"",children:[v.jsx(qm,{size:ce})," "]}),d.image&&v.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),p(Te=>({...Te,image:""}))},className:"w-1/5 py-2.5 bg-red-500/60 text-white rounded-2xl text-sm font-bold flex items-center justify-center active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-red-600/70",title:"",children:v.jsx(uu,{size:ce})})]})]}),S&&v.jsxs("div",{children:[v.jsx("label",{className:W,children:""}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${J}`,children:v.jsx(Jv,{size:ce})}),v.jsx("input",{type:"text",value:d.note||"",onChange:Ee=>p({...d,note:Ee.target.value}),placeholder:"",className:oe.replace("focus:ring-pink",`focus:ring-${R}`)})]})]}),v.jsxs("button",{onClick:ae,disabled:!d.item.trim()||g,className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!d.item.trim()||g?"bg-gray-400/50 cursor-not-allowed":`${P} shadow-${R}-500/30 hover:shadow-${R}-500/50`}`,children:[v.jsx(Sh,{size:20,strokeWidth:3}),""]})," "]})]})]})},$N=({onLogin:s,isLoading:e})=>{const[i,r]=fe.useState(""),[l,c]=fe.useState(""),d=()=>{!i||!l||s(i,l)};return v.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 animate-fade-in",children:[v.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),v.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),v.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[v.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:v.jsx(T2,{size:40})}),v.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),v.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),v.jsxs("div",{className:"w-full space-y-4 mb-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:v.jsx(Qw,{size:18})}),v.jsx("input",{type:"email",value:i,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:v.jsx(Hw,{size:18})}),v.jsx("input",{type:"password",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),v.jsx("button",{onClick:d,disabled:e||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?v.jsx(Ao,{className:"animate-spin"}):""}),v.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:v.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[v.jsx(Pw,{size:10})," "]})})]})]})},ZN=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:r,setShowFlightModal:l,openEditModal:c,setShowTripListModal:d,onEditCurrentTrip:p,onScroll:g,previewTrip:y,shoppingItems:T,packingItems:S})=>{const R=y||e;return v.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:g,children:[v.jsx(Yh,{title:"",subtitle:"20251203 v5",showBack:!1,leftAction:v.jsx("button",{onClick:()=>d(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:v.jsx(Bw,{size:24,strokeWidth:2.5})}),rightAction:e?v.jsx("button",{onClick:p,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:v.jsx(l2,{size:22,strokeWidth:2.5})}):null,setActiveTab:r,bgImage:R?.coverImage,themeColor:R?.themeColor,coverOffsetY:R?.coverOffsetY,coverScale:R?.coverScale}),v.jsxs("div",{className:"px-6 mt-4",children:[!R||!R.date||R.date==="----/--/--"?v.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[v.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),v.jsxs("p",{className:"text-sm text-gray-500",children:["",v.jsx("br",{}),"  "]})]}):v.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${An} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${um} relative`,children:[v.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[R.coverImage&&v.jsx("div",{className:"w-full h-full overflow-hidden relative",children:v.jsx("img",{src:R.coverImage,alt:R.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${R.coverOffsetY||50}%`,transform:`scale(${R.coverScale||1})`},onError:P=>P.target.style.opacity=.3},R.coverImage)}),v.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${R.themeColor||"from-gray-400 to-gray-600"} ${R.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),v.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:v.jsx("div",{className:"flex justify-between items-end",children:v.jsxs("div",{children:[v.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),v.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:R.destination||""}),v.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[v.jsx(Pm,{size:14,className:"mr-2"}),R.date||"--/--"]})]})})})]}),v.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),v.jsxs("div",{className:"flex items-baseline",children:[v.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(R.date)}),v.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),v.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:v.jsx(Ew,{size:28})})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[v.jsxs("div",{onClick:()=>r("shopping"),className:`${An} ${um} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)] flex items-center gap-4 h-24`,children:[v.jsx("div",{className:"bg-pink-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-pink-500 shadow-inner border border-white/50 shrink-0",children:v.jsx(lu,{size:24})}),v.jsxs("div",{className:"overflow-hidden",children:[v.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),v.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[T.filter(P=>!P.checked).length," "]})]})]}),v.jsxs("div",{onClick:()=>r("packing"),className:`${An} ${um} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)] flex items-center gap-4 h-24`,children:[v.jsx("div",{className:"bg-blue-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-blue-500 shadow-inner border border-white/50 shrink-0",children:v.jsx(ou,{size:24})})," ",v.jsxs("div",{className:"overflow-hidden",children:[v.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),v.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[S.filter(P=>!P.checked).length," "]})]})]})]})]})]})},JN=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l,onScroll:c})=>{const d=s&&s.days&&s.days.length>0?r(s):null;return v.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:c,children:[v.jsx(Yh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:v.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0-0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:v.jsx(cm,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),v.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&v.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((p,g)=>v.jsxs("div",{className:"relative pl-4",children:[g!==s.days.length-1&&v.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),v.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[v.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[v.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),v.jsx("span",{className:"text-xl font-black leading-none",children:p.day})]}),v.jsx("div",{children:v.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:p.title})})]}),v.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:p.activities.map((y,T)=>{const S=d===y.id;return v.jsxs("div",{ref:R=>l.current[y.id]=R,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${S?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[v.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${S?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${y.type==="transport"?"bg-purple-400":y.type==="food"?"bg-orange-400":y.type==="shopping"?"bg-pink-400":y.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:S&&v.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:y.time}),S&&v.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),v.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[y.type==="sightseeing"&&v.jsx(_w,{size:14,className:"text-gray-500"}),y.type==="food"&&v.jsx(Cw,{size:14,className:"text-gray-500"}),y.type==="transport"&&v.jsx(g2,{size:14,className:"text-gray-500"}),y.type==="shopping"&&v.jsx(lu,{size:14,className:"text-gray-500"}),y.type==="relax"&&v.jsx(d2,{size:14,className:"text-gray-500"})]})]}),v.jsx("div",{className:"flex justify-between items-end gap-2",children:v.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:y.title})})]},T)})})]},g))]})]})},WN=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:r,requestDeleteShopping:l,openEditModal:c,onScroll:d,shoppingItems:p,setImageViewerImage:g})=>{const[y,T]=fe.useState(""),[S,R]=fe.useState("createdAt"),P=p||[],J=["",...new Set(P.map(Y=>Y.category||"").filter(Y=>Y))],ee=[...P].filter(Y=>y===""?!0:(Y.category||"")===y).sort((Y,ae)=>S==="category"?(Y.category||"").localeCompare(ae.category||"","zh-Hant"):Y.checked!==ae.checked?Y.checked?1:-1:Y.createdAt.localeCompare(ae.createdAt)),W=P.filter(Y=>Y.checked).length,oe=P.length,ce=Y=>{try{if(!Y)return null;const ae=new URL(Y);return ae.protocol==="http:"||ae.protocol==="https:"?Y:null}catch{return null}};return v.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[v.jsx(Yh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),v.jsxs("div",{className:"px-6 mt-4",children:[v.jsxs("div",{className:`${An} rounded-[2.5rem] p-6 mb-6`,children:[v.jsxs("div",{className:"flex justify-between items-end mb-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),v.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[oe>0?Math.round(W/oe*100):0,"%"]})]}),v.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:v.jsx(Ah,{size:24,strokeWidth:3})})]}),v.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:v.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${oe>0?W/oe*100:0}%`}})})]}),v.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 sticky top-0 z-10 py-2 -mx-1",children:[v.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1 mr-2 pb-1 mask-linear-fade pr-4",onTouchStart:Y=>Y.stopPropagation(),onTouchMove:Y=>Y.stopPropagation(),children:J.map(Y=>v.jsx("button",{onClick:()=>T(Y),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${y===Y?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:Y},Y))}),v.jsx("button",{onClick:()=>R(S==="category"?"createdAt":"category"),className:`p-2 rounded-xl transition-all shrink-0 border ${S==="category"?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40 hover:bg-white/80"}`,title:S==="category"?"":"",children:v.jsx(fw,{size:18})})]}),v.jsx("div",{className:"space-y-4 pb-4",children:ee.length===0?v.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""}):ee.map(Y=>v.jsxs("div",{className:`group flex p-3 rounded-[1.5rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${Y.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,onClick:()=>r(Y.id),children:[v.jsx("div",{className:"flex items-center shrink-0 cursor-pointer",children:Y.image?v.jsxs("div",{className:"w-10 h-10 rounded-lg overflow-hidden mr-3 relative shadow-md border border-white/50",children:[v.jsx("img",{src:Y.image,alt:Y.item,className:`w-full h-full object-cover transition-all ${Y.checked?"opacity-50":"opacity-100"}`,onError:ae=>{ae.target.style.display="none",ae.target.parentElement.classList.add("bg-gray-200")}}),v.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${Y.checked?"opacity-100 bg-pink-500/60 text-white":"opacity-0"}`,children:v.jsx(Sh,{size:20,strokeWidth:3})})]}):v.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-3 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${Y.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:v.jsx(h2,{size:18,strokeWidth:3})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[Y.link?v.jsxs("a",{href:ce(Y.link),target:"_blank",rel:"noopener noreferrer",onClick:ae=>ae.stopPropagation(),className:`font-bold text-base transition-all tracking-tight hover:underline flex items-center gap-1 ${Y.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:[Y.item," ",v.jsx(Ow,{size:14,className:"text-pink-500/80 shrink-0"})]}):v.jsx("span",{className:`font-bold text-base transition-all tracking-tight cursor-pointer ${Y.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:Y.item}),v.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[Y.category&&v.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:Y.category}),Y.note&&v.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:Y.note})]})]}),v.jsxs("div",{className:"flex items-center gap-1 z-20 shrink-0",children:[Y.image&&v.jsx("button",{onClick:ae=>{ae.stopPropagation(),g(Y.image)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-pink-500 hover:bg-pink-100/50 transition-all active:scale-90",title:"",children:v.jsx(qm,{size:16})}),v.jsx("button",{onClick:ae=>{ae.stopPropagation(),c("shopping",Y)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:v.jsx(zm,{size:16})}),v.jsx("button",{onClick:ae=>{ae.stopPropagation(),l(Y.id)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:v.jsx(uu,{size:16})})]})]},Y.id))})]})]})},e4=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:r,requestDeletePacking:l,openEditModal:c,onScroll:d,packingItems:p,setImageViewerImage:g})=>{const y=p||[],T=y.filter(P=>P.checked).length,S=y.length,R=[...y].sort((P,J)=>P.checked!==J.checked?P.checked?1:-1:0);return v.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[v.jsx(Yh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),v.jsxs("div",{className:"px-6 mt-4",children:[v.jsxs("div",{className:`${An} rounded-[2.5rem] p-6 mb-8`,children:[v.jsxs("div",{className:"flex justify-between items-end mb-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),v.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[S>0?Math.round(T/S*100):0,"%"]})]}),v.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:v.jsx(Ah,{size:24,strokeWidth:3})})]}),v.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:v.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${S>0?T/S*100:0}%`}})})]}),v.jsx("div",{className:"space-y-4",children:R.map(P=>v.jsxs("div",{className:`group flex p-3 rounded-[1.5rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${P.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,onClick:()=>r(P.id),children:[v.jsx("div",{className:"flex items-center shrink-0",children:v.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-3 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${P.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:P.checked?v.jsx(Sh,{size:18,strokeWidth:3}):v.jsx(ou,{size:18})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("span",{className:`font-bold text-base transition-all tracking-tight cursor-pointer ${P.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:P.item}),v.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:P.category})]}),v.jsxs("div",{className:"flex items-center gap-1 z-20 shrink-0",children:[v.jsx("button",{onClick:J=>{J.stopPropagation(),c("packing",P)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:v.jsx(zm,{size:16})}),v.jsx("button",{onClick:J=>{J.stopPropagation(),l(P.id)},className:"w-9 h-9 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:v.jsx(uu,{size:16})})]})]},P.id))})]})]})},t4=({activeTab:s,setActiveTab:e,isVisible:i})=>v.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ease-in-out ${i?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:v.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[v.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:v.jsx(Vw,{size:24,strokeWidth:s==="home"?3:2})}),v.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:v.jsx(Zw,{size:24,strokeWidth:s==="itinerary"?3:2})}),v.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:v.jsx(lu,{size:24,strokeWidth:3})}),v.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:v.jsx(ou,{size:24,strokeWidth:3})})," "]})});function n4(){const[s,e]=fe.useState("home"),[i,r]=fe.useState(null),[l,c]=fe.useState(!1),[d,p]=fe.useState(!0),g=fe.useRef(0),[y,T]=fe.useState([]),[S,R]=fe.useState(null),[P,J]=fe.useState([]),[ee,W]=fe.useState([]),[oe,ce]=fe.useState(!1),[Y,ae]=fe.useState(!1),[Ee,Te]=fe.useState(!1),[N,A]=fe.useState(!1),[I,M]=fe.useState(!1),[D,j]=fe.useState(!1),[x,rt]=fe.useState(null),[Et,F]=fe.useState(!1),[ie,ye]=fe.useState(null),[Fe,Ye]=fe.useState(null),[O,Q]=fe.useState(null),[ne,le]=fe.useState({show:!1,type:null,id:null,name:""}),[_e,xe]=fe.useState({show:!1,message:"",type:"success"}),je=fe.useRef({}),Ve=(se,me="success")=>{xe({show:!0,message:se,type:me})},tt=se=>{const me=se.currentTarget.scrollTop,pe=me-g.current;Math.abs(pe)>10&&(pe>0?p(!1):p(!0),g.current=me)};fe.useEffect(()=>{p(!0)},[s]),fe.useEffect(()=>{if(!Hl)return;const se=xC(Hl,me=>{r(me),me&&Ve(` ${me.email}`),c(!0)});return()=>se()},[]);const Gi=async(se,me)=>{ce(!0);try{await wC(Hl,se,me)}catch(pe){console.error(pe);let re="";pe.code==="auth/invalid-credential"&&(re=""),pe.code==="auth/user-not-found"&&(re=""),pe.code==="auth/wrong-password"&&(re=""),Ve(re,"error")}finally{ce(!1)}},vs=async()=>{window.confirm("")&&(await RC(Hl),T([]),R(null),Ve(""))};fe.useEffect(()=>{if(!i||!vt)return;const se=sr(vt,"users",i.uid,"trips"),me=sm(se,rm("date")),pe=am(me,re=>{const Ke=re.docs.map(Oe=>({id:Oe.id,...Oe.data()}));T(Ke),Ke.length>0?R(Oe=>Oe&&Ke.find(Xe=>Xe.id===Oe)?Oe:Ke[0].id):R(null)},re=>{console.error("Firestore Error:",re),Ve("","error")});return()=>pe()},[i]),fe.useEffect(()=>{if(!i||!vt||!S){J([]);return}const se=sr(vt,"users",i.uid,"trips",S,"shoppingItems"),me=sm(se,rm("createdAt","asc")),pe=am(me,re=>{const Ke=re.docs.map(Oe=>({id:Oe.id,...Oe.data()}));J(Ke)},re=>{console.error("Shopping list read error:",re)});return()=>pe()},[i,S]),fe.useEffect(()=>{if(!i||!vt||!S){W([]);return}const se=sr(vt,"users",i.uid,"trips",S,"packingItems"),me=sm(se,rm("createdAt","asc")),pe=am(me,re=>{const Ke=re.docs.map(Oe=>({id:Oe.id,...Oe.data()}));W(Ke)},re=>{console.error("Packing list read error:",re)});return()=>pe()},[i,S]);const Ft=y.find(se=>se.id===S)||null,bs=se=>{if(se)try{const me={...se,shoppingList:P,packingList:ee},{id:pe,...re}=me,Ke=JSON.stringify(re,null,2),Oe=new Blob([Ke],{type:"application/json"}),Xe=URL.createObjectURL(Oe),an=document.createElement("a");an.href=Xe;const _i=(se.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");an.download=`${_i}_export.json`,document.body.appendChild(an),an.click(),document.body.removeChild(an),URL.revokeObjectURL(Xe),Ve("")}catch(me){console.error("Export failed",me),Ve("","error")}},Ln=async(se,me)=>{if(!vt||!i)return;ce(!0);const pe=new Promise(re=>setTimeout(()=>re("timeout"),8e3));try{let re=[];if(me==="url"){const Xe=await fetch(se);if(!Xe.ok)throw new Error("Network error");const an=await Xe.json();re=Array.isArray(an)?an:[an]}else{const Xe=JSON.parse(se);re=Array.isArray(Xe)?Xe:[Xe]}const Ke=sr(vt,"users",i.uid,"trips"),Oe=Promise.all(re.map(async Xe=>{const{id:an,shoppingList:_i=[],packingList:fn=[],...xn}=Xe,jo={...zN,...xn},vi=await jl(Ke,jo),kr=sr(vi,"shoppingItems");await Promise.all(_i.map(ei=>{const{id:ti,...Un}=ei;return jl(kr,{...Un,link:Un.link||"",image:Un.image||"",createdAt:new Date().toISOString()})}));const Or=sr(vi,"packingItems");await Promise.all(fn.map(ei=>{const{id:ti,...Un}=ei;return jl(Or,{...Un,link:Un.link||"",image:Un.image||"",createdAt:new Date().toISOString()})}))}));await Promise.race([Oe,pe]),M(!1),j(!1),Ve(` ${re.length} `)}catch(re){console.error("Import failed",re),Ve("","error")}finally{ce(!1)}},Es=se=>{ye(se),Q(se),F(!0)},Yi=async(se,me)=>{if(!(!vt||!i))try{const pe=lo(vt,"users",i.uid,"trips",se);await Qc(pe,me),F(!1),ye(null),Q(null),Ve("")}catch(pe){console.error("Save failed",pe),Ve("","error")}},Ir=async(se,me)=>{if(!(!vt||!i||!S||!se.trim()))try{const pe=sr(vt,"users",i.uid,"trips",S,"packingItems");await jl(pe,{item:se,checked:!1,category:me||"",createdAt:new Date().toISOString()}),A(!1),Ve("")}catch(pe){console.error("Add packing item failed",pe),Ve("","error")}},Cr=async se=>{if(!(!vt||!i||!S))try{const me=lo(vt,"users",i.uid,"trips",S,"packingItems",se),pe=ee.find(re=>re.id===se);pe&&await Qc(me,{checked:!pe.checked})}catch(me){console.error("Toggle packing item failed",me),Ve("","error")}},Tt=async(se,me,pe,re,Ke)=>{if(!(!vt||!i||!S||!se.trim()))try{const Oe=sr(vt,"users",i.uid,"trips",S,"shoppingItems");await jl(Oe,{item:se,category:me||"",note:pe,link:re||"",image:Ke||"",checked:!1,createdAt:new Date().toISOString()}),Te(!1),Ve("")}catch(Oe){console.error("Add shopping item failed",Oe),Ve("","error")}},At=async se=>{if(!(!vt||!i||!S))try{const me=lo(vt,"users",i.uid,"trips",S,"shoppingItems",se),pe=P.find(re=>re.id===se);pe&&await Qc(me,{checked:!pe.checked})}catch(me){console.error("Toggle shopping item failed",me),Ve("","error")}},Wn=(se,me)=>{let pe="";se==="shopping"?pe=P.find(re=>re.id===me)?.item||pe:se==="packing"&&(pe=ee.find(re=>re.id===me)?.item||pe),le({show:!0,type:se,id:me,name:pe})},Vo=async()=>{const{type:se,id:me}=ne;if(!(!vt||!i||!S))try{let pe,re;if(se==="shopping")pe="shoppingItems",re="";else if(se==="packing")pe="packingItems",re="";else return;const Ke=lo(vt,"users",i.uid,"trips",S,pe,me);await SI(Ke),Ve(re)}catch(pe){console.error("Delete item failed",pe),Ve("","error")}finally{le({show:!1,type:null,id:null,name:""})}},Ts=(se,me)=>rt({type:se,data:{...me}}),Xt=async se=>{if(!x||!vt||!i||!S)return;const{type:me}=x,pe=me==="shopping"?"shoppingItems":"packingItems";try{const re=lo(vt,"users",i.uid,"trips",S,pe,se.id),{id:Ke,createdAt:Oe,...Xe}=se;pe==="packingItems"&&(delete Xe.link,delete Xe.image),await Qc(re,Xe),rt(null),Ve("")}catch(re){console.error("Save edit item failed",re),Ve("","error")}},Qi=se=>{if(!se||se==="----/--/--")return 0;const me=new Date,re=new Date(se)-me;return Math.ceil(re/(1e3*60*60*24))>0?Math.ceil(re/(1e3*60*60*24)):0},ws=se=>{if(!se||!se.days)return null;const me=new Date;let pe=null,re=1/0;return se.days.forEach(Ke=>{const Oe=new Date(se.date);Oe.setDate(Oe.getDate()+(Ke.day-1)),me.toDateString()===Oe.toDateString()&&Ke.activities.forEach(Xe=>{const[an,_i]=Xe.time.split(":"),fn=new Date(Oe);fn.setHours(an,_i,0,0);const xn=me-fn;xn>=0&&xn<re&&(re=xn,pe=Xe.id)})}),pe};fe.useEffect(()=>{if(s==="itinerary"&&Ft&&Ft.days){const se=ws(Ft);se&&je.current[se]&&setTimeout(()=>{je.current[se].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Ft]);const yi=fe.useRef(null),Pn=fe.useRef(null),[Ss,Nr]=fe.useState(0),[As,Dr]=fe.useState(!1),$t=["home","itinerary","shopping","packing"],ft=$t.indexOf(s),pn=80,_t=se=>{Y||Ee||N||I||D||x||Et||ne.show||(yi.current=se.targetTouches[0].clientX,Pn.current=se.targetTouches[0].clientY,Dr(!0))},ya=se=>{if(!As||yi.current===null)return;const me=se.targetTouches[0].clientX,pe=se.targetTouches[0].clientY,re=me-yi.current,Ke=pe-Pn.current;if(Math.abs(Ke)>Math.abs(re))return;let Oe=re;ft===0&&re>0&&(Oe=re*.3),ft===$t.length-1&&re<0&&(Oe=re*.3),Nr(Oe)},xs=()=>{As&&(Math.abs(Ss)>pn&&(Ss>0&&ft>0?e($t[ft-1]):Ss<0&&ft<$t.length-1&&e($t[ft+1])),Dr(!1),Nr(0),yi.current=null,Pn.current=null)};return l?i?v.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[v.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[v.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),v.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),v.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),v.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),v.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),v.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:_t,onTouchMove:ya,onTouchEnd:xs,children:[_e.show&&v.jsx(Xv,{message:_e.message,type:_e.type,onClose:()=>xe({..._e,show:!1})}),Y&&v.jsx(YN,{onClose:()=>ae(!1),flights:Ft?Ft.flights:[]}),Ee&&v.jsx(QN,{onClose:()=>Te(!1),onAdd:Tt}),N&&v.jsx(KN,{onClose:()=>A(!1),onAdd:Ir}),I&&v.jsx(GN,{onClose:()=>M(!1),onImport:Ln,isLoading:oe}),x&&v.jsx(XN,{editingState:x,onClose:()=>rt(null),onSave:Xt,onImageView:Ye}),Et&&ie&&v.jsx(HN,{trip:ie,onClose:()=>{F(!1),Q(null)},onSave:Yi,onPreviewChange:Q}),D&&v.jsx(FN,{trips:y,activeTripId:S,onSelectTrip:se=>{R(se),j(!1),e("home")},onDeleteTrip:se=>{window.confirm("")&&handleDeleteTrip(se)},onExportTrip:bs,onEditTrip:Es,onOpenImport:()=>M(!0),onClose:()=>j(!1),userEmail:i.email,onLogout:vs}),v.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${ft*100}vw + ${Ss}px))`,transition:As?"none":"transform 0.3s ease-out"},children:[v.jsx(ZN,{trips:y,currentTrip:Ft,calculateDaysLeft:Qi,setActiveTab:e,setShowFlightModal:ae,openEditModal:Ts,setShowTripListModal:j,onEditCurrentTrip:()=>Es(Ft),onScroll:tt,previewTrip:O,shoppingItems:P,packingItems:ee}),v.jsx(JN,{currentTrip:Ft,setActiveTab:e,setShowFlightModal:ae,getCurrentActivityId:ws,activityRefs:je,onScroll:tt}),v.jsx(WN,{currentTrip:Ft,setActiveTab:e,setShowAddShoppingModal:Te,toggleShoppingItem:At,requestDeleteShopping:Wn,openEditModal:Ts,onScroll:tt,shoppingItems:P,setImageViewerImage:Ye}),v.jsx(e4,{currentTrip:Ft,setActiveTab:e,setShowAddPackingModal:A,togglePackingItem:Cr,requestDeletePacking:Wn,openEditModal:Ts,onScroll:tt,packingItems:ee,setImageViewerImage:Ye})]}),v.jsx(BN,{image:Fe,onClose:()=>Ye(null)}),ne.show&&v.jsx(qN,{title:"",message:`${ne.name}`,onConfirm:Vo,onCancel:()=>le({...ne,show:!1})}),v.jsx(t4,{activeTab:s,setActiveTab:e,isVisible:d})]})]}):v.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[_e.show&&v.jsx(Xv,{message:_e.message,type:_e.type,onClose:()=>xe({..._e,show:!1})}),v.jsx($N,{onLogin:Gi,isLoading:oe})]}):v.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),v.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),v.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[v.jsx(Ao,{className:"animate-spin text-gray-600 mb-4",size:32}),v.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}rw.createRoot(document.getElementById("root")).render(v.jsx(fe.StrictMode,{children:v.jsx(n4,{})}));
