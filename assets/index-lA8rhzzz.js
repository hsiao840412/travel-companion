(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ld={exports:{}},xl={};var q0;function NT(){if(q0)return xl;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var H0;function DT(){return H0||(H0=1,Ld.exports=NT()),Ld.exports}var b=DT(),Pd={exports:{}},Ae={};var F0;function kT(){if(F0)return Ae;F0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,W={};function ge(O,G,se){this.props=O,this.context=G,this.refs=W,this.updater=se||q}ge.prototype.isReactComponent={},ge.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},ge.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ve(){}ve.prototype=ge.prototype;function le(O,G,se){this.props=O,this.context=G,this.refs=W,this.updater=se||q}var Ce=le.prototype=new ve;Ce.constructor=le,ee(Ce,ge.prototype),Ce.isPureReactComponent=!0;var Le=Array.isArray;function Re(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,G,se){var re=se.ref;return{$$typeof:s,type:O,key:G,ref:re!==void 0?re:null,props:se}}function M(O,G){return x(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return G[se]})}var R=/\/+/g;function at(O,G){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):G.toString(36)}function Et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Re,Re):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,G,se,re,we){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(fe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case s:case e:Ne=!0;break;case T:return Ne=O._init,Y(Ne(O._payload),G,se,re,we)}}if(Ne)return we=we(O),Ne=re===""?"."+at(O,0):re,Le(we)?(se="",Ne!=null&&(se=Ne.replace(R,"$&/")+"/"),Y(we,G,se,"",function(Bi){return Bi})):we!=null&&(D(we)&&(we=M(we,se+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(R,"$&/")+"/")+Ne)),G.push(we)),1;Ne=0;var Tt=re===""?".":re+":";if(Le(O))for(var ut=0;ut<O.length;ut++)re=O[ut],fe=Tt+at(re,ut),Ne+=Y(re,G,se,fe,we);else if(ut=F(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(re=O.next()).done;)re=re.value,fe=Tt+at(re,ut++),Ne+=Y(re,G,se,fe,we);else if(fe==="object"){if(typeof O.then=="function")return Y(Et(O),G,se,re,we);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ie(O,G,se){if(O==null)return O;var re=[],we=0;return Y(O,re,"","",function(fe){return G.call(se,fe,we++)}),re}function de(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ge={map:ie,forEach:function(O,G,se){ie(O,function(){G.apply(this,arguments)},se)},count:function(O){var G=0;return ie(O,function(){G++}),G},toArray:function(O){return ie(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=S,Ae.Children=Ge,Ae.Component=ge,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=le,Ae.StrictMode=r,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,G,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=ee({},O.props),we=O.key;if(G!=null)for(fe in G.key!==void 0&&(we=""+G.key),G)!A.call(G,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&G.ref===void 0||(re[fe]=G[fe]);var fe=arguments.length-2;if(fe===1)re.children=se;else if(1<fe){for(var Ne=Array(fe),Tt=0;Tt<fe;Tt++)Ne[Tt]=arguments[Tt+2];re.children=Ne}return x(O.type,we,re)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,G,se){var re,we={},fe=null;if(G!=null)for(re in G.key!==void 0&&(fe=""+G.key),G)A.call(G,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(we[re]=G[re]);var Ne=arguments.length-2;if(Ne===1)we.children=se;else if(1<Ne){for(var Tt=Array(Ne),ut=0;ut<Ne;ut++)Tt[ut]=arguments[ut+2];we.children=Tt}if(O&&O.defaultProps)for(re in Ne=O.defaultProps,Ne)we[re]===void 0&&(we[re]=Ne[re]);return x(O,fe,we)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:g,render:O}},Ae.isValidElement=D,Ae.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:de}},Ae.memo=function(O,G){return{$$typeof:_,type:O,compare:G===void 0?null:G}},Ae.startTransition=function(O){var G=I.T,se={};I.T=se;try{var re=O(),we=I.S;we!==null&&we(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Re,Ie)}catch(fe){Ie(fe)}finally{G!==null&&se.types!==null&&(G.types=se.types),I.T=G}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(O){return I.H.use(O)},Ae.useActionState=function(O,G,se){return I.H.useActionState(O,G,se)},Ae.useCallback=function(O,G){return I.H.useCallback(O,G)},Ae.useContext=function(O){return I.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,G){return I.H.useDeferredValue(O,G)},Ae.useEffect=function(O,G){return I.H.useEffect(O,G)},Ae.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(O,G,se){return I.H.useImperativeHandle(O,G,se)},Ae.useInsertionEffect=function(O,G){return I.H.useInsertionEffect(O,G)},Ae.useLayoutEffect=function(O,G){return I.H.useLayoutEffect(O,G)},Ae.useMemo=function(O,G){return I.H.useMemo(O,G)},Ae.useOptimistic=function(O,G){return I.H.useOptimistic(O,G)},Ae.useReducer=function(O,G,se){return I.H.useReducer(O,G,se)},Ae.useRef=function(O){return I.H.useRef(O)},Ae.useState=function(O){return I.H.useState(O)},Ae.useSyncExternalStore=function(O,G,se){return I.H.useSyncExternalStore(O,G,se)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var G0;function Cm(){return G0||(G0=1,Pd.exports=kT()),Pd.exports}var me=Cm(),Ud={exports:{}},Rl={},zd={exports:{}},Bd={};var Y0;function OT(){return Y0||(Y0=1,(function(s){function e(Y,ie){var de=Y.length;Y.push(ie);e:for(;0<de;){var Ie=de-1>>>1,Ge=Y[Ie];if(0<l(Ge,ie))Y[Ie]=ie,Y[de]=Ge,de=Ie;else break e}}function i(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ie=Y[0],de=Y.pop();if(de!==ie){Y[0]=de;e:for(var Ie=0,Ge=Y.length,O=Ge>>>1;Ie<O;){var G=2*(Ie+1)-1,se=Y[G],re=G+1,we=Y[re];if(0>l(se,de))re<Ge&&0>l(we,se)?(Y[Ie]=we,Y[re]=de,Ie=re):(Y[Ie]=se,Y[G]=de,Ie=G);else if(re<Ge&&0>l(we,de))Y[Ie]=we,Y[re]=de,Ie=re;else break e}}return ie}function l(Y,ie){var de=Y.sortIndex-ie.sortIndex;return de!==0?de:Y.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,S=null,N=3,F=!1,q=!1,ee=!1,W=!1,ge=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function Ce(Y){for(var ie=i(_);ie!==null;){if(ie.callback===null)r(_);else if(ie.startTime<=Y)r(_),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(_)}}function Le(Y){if(ee=!1,Ce(Y),!q)if(i(p)!==null)q=!0,Re||(Re=!0,j());else{var ie=i(_);ie!==null&&Et(Le,ie.startTime-Y)}}var Re=!1,I=-1,A=5,x=-1;function M(){return W?!0:!(s.unstable_now()-x<A)}function D(){if(W=!1,Re){var Y=s.unstable_now();x=Y;var ie=!0;try{e:{q=!1,ee&&(ee=!1,ve(I),I=-1),F=!0;var de=N;try{t:{for(Ce(Y),S=i(p);S!==null&&!(S.expirationTime>Y&&M());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,N=S.priorityLevel;var Ge=Ie(S.expirationTime<=Y);if(Y=s.unstable_now(),typeof Ge=="function"){S.callback=Ge,Ce(Y),ie=!0;break t}S===i(p)&&r(p),Ce(Y)}else r(p);S=i(p)}if(S!==null)ie=!0;else{var O=i(_);O!==null&&Et(Le,O.startTime-Y),ie=!1}}break e}finally{S=null,N=de,F=!1}ie=void 0}}finally{ie?j():Re=!1}}}var j;if(typeof le=="function")j=function(){le(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=D,j=function(){at.postMessage(null)}}else j=function(){ge(D,0)};function Et(Y,ie){I=ge(function(){Y(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(Y){switch(N){case 1:case 2:case 3:var ie=3;break;default:ie=N}var de=N;N=ie;try{return Y()}finally{N=de}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=N;N=Y;try{return ie()}finally{N=de}},s.unstable_scheduleCallback=function(Y,ie,de){var Ie=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,Y={id:T++,callback:ie,priorityLevel:Y,startTime:de,expirationTime:Ge,sortIndex:-1},de>Ie?(Y.sortIndex=de,e(_,Y),i(p)===null&&Y===i(_)&&(ee?(ve(I),I=-1):ee=!0,Et(Le,de-Ie))):(Y.sortIndex=Ge,e(p,Y),q||F||(q=!0,Re||(Re=!0,j()))),Y},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Y){var ie=N;return function(){var de=N;N=ie;try{return Y.apply(this,arguments)}finally{N=de}}}})(Bd)),Bd}var Q0;function MT(){return Q0||(Q0=1,zd.exports=OT()),zd.exports}var qd={exports:{}},nn={};var K0;function VT(){if(K0)return nn;K0=1;var s=Cm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(p,_,null,T)},nn.flushSync=function(p){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=T,r.d.f()}},nn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},nn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},nn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:F}):T==="script"&&r.d.X(p,{crossOrigin:S,integrity:N,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},nn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},nn.requestFormReset=function(p){r.d.r(p)},nn.unstable_batchedUpdates=function(p,_){return p(_)},nn.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var X0;function jT(){if(X0)return qd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=VT(),qd.exports}var $0;function LT(){if($0)return Rl;$0=1;var s=MT(),e=Cm(),i=jT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===o)return p(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),ve=Symbol.for("react.consumer"),le=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ge:return"Profiler";case W:return"StrictMode";case Le:return"Suspense";case Re:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case le:return t.displayName||"Context";case ve:return(t._context.displayName||"Context")+".Consumer";case Ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var Et=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],Ge=-1;function O(t){return{current:t}}function G(t){0>Ge||(t.current=Ie[Ge],Ie[Ge]=null,Ge--)}function se(t,n){Ge++,Ie[Ge]=t.current,t.current=n}var re=O(null),we=O(null),fe=O(null),Ne=O(null);function Tt(t,n){switch(se(fe,n),se(we,t),se(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h0(n),t=f0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(re),se(re,t)}function ut(){G(re),G(we),G(fe)}function Bi(t){t.memoizedState!==null&&se(Ne,t);var n=re.current,a=f0(n,t.type);n!==a&&(se(we,t),se(re,a))}function qi(t){we.current===t&&(G(re),G(we)),Ne.current===t&&(G(Ne),Tl._currentValue=de)}var vs,$n;function Mn(t){if(vs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vs=n&&n[1]||"",$n=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+t+$n}var bs=!1;function Hi(t,n){if(!t||bs)return"";bs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),U=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{bs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mn(a):""}function Es(t,n){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==n&&n!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return Hi(t.type,!1);case 11:return Hi(t.type.render,!1);case 1:return Hi(t.type,!0);case 31:return Mn("Activity");default:return""}}function Tr(t){try{var n="",a=null;do n+=Es(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var gt=Object.prototype.hasOwnProperty,wt=s.unstable_scheduleCallback,di=s.unstable_cancelCallback,ca=s.unstable_shouldYield,Fi=s.unstable_requestPaint,Lt=s.unstable_now,Vn=s.unstable_getCurrentPriorityLevel,Ts=s.unstable_ImmediatePriority,Gi=s.unstable_UserBlockingPriority,Zn=s.unstable_NormalPriority,Yi=s.unstable_LowPriority,jn=s.unstable_IdlePriority,ha=s.log,fa=s.unstable_setDisableYieldValue,wn=null,Pt=null;function J(t){if(typeof ha=="function"&&fa(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(wn,t)}catch{}}var te=Math.clz32?Math.clz32:ct,oe=Math.log,ye=Math.LN2;function ct(t){return t>>>=0,t===0?32:31-(oe(t)/ye|0)|0}var tt=256,ot=262144,Ke=4194304;function fn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ln(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fn(o):(y&=E,y!==0?h=fn(y):a||(a=E&~t,a!==0&&(h=fn(a))))):(E=o&~f,E!==0?h=fn(E):y!==0?h=fn(y):a||(a=o&~t,a!==0&&(h=fn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Ke;return Ke<<=1,(Ke&62914560)===0&&(Ke=4194304),t}function mi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function wr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-te(a),X=1<<Q;E[Q]=0,C[Q]=-1;var z=U[Q];if(z!==null)for(U[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&Sr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Sr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-te(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ro(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-te(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Co(t,n){var a=n&-n;return a=(a&42)!==0?1:Ar(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:V0(t.type))}function Jn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var Wn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Wn,Ht="__reactProps$"+Wn,gi="__reactContainer$"+Wn,da="__reactEvents$"+Wn,qh="__reactListeners$"+Wn,cu="__reactHandles$"+Wn,hu="__reactResources$"+Wn,pi="__reactMarker$"+Wn;function ma(t){delete t[Ct],delete t[Ht],delete t[da],delete t[qh],delete t[cu]}function yi(t){var n=t[Ct];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gi]||a[Ct]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=v0(t);t!==null;){if(a=t[Ct])return a;t=v0(t)}return n}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Ct]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Sn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function _i(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(t){t[pi]=!0}var Io=new Set,No={};function vi(t,n){bi(t,n),bi(t+"Capture",n)}function bi(t,n){for(No[t]=n,t=0;t<n.length;t++)Io.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Oo={};function fu(t){return gt.call(Oo,t)?!0:gt.call(ko,t)?!1:Do.test(t)?Oo[t]=!0:(ko[t]=!0,!1)}function ga(t,n,a){if(fu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function An(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Nt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=Mo(t,n,""+t[n])}}function xr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ws(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function dn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(t,n,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Vo(t,y,Ft(n)):a!=null?Vo(t,y,Ft(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ft(E):t.removeAttribute("name")}function du(t,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}a=a!=null?""+Ft(a):"",n=n!=null?""+Ft(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Je(t)}function Vo(t,n,a){n==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,a){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ft(a):""}function As(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Et(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ft(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Je(t)}function mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Lo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&jo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&jo(t,f,n[f])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return xs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Po=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ti=null;function Cr(t){var n=Ln(t);if(n&&(t=n.stateNode)){var a=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ht]||null;if(!h)throw Error(r(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&xr(o)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(t,!!a.multiple,n,!1)}}}var va=!1;function Cs(t,n,a){if(va)return t(n,a);va=!0;try{var o=t(n);return o}finally{if(va=!1,(Rs!==null||Ti!==null)&&(uc(),Rs&&(n=Rs,t=Ti,Ti=Rs=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function ti(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ht]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Un)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Ir=!1}var wi=null,Uo=null,Nr=null;function zo(){if(Nr)return Nr;var t,n=Uo,a=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Nr=h.slice(t,1<o?1-o:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ni(){return!1}function Kt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Kt(Xi),Is=S({},Xi,{view:0,detail:0}),Bo=Kt(Is),Ns,ba,Ai,Ea=S({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Ns=t.screenX-Ai.screenX,ba=t.screenY-Ai.screenY):ba=Ns=0,Ai=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),qo=Kt(Ea),kr=S({},Ea,{dataTransfer:0}),yu=Kt(kr),_u=S({},Is,{relatedTarget:0}),Or=Kt(_u),Ho=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Kt(Ho),Ta=S({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=Kt(Ta),Eu=S({},Xi,{data:0}),xi=Kt(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Ds(){return Au}var cn=S({},Is,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Kt(cn),Ru=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Kt(Ru),u=S({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Kt(u),v=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Kt(v),L=S({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Kt(L),ne=S({},Xi,{newState:0,oldState:0}),De=Kt(ne),St=[9,13,27,32],Xe=Un&&"CompositionEvent"in window,pt=null;Un&&"documentMode"in document&&(pt=document.documentMode);var zn=Un&&"TextEvent"in window&&!pt,Ri=Un&&(!Xe||pt&&8<pt&&11>=pt),ii=" ",si=!1;function Mr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function eE(t,n){switch(t){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function tE(t,n){if(Sa)return t==="compositionend"||!Xe&&Mr(t,n)?(t=zo(),Nr=Uo=wi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nE[t.type]:n==="textarea"}function wg(t,n,a,o){Rs?Ti?Ti.push(o):Ti=[o]:Rs=o,n=pc(n,"onChange"),0<n.length&&(a=new Si("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Fo=null,Go=null;function iE(t){r0(t,0)}function Cu(t){var n=Sn(t);if(xr(n))return t}function Sg(t,n){if(t==="change")return n}var Ag=!1;if(Un){var Hh;if(Un){var Fh="oninput"in document;if(!Fh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Fh=typeof xg.oninput=="function"}Hh=Fh}else Hh=!1;Ag=Hh&&(!document.documentMode||9<document.documentMode)}function Rg(){Fo&&(Fo.detachEvent("onpropertychange",Cg),Go=Fo=null)}function Cg(t){if(t.propertyName==="value"&&Cu(Go)){var n=[];wg(n,Go,t,Pn(t)),Cs(iE,n)}}function sE(t,n,a){t==="focusin"?(Rg(),Fo=n,Go=a,Fo.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function rE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Go)}function aE(t,n){if(t==="click")return Cu(n)}function oE(t,n){if(t==="input"||t==="change")return Cu(n)}function lE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xn=typeof Object.is=="function"?Object.is:lE;function Yo(t,n){if(xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!gt.call(n,h)||!xn(t[h],n[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,n){var a=Ig(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ei(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ei(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uE=Un&&"documentMode"in document&&11>=document.documentMode,Aa=null,Yh=null,Qo=null,Qh=!1;function Og(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||Aa==null||Aa!==Ei(o)||(o=Aa,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Yo(Qo,o)||(Qo=o,o=pc(Yh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Aa)))}function Vr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var xa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Kh={},Mg={};Un&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function jr(t){if(Kh[t])return Kh[t];if(!xa[t])return t;var n=xa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Mg)return Kh[t]=n[a];return t}var Vg=jr("animationend"),jg=jr("animationiteration"),Lg=jr("animationstart"),cE=jr("transitionrun"),hE=jr("transitionstart"),fE=jr("transitioncancel"),Pg=jr("transitionend"),Ug=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function ri(t,n){Ug.set(t,n),vi(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Ra=0,$h=0;function Nu(){for(var t=Ra,n=$h=Ra=0;n<t;){var a=Bn[n];Bn[n++]=null;var o=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&zg(a,h,f)}}function Du(t,n,a,o){Bn[Ra++]=t,Bn[Ra++]=n,Bn[Ra++]=a,Bn[Ra++]=o,$h|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zh(t,n,a,o){return Du(t,n,a,o),ku(t)}function Lr(t,n){return Du(t,null,null,n),ku(t)}function zg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-te(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function ku(t){if(50<gl)throw gl=0,od=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function dE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,a,o){return new dE(t,n,a,o)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=Rn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Jh(t)&&(y=1);else if(typeof t=="string")y=_T(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Rn(31,a,n,h),t.elementType=x,t.lanes=f,t;case ee:return Pr(a.children,h,f,n);case W:y=8,h|=24;break;case ge:return t=Rn(12,a,n,h|2),t.elementType=ge,t.lanes=f,t;case Le:return t=Rn(13,a,n,h),t.elementType=Le,t.lanes=f,t;case Re:return t=Rn(19,a,n,h),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:y=10;break e;case ve:y=9;break e;case Ce:y=11;break e;case I:y=14;break e;case A:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Rn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Pr(t,n,a,o){return t=Rn(7,t,o,n),t.lanes=a,t}function Wh(t,n,a){return t=Rn(6,t,null,n),t.lanes=a,t}function qg(t){var n=Rn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,a){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hg=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Tr(n)},Hg.set(t,n),n)}return{value:t,source:n,stack:Tr(n)}}var Ia=[],Na=0,Mu=null,Ko=0,Hn=[],Fn=0,ks=null,Ci=1,Ii="";function Ji(t,n){Ia[Na++]=Ko,Ia[Na++]=Mu,Mu=t,Ko=n}function Fg(t,n,a){Hn[Fn++]=Ci,Hn[Fn++]=Ii,Hn[Fn++]=ks,ks=t;var o=Ci;t=Ii;var h=32-te(o)-1;o&=~(1<<h),a+=1;var f=32-te(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ci=1<<32-te(n)+h|a<<h|o,Ii=f+t}else Ci=1<<f|a<<h|o,Ii=t}function tf(t){t.return!==null&&(Ji(t,1),Fg(t,1,0))}function nf(t){for(;t===Mu;)Mu=Ia[--Na],Ia[Na]=null,Ko=Ia[--Na],Ia[Na]=null;for(;t===ks;)ks=Hn[--Fn],Hn[Fn]=null,Ii=Hn[--Fn],Hn[Fn]=null,Ci=Hn[--Fn],Hn[Fn]=null}function Gg(t,n){Hn[Fn++]=Ci,Hn[Fn++]=Ii,Hn[Fn++]=ks,Ci=n.id,Ii=n.overflow,ks=t}var Xt=null,ht=null,He=!1,Os=null,Gn=!1,sf=Error(r(519));function Ms(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(qn(n,t)),sf}function Yg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Ct]=t,n[Ht]=o,a){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(a=0;a<yl.length;a++)je(yl[a],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),As(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||u0(n.textContent,a)?(o.popover!=null&&(je("beforetoggle",n),je("toggle",n)),o.onScroll!=null&&je("scroll",n),o.onScrollEnd!=null&&je("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ms(t,!0)}function Qg(t){for(Xt=t.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xt=Xt.return}}function Da(t){if(t!==Xt)return!1;if(!He)return Qg(t),He=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&ht&&Ms(t),Qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=_0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=_0(t)}else n===27?(n=ht,Ks(t.type)?(t=Rd,Rd=null,ht=t):ht=n):ht=Xt?Qn(t.stateNode.nextSibling):null;return!0}function Ur(){ht=Xt=null,He=!1}function rf(){var t=Os;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Os=null),t}function Xo(t){Os===null?Os=[t]:Os.push(t)}var af=O(null),zr=null,Wi=null;function Vs(t,n,a){se(af,n._currentValue),n._currentValue=a}function es(t){t._currentValue=af.current,G(af)}function of(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function lf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),of(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ka(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;xn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ne.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&lf(n,t,a,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Kg(zr,t)}function ju(t,n){return zr===null&&Br(t),Kg(t,n)}function Kg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var mE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},gE=s.unstable_scheduleCallback,pE=s.unstable_NormalPriority,Dt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new mE,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&gE(pE,function(){t.controller.abort()})}var Zo=null,cf=0,Oa=0,Ma=null;function yE(t,n){if(Zo===null){var a=Zo=[];cf=0,Oa=dd(),Ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return cf++,n.then(Xg,Xg),n}function Xg(){if(--cf===0&&Zo!==null){Ma!==null&&(Ma.status="fulfilled");var t=Zo;Zo=null,Oa=0,Ma=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _E(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $g=Y.S;Y.S=function(t,n){Oy=Lt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yE(t,n),$g!==null&&$g(t,n)};var qr=O(null);function hf(){var t=qr.current;return t!==null?t:lt.pooledCache}function Lu(t,n){n===null?se(qr,qr.current):se(qr,n.pool)}function Zg(){var t=hf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Va=Error(r(460)),ff=Error(r(474)),Pu=Error(r(542)),Uu={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ei,ei),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t}throw Fr=n,Va}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,Va):a}}var Fr=null;function ep(){if(Fr===null)throw Error(r(459));var t=Fr;return Fr=null,t}function tp(t){if(t===Va||t===Pu)throw Error(r(483))}var ja=null,Jo=0;function zu(t){var n=Jo;return Jo+=1,ja===null&&(ja=[]),Wg(ja,t,n)}function Wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){function n(V,k){if(t){var P=V.deletions;P===null?(V.deletions=[k],V.flags|=16):P.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)n(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=Zi(V,k),V.index=0,V.sibling=null,V}function f(V,k,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<k?(V.flags|=67108866,k):P):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,P,K){return k===null||k.tag!==6?(k=Wh(P,V.mode,K),k.return=V,k):(k=h(k,P),k.return=V,k)}function C(V,k,P,K){var pe=P.type;return pe===ee?Q(V,k,P.props.children,K,P.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Hr(pe)===k.type)?(k=h(k,P.props),Wo(k,P),k.return=V,k):(k=Ou(P.type,P.key,P.props,null,V.mode,K),Wo(k,P),k.return=V,k)}function U(V,k,P,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=ef(P,V.mode,K),k.return=V,k):(k=h(k,P.children||[]),k.return=V,k)}function Q(V,k,P,K,pe){return k===null||k.tag!==7?(k=Pr(P,V.mode,K,pe),k.return=V,k):(k=h(k,P),k.return=V,k)}function X(V,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Wh(""+k,V.mode,P),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case F:return P=Ou(k.type,k.key,k.props,null,V.mode,P),Wo(P,k),P.return=V,P;case q:return k=ef(k,V.mode,P),k.return=V,k;case A:return k=Hr(k),X(V,k,P)}if(Et(k)||j(k))return k=Pr(k,V.mode,P,null),k.return=V,k;if(typeof k.then=="function")return X(V,zu(k),P);if(k.$$typeof===le)return X(V,ju(V,k),P);Bu(V,k)}return null}function z(V,k,P,K){var pe=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:E(V,k,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===pe?C(V,k,P,K):null;case q:return P.key===pe?U(V,k,P,K):null;case A:return P=Hr(P),z(V,k,P,K)}if(Et(P)||j(P))return pe!==null?null:Q(V,k,P,K,null);if(typeof P.then=="function")return z(V,k,zu(P),K);if(P.$$typeof===le)return z(V,k,ju(V,P),K);Bu(V,P)}return null}function H(V,k,P,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(P)||null,E(k,V,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return V=V.get(K.key===null?P:K.key)||null,C(k,V,K,pe);case q:return V=V.get(K.key===null?P:K.key)||null,U(k,V,K,pe);case A:return K=Hr(K),H(V,k,P,K,pe)}if(Et(K)||j(K))return V=V.get(P)||null,Q(k,V,K,pe,null);if(typeof K.then=="function")return H(V,k,P,zu(K),pe);if(K.$$typeof===le)return H(V,k,P,ju(k,K),pe);Bu(k,K)}return null}function ue(V,k,P,K){for(var pe=null,Ye=null,ce=k,Oe=k=0,Ue=null;ce!==null&&Oe<P.length;Oe++){ce.index>Oe?(Ue=ce,ce=null):Ue=ce.sibling;var Qe=z(V,ce,P[Oe],K);if(Qe===null){ce===null&&(ce=Ue);break}t&&ce&&Qe.alternate===null&&n(V,ce),k=f(Qe,k,Oe),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe,ce=Ue}if(Oe===P.length)return a(V,ce),He&&Ji(V,Oe),pe;if(ce===null){for(;Oe<P.length;Oe++)ce=X(V,P[Oe],K),ce!==null&&(k=f(ce,k,Oe),Ye===null?pe=ce:Ye.sibling=ce,Ye=ce);return He&&Ji(V,Oe),pe}for(ce=o(ce);Oe<P.length;Oe++)Ue=H(ce,V,Oe,P[Oe],K),Ue!==null&&(t&&Ue.alternate!==null&&ce.delete(Ue.key===null?Oe:Ue.key),k=f(Ue,k,Oe),Ye===null?pe=Ue:Ye.sibling=Ue,Ye=Ue);return t&&ce.forEach(function(Ws){return n(V,Ws)}),He&&Ji(V,Oe),pe}function be(V,k,P,K){if(P==null)throw Error(r(151));for(var pe=null,Ye=null,ce=k,Oe=k=0,Ue=null,Qe=P.next();ce!==null&&!Qe.done;Oe++,Qe=P.next()){ce.index>Oe?(Ue=ce,ce=null):Ue=ce.sibling;var Ws=z(V,ce,Qe.value,K);if(Ws===null){ce===null&&(ce=Ue);break}t&&ce&&Ws.alternate===null&&n(V,ce),k=f(Ws,k,Oe),Ye===null?pe=Ws:Ye.sibling=Ws,Ye=Ws,ce=Ue}if(Qe.done)return a(V,ce),He&&Ji(V,Oe),pe;if(ce===null){for(;!Qe.done;Oe++,Qe=P.next())Qe=X(V,Qe.value,K),Qe!==null&&(k=f(Qe,k,Oe),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe);return He&&Ji(V,Oe),pe}for(ce=o(ce);!Qe.done;Oe++,Qe=P.next())Qe=H(ce,V,Oe,Qe.value,K),Qe!==null&&(t&&Qe.alternate!==null&&ce.delete(Qe.key===null?Oe:Qe.key),k=f(Qe,k,Oe),Ye===null?pe=Qe:Ye.sibling=Qe,Ye=Qe);return t&&ce.forEach(function(IT){return n(V,IT)}),He&&Ji(V,Oe),pe}function rt(V,k,P,K){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var pe=P.key;k!==null;){if(k.key===pe){if(pe=P.type,pe===ee){if(k.tag===7){a(V,k.sibling),K=h(k,P.props.children),K.return=V,V=K;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Hr(pe)===k.type){a(V,k.sibling),K=h(k,P.props),Wo(K,P),K.return=V,V=K;break e}a(V,k);break}else n(V,k);k=k.sibling}P.type===ee?(K=Pr(P.props.children,V.mode,K,P.key),K.return=V,V=K):(K=Ou(P.type,P.key,P.props,null,V.mode,K),Wo(K,P),K.return=V,V=K)}return y(V);case q:e:{for(pe=P.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){a(V,k.sibling),K=h(k,P.children||[]),K.return=V,V=K;break e}else{a(V,k);break}else n(V,k);k=k.sibling}K=ef(P,V.mode,K),K.return=V,V=K}return y(V);case A:return P=Hr(P),rt(V,k,P,K)}if(Et(P))return ue(V,k,P,K);if(j(P)){if(pe=j(P),typeof pe!="function")throw Error(r(150));return P=pe.call(P),be(V,k,P,K)}if(typeof P.then=="function")return rt(V,k,zu(P),K);if(P.$$typeof===le)return rt(V,k,ju(V,P),K);Bu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,k!==null&&k.tag===6?(a(V,k.sibling),K=h(k,P),K.return=V,V=K):(a(V,k),K=Wh(P,V.mode,K),K.return=V,V=K),y(V)):a(V,k)}return function(V,k,P,K){try{Jo=0;var pe=rt(V,k,P,K);return ja=null,pe}catch(ce){if(ce===Va||ce===Pu)throw ce;var Ye=Rn(29,ce,null,V.mode);return Ye.lanes=K,Ye.return=V,Ye}finally{}}}var Gr=np(!0),ip=np(!1),js=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(t),zg(t,null,a),n}return Du(t,o,n,a),ku(t)}function el(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ro(t,a)}}function gf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var pf=!1;function tl(){if(pf){var t=Ma;if(t!==null)throw t}}function nl(t,n,a,o){pf=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,U=C.next;C.next=null,y===null?f=U:y.next=U,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=U:E.next=U,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;y=0,Q=U=C=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Pe&z)===z:(o&z)===z){z!==0&&z===Oa&&(pf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,be=E;z=n;var rt=a;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){X=ue.call(rt,X,z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,z=typeof ue=="function"?ue.call(rt,X,z):ue,z==null)break e;X=S({},X,z);break e;case 2:js=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(U=Q=H,C=X):Q=Q.next=H,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Hs|=y,t.lanes=y,t.memoizedState=X}}function sp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function rp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sp(a[t],n)}var La=O(null),qu=O(0);function ap(t,n){t=us,se(qu,t),se(La,n),us=t|n.baseLanes}function yf(){se(qu,us),se(La,La.current)}function _f(){us=qu.current,G(La),G(qu)}var Cn=O(null),Yn=null;function Us(t){var n=t.alternate;se(At,At.current&1),se(Cn,t),Yn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Yn=t)}function vf(t){se(At,At.current),se(Cn,t),Yn===null&&(Yn=t)}function op(t){t.tag===22?(se(At,At.current),se(Cn,t),Yn===null&&(Yn=t)):zs()}function zs(){se(At,At.current),se(Cn,Cn.current)}function In(t){G(Cn),Yn===t&&(Yn=null),G(At)}var At=O(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ad(a)||xd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,ke=null,it=null,kt=null,Fu=!1,Pa=!1,Yr=!1,Gu=0,il=0,Ua=null,vE=0;function vt(){throw Error(r(321))}function bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!xn(t[a],n[a]))return!1;return!0}function Ef(t,n,a,o,h,f){return ts=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?Fp:jf,Yr=!1,f=a(o,h),Yr=!1,Pa&&(f=up(n,a,o,h)),lp(t),f}function lp(t){Y.H=al;var n=it!==null&&it.next!==null;if(ts=0,kt=it=ke=null,Fu=!1,il=0,Ua=null,n)throw Error(r(300));t===null||Ot||(t=t.dependencies,t!==null&&Vu(t)&&(Ot=!0))}function up(t,n,a,o){ke=t;var h=0;do{if(Pa&&(Ua=null),il=0,Pa=!1,25<=h)throw Error(r(301));if(h+=1,kt=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Gp,f=n(a,o)}while(Pa);return f}function bE(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(ke.flags|=1024),n}function Tf(){var t=Gu!==0;return Gu=0,t}function wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}ts=0,kt=it=ke=null,Pa=!1,il=Gu=0,Ua=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ke.memoizedState=kt=t:kt=kt.next=t,kt}function xt(){if(it===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=kt===null?ke.memoizedState:kt.next;if(n!==null)kt=n,it=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?ke.memoizedState=kt=t:kt=kt.next=t}return kt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var n=il;return il+=1,Ua===null&&(Ua=[]),t=Wg(Ua,t,n),n=ke,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Fp:jf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===le)return $t(t)}throw Error(r(438,String(t)))}function Af(t){var n=null,a=ke.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),ke.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function ns(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=xt();return xf(n,it,t)}function xf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,U=n,Q=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Pe&X)===X:(ts&X)===X){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Oa&&(Q=!0);else if((ts&z)===z){U=U.next,z===Oa&&(Q=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=X,y=f):C=C.next=X,ke.lanes|=z,Hs|=z;X=U.action,Yr&&a(f,X),f=U.hasEagerState?U.eagerState:a(f,X)}else z={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=z,y=f):C=C.next=z,ke.lanes|=X,Hs|=X;U=U.next}while(U!==null&&U!==n);if(C===null?y=f:C.next=E,!xn(f,t.memoizedState)&&(Ot=!0,Q&&(a=Ma,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Rf(t){var n=xt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);xn(f,n.memoizedState)||(Ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function cp(t,n,a){var o=ke,h=xt(),f=He;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!xn((it||h).memoizedState,a);if(y&&(h.memoizedState=a,Ot=!0),h=h.queue,Nf(dp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},fp.bind(null,o,h,a,n),null),lt===null)throw Error(r(349));f||(ts&127)!==0||hp(o,n,a)}return a}function hp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ke.updateQueue,n===null?(n=Yu(),ke.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function fp(t,n,a,o){n.value=a,n.getSnapshot=o,mp(n)&&gp(t)}function dp(t,n,a){return a(function(){mp(n)&&gp(t)})}function mp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!xn(t,a)}catch{return!0}}function gp(t){var n=Lr(t,2);n!==null&&vn(n,t,2)}function Cf(t){var n=hn();if(typeof t=="function"){var a=t;if(t=a(),Yr){J(!0);try{a()}finally{J(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function pp(t,n,a,o){return t.baseState=a,xf(t,it,typeof o=="function"?o:ns)}function EE(t,n,a,o,h){if(Zu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Y.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,yp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function yp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=Y.T,y={};Y.T=y;try{var E=a(h,o),C=Y.S;C!==null&&C(y,E),_p(t,n,E)}catch(U){If(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),Y.T=f}}else try{f=a(h,o),_p(t,n,f)}catch(U){If(t,n,U)}}function _p(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vp(t,n,o)},function(o){return If(t,n,o)}):vp(t,n,a)}function vp(t,n,a){n.status="fulfilled",n.value=a,bp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,yp(t,a)))}function If(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,bp(n),n=n.next;while(n!==o)}t.action=null}function bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ep(t,n){return n}function Tp(t,n){if(He){var a=lt.formState;if(a!==null){e:{var o=ke;if(He){if(ht){t:{for(var h=ht,f=Gn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Qn(h.nextSibling),o=h.data==="F!";break e}}Ms(o)}o=!1}o&&(n=a[0])}}return a=hn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},a.queue=o,a=Bp.bind(null,ke,o),o.dispatch=a,o=Cf(!1),f=Vf.bind(null,ke,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=EE.bind(null,ke,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function wp(t){var n=xt();return Sp(n,it,t)}function Sp(t,n,a){if(n=xf(t,n,Ep)[0],t=Ku(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=sl(n)}catch(y){throw y===Va?Pu:y}else o=n;n=xt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(ke.flags|=2048,za(9,{destroy:void 0},TE.bind(null,h,a),null)),[o,f,t]}function TE(t,n){t.action=n}function Ap(t){var n=xt(),a=it;if(a!==null)return Sp(n,a,t);xt(),n=n.memoizedState,a=xt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function za(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Yu(),ke.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function xp(){return xt().memoizedState}function Xu(t,n,a,o){var h=hn();ke.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},a,o===void 0?null:o)}function $u(t,n,a,o){var h=xt();o=o===void 0?null:o;var f=h.memoizedState.inst;it!==null&&o!==null&&bf(o,it.memoizedState.deps)?h.memoizedState=za(n,f,a,o):(ke.flags|=t,h.memoizedState=za(1|n,f,a,o))}function Rp(t,n){Xu(8390656,8,t,n)}function Nf(t,n){$u(2048,8,t,n)}function wE(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=Yu(),ke.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Cp(t){var n=xt().memoizedState;return wE({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ip(t,n){return $u(4,2,t,n)}function Np(t,n){return $u(4,4,t,n)}function Dp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kp(t,n,a){a=a!=null?a.concat([t]):null,$u(4,4,Dp.bind(null,n,t),a)}function Df(){}function Op(t,n){var a=xt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Mp(t,n){var a=xt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=t(),Yr){J(!0);try{t()}finally{J(!1)}}return a.memoizedState=[o,n],o}function kf(t,n,a){return a===void 0||(ts&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Vy(),ke.lanes|=t,Hs|=t,a)}function Vp(t,n,a,o){return xn(a,n)?a:La.current!==null?(t=kf(t,a,o),xn(t,n)||(Ot=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Pe&261930)===0?(Ot=!0,t.memoizedState=a):(t=Vy(),ke.lanes|=t,Hs|=t,n)}function jp(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var y=Y.T,E={};Y.T=E,Vf(t,!1,n,a);try{var C=h(),U=Y.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=_E(C,o);rl(t,n,Q,kn(t))}else rl(t,n,o,kn(t))}catch(X){rl(t,n,{then:function(){},status:"rejected",reason:X},kn())}finally{ie.p=f,y!==null&&E.types!==null&&(y.types=E.types),Y.T=y}}function SE(){}function Of(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Lp(t).queue;jp(t,h,n,de,a===null?SE:function(){return Pp(t),a(o)})}function Lp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:de},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pp(t){var n=Lp(t);n.next===null&&(n=t.alternate.memoizedState),rl(t,n.next.queue,{},kn())}function Mf(){return $t(Tl)}function Up(){return xt().memoizedState}function zp(){return xt().memoizedState}function AE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=kn();t=Ls(a);var o=Ps(n,t,a);o!==null&&(vn(o,n,a),el(o,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function xE(t,n,a){var o=kn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?qp(n,a):(a=Zh(t,n,a,o),a!==null&&(vn(a,t,o),Hp(a,n,o)))}function Bp(t,n,a){var o=kn();rl(t,n,a,o)}function rl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))qp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,xn(E,y))return Du(t,n,h,0),lt===null&&Nu(),!1}catch{}finally{}if(a=Zh(t,n,h,o),a!==null)return vn(a,t,o),Hp(a,n,o),!0}return!1}function Vf(t,n,a,o){if(o={lane:2,revertLane:dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(r(479))}else n=Zh(t,a,o,2),n!==null&&vn(n,t,2)}function Zu(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function qp(t,n){Pa=Fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Hp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ro(t,a)}}var al={readContext:$t,use:Qu,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};al.useEffectEvent=vt;var Fp={readContext:$t,use:Qu,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Rp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,Dp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var a=hn();n=n===void 0?null:n;var o=t();if(Yr){J(!0);try{t()}finally{J(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=hn();if(a!==void 0){var h=a(n);if(Yr){J(!0);try{a(n)}finally{J(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=xE.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,a=Bp.bind(null,ke,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,n){var a=hn();return kf(a,t,n)},useTransition:function(){var t=Cf(!1);return t=jp.bind(null,ke,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=ke,h=hn();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),lt===null)throw Error(r(349));(Pe&127)!==0||hp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Rp(dp.bind(null,o,f,t),[t]),o.flags|=2048,za(9,{destroy:void 0},fp.bind(null,o,f,a,n),null),a},useId:function(){var t=hn(),n=lt.identifierPrefix;if(He){var a=Ii,o=Ci;a=(o&~(1<<32-te(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Gu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=vE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,ke,!0,a),a.dispatch=n,[t,n]},useMemoCache:Af,useCacheRefresh:function(){return hn().memoizedState=AE.bind(null,ke)},useEffectEvent:function(t){var n=hn(),a={impl:t};return n.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jf={readContext:$t,use:Qu,useCallback:Op,useContext:$t,useEffect:Nf,useImperativeHandle:kp,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:Mp,useReducer:Ku,useRef:xp,useState:function(){return Ku(ns)},useDebugValue:Df,useDeferredValue:function(t,n){var a=xt();return Vp(a,it.memoizedState,t,n)},useTransition:function(){var t=Ku(ns)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:Mf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var a=xt();return pp(a,it,t,n)},useMemoCache:Af,useCacheRefresh:zp};jf.useEffectEvent=Cp;var Gp={readContext:$t,use:Qu,useCallback:Op,useContext:$t,useEffect:Nf,useImperativeHandle:kp,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:Mp,useReducer:Rf,useRef:xp,useState:function(){return Rf(ns)},useDebugValue:Df,useDeferredValue:function(t,n){var a=xt();return it===null?kf(a,t,n):Vp(a,it.memoizedState,t,n)},useTransition:function(){var t=Rf(ns)[0],n=xt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:Mf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var a=xt();return it!==null?pp(a,it,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:zp};Gp.useEffectEvent=Cp;function Lf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=kn(),h=Ls(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(vn(n,t,o),el(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=kn(),h=Ls(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(vn(n,t,o),el(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=kn(),o=Ls(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(t,o,a),n!==null&&(vn(n,t,a),el(n,t,a))}};function Yp(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Yo(a,o)||!Yo(h,f):!0}function Qp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Kp(t){Iu(t)}function Xp(t){console.error(t)}function $p(t){Iu(t)}function Ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,n)},a}function Jp(t){return t=Ls(t),t.tag=3,t}function Wp(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Zp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Zp(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function RE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ka(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?cc():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),cd(t,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),cd(t,o,h)),!1}throw Error(r(435,a.tag))}return cd(t,o,h),cc(),!1}if(He)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==sf&&(t=Error(r(422),{cause:o}),Xo(qn(t,a)))):(o!==sf&&(n=Error(r(423),{cause:o}),Xo(qn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=qn(o,a),h=Uf(t.stateNode,o,h),gf(t,h),bt!==4&&(bt=2)),!1;var f=Error(r(520),{cause:o});if(f=qn(f,a),ml===null?ml=[f]:ml.push(f),bt!==4&&(bt=2),n===null)return!0;o=qn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Uf(a.stateNode,o,t),gf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jp(h),Wp(h,t,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(r(461)),Ot=!1;function Zt(t,n,a,o){n.child=t===null?ip(n,null,a,o):Gr(n,t.child,a,o)}function ey(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Br(n),o=Ef(t,n,a,y,f,h),E=Tf(),t!==null&&!Ot?(wf(t,n,h),is(t,n,h)):(He&&E&&tf(n),n.flags|=1,Zt(t,n,o,h),n.child)}function ty(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ny(t,n,f,o,h)):(t=Ou(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(y,o)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Zi(f,o),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Yo(f,o)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=o=f,Kf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,is(t,n,h)}return Bf(t,n,a,o,h)}function iy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?ap(n,f):yf(),op(n);else return o=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(n,f.cachePool),ap(n,f),zs(),n.memoizedState=null):(t!==null&&Lu(n,null),yf(),zs());return Zt(t,n,h,a),n.child}function ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,a,o,h){var f=hf();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Lu(n,null),yf(),op(n),t!==null&&ka(t,n,o,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,a){return Gr(n,t.child,null,a),t=Wu(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function CE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=Wu(n,o),n.lanes=536870912,ol(null,t);if(vf(n),(t=ht)?(t=y0(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,Xt=n,ht=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return Wu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ot||ka(t,n,a,!1),h=(a&t.childLanes)!==0,Ot||h){if(o=lt,o!==null&&(y=Co(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Lr(t,y),vn(o,t,y),zf;cc(),n=ry(t,n,a)}else t=f.treeContext,ht=Qn(y.nextSibling),Xt=n,He=!0,Os=null,Gn=!1,t!==null&&Gg(n,t),n=Wu(n,o),n.flags|=4096;return n}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bf(t,n,a,o,h){return Br(n),a=Ef(t,n,a,o,void 0,h),o=Tf(),t!==null&&!Ot?(wf(t,n,h),is(t,n,h)):(He&&o&&tf(n),n.flags|=1,Zt(t,n,a,h),n.child)}function ay(t,n,a,o,h,f){return Br(n),n.updateQueue=null,a=up(n,o,a,h),lp(t),o=Tf(),t!==null&&!Ot?(wf(t,n,f),is(t,n,f)):(He&&o&&tf(n),n.flags|=1,Zt(t,n,a,f),n.child)}function oy(t,n,a,o,h){if(Br(n),n.stateNode===null){var f=Ca,y=a.contextType;typeof y=="object"&&y!==null&&(f=$t(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},df(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?$t(y):Ca,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Lf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Pf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Qr(a,E);f.props=C;var U=f.context,Q=a.contextType;y=Ca,typeof Q=="object"&&Q!==null&&(y=$t(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==y)&&Qp(n,f,o,y),js=!1;var z=n.memoizedState;f.state=z,nl(n,o,f,h),tl(),U=n.memoizedState,E||z!==U||js?(typeof X=="function"&&(Lf(n,a,X,o),U=n.memoizedState),(C=js||Yp(n,a,C,o,z,U,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,mf(t,n),y=n.memoizedProps,Q=Qr(a,y),f.props=Q,X=n.pendingProps,z=f.context,U=a.contextType,C=Ca,typeof U=="object"&&U!==null&&(C=$t(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||z!==C)&&Qp(n,f,o,C),js=!1,z=n.memoizedState,f.state=z,nl(n,o,f,h),tl();var H=n.memoizedState;y!==X||z!==H||js||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Lf(n,a,E,o),H=n.memoizedState),(Q=js||Yp(n,a,Q,o,z,H,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Gr(n,t.child,null,h),n.child=Gr(n,null,a,h)):Zt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function ly(t,n,a,o){return Ur(),n.flags|=256,Zt(t,n,a,o),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:Zg()}}function Ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function uy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Us(n):zs(),(t=ht)?(t=y0(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,Xt=n,ht=null)):t=null,t===null)throw Ms(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(zs(),h=n.mode,E=tc({mode:"hidden",children:E},h),o=Pr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(t,y,a),n.memoizedState=qf,ol(null,o)):(Us(n),Gf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Yf(t,n,a)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),E=Pr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gr(n,t.child,null,a),o=n.child,o.memoizedState=Hf(a),o.childLanes=Ff(t,y,a),n.memoizedState=qf,n=ol(null,o));else if(Us(n),xd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var U=y.dgst;y=U,o=Error(r(419)),o.stack="",o.digest=y,Xo({value:o,source:null,stack:null}),n=Yf(t,n,a)}else if(Ot||ka(t,n,a,!1),y=(a&t.childLanes)!==0,Ot||y){if(y=lt,y!==null&&(o=Co(y,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Lr(t,o),vn(y,t,o),zf;Ad(E)||cc(),n=Yf(t,n,a)}else Ad(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ht=Qn(E.nextSibling),Xt=n,He=!0,Os=null,Gn=!1,t!==null&&Gg(n,t),n=Gf(n,o.children),n.flags|=4096);return n}return h?(zs(),E=o.fallback,h=n.mode,C=t.child,U=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=Zi(U,E):(E=Pr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ol(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(C=Dt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Zg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(t,y,a),n.memoizedState=qf,ol(t.child,o)):(Us(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Gf(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=Rn(22,t,null,n),t.lanes=0,t}function Yf(t,n,a){return Gr(n,t.child,null,a),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),of(t.return,n,a)}function Qf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function hy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=At.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,se(At,y),Zt(t,n,o,a),o=He?Ko:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,n);else if(t.tag===19)cy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qf(n,!0,a,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ka(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function IE(t,n,a){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),Vs(n,Dt,t.memoizedState.cache),Ur();break;case 27:case 5:Bi(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(a&n.child.childLanes)!==0?uy(t,n,a):(Us(n),t=is(t,n,a),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ka(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return hy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(At,At.current),o)break;return null;case 22:return n.lanes=0,iy(t,n,a,n.pendingProps);case 24:Vs(n,Dt,t.memoizedState.cache)}return is(t,n,a)}function fy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return Ot=!1,IE(t,n,a);Ot=(t.flags&131072)!==0}else Ot=!1,He&&(n.flags&1048576)!==0&&Fg(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")Jh(t)?(o=Qr(t,o),n.tag=1,n=oy(null,n,t,o,a)):(n.tag=0,n=Bf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ce){n.tag=11,n=ey(null,n,t,o,a);break e}else if(h===I){n.tag=14,n=ty(null,n,t,o,a);break e}}throw n=at(t)||t,Error(r(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Qr(o,n.pendingProps),oy(t,n,o,h,a);case 3:e:{if(Tt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),nl(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Vs(n,Dt,o),o!==f.cache&&lf(n,[Dt],a,!0),tl(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,o,a);break e}else if(o!==h){h=qn(Error(r(424)),n),Xo(h),n=ly(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Qn(t.firstChild),Xt=n,He=!0,Os=null,Gn=!0,a=ip(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ur(),o===h){n=is(t,n,a);break e}Zt(t,n,o,a)}n=n.child}return n;case 26:return ec(t,n),t===null?(a=w0(n.type,null,n.pendingProps,null))?n.memoizedState=a:He||(a=n.type,t=n.pendingProps,o=yc(fe.current).createElement(a),o[Ct]=n,o[Ht]=t,Jt(o,a,t),It(o),n.stateNode=o):n.memoizedState=w0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bi(n),t===null&&He&&(o=n.stateNode=b0(n.type,n.pendingProps,fe.current),Xt=n,Gn=!0,h=ht,Ks(n.type)?(Rd=h,ht=Qn(o.firstChild)):ht=h),Zt(t,n,n.pendingProps.children,a),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=o=ht)&&(o=rT(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,Xt=n,ht=Qn(o.firstChild),Gn=!1,h=!0):h=!1),h||Ms(n)),Bi(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Td(h,f)?o=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,bE,null,null,a),Tl._currentValue=h),ec(t,n),Zt(t,n,o,a),n.child;case 6:return t===null&&He&&((t=a=ht)&&(a=aT(a,n.pendingProps,Gn),a!==null?(n.stateNode=a,Xt=n,ht=null,t=!0):t=!1),t||Ms(n)),null;case 13:return uy(t,n,a);case 4:return Tt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gr(n,null,o,a):Zt(t,n,o,a),n.child;case 11:return ey(t,n,n.type,n.pendingProps,a);case 7:return Zt(t,n,n.pendingProps,a),n.child;case 8:return Zt(t,n,n.pendingProps.children,a),n.child;case 12:return Zt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),Zt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Br(n),h=$t(h),o=o(h),n.flags|=1,Zt(t,n,o,a),n.child;case 14:return ty(t,n,n.type,n.pendingProps,a);case 15:return ny(t,n,n.type,n.pendingProps,a);case 19:return hy(t,n,a);case 31:return CE(t,n,a);case 22:return iy(t,n,a,n.pendingProps);case 24:return Br(n),o=$t(Dt),t===null?(h=hf(),h===null&&(h=lt,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},df(n),Vs(n,Dt,h)):((t.lanes&a)!==0&&(mf(t,n),nl(n,null,null,a),tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Dt,o)):(o=f.cache,Vs(n,Dt,o),o!==h.cache&&lf(n,[Dt],a,!0))),Zt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ss(t){t.flags|=4}function Xf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Fr=Uu,ff}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C0(n))if(Uy())t.flags|=8192;else throw Fr=Uu,ff}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,Fa|=n)}function ll(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function NE(t,n,a){var o=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Dt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(ft(n),dy(n,f)):(ft(n),Xf(n,h,null,o,a))):f?f!==t.memoizedState?(ss(n),ft(n),dy(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(n),ft(n),Xf(n,h,t,o,a)),null;case 27:if(qi(n),a=fe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=re.current,Da(n)?Yg(n):(t=b0(h,o,a),n.stateNode=t,ss(n))}return ft(n),null;case 5:if(qi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(f=re.current,Da(n))Yg(n);else{var y=yc(fe.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Ct]=n,f[Ht]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Jt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(n)}}return ft(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=fe.current,Da(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Xt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||u0(t.nodeValue,a)),t||Ms(n,!0)}else t=yc(t).createTextNode(o),t[Ct]=n,n.stateNode=t}return ft(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Da(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ct]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else a=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ft(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ct]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),nc(n,n.updateQueue),ft(n),null);case 4:return ut(),t===null&&yd(n.stateNode.containerInfo),ft(n),null;case 10:return es(n.type),ft(n),null;case 19:if(G(At),o=n.memoizedState,o===null)return ft(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,ll(o,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bg(a,t),a=a.sibling;return se(At,At.current&1|2),He&&Ji(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Lt()>oc&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!He)return ft(n),null}else 2*Lt()-o.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Lt(),t.sibling=null,a=At.current,se(At,h?a&1|2:a&1),He&&Ji(n,o.treeForkCount),t):(ft(n),null);case 22:case 23:return In(n),_f(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&nc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&G(qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),es(Dt),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function DE(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Dt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return qi(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(r(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(At),null;case 4:return ut(),null;case 10:return es(n.type),null;case 22:case 23:return In(n),_f(),t!==null&&G(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Dt),null;case 25:return null;default:return null}}function my(t,n){switch(nf(n),n.tag){case 3:es(Dt),ut();break;case 26:case 27:case 5:qi(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:G(At);break;case 10:es(n.type);break;case 22:case 23:In(n),_f(),t!==null&&G(qr);break;case 24:es(Dt)}}function ul(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){et(n,n.return,E)}}function Bs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=a,U=E;try{U()}catch(Q){et(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){et(n,n.return,Q)}}function gy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{rp(n,a)}catch(o){et(t,t.return,o)}}}function py(t,n,a){a.props=Qr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){et(t,n,o)}}function cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){et(t,n,h)}}function Ni(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){et(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,n,h)}else a.current=null}function yy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function $f(t,n,a){try{var o=t.stateNode;WE(o,t.type,a,n),o[Ht]=n}catch(h){et(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,a),t=t.sibling;t!==null;)Jf(t,n,a),t=t.sibling}function ic(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,n,a),t=t.sibling;t!==null;)ic(t,n,a),t=t.sibling}function vy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,o,a),n[Ct]=t,n[Ht]=a}catch(f){et(t,t.return,f)}}var rs=!1,Mt=!1,Wf=!1,by=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function kE(t,n){if(t=t.containerInfo,bd=Sc,t=kg(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,C=-1,U=0,Q=0,X=t,z=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(C=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===a&&++U===h&&(E=y),z===f&&++Q===o&&(C=y),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},Sc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=Qr(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){et(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Sd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Ey(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:os(t,a),o&4&&ul(5,a);break;case 1:if(os(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){et(a,a.return,y)}else{var h=Qr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){et(a,a.return,y)}}o&64&&gy(a),o&512&&cl(a,a.return);break;case 3:if(os(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{rp(t,n)}catch(y){et(a,a.return,y)}}break;case 27:n===null&&o&4&&vy(a);case 26:case 5:os(t,a),n===null&&o&4&&yy(a),o&512&&cl(a,a.return);break;case 12:os(t,a);break;case 31:os(t,a),o&4&&Sy(t,a);break;case 13:os(t,a),o&4&&Ay(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BE.bind(null,a),oT(t,a))));break;case 22:if(o=a.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Mt,h=rs;var f=Mt;rs=o,(Mt=n)&&!f?ls(t,a,(a.subtreeFlags&8772)!==0):os(t,a),rs=h,Mt=f}break;case 30:break;default:os(t,a)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,gn=!1;function as(t,n,a){for(a=a.child;a!==null;)wy(t,n,a),a=a.sibling}function wy(t,n,a){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(wn,a)}catch{}switch(a.tag){case 26:Mt||Ni(a,n),as(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Ni(a,n);var o=yt,h=gn;Ks(a.type)&&(yt=a.stateNode,gn=!1),as(t,n,a),vl(a.stateNode),yt=o,gn=h;break;case 5:Mt||Ni(a,n);case 6:if(o=yt,h=gn,yt=null,as(t,n,a),yt=o,gn=h,yt!==null)if(gn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){et(a,n,f)}else try{yt.removeChild(a.stateNode)}catch(f){et(a,n,f)}break;case 18:yt!==null&&(gn?(t=yt,g0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):g0(yt,a.stateNode));break;case 4:o=yt,h=gn,yt=a.stateNode.containerInfo,gn=!0,as(t,n,a),yt=o,gn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),Mt||Bs(4,a,n),as(t,n,a);break;case 1:Mt||(Ni(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&py(a,n,o)),as(t,n,a);break;case 21:as(t,n,a);break;case 22:Mt=(o=Mt)||a.memoizedState!==null,as(t,n,a),Mt=o;break;default:as(t,n,a)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){et(n,n.return,a)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){et(n,n.return,a)}}function OE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(r(435,t.tag))}}function sc(t,n){var a=OE(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=qE.bind(null,t,o);o.then(h,h)}})}function pn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ks(E.type)){yt=E.stateNode,gn=!1;break e}break;case 5:yt=E.stateNode,gn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,gn=!0;break e}E=E.return}if(yt===null)throw Error(r(160));wy(f,y,h),yt=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var ai=null;function xy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),yn(t),o&4&&(Bs(3,t,t.return),ul(3,t),Bs(5,t,t.return));break;case 1:pn(n,t),yn(t),o&512&&(Mt||a===null||Ni(a,a.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ai;if(pn(n,t),yn(t),o&512&&(Mt||a===null||Ni(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,o,a),f[Ct]=t,It(f),o=f;break e;case"link":var y=x0("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=x0("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Jt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ct]=t,It(f),o=f}t.stateNode=o}else R0(h,t.type,t.stateNode);else t.stateNode=A0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?R0(h,t.type,t.stateNode):A0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(n,t),yn(t),o&512&&(Mt||a===null||Ni(a,a.return)),a!==null&&o&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(n,t),yn(t),o&512&&(Mt||a===null||Ni(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(ue){et(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Wf=!0);break;case 6:if(pn(n,t),yn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){et(t,t.return,ue)}}break;case 3:if(bc=null,h=ai,ai=_c(n.containerInfo),pn(n,t),ai=h,yn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(ue){et(t,t.return,ue)}Wf&&(Wf=!1,Ry(t));break;case 4:o=ai,ai=_c(t.stateNode.containerInfo),pn(n,t),yn(t),ai=o;break;case 12:pn(n,t),yn(t);break;case 31:pn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 13:pn(n,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=Lt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=rs,Q=Mt;if(rs=U||h,Mt=Q||C,pn(n,t),Mt=Q,rs=U,yn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||rs||Mt||Kr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){et(C,C.return,ue)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){et(C,C.return,ue)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?p0(H,!0):p0(C.stateNode,!1)}catch(ue){et(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(t,a))));break;case 19:pn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 30:break;case 21:break;default:pn(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(_y(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(t);ic(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(mn(y,""),a.flags&=-33);var E=Zf(t);ic(t,E,y);break;case 3:case 4:var C=a.stateNode.containerInfo,U=Zf(t);Jf(t,U,C);break;default:throw Error(r(161))}}catch(Q){et(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Kr(n);break;case 1:Ni(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&py(n,n.return,a),Kr(n);break;case 27:vl(n.stateNode);case 26:case 5:Ni(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function ls(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,a),ul(4,f);break;case 1:if(ls(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){et(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)sp(C[h],E)}catch(U){et(o,o.return,U)}}a&&y&64&&gy(f),cl(f,f.return);break;case 27:vy(f);case 26:case 5:ls(h,f,a),a&&o===null&&y&4&&yy(f),cl(f,f.return);break;case 12:ls(h,f,a);break;case 31:ls(h,f,a),a&&y&4&&Sy(h,f);break;case 13:ls(h,f,a),a&&y&4&&Ay(h,f);break;case 22:f.memoizedState===null&&ls(h,f,a),cl(f,f.return);break;case 30:break;default:ls(h,f,a)}n=n.sibling}}function ed(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t))}function oi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,a,o),n=n.sibling}function Cy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,a,o),h&2048&&ul(9,n);break;case 1:oi(t,n,a,o);break;case 3:oi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){oi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){et(n,n.return,C)}}else oi(t,n,a,o);break;case 31:oi(t,n,a,o);break;case 13:oi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,a,o):hl(t,n):f._visibility&2?oi(t,n,a,o):(f._visibility|=2,Ba(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(y,n);break;case 24:oi(t,n,a,o),h&2048&&td(n.alternate,n);break;default:oi(t,n,a,o)}}function Ba(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,C=o,U=y.flags;switch(y.tag){case 0:case 11:case 15:Ba(f,y,E,C,h),ul(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ba(f,y,E,C,h):hl(f,y):(Q._visibility|=2,Ba(f,y,E,C,h)),h&&U&2048&&ed(y.alternate,y);break;case 24:Ba(f,y,E,C,h),h&&U&2048&&td(y.alternate,y);break;default:Ba(f,y,E,C,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:hl(a,o),h&2048&&ed(o.alternate,o);break;case 24:hl(a,o),h&2048&&td(o.alternate,o);break;default:hl(a,o)}n=n.sibling}}var fl=8192;function qa(t,n,a){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Iy(t,n,a),t=t.sibling}function Iy(t,n,a){switch(t.tag){case 26:qa(t,n,a),t.flags&fl&&t.memoizedState!==null&&vT(a,ai,t.memoizedState,t.memoizedProps);break;case 5:qa(t,n,a);break;case 3:case 4:var o=ai;ai=_c(t.stateNode.containerInfo),qa(t,n,a),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,qa(t,n,a),fl=o):qa(t,n,a));break;default:qa(t,n,a)}}function Ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,ky(o,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):dl(t);break;default:dl(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,ky(o,t)}Ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function ky(t,n){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Gt=o;else e:for(a=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(Ty(o),o===a){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var ME={getCacheForType:function(t){var n=$t(Dt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return $t(Dt).controller.signal}},VE=typeof WeakMap=="function"?WeakMap:Map,$e=0,lt=null,Ve=null,Pe=0,We=0,Nn=null,qs=!1,Ha=!1,nd=!1,us=0,bt=0,Hs=0,Xr=0,id=0,Dn=0,Fa=0,ml=null,_n=null,sd=!1,ac=0,Oy=0,oc=1/0,lc=null,Fs=null,Ut=0,Gs=null,Ga=null,cs=0,rd=0,ad=null,My=null,gl=0,od=null;function kn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:Y.T!==null?dd():uu()}function Vy(){if(Dn===0)if((Pe&536870912)===0||He){var t=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),Dn=t}else Dn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Dn}function vn(t,n,a){(t===lt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Ys(t,Pe,Dn,!1)),wr(t,a),(($e&2)===0||t!==lt)&&(t===lt&&(($e&2)===0&&(Xr|=a),bt===4&&Ys(t,Pe,Dn,!1)),Di(t))}function jy(t,n,a){if(($e&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||un(t,n),h=o?PE(t,n):ud(t,n,!0),f=o;do{if(h===0){Ha&&!o&&Ys(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!jE(a)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=ml;var C=E.current.memoizedState.isDehydrated;if(C&&(Ya(E,y).flags|=256),y=ud(E,y,!1),y!==2){if(nd&&!C){E.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ya(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Dn,!qs);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ac+300-Lt(),10<h)){if(Ys(o,n,Dn,!qs),ln(o,0,!0)!==0)break e;cs=n,o.timeoutHandle=d0(Ly.bind(null,o,a,_n,lc,sd,n,Dn,Xr,Fa,qs,f,"Throttled",-0,0),h);break e}Ly(o,a,_n,lc,sd,n,Dn,Xr,Fa,qs,f,null,-0,0)}}break}while(!0);Di(t)}function Ly(t,n,a,o,h,f,y,E,C,U,Q,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Iy(n,f,X);var ue=(f&62914560)===f?ac-Lt():(f&4194048)===f?Oy-Lt():0;if(ue=bT(X,ue),ue!==null){cs=f,t.cancelPendingCommit=ue(Gy.bind(null,t,n,f,a,o,h,y,E,C,Q,X,null,z,H)),Ys(t,f,y,!U);return}}Gy(t,n,f,a,o,h,y,E,C)}function jE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!xn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,a,o){n&=~id,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-te(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Sr(t,a,n)}function uc(){return($e&6)===0?(pl(0),!1):!0}function ld(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Wi=zr=null,Sf(t),ja=null,Jo=0,t=Ve;for(;t!==null;)my(t.alternate,t),t=t.return;Ve=null}}function Ya(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cs=0,ld(),lt=t,Ve=a=Zi(t.current,null),Pe=n,We=0,Nn=null,qs=!1,Ha=un(t,n),nd=!1,Fa=Dn=id=Xr=Hs=bt=0,_n=ml=null,sd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-te(o),f=1<<h;n|=t[h],o&=~f}return us=n,Nu(),a}function Py(t,n){ke=null,Y.H=al,n===Va||n===Pu?(n=ep(),We=3):n===ff?(n=ep(),We=4):We=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Ve===null&&(bt=1,Ju(t,qn(n,t.current)))}function Uy(){var t=Cn.current;return t===null?!0:(Pe&4194048)===Pe?Yn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Yn:!1}function zy(){var t=Y.H;return Y.H=al,t===null?al:t}function By(){var t=Y.A;return Y.A=ME,t}function cc(){bt=4,qs||(Pe&4194048)!==Pe&&Cn.current!==null||(Ha=!0),(Hs&134217727)===0&&(Xr&134217727)===0||lt===null||Ys(lt,Pe,Dn,!1)}function ud(t,n,a){var o=$e;$e|=2;var h=zy(),f=By();(lt!==t||Pe!==n)&&(lc=null,Ya(t,n)),n=!1;var y=bt;e:do try{if(We!==0&&Ve!==null){var E=Ve,C=Nn;switch(We){case 8:ld(),y=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var U=We;if(We=0,Nn=null,Qa(t,E,C,U),a&&Ha){y=0;break e}break;default:U=We,We=0,Nn=null,Qa(t,E,C,U)}}LE(),y=bt;break}catch(Q){Py(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Wi=zr=null,$e=o,Y.H=h,Y.A=f,Ve===null&&(lt=null,Pe=0,Nu()),y}function LE(){for(;Ve!==null;)qy(Ve)}function PE(t,n){var a=$e;$e|=2;var o=zy(),h=By();lt!==t||Pe!==n?(lc=null,oc=Lt()+500,Ya(t,n)):Ha=un(t,n);e:do try{if(We!==0&&Ve!==null){n=Ve;var f=Nn;t:switch(We){case 1:We=0,Nn=null,Qa(t,n,f,1);break;case 2:case 9:if(Jg(f)){We=0,Nn=null,Hy(n);break}n=function(){We!==2&&We!==9||lt!==t||(We=7),Di(t)},f.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Jg(f)?(We=0,Nn=null,Hy(n)):(We=0,Nn=null,Qa(t,n,f,7));break;case 5:var y=null;switch(Ve.tag){case 26:y=Ve.memoizedState;case 5:case 27:var E=Ve;if(y?C0(y):E.stateNode.complete){We=0,Nn=null;var C=E.sibling;if(C!==null)Ve=C;else{var U=E.return;U!==null?(Ve=U,hc(U)):Ve=null}break t}}We=0,Nn=null,Qa(t,n,f,5);break;case 6:We=0,Nn=null,Qa(t,n,f,6);break;case 8:ld(),bt=6;break e;default:throw Error(r(462))}}UE();break}catch(Q){Py(t,Q)}while(!0);return Wi=zr=null,Y.H=o,Y.A=h,$e=a,Ve!==null?0:(lt=null,Pe=0,Nu(),bt)}function UE(){for(;Ve!==null&&!ca();)qy(Ve)}function qy(t){var n=fy(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?hc(t):Ve=n}function Hy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ay(a,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=ay(a,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:Sf(n);default:my(a,n),n=Ve=Bg(n,us),n=fy(a,n,us)}t.memoizedProps=t.pendingProps,n===null?hc(t):Ve=n}function Qa(t,n,a,o){Wi=zr=null,Sf(n),ja=null,Jo=0;var h=n.return;try{if(RE(t,h,n,a,Pe)){bt=1,Ju(t,qn(a,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;bt=1,Ju(t,qn(a,t.current)),Ve=null;return}n.flags&32768?(He||o===1?t=!0:Ha||(Pe&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,qs);return}t=n.return;var a=NE(n.alternate,n,us);if(a!==null){Ve=a;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);bt===0&&(bt=5)}function Fy(t,n){do{var a=DE(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);bt=6,Ve=null}function Gy(t,n,a,o,h,f,y,E,C){t.cancelPendingCommit=null;do fc();while(Ut!==0);if(($e&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,Bh(t,a,f,y,E,C),t===lt&&(Ve=lt=null,Pe=0),Ga=n,Gs=t,cs=a,rd=f,ad=h,My=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HE(Zn,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=ie.p,ie.p=2,y=$e,$e|=4;try{kE(t,n,a)}finally{$e=y,ie.p=h,Y.T=o}}Ut=1,Yy(),Qy(),Ky()}}function Yy(){if(Ut===1){Ut=0;var t=Gs,n=Ga,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=ie.p;ie.p=2;var h=$e;$e|=4;try{xy(n,t);var f=Ed,y=kg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(C!==null&&Gh(E)){var U=C.start,Q=C.end;if(Q===void 0&&(Q=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=E.textContent.length,be=Math.min(C.start,ue),rt=C.end===void 0?be:Math.min(C.end,ue);!H.extend&&be>rt&&(y=rt,rt=be,be=y);var V=Ng(E,be),k=Ng(E,rt);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var P=X.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),be>rt?(H.addRange(P),H.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Sc=!!bd,Ed=bd=null}finally{$e=h,ie.p=o,Y.T=a}}t.current=n,Ut=2}}function Qy(){if(Ut===2){Ut=0;var t=Gs,n=Ga,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=ie.p;ie.p=2;var h=$e;$e|=4;try{Ey(t,n.alternate,n)}finally{$e=h,ie.p=o,Y.T=a}}Ut=3}}function Ky(){if(Ut===4||Ut===3){Ut=0,Fi();var t=Gs,n=Ga,a=cs,o=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Ga=Gs=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Qi(a),n=n.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(wn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Y.T,h=ie.p,ie.p=2,Y.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{Y.T=n,ie.p=h}}(cs&3)!==0&&fc(),Di(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===od?gl++:(gl=0,od=t):gl=0,pl(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$o(n)))}function fc(){return Yy(),Qy(),Ky(),$y()}function $y(){if(Ut!==5)return!1;var t=Gs,n=rd;rd=0;var a=Qi(cs),o=Y.T,h=ie.p;try{ie.p=32>a?32:a,Y.T=null,a=ad,ad=null;var f=Gs,y=cs;if(Ut=0,Ga=Gs=null,cs=0,($e&6)!==0)throw Error(r(331));var E=$e;if($e|=4,Dy(f.current),Cy(f,f.current,y,a),$e=E,pl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(wn,f)}catch{}return!0}finally{ie.p=h,Y.T=o,Xy(t,n)}}function Zy(t,n,a){n=qn(a,n),n=Uf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(wr(t,2),Di(t))}function et(t,n,a){if(t.tag===3)Zy(t,t,a);else for(;n!==null;){if(n.tag===3){Zy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=qn(a,t),a=Jp(2),o=Ps(n,a,2),o!==null&&(Wp(a,o,n,t),wr(o,2),Di(o));break}}n=n.return}}function cd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new VE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(nd=!0,h.add(a),t=zE.bind(null,t,n,a),n.then(t,t))}function zE(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(Pe&a)===a&&(bt===4||bt===3&&(Pe&62914560)===Pe&&300>Lt()-ac?($e&2)===0&&Ya(t,0):id|=a,Fa===Pe&&(Fa=0)),Di(t)}function Jy(t,n){n===0&&(n=lu()),t=Lr(t,n),t!==null&&(wr(t,n),Di(t))}function BE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jy(t,a)}function qE(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Jy(t,a)}function HE(t,n){return wt(t,n)}var dc=null,Ka=null,hd=!1,mc=!1,fd=!1,Qs=0;function Di(t){t!==Ka&&t.next===null&&(Ka===null?dc=Ka=t:Ka=Ka.next=t),mc=!0,hd||(hd=!0,GE())}function pl(t,n){if(!fd&&mc){fd=!0;do for(var a=!1,o=dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-te(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,n0(o,f))}else f=Pe,f=ln(o,o===lt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||un(o,f)||(a=!0,n0(o,f));o=o.next}while(a);fd=!1}}function FE(){Wy()}function Wy(){mc=hd=!1;var t=0;Qs!==0&&tT()&&(t=Qs);for(var n=Lt(),a=null,o=dc;o!==null;){var h=o.next,f=e0(o,n);f===0?(o.next=null,a===null?dc=h:a.next=h,h===null&&(Ka=a)):(a=o,(t!==0||(f&3)!==0)&&(mc=!0)),o=h}Ut!==0&&Ut!==5||pl(t),Qs!==0&&(Qs=0)}function e0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-te(f),E=1<<y,C=h[y];C===-1?((E&a)===0||(E&o)!==0)&&(h[y]=zh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=lt,a=Pe,a=ln(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(We===2||We===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&di(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&di(o),Qi(a)){case 2:case 8:a=Gi;break;case 32:a=Zn;break;case 268435456:a=jn;break;default:a=Zn}return o=t0.bind(null,t),a=wt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&di(o),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fc()&&t.callbackNode!==a)return null;var o=Pe;return o=ln(t,t===lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,n),e0(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?t0.bind(null,t):null)}function n0(t,n){if(fc())return null;jy(t,n,!0)}function GE(){iT(function(){($e&6)!==0?wt(Ts,FE):Wy()})}function dd(){if(Qs===0){var t=Oa;t===0&&(t=tt,tt<<=1,(tt&261888)===0&&(tt=256)),Qs=t}return Qs}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function s0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function YE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=i0((h[Ht]||null).action),y=o.submitter;y&&(n=(n=y[Ht]||null)?i0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Si("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var C=y?s0(h,y):new FormData(h);Of(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?s0(h,y):new FormData(h),Of(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var gd=Xh[md],QE=gd.toLowerCase(),KE=gd[0].toUpperCase()+gd.slice(1);ri(QE,"on"+KE)}ri(Vg,"onAnimationEnd"),ri(jg,"onAnimationIteration"),ri(Lg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(cE,"onTransitionRun"),ri(hE,"onTransitionStart"),ri(fE,"onTransitionCancel"),ri(Pg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function r0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=C}}}}function je(t,n){var a=n[da];a===void 0&&(a=n[da]=new Set);var o=t+"__bubble";a.has(o)||(a0(n,t,2,!1),a.add(o))}function pd(t,n,a){var o=0;n&&(o|=4),a0(a,t,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[gc]){t[gc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(XE.has(a)||pd(a,!1,t),pd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,pd("selectionchange",!1,n))}}function a0(t,n,a,o){switch(V0(n)){case 2:var h=wT;break;case 8:h=ST;break;default:h=kd}a=h.bind(null,n,a,t),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function _d(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=yi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}E=E.parentNode}}o=o.return}Cs(function(){var U=f,Q=Pn(a),X=[];e:{var z=Ug.get(t);if(z!==void 0){var H=Si,ue=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":H=xu;break;case"focusin":ue="focus",H=Or;break;case"focusout":ue="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Vg:case jg:case Lg:H=vu;break;case Pg:H=w;break;case"scroll":case"scrollend":H=Bo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=De}var be=(n&4)!==0,rt=!be&&(t==="scroll"||t==="scrollend"),V=be?z!==null?z+"Capture":null:z;be=[];for(var k=U,P;k!==null;){var K=k;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||V===null||(K=ti(k,V),K!=null&&be.push(_l(k,K,P))),rt)break;k=k.return}0<be.length&&(z=new H(z,ue,null,a,Q),X.push({event:z,listeners:be}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Po&&(ue=a.relatedTarget||a.fromElement)&&(yi(ue)||ue[gi]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=U,ue=ue?yi(ue):null,ue!==null&&(rt=c(ue),be=ue.tag,ue!==rt||be!==5&&be!==27&&be!==6)&&(ue=null)):(H=null,ue=U),H!==ue)){if(be=qo,K="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=$i,K="onPointerLeave",V="onPointerEnter",k="pointer"),rt=H==null?z:Sn(H),P=ue==null?z:Sn(ue),z=new be(K,k+"leave",H,a,Q),z.target=rt,z.relatedTarget=P,K=null,yi(Q)===U&&(be=new be(V,k+"enter",ue,a,Q),be.target=P,be.relatedTarget=rt,K=be),rt=K,H&&ue)t:{for(be=$E,V=H,k=ue,P=0,K=V;K;K=be(K))P++;K=0;for(var pe=k;pe;pe=be(pe))K++;for(;0<P-K;)V=be(V),P--;for(;0<K-P;)k=be(k),K--;for(;P--;){if(V===k||k!==null&&V===k.alternate){be=V;break t}V=be(V),k=be(k)}be=null}else be=null;H!==null&&o0(X,z,H,be,!1),ue!==null&&rt!==null&&o0(X,rt,ue,be,!0)}}e:{if(z=U?Sn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ye=Sg;else if(Tg(z))if(Ag)Ye=oE;else{Ye=rE;var ce=sE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ya(U.elementType)&&(Ye=Sg):Ye=aE;if(Ye&&(Ye=Ye(t,U))){wg(X,Ye,a,Q);break e}ce&&ce(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(ce=U?Sn(U):window,t){case"focusin":(Tg(ce)||ce.contentEditable==="true")&&(Aa=ce,Yh=U,Qo=null);break;case"focusout":Qo=Yh=Aa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Og(X,a,Q);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":Og(X,a,Q)}var Oe;if(Xe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Sa?Mr(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ri&&a.locale!=="ko"&&(Sa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Sa&&(Oe=zo()):(wi=Q,Uo="value"in wi?wi.value:wi.textContent,Sa=!0)),ce=pc(U,Ue),0<ce.length&&(Ue=new xi(Ue,t,null,a,Q),X.push({event:Ue,listeners:ce}),Oe?Ue.data=Oe:(Oe=wa(a),Oe!==null&&(Ue.data=Oe)))),(Oe=zn?eE(t,a):tE(t,a))&&(Ue=pc(U,"onBeforeInput"),0<Ue.length&&(ce=new xi("onBeforeInput","beforeinput",null,a,Q),X.push({event:ce,listeners:Ue}),ce.data=Oe)),YE(X,t,U,a,Q)}r0(X,n)})}function _l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function pc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,a),h!=null&&o.unshift(_l(t,h,f)),h=ti(t,n),h!=null&&o.push(_l(t,h,f))),t.tag===3)return o;t=t.return}return[]}function $E(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o0(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||U===null||(C=U,h?(U=ti(a,f),U!=null&&y.unshift(_l(a,U,C))):h||(U=ti(a,f),U!=null&&y.push(_l(a,U,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var ZE=/\r\n?/g,JE=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(ZE,`
`).replace(JE,"")}function u0(t,n){return n=l0(n),l0(t)===n}function st(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(t,""+o);break;case"className":An(t,"class",o);break;case"tabIndex":An(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,o);break;case"style":Lo(t,o,f);break;case"data":if(n!=="object"){An(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=_a(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=_a(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":je("beforetoggle",t),je("toggle",t),ga(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,ga(t,a,o))}}function vd(t,n,a,o,h,f){switch(a){case"style":Lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ga(t,a,o)}}}function Jt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:st(t,n,f,y,a,null)}}h&&st(t,n,"srcSet",a.srcSet,a,null),o&&st(t,n,"src",a.src,a,null);return;case"input":je("invalid",t);var E=f=y=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":C=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:st(t,n,o,Q,a,null)}}du(t,f,E,C,U,y,h,!1);return;case"select":je("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:st(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!o,n!=null?Ss(t,!!o,n,!1):a!=null&&Ss(t,!!o,a,!0);return;case"textarea":je("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:st(t,n,y,E,a,null)}As(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:st(t,n,C,o,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<yl.length;o++)je(yl[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:st(t,n,U,o,a,null)}return;default:if(ya(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&vd(t,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&st(t,n,E,o,a,null))}function WE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,U=null,Q=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||st(t,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=a[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&st(t,n,z,H,o,X)}}pa(t,y,E,C,U,Q,f,h);return;case"select":H=y=E=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||st(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&st(t,n,h,f,o,C)}n=E,a=y,o=H,z!=null?Ss(t,!!a,z,!1):!!o!=!!a&&(n!=null?Ss(t,!!a,n,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&st(t,n,y,h,o,f)}mu(t,z,H);return;case"option":for(var ue in a)if(z=a[ue],a.hasOwnProperty(ue)&&z!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:st(t,n,ue,null,o,z)}for(C in o)if(z=o[C],H=a[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:st(t,n,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)z=a[be],a.hasOwnProperty(be)&&z!=null&&!o.hasOwnProperty(be)&&st(t,n,be,null,o,z);for(U in o)if(z=o[U],H=a[U],o.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:st(t,n,U,z,o,H)}return;default:if(ya(n)){for(var rt in a)z=a[rt],a.hasOwnProperty(rt)&&z!==void 0&&!o.hasOwnProperty(rt)&&vd(t,n,rt,void 0,o,z);for(Q in o)z=o[Q],H=a[Q],!o.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||vd(t,n,Q,z,o,H);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&st(t,n,V,null,o,z);for(X in o)z=o[X],H=a[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||st(t,n,X,z,o,H)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&c0(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>E)break;var Q=C.transferSize,X=C.initiatorType;Q&&c0(X)&&(C=C.responseEnd,y+=Q*(C<E?1:(E-U)/(C-U)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ed=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function tT(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(sT)}:d0;function sT(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function g0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&vl(t.ownerDocument.body);a=h}while(a);Ja(n)}function p0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Sd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function aT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qn(t.nextSibling),t===null))return null;return t}function Ad(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function _0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Qn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function v0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function b0(t,n,a){switch(n=yc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ma(t)}var Kn=new Map,E0=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=ie.d;ie.d={f:lT,r:uT,D:cT,C:hT,L:fT,m:dT,X:gT,S:mT,M:pT};function lT(){var t=hs.f(),n=uc();return t||n}function uT(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Pp(n):hs.r(t)}var Xa=typeof document>"u"?null:document;function T0(t,n,a){var o=Xa;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Jt(n,"link",t),It(n),o.head.appendChild(n)))}}function cT(t){hs.D(t),T0("dns-prefetch",t,null)}function hT(t,n){hs.C(t,n),T0("preconnect",t,n)}function fT(t,n,a){hs.L(t,n,a);var o=Xa;if(o&&t&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var f=h;switch(n){case"style":f=$a(t);break;case"script":f=Za(t)}Kn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Kn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(bl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),Jt(n,"link",t),It(n),o.head.appendChild(n)))}}function dT(t,n){hs.m(t,n);var a=Xa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!Kn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Kn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(f)))return}o=a.createElement("link"),Jt(o,"link",t),It(o),a.head.appendChild(o)}}}function mT(t,n,a){hs.S(t,n,a);var o=Xa;if(o&&t){var h=_i(o).hoistableStyles,f=$a(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(bl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Kn.get(f))&&Cd(t,a);var C=y=o.createElement("link");It(C),Jt(C,"link",t),C._p=new Promise(function(U,Q){C.onload=U,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function gT(t,n){hs.X(t,n);var a=Xa;if(a&&t){var o=_i(a).hoistableScripts,h=Za(t),f=o.get(h);f||(f=a.querySelector(El(h)),f||(t=S({src:t,async:!0},n),(n=Kn.get(h))&&Id(t,n),f=a.createElement("script"),It(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pT(t,n){hs.M(t,n);var a=Xa;if(a&&t){var o=_i(a).hoistableScripts,h=Za(t),f=o.get(h);f||(f=a.querySelector(El(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Kn.get(h))&&Id(t,n),f=a.createElement("script"),It(f),Jt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w0(t,n,a,o){var h=(h=fe.current)?_c(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$a(a.href),a=_i(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var f=_i(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),f||yT(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(a),a=_i(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function $a(t){return'href="'+dn(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function yT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jt(n,"link",a),It(n),t.head.appendChild(n))}function Za(t){return'[src="'+dn(t)+'"]'}function El(t){return"script[async]"+t}function A0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(o)return n.instance=o,It(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),It(o),Jt(o,"style",h),vc(o,a.precedence,t),n.instance=o;case"stylesheet":h=$a(a.href);var f=t.querySelector(bl(h));if(f)return n.state.loading|=4,n.instance=f,It(f),f;o=S0(a),(h=Kn.get(h))&&Cd(o,h),f=(t.ownerDocument||t).createElement("link"),It(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Jt(f,"link",o),n.state.loading|=4,vc(f,a.precedence,t),n.instance=f;case"script":return f=Za(a.src),(h=t.querySelector(El(f)))?(n.instance=h,It(h),h):(o=a,(h=Kn.get(f))&&(o=S({},a),Id(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),Jt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,a.precedence,t));return n.instance}function vc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function x0(t,n,a){if(bc===null){var o=new Map,h=bc=new Map;h.set(a,o)}else h=bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[pi]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function R0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function _T(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(o.href),f=n.querySelector(bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,It(f);return}f=n.ownerDocument||n,o=S0(o),(h=Kn.get(h))&&Cd(o,h),f=f.createElement("link"),It(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Jt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ec.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function bT(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*eT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(ET,t),Tc=null,Ec.call(t))}function ET(t,n){if(!(n.state.loading&4)){var a=Tc.get(t);if(a)var o=a.get(null);else{a=new Map,Tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:le,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function TT(t,n,a,o,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function I0(t,n,a,o,h,f,y,E,C,U,Q,X){return t=new TT(t,n,a,y,C,U,Q,X,E),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},df(f),t}function N0(t){return t?(t=Ca,t):Ca}function D0(t,n,a,o,h,f){h=N0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ps(t,o,n),a!==null&&(vn(a,t,n),el(a,t,n))}function k0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Dd(t,n){k0(t,n),(t=t.alternate)&&k0(t,n)}function O0(t){if(t.tag===13||t.tag===31){var n=Lr(t,67108864);n!==null&&vn(n,t,67108864),Dd(t,67108864)}}function M0(t){if(t.tag===13||t.tag===31){var n=kn();n=Ar(n);var a=Lr(t,n);a!==null&&vn(a,t,n),Dd(t,n)}}var Sc=!0;function wT(t,n,a,o){var h=Y.T;Y.T=null;var f=ie.p;try{ie.p=2,kd(t,n,a,o)}finally{ie.p=f,Y.T=h}}function ST(t,n,a,o){var h=Y.T;Y.T=null;var f=ie.p;try{ie.p=8,kd(t,n,a,o)}finally{ie.p=f,Y.T=h}}function kd(t,n,a,o){if(Sc){var h=Od(o);if(h===null)_d(t,n,o,Ac,a),j0(t,o);else if(xT(h,t,n,a,o))o.stopPropagation();else if(j0(t,o),n&4&&-1<AT.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=fn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-te(y);E.entanglements[1]|=C,y&=~C}Di(f),($e&6)===0&&(oc=Lt()+500,pl(0))}}break;case 31:case 13:E=Lr(f,2),E!==null&&vn(E,f,2),uc(),Dd(f,2)}if(f=Od(o),f===null&&_d(t,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else _d(t,n,o,null,a)}}function Od(t){return t=Pn(t),Md(t)}var Ac=null;function Md(t){if(Ac=null,t=yi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function V0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vn()){case Ts:return 2;case Gi:return 8;case Zn:case Yi:return 32;case jn:return 268435456;default:return 32}default:return 32}}var Vd=!1,Xs=null,$s=null,Zs=null,wl=new Map,Sl=new Map,Js=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function Al(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&O0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function xT(t,n,a,o,h){switch(n){case"focusin":return Xs=Al(Xs,t,n,a,o,h),!0;case"dragenter":return $s=Al($s,t,n,a,o,h),!0;case"mouseover":return Zs=Al(Zs,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return wl.set(f,Al(wl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,Al(Sl.get(f)||null,t,n,a,o,h)),!0}return!1}function L0(t){var n=yi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){M0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){M0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Od(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Po=o,a.target.dispatchEvent(o),Po=null}else return n=Ln(a),n!==null&&O0(n),t.blockedOn=a,!1;n.shift()}return!0}function P0(t,n,a){xc(t)&&a.delete(n)}function RT(){Vd=!1,Xs!==null&&xc(Xs)&&(Xs=null),$s!==null&&xc($s)&&($s=null),Zs!==null&&xc(Zs)&&(Zs=null),wl.forEach(P0),Sl.forEach(P0)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Vd||(Vd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,RT)))}var Cc=null;function U0(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=Ln(a);f!==null&&(t.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ja(t){function n(C){return Rc(C,t)}Xs!==null&&Rc(Xs,t),$s!==null&&Rc($s,t),Zs!==null&&Rc(Zs,t),wl.forEach(n),Sl.forEach(n);for(var a=0;a<Js.length;a++){var o=Js[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ht]||null;if(typeof f=="function")y||U0(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ht]||null)E=y.formAction;else if(Md(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),U0(a)}}}function z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Ic.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=kn();D0(a,o,t,n,null,null)},Ic.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;D0(t.current,2,null,t,null,null),uc(),n[gi]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&L0(t)}};var B0=e.version;if(B0!=="19.2.0")throw Error(r(527,B0,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var CT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{wn=Nc.inject(CT),Pt=Nc}catch{}}return Rl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Kp,f=Xp,y=$p;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=I0(t,1,!1,null,null,a,o,null,h,f,y,z0),t[gi]=n.current,yd(t),new jd(n)},Rl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Kp,y=Xp,E=$p,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=I0(t,1,!0,n,a??null,o,h,C,f,y,E,z0),n.context=N0(null),a=n.current,o=kn(),o=Ar(o),h=Ls(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,wr(n,a),Di(n),t[gi]=n.current,yd(t),new Ic(n)},Rl.version="19.2.0",Rl}var Z0;function PT(){if(Z0)return Ud.exports;Z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=LT(),Ud.exports}var UT=PT();const zT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),J0=s=>{const e=BT(s);return e.charAt(0).toUpperCase()+e.slice(1)},kv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),qT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var HT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FT=me.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},p)=>me.createElement("svg",{ref:p,...HT,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:kv("lucide",l),...!c&&!qT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>me.createElement(_,T)),...Array.isArray(c)?c:[c]]));const Me=(s,e)=>{const i=me.forwardRef(({className:r,...l},c)=>me.createElement(FT,{ref:c,iconNode:e,className:kv(`lucide-${zT(J0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=J0(s),i};const GT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],YT=Me("arrow-down-a-z",GT);const QT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],KT=Me("arrow-left",QT);const XT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Im=Me("calendar",XT);const $T=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ZT=Me("camera",$T);const JT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],WT=Me("check",JT);const ew=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tw=Me("chevron-right",ew);const nw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],iw=Me("circle-alert",nw);const sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],rw=Me("circle-plus",sw);const aw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ow=Me("cloud-upload",aw);const lw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],uw=Me("coffee",lw);const cw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hw=Me("download",cw);const fw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dw=Me("house",fw);const mw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gw=Me("image",mw);const pw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yw=Me("info",pw);const _w=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],vw=Me("link",_w);const bw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ew=Me("list",bw);const Tw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ww=Me("lock",Tw);const Sw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Aw=Me("log-out",Sw);const xw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rw=Me("mail",xw);const Cw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ov=Me("map-pin",Cw);const Iw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Nw=Me("map",Iw);const Dw=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],kw=Me("move-vertical",Dw);const Ow=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mv=Me("pen-line",Ow);const Mw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Nm=Me("pencil",Mw);const Vw=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],nm=Me("plane",Vw);const jw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mh=Me("plus",jw);const Lw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gh=Me("refresh-cw",Lw);const Pw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uw=Me("save",Pw);const zw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bw=Me("settings",zw);const qw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Zl=Me("shopping-bag",qw);const Hw=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ea=Me("square-check-big",Hw);const Fw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Gw=Me("sun",Fw);const Yw=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Dm=Me("tag",Yw);const Qw=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],Kw=Me("tram-front",Qw);const Xw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ph=Me("trash-2",Xw);const $w=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zw=Me("triangle-alert",$w);const Jw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ww=Me("upload",Jw);const e2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t2=Me("user",e2);const n2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aa=Me("x",n2);const i2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],s2=Me("zoom-in",i2),r2=()=>{};var W0={};const Vv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},a2=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,_=p?s[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|_>>6,F=_&63;p||(F=64,d||(N=64)),r.push(i[T],i[S],i[N],i[F])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Vv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):a2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||S==null)throw new o2;const N=c<<2|g>>4;if(r.push(N),_!==64){const F=g<<4&240|_>>2;if(r.push(F),S!==64){const q=_<<6&192|S;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l2=function(s){const e=Vv(s);return jv.encodeByteArray(e,!0)},Xc=function(s){return l2(s).replace(/\./g,"")},Lv=function(s){try{return jv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const c2=()=>u2().__FIREBASE_DEFAULTS__,h2=()=>{if(typeof process>"u"||typeof W0>"u")return;const s=W0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},f2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Lv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return r2()||c2()||h2()||f2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Pv=s=>yh()?.emulatorHosts?.[s],d2=s=>{const e=Pv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Uv=()=>yh()?.config,zv=s=>yh()?.[`_${s}`];class m2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bv(s){return(await fetch(s,{credentials:"include"})).ok}function g2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Vl={};function p2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?s.emulator.push(e):s.prod.push(e);return s}function y2(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let e_=!1;function qv(s,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Vl[s]===e||Vl[s]||e_)return;Vl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=p2().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{e_=!0,d()},N}function T(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=y2(r),F=i("text"),q=document.getElementById(F)||document.createElement("span"),ee=i("learnmore"),W=document.getElementById(ee)||document.createElement("a"),ge=i("preprendIcon"),ve=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const le=N.element;g(le),T(W,ee);const Ce=_();p(ve,ge),le.append(ve,q,W,Ce),document.body.appendChild(le)}c?(q.innerText="Preview backend disconnected.",ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function v2(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w2(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function S2(){return!v2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function x2(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const R2="FirebaseError";class _s extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=R2,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?C2(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new _s(l,g,r)}}function C2(s,e){return s.replace(I2,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const I2=/\{\$([^}]+)}/g;function N2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ta(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(t_(c)&&t_(d)){if(!ta(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function t_(s){return s!==null&&typeof s=="object"}function Wl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Il(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function D2(s,e){const i=new k2(s,e);return i.subscribe.bind(i)}class k2{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Hd),l.error===void 0&&(l.error=Hd),l.complete===void 0&&(l.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O2(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hd(){}function Qt(s){return s&&s._delegate?s._delegate:s}class na{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class M2{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new m2;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j2(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V2(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V2(s){return s===$r?void 0:s}function j2(s){return s.instantiationMode==="EAGER"}class L2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new M2(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const P2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},U2=ze.INFO,z2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},B2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=z2[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=U2,this._logHandler=B2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const q2=(s,e)=>e.some(i=>s instanceof i);let n_,i_;function H2(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F2(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,im=new WeakMap,Fv=new WeakMap,Fd=new WeakMap,Om=new WeakMap;function G2(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Hv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function Y2(s){if(im.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Fv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Q2(s){sm=s(sm)}function K2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Gd(this),e,...i);return Fv.set(r,e.sort?e.sort():[e]),ar(r)}:F2().includes(s)?function(...e){return s.apply(Gd(this),e),ar(Hv.get(this))}:function(...e){return ar(s.apply(Gd(this),e))}}function X2(s){return typeof s=="function"?K2(s):(s instanceof IDBTransaction&&Y2(s),q2(s,H2())?new Proxy(s,sm):s)}function ar(s){if(s instanceof IDBRequest)return G2(s);if(Fd.has(s))return Fd.get(s);const e=X2(s);return e!==s&&(Fd.set(s,e),Om.set(e,s)),e}const Gd=s=>Om.get(s);function $2(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=ar(d);return r&&d.addEventListener("upgradeneeded",p=>{r(ar(d.result),p.oldVersion,p.newVersion,ar(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Z2=["get","getKey","getAll","getAllKeys","count"],J2=["put","add","delete","clear"],Yd=new Map;function s_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=J2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Z2.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Yd.set(e,c),c}Q2(s=>({...s,get:(e,i,r)=>s_(e,i)||s.get(e,i,r),has:(e,i)=>!!s_(e,i)||s.has(e,i)}));class W2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function eS(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",r_="0.14.6";const ms=new km("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",iS="@firebase/analytics",sS="@firebase/app-check-compat",rS="@firebase/app-check",aS="@firebase/auth",oS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",hS="@firebase/functions",fS="@firebase/functions-compat",dS="@firebase/installations",mS="@firebase/installations-compat",gS="@firebase/messaging",pS="@firebase/messaging-compat",yS="@firebase/performance",_S="@firebase/performance-compat",vS="@firebase/remote-config",bS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",wS="@firebase/firestore",SS="@firebase/ai",AS="@firebase/firestore-compat",xS="firebase",RS="12.6.0";const am="[DEFAULT]",CS={[rm]:"fire-core",[tS]:"fire-core-compat",[iS]:"fire-analytics",[nS]:"fire-analytics-compat",[rS]:"fire-app-check",[sS]:"fire-app-check-compat",[aS]:"fire-auth",[oS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[hS]:"fire-fn",[fS]:"fire-fn-compat",[dS]:"fire-iid",[mS]:"fire-iid-compat",[gS]:"fire-fcm",[pS]:"fire-fcm-compat",[yS]:"fire-perf",[_S]:"fire-perf-compat",[vS]:"fire-rc",[bS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[wS]:"fire-fst",[AS]:"fire-fst-compat",[SS]:"fire-vertex","fire-js":"fire-js",[xS]:"fire-js-all"};const Bl=new Map,IS=new Map,om=new Map;function a_(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function uo(s){const e=s.name;if(om.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of Bl.values())a_(i,s);for(const i of IS.values())a_(i,s);return!0}function Mm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ui(s){return s==null?!1:s.settings!==void 0}const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Jl("app","Firebase",NS);class DS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const bo=RS;function Gv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:am,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw or.create("bad-app-name",{appName:String(l)});if(i||(i=Uv()),!i)throw or.create("no-options");const c=Bl.get(l);if(c){if(ta(i,c.options)&&ta(r,c.config))return c;throw or.create("duplicate-app",{appName:l})}const d=new L2(l);for(const p of om.values())d.addComponent(p);const g=new DS(i,r,d);return Bl.set(l,g),g}function Vm(s=am){const e=Bl.get(s);if(!e&&s===am&&Uv())return Gv();if(!e)throw or.create("no-app",{appName:s});return e}function kS(){return Array.from(Bl.values())}function lr(s,e,i){let r=CS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}uo(new na(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const OS="firebase-heartbeat-database",MS=1,ql="firebase-heartbeat-store";let Qd=null;function Yv(){return Qd||(Qd=$2(OS,MS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function VS(s){try{const i=(await Yv()).transaction(ql),r=await i.objectStore(ql).get(Qv(s));return await i.done,r}catch(e){if(e instanceof _s)ms.warn(e.message);else{const i=or.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function o_(s,e){try{const r=(await Yv()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,Qv(s)),await r.done}catch(i){if(i instanceof _s)ms.warn(i.message);else{const r=or.create("idb-set",{originalErrorMessage:i?.message});ms.warn(r.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}const jS=1024,LS=30;class PS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=l_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>LS){const l=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l_(),{heartbeatsToSend:i,unsentEntries:r}=US(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ms.warn(e),""}}}function l_(){return new Date().toISOString().substring(0,10)}function US(s,e=jS){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),u_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),u_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?x2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await VS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function u_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function BS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function qS(s){uo(new na("platform-logger",e=>new W2(e),"PRIVATE")),uo(new na("heartbeat",e=>new PS(e),"PRIVATE")),lr(rm,r_,s),lr(rm,r_,"esm2020"),lr("fire-js","")}qS("");var HS="firebase",FS="12.6.0";lr(HS,FS,"app");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,Kv;(function(){var s;function e(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(M,D,j){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return A.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(D=0;D<16;++D)M[D]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],D=I.g[2];let j=I.g[3],R;R=A+(j^x&(D^j))+M[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[1]+3905402710&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(j^x&(D^j))+M[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[5]+1200080426&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(j^x&(D^j))+M[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[9]+2336552879&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(j^x&(D^j))+M[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=j+(D^A&(x^D))+M[13]+4254626195&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(x^j&(A^x))+M[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(A^D&(j^A))+M[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=A+(D^j&(x^D))+M[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[6]+3225465664&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(x^D))+M[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[10]+38016083&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(x^D))+M[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[14]+3275163606&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(x^D))+M[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(A^x))+M[2]+4243563512&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^x&(j^A))+M[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^A&(D^j))+M[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=A+(x^D^j)+M[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[8]+2272392833&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(x^D^j)+M[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[4]+1272893353&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(x^D^j)+M[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[0]+3936430074&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(x^D^j)+M[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=j+(A^x^D)+M[12]+3873151461&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^x)+M[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^A)+M[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=A+(D^(x|~j))+M[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[7]+1126891415&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=A+(D^(x|~j))+M[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[3]+2399980690&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=A+(D^(x|~j))+M[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[15]+4264355552&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=A+(D^(x|~j))+M[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=j+(x^(A|~D))+M[11]+3174756917&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~x))+M[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<A;){if(D==0)for(;j<=x;)l(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<A;)if(M[D++]=I.charCodeAt(j++),D==this.blockSize){l(this,M),D=0;break}}else for(;j<A;)if(M[D++]=I[j++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)I[A++]=this.g[x]>>>M&255;return I};function c(I,A){var x=g;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function d(I,A){this.h=A;const x=[];let M=!0;for(let D=I.length-1;D>=0;D--){const j=I[D]|0;M&&j==A||(x[D]=j,M=!1)}this.g=x}var g={};function p(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return W(_(-I));const A=[];let x=1;for(let M=0;I>=x;M++)A[M]=I/x|0,x*=4294967296;return new d(A,0)}function T(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return W(T(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let M=S;for(let j=0;j<I.length;j+=8){var D=Math.min(8,I.length-j);const R=parseInt(I.substring(j,j+D),A);D<8?(D=_(Math.pow(A,D)),M=M.j(D).add(_(R))):(M=M.j(x),M=M.add(_(R)))}return M}var S=p(0),N=p(1),F=p(16777216);s=d.prototype,s.m=function(){if(ee(this))return-W(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(q(this))return"0";if(ee(this))return"-"+W(this).toString(I);const A=_(Math.pow(I,6));var x=this;let M="";for(;;){const D=Ce(x,A).g;x=ge(x,D.j(A));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=D,q(x))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function q(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function ee(I){return I.h==-1}s.l=function(I){return I=ge(this,I),ee(I)?-1:q(I)?0:1};function W(I){const A=I.g.length,x=[];for(let M=0;M<A;M++)x[M]=~I.g[M];return new d(x,~I.h).add(N)}s.abs=function(){return ee(this)?W(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let M=0;for(let D=0;D<=A;D++){let j=M+(this.i(D)&65535)+(I.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=R>>>16,j&=65535,R&=65535,x[D]=R<<16|j}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ge(I,A){return I.add(W(A))}s.j=function(I){if(q(this)||q(I))return S;if(ee(this))return ee(I)?W(this).j(W(I)):W(W(this).j(I));if(ee(I))return W(this.j(W(I)));if(this.l(F)<0&&I.l(F)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const j=this.i(M)>>>16,R=this.i(M)&65535,at=I.i(D)>>>16,Et=I.i(D)&65535;x[2*M+2*D]+=R*Et,ve(x,2*M+2*D),x[2*M+2*D+1]+=j*Et,ve(x,2*M+2*D+1),x[2*M+2*D+1]+=R*at,ve(x,2*M+2*D+1),x[2*M+2*D+2]+=j*at,ve(x,2*M+2*D+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new d(x,0)};function ve(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function le(I,A){this.g=I,this.h=A}function Ce(I,A){if(q(A))throw Error("division by zero");if(q(I))return new le(S,S);if(ee(I))return A=Ce(W(I),A),new le(W(A.g),W(A.h));if(ee(A))return A=Ce(I,W(A)),new le(W(A.g),A.h);if(I.g.length>30){if(ee(I)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var x=N,M=A;M.l(I)<=0;)x=Le(x),M=Le(M);var D=Re(x,1),j=Re(M,1);for(M=Re(M,2),x=Re(x,2);!q(M);){var R=j.add(M);R.l(I)<=0&&(D=D.add(x),j=R),M=Re(M,1),x=Re(x,1)}return A=ge(I,D.j(A)),new le(D,A)}for(D=S;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=_(x),R=j.j(A);ee(R)||R.l(I)>0;)x-=M,j=_(x),R=j.j(A);q(j)&&(j=N),D=D.add(j),I=ge(I,R)}return new le(D,I)}s.B=function(I){return Ce(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&I.i(M);return new d(x,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|I.i(M);return new d(x,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^I.i(M);return new d(x,this.h^I.h)};function Le(I){const A=I.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(x,I.h)}function Re(I,A){const x=A>>5;A%=32;const M=I.g.length-x,D=[];for(let j=0;j<M;j++)D[j]=A>0?I.i(j+x)>>>A|I.i(j+x+1)<<32-A:I.i(j+x);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Kv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,ur=d}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xv,Nl,$v,Pc,lm,Zv,Jv,Wv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in v))break e;v=v[L]}u=u[u.length-1],w=v[u],m=m(w),m!=w&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&v.push([w,m[w]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=p,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(w,L,B){for(var ne=Array(arguments.length-2),De=2;De<arguments.length;De++)ne[De-2]=arguments[De];return m.prototype[L].apply(w,ne)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let w=0;w<m;w++)v[w]=u[w];return v}return[]}function q(u,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=L[ne]}else u.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,v){const w=le.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var le=new ee(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,Re=!1,I=new ve,A=()=>{const u=Promise.resolve(void 0);Le=()=>{u.then(x)}};function x(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){W(v)}var m=le;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Re=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(at,D),at.prototype.init=function(u,m){const v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ie(u,m,v,w,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=L,this.key=++Y,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u,m,v){for(const w in u)m.call(v,u[w],w,u)}function Ge(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(v in w)u[v]=w[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,w,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=fe(u,m,w,L);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ie(m,this.src,B,!!w,L),m.fa=v,u.push(m)),m};function we(u,m){const v=m.type;if(v in u.g){var w=u.g[v],L=Array.prototype.indexOf.call(w,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(w,L,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function fe(u,m,v,w){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==w)return L}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Tt={};function ut(u,m,v,w,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ut(u,m[B],v,w,L);return null}return v=Tr(v),u&&u[Et]?u.J(m,v,g(w)?!!w.capture:!1,L):Bi(u,m,v,!1,w,L)}function Bi(u,m,v,w,L,B){if(!m)throw Error("Invalid event type");const ne=g(L)?!!L.capture:!!L;let De=Hi(u);if(De||(u[Ne]=De=new re(u)),v=De.add(m,v,w,ne,B),v.proxy)return v;if(w=qi(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)j||(L=ne),L===void 0&&(L=!1),u.addEventListener(m.toString(),w,L);else if(u.attachEvent)u.attachEvent(Mn(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qi(){function u(v){return m.call(u.src,u.listener,v)}const m=bs;return u}function vs(u,m,v,w,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)vs(u,m[B],v,w,L);else w=g(w)?!!w.capture:!!w,v=Tr(v),u&&u[Et]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=fe(m,v,w,L),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Hi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=fe(m,v,w,L)),(v=u>-1?m[u]:null)&&$n(v))}function $n(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])we(m.i,u);else{var v=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(v,w,u.capture):m.detachEvent?m.detachEvent(Mn(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=Hi(m))?(we(v,u),v.h==0&&(v.src=null,m[Ne]=null)):de(u)}}}function Mn(u){return u in Tt?Tt[u]:Tt[u]="on"+u}function bs(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,w=u.ha||u.src;u.fa&&$n(u),u=v.call(w,m)}return u}function Hi(u){return u=u[Ne],u instanceof re?u:null}var Es="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tr(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(m){return u.handleEvent(m)}),u[Es])}function gt(){M.call(this),this.i=new re(this),this.M=this,this.G=null}S(gt,M),gt.prototype[Et]=!0,gt.prototype.removeEventListener=function(u,m,v,w){vs(this,u,m,v,w)};function wt(u,m){var v,w=u.G;if(w)for(v=[];w;w=w.G)v.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(w,u),se(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=di(B,w,!0,m)&&L;if(B=m.g=u,L=di(B,w,!0,m)&&L,L=di(B,w,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=di(B,w,!1,m)&&L}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let w=0;w<v.length;w++)de(v[w]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,v,w){return this.i.add(String(u),m,!1,v,w)},gt.prototype.K=function(u,m,v,w){return this.i.add(String(u),m,!0,v,w)};function di(u,m,v,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const De=ne.listener,St=ne.ha||ne.src;ne.fa&&we(u.i,ne),L=De.call(St,w)!==!1&&L}}return L&&!w.defaultPrevented}function ca(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fi(u){u.g=ca(()=>{u.g=null,u.i&&(u.i=!1,Fi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(u){M.call(this),this.h=u,this.g={}}S(Vn,M);var Ts=[];function Gi(u){Ie(u.g,function(m,v){this.g.hasOwnProperty(v)&&$n(m)},u),u.g={}}Vn.prototype.N=function(){Vn.Z.N.call(this),Gi(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,Yi=d.JSON.parse,jn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ha(){}function fa(){}var wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){D.call(this,"d")}S(Pt,D);function J(){D.call(this,"c")}S(J,D);var te={},oe=null;function ye(){return oe=oe||new gt}te.Ia="serverreachability";function ct(u){D.call(this,te.Ia,u)}S(ct,D);function tt(u){const m=ye();wt(m,new ct(m))}te.STAT_EVENT="statevent";function ot(u,m){D.call(this,te.STAT_EVENT,u),this.stat=m}S(ot,D);function Ke(u){const m=ye();wt(m,new ot(m,u))}te.Ja="timingevent";function fn(u,m){D.call(this,te.Ja,u),this.size=m}S(fn,D);function ln(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function un(){this.g=!0}un.prototype.ua=function(){this.g=!1};function zh(u,m,v,w,L,B){u.info(function(){if(u.g)if(B){var ne="",De=B.split("&");for(let Xe=0;Xe<De.length;Xe++){var St=De[Xe].split("=");if(St.length>1){const pt=St[0];St=St[1];const zn=pt.split("_");ne=zn.length>=2&&zn[1]=="type"?ne+(pt+"="+St+"&"):ne+(pt+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function lu(u,m,v,w,L,B,ne){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function mi(u,m,v,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,v)+(w?" "+w:"")})}function wr(u,m){u.info(function(){return"TIMEOUT: "+m})}un.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<w.length;ne++)w[ne]=""}}}}return Zn(B)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function Ar(){}S(Ar,ha),Ar.prototype.g=function(){return new XMLHttpRequest},Co=new Ar;function Qi(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,w){this.j=u,this.i=m,this.l=v,this.S=w||1,this.V=new Vn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Ct={},Ht={};function gi(u,m,v){u.M=1,u.A=xr(Nt(m)),u.u=v,u.R=!0,da(u,null)}function da(u,m){u.F=Date.now(),pi(u),u.B=Nt(u.A);var v=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ya(v.i,"t",w),u.C=0,v=u.j.L,u.h=new Wn,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Lt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ts[0]=L.toString()),L=Ts);for(let B=0;B<L.length;B++){const ne=ut(v,L[B],w||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),tt(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const De=ni(this.g),St=this.g.ya(),Xe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||De!=4||St==7||(St==8||Xe<=0?tt(3):tt(2)),yi(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var B=w;break t}}B=null}if(u=B)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Ke(12),Sn(this),Ln(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=hu(this,v),pt==Ht){De==4&&(this.m=4,Ke(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Ct){this.m=4,Ke(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,pt,null),_i(this,pt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,Ke(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(ne),ne.P=!0,Ke(11))}}else mi(this.i,this.l,v,null),_i(this,v);De==4&&Sn(this),this.o&&!this.K&&(De==4?bu(this.j,this):(this.o=!1,pi(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ke(12)):(this.m=0,Ke(13)),Sn(this),Ln(this)}}}catch{}finally{}};function qh(u){if(!cu(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let v="";const w=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<w;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==w-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,w=m.indexOf(`
`,v);return w==-1?Ht:(v=Number(m.substring(v,w)),isNaN(v)?Ct:(w+=1,w+v>m.length?Ht:(m=m.slice(w,w+v),u.C=w+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Sn(this)};function pi(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ln(_(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(tt(),Ke(17)),Sn(this),this.m=2,Ln(this)):ma(this,this.T-u)};function Ln(u){u.j.I==0||u.K||bu(u.j,u)}function Sn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Gi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||bi(v.h,u))){if(!u.L&&bi(v.h,u)&&v.I==3){try{var w=v.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ta(v),Ns(v);else break e;Or(v),Ke(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ln(_(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&Ta(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Xe=L[m];const pt=Xe[0];if(!(pt<=v.K))if(v.K=pt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const zn=Xe[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ri=Xe[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ii=Xe[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const si=u.g;if(si){const Mr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var B=w.h;B.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Do(B,B.h),B.h=null))}if(w.G){const wa=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(w.wa=wa,Je(w.J,w.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ne=u;if(w.na=wu(w,w.L?w.ba:null,w.W),ne.L){ko(w.h,ne);var De=ne,St=w.O;St&&(De.H=St),De.D&&(yi(De),pi(De)),w.g=ne}else _u(w);v.i.length>0&&Ai(v)}else Xe[0]!="stop"&&Xe[0]!="close"||xi(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?xi(v,7):Bo(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}tt(4)}catch{}}var It=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function bi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function ko(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const w=u[v].indexOf("=");let L,B=null;w>=0?(L=u[v].substring(0,w),B=u[v].substring(w+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Mo(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),ws(this,m[4]),this.h=Ei(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,pa,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Vo:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,mu)),u.join("")},An.prototype.resolve=function(u){const m=Nt(this);let v=!!u.j;v?Ft(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var w=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const De=L[ne++];De=="."?w&&ne==L.length&&B.push(""):De==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),w&&ne==L.length&&B.push("")):(B.push(De),w=!0)}w=B.join("/")}else w=L}return v?m.h=w:v=u.i.toString()!=="",v?Mo(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Nt(u){return new An(u)}function Ft(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Mo(u,m,v){m instanceof As?(u.i=m,_a(u.i,u.l)):(v||(m=Rr(m,Ss)),u.i=new As(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function xr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,du=/[#\?:]/g,Vo=/[#\?]/g,Ss=/[#\?@]/g,mu=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=As.prototype,s.add=function(u,m){mn(this),this.i=null,u=xs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){mn(u),m=xs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jo(u,m){return mn(u),m=xs(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(v,w){v.forEach(function(L){u.call(m,L,w,this)},this)},this)};function Lo(u,m){mn(u);let v=[];if(typeof m=="string")jo(u,m)&&(v=v.concat(u.g.get(xs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return mn(this),this.i=null,u=xs(this,u),jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function ya(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(xs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var v=m[w];const L=Qi(v);v=Lo(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+Qi(v[B])),u.push(ne)}}return this.i=u.join("&")};function pu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function xs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _a(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,w){const L=w.toLowerCase();w!=L&&(gu(this,w),ya(this,L,v))},u)),u.j=m}function ei(u,m){const v=new un;if(d.Image){const w=new Image;w.onload=T(Pn,v,"TestLoadImage: loaded",!0,m,w),w.onerror=T(Pn,v,"TestLoadImage: error",!1,m,w),w.onabort=T(Pn,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(Pn,v,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Po(u,m){const v=new un,w=new AbortController,L=setTimeout(()=>{w.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(B=>{clearTimeout(L),B.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(v)}catch{}}function Rs(){this.g=new jn}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ti,ha),Ti.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cr,gt),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ti(this),this.readyState==3&&va(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ti(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Ie(u,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Un(v),typeof u=="string"?v!=null&&Qi(v):Je(u,m,v))}function nt(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(nt,gt);var wi=/^https?$/i,Uo=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)v.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const B of w.keys())v.set(B,w.get(B));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||w||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),Ki(u)}function zo(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,wt(this,"complete"),wt(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(wt(u,"readystatechange"),ni(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=B===0){let ne=String(u.D).match(fu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),w=!wi.test(ne?ne.toLowerCase():"")}v=w}if(v)wt(u,"complete"),wt(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zo(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||wt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Yi(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var v=uu(u[w]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ge(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,w){Ke(0),this.W=u,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=wu(this,null,this.W),Ai(this)};function Bo(u){if(ba(u),u.I==3){var m=u.V++,v=Nt(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),kr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=xr(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}Tu(u)}function Ns(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function ba(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;Le||A(),Re||(Le(),Re=!0),I.add(m,u),u.D=0}}function Ea(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ln(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),se(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,L,m),v=Nt(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),kr(this,v),B&&(this.R?m="headers="+Qi(Un(B))+"&"+m:this.u&&Ir(v,this.u,B)),Do(this.h,L),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),L.U=!0,gi(L,v,null)):gi(L,v,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||No(this.h)||qo(this))};function qo(u,m){var v;m?v=m.l:v=u.V++;const w=Nt(u.J);Je(w,"SID",u.M),Je(w,"RID",v),Je(w,"AID",u.K),kr(u,w),u.u&&u.o&&Ir(w,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),gi(v,w,m)}function kr(u,m){u.H&&Ie(u.H,function(v,w){Je(m,w,v)}),u.l&&Ie({},function(v,w){Je(m,w,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const w=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let De=-1;for(;;){const St=["count="+v];De==-1?v>0?(De=L[0].g,St.push("ofs="+De)):De=0:St.push("ofs="+De);let Xe=!0;for(let pt=0;pt<v;pt++){var B=L[pt].g;const zn=L[pt].map;if(B-=De,B<0)De=Math.max(0,L[pt].g-100),Xe=!1;else try{B="req"+B+"_"||"";try{var ne=zn instanceof Map?zn:Object.entries(zn);for(const[Ri,ii]of ne){let si=ii;g(ii)&&(si=Zn(ii)),St.push(B+Ri+"="+encodeURIComponent(si))}}catch(Ri){throw St.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{w&&w(zn)}}if(Xe){ne=St.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Le||A(),Re||(Le(),Re=!0),I.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ln(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ln(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ke(10),Ns(this),vu(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=xr(Nt(m)),v.u=null,v.R=!0,da(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),Or(this),Ke(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){Ta(u),Ho(u),u.g=null;var w=2}else if(bi(u.h,m))v=m.G,ko(u.h,m),w=1;else return;if(u.I!=0){if(m.o)if(w==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;w=ye(),wt(w,new fn(w,v)),Ai(u)}else _u(u);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&Ea(u,m)||w==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),w=u.Ua;const L=!w;w=new An(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(w,"https"),xr(w),L?ei(w.toString(),v):Po(w.toString(),v)}else Ke(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Oo(u.h);(m.length!=0||u.i.length!=0)&&(q(u.ja,m),q(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var w=v instanceof An?Nt(v):new An(v);if(w.g!="")m&&(w.g=m+"."+w.g),ws(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new An(null);w&&Ft(B,w),m&&(B.g=m),L&&ws(B,L),v&&(B.h=v),w=B}return v=u.G,m=u.wa,v&&m&&Je(w,v,m),Je(w,"VER",u.ka),kr(u,w),w}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new Ti({ab:v})):new nt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){gt.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(cn,gt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bo(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Zn(u),u=v);m.i.push(new It(m.Ya++,u)),m.I==3&&Ai(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,cn.Z.N.call(this)};function xu(u){Pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,Pt);function Ru(){J.call(this),this.status=1}S(Ru,J);function $i(u){this.g=u}S($i,Au),$i.prototype.ra=function(){wt(this.g,"a")},$i.prototype.qa=function(u){wt(this.g,new xu(u))},$i.prototype.pa=function(u){wt(this.g,new Ru)},$i.prototype.oa=function(){wt(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Wv=function(){return new Ds},Jv=function(){return ye()},Zv=te,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Pc=Sr,Ro.COMPLETE="complete",$v=Ro,fa.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Nl=fa,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,Xv=nt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.9.2";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Eo="12.3.0";const ia=new km("@firebase/firestore");function Wa(){return ia.logLevel}function ae(s,...e){if(ia.logLevel<=ze.DEBUG){const i=e.map(jm);ia.debug(`Firestore (${Eo}): ${s}`,...i)}}function gs(s,...e){if(ia.logLevel<=ze.ERROR){const i=e.map(jm);ia.error(`Firestore (${Eo}): ${s}`,...i)}}function co(s,...e){if(ia.logLevel<=ze.WARN){const i=e.map(jm);ia.warn(`Firestore (${Eo}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,e1(s,r,i)}function e1(s,e,i){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw gs(r),new Error(r)}function Ze(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||e1(e,l,r)}function xe(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends _s{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class t1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class YS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class QS{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let c=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Jr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Jr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new t1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class KS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new KS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $S{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const r=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new d_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=ZS(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Be(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Kd(l)===Kd(c)?Be(l,c):Kd(l)?1:-1}return Be(s.length,e.length)}const JS=55296,WS=57343;function Kd(s){const e=s.charCodeAt(0);return e>=JS&&e<=WS}function ho(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const m_="__name__";class ki{constructor(e,i,r){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Te(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=ki.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const r=ki.isNumericId(e),l=ki.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?ki.extractNumericId(e).compare(ki.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class dt extends ki{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const eA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ki{construct(e,i,r){return new en(e,i,r)}static isValidIdentifier(e){return eA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new en([m_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(i)}static emptyPath(){return new en([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(dt.fromString(e))}static fromName(e){return new _e(dt.fromString(e).popFirst(5))}static empty(){return new _e(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new dt(e.slice()))}}function n1(s,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function tA(s,e,i,r){if(e===!0&&r===!0)throw new he(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g_(s){if(!_e.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function p_(s){if(_e.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function i1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Pm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function cr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(s);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!i1(s))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const y_=-62135596800,__=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*__);return new mt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<y_)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:jt("string",mt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new mt(0,0))}static max(){return new Se(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function nA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(r===1e9?new mt(i+1,0):new mt(i,r));return new dr(l,_e.empty(),e)}function iA(s){return new dr(s.readTime,s.key,Hl)}class dr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(Se.min(),_e.empty(),Hl)}static max(){return new dr(Se.max(),_e.empty(),Hl)}}function sA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const rA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function To(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==rA)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>r(p)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function oA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_h.ce=-1;const Um=-1;function vh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function lA(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const s1="";function uA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=v_(e)),e=cA(s.get(i),e);return v_(e)}function cA(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case s1:i+="";break;default:i+=c}}return i}function v_(s){return s+s1+""}function b_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function r1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||Wt.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Wt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Wt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new On([])}unionWith(e){let i=new qt(en.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new a1("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const hA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const i=hA.exec(s);if(Ze(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const o1="server_timestamp",l1="__type__",u1="__previous_value__",c1="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[l1]?.stringValue===o1}function bh(s){const e=s.mapValue.fields[u1];return zm(e)?bh(e):e}function Fl(s){const e=mr(s.mapValue.fields[c1].timestampValue);return new mt(e.seconds,e.nanos)}class fA{constructor(e,i,r,l,c,d,g,p,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Zc="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||Zc}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}const h1="__type__",dA="__max__",Oc={mapValue:{}},f1="__vector__",Jc="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:gA(s)?9007199254740991:mA(s)?10:11:Te(28295,{value:s})}function Ui(s,e){if(s===e)return!0;const i=pr(s);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fl(s).isEqual(Fl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),g=mr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return gr(l.bytesValue).isEqual(gr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Rt(l.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(l.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Rt(l.integerValue)===Rt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Rt(l.doubleValue),g=Rt(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ho(s.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(b_(d)!==b_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ui(d[p],g[p])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find((i=>Ui(i,e)))!==void 0}function fo(s,e){if(s===e)return 0;const i=pr(s),r=pr(e);if(i!==r)return Be(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Rt(c.integerValue||c.doubleValue),p=Rt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return T_(s.timestampValue,e.timestampValue);case 4:return T_(Fl(s),Fl(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=gr(c),p=gr(d);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Be(g[_],p[_]);if(T!==0)return T}return Be(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Be(Rt(c.latitude),Rt(d.latitude));return g!==0?g:Be(Rt(c.longitude),Rt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return w_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},p=d.fields||{},_=g[Jc]?.arrayValue,T=p[Jc]?.arrayValue,S=Be(_?.values?.length||0,T?.values?.length||0);return S!==0?S:w_(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const N=um(p[S],T[S]);if(N!==0)return N;const F=fo(g[p[S]],_[T[S]]);if(F!==0)return F}return Be(p.length,T.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function T_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=mr(s),r=mr(e),l=Be(i.seconds,r.seconds);return l!==0?l:Be(i.nanos,r.nanos)}function w_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=fo(i[l],r[l]);if(c)return c}return Be(i.length,r.length)}function mo(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return gr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=cm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Uc(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return vr(r.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function hm(s){return!!s&&"integerValue"in s}function Bm(s){return!!s&&"arrayValue"in s}function S_(s){return!!s&&"nullValue"in s}function A_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function mA(s){return(s?.mapValue?.fields||{})[h1]?.stringValue===f1}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=jl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(s.arrayValue.values[i]);return e}return{...s}}function gA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===dA}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=en.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=jl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){vr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new En(jl(this.value))}}function d1(s){const e=[];return vr(s.fields,((i,r)=>{const l=new en([i]);if(zc(r)){const c=d1(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new On(e)}class an{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),En.empty(),0)}static newFoundDocument(e,i,r,l){return new an(e,1,i,Se.min(),r,l,0)}static newNoDocument(e,i){return new an(e,2,i,Se.min(),Se.min(),En.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,Se.min(),Se.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function x_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=fo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function R_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],e.position[i]))return!1;return!0}class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function pA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class m1{}class zt extends m1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new _A(e,i,r):i==="array-contains"?new EA(e,r):i==="in"?new TA(e,r):i==="not-in"?new wA(e,r):i==="array-contains-any"?new SA(e,r):new zt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new vA(e,r):new bA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends m1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new zi(e,i)}matches(e){return g1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g1(s){return s.op==="and"}function p1(s){return yA(s)&&g1(s)}function yA(s){for(const e of s.filters)if(e instanceof zi)return!1;return!0}function fm(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(p1(s))return s.filters.map((e=>fm(e))).join(",");{const e=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${e})`}}function y1(s,e){return s instanceof zt?(function(r,l){return l instanceof zt&&r.op===l.op&&r.field.isEqual(l.field)&&Ui(r.value,l.value)})(s,e):s instanceof zi?(function(r,l){return l instanceof zi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&y1(d,l.filters[g])),!0):!1})(s,e):void Te(19439)}function _1(s){return s instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(s):s instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(_1).join(" ,")+"}"})(s):"Filter"}class _A extends zt{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class vA extends zt{constructor(e,i){super(e,"in",i),this.keys=v1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class bA extends zt{constructor(e,i){super(e,"not-in",i),this.keys=v1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function v1(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class EA extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bm(i)&&Yl(i.arrayValue,this.value)}}class TA extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class wA extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class SA extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}class AA{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function C_(s,e=null,i=[],r=[],l=null,c=null,d=null){return new AA(s,e,i,r,l,c,d)}function qm(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>fm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>mo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>mo(r))).join(",")),e.Te=i}return e.Te}function Hm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!pA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!y1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!R_(s.startAt,e.startAt)&&R_(s.endAt,e.endAt)}function dm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xA(s,e,i,r,l,c,d,g){return new Eh(s,e,i,r,l,c,d,g)}function Fm(s){return new Eh(s)}function I_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RA(s){return s.collectionGroup!==null}function Ll(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qt(en.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,r))})),i.has(en.keyField().canonicalString())||e.Ie.push(new eh(en.keyField(),r))}return e.Ie}function Oi(s){const e=xe(s);return e.Ee||(e.Ee=CA(e,Ll(s))),e.Ee}function CA(s,e){if(s.limitType==="F")return C_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return C_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function mm(s,e,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Th(s,e){return Hm(Oi(s),Oi(e))&&s.limitType===e.limitType}function b1(s){return`${qm(Oi(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>_1(l))).join(", ")}]`),vh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${r})`})(Oi(s))}; limitType=${s.limitType})`}function wh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Ll(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,p){const _=x_(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,Ll(r),l)||r.endAt&&!(function(d,g,p){const _=x_(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,Ll(r),l))})(s,e)}function IA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function E1(s){return(e,i)=>{let r=!1;for(const l of Ll(s)){const c=NA(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function NA(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?fo(p,_):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return r1(this.inner)}size(){return this.innerSize}}const DA=new _t(_e.comparator);function ps(){return DA}const T1=new _t(_e.comparator);function Dl(...s){let e=T1;for(const i of s)e=e.insert(i.key,i);return e}function w1(s){let e=T1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Zr(){return Pl()}function S1(){return Pl()}function Pl(){return new oa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const kA=new _t(_e.comparator),OA=new qt(_e.comparator);function qe(...s){let e=OA;for(const i of s)e=e.add(i);return e}const MA=new qt(Be);function VA(){return MA}function Gm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function A1(s){return{integerValue:""+s}}function jA(s,e){return lA(e)?A1(e):Gm(s,e)}class Sh{constructor(){this._=void 0}}function LA(s,e,i){return s instanceof th?(function(l,c){const d={fields:{[l1]:{stringValue:o1},[c1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=bh(c)),c&&(d.fields[u1]=c),{mapValue:d}})(i,e):s instanceof Ql?R1(s,e):s instanceof Kl?C1(s,e):(function(l,c){const d=x1(l,c),g=N_(d)+N_(l.Ae);return hm(d)&&hm(l.Ae)?A1(g):Gm(l.serializer,g)})(s,e)}function PA(s,e,i){return s instanceof Ql?R1(s,e):s instanceof Kl?C1(s,e):i}function x1(s,e){return s instanceof nh?(function(r){return hm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class th extends Sh{}class Ql extends Sh{constructor(e){super(),this.elements=e}}function R1(s,e){const i=I1(e);for(const r of s.elements)i.some((l=>Ui(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Kl extends Sh{constructor(e){super(),this.elements=e}}function C1(s,e){let i=I1(e);for(const r of s.elements)i=i.filter((l=>!Ui(l,r)));return{arrayValue:{values:i}}}class nh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function N_(s){return Rt(s.integerValue||s.doubleValue)}function I1(s){return Bm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function UA(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Ql&&l instanceof Ql||r instanceof Kl&&l instanceof Kl?ho(r.elements,l.elements,Ui):r instanceof nh&&l instanceof nh?Ui(r.Ae,l.Ae):r instanceof th&&l instanceof th})(s.transform,e.transform)}class zA{constructor(e,i){this.version=e,this.transformResults=i}}class hi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ah{}function N1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,hi.none()):new tu(s.key,s.data,hi.none());{const i=s.data,r=En.empty();let l=new qt(en.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new br(s.key,r,new On(l.toArray()),hi.none())}}function BA(s,e,i){s instanceof tu?(function(l,c,d){const g=l.value.clone(),p=k_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=k_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(D1(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ul(s,e,i,r){return s instanceof tu?(function(c,d,g,p){if(!Bc(c.precondition,d))return g;const _=c.value.clone(),T=O_(c.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof br?(function(c,d,g,p){if(!Bc(c.precondition,d))return g;const _=O_(c.fieldTransforms,p,d),T=d.data;return T.setAll(D1(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function qA(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=x1(r.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(r.field,c))}return i||null}function D_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ho(r,l,((c,d)=>UA(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends Ah{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends Ah{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function D1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function k_(s,e,i){const r=new Map;Ze(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,PA(d,g,i[l]))}return r}function O_(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,LA(c,d,e))}return r}class Ym extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HA extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FA{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&BA(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ul(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ul(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=S1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=N1(d,g);p!==null&&r.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((i,r)=>D_(i,r)))&&ho(this.baseMutations,e.baseMutations,((i,r)=>D_(i,r)))}}class Qm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return kA})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Qm(e,i,r,l)}}class GA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Vt,Fe;function QA(s){switch(s){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function k1(s){if(s===void 0)return gs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Vt.OK:return Z.OK;case Vt.CANCELLED:return Z.CANCELLED;case Vt.UNKNOWN:return Z.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Z.INTERNAL;case Vt.UNAVAILABLE:return Z.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Z.NOT_FOUND;case Vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Vt.ABORTED:return Z.ABORTED;case Vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Vt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:s})}}(Fe=Vt||(Vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function KA(){return new TextEncoder}const XA=new ur([4294967295,4294967295],0);function M_(s){const e=KA().encode(s),i=new Kv;return i.update(e),new Uint8Array(i.digest())}function V_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ur([i,r],0),new ur([l,c],0)]}class Km{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ur.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(ur.fromNumber(r)));return l.compare(XA)===1&&(l=new ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=M_(e),[r,l]=V_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=M_(e),[r,l]=V_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new xh(Se.min(),l,new _t(Be),ps(),qe())}}class nu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new nu(r,i,qe(),qe(),qe())}}class qc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class O1{constructor(e,i){this.targetId=e,this.Ce=i}}class M1{constructor(e,i,r=tn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class j_{constructor(){this.ve=0,this.Fe=L_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),r=qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Te(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=L_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $A{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=Mc(),this.He=Mc(),this.Ye=new _t(Be)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(r===0){const d=new _e(c.path);this.et(i,d,an.newNoDocument(d,Se.min()))}else Ze(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=gr(r).toUint8Array()}catch(p){if(p instanceof a1)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Km(d,l,c)}catch(p){return co(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const p=new _e(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,an.newNoDocument(p,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=qe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new xh(e,i,this.Ye,this.je,r);return this.je=ps(),this.Je=Mc(),this.He=Mc(),this.Ye=new _t(Be),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new j_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qt(Be),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qt(Be),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new _t(_e.comparator)}function L_(){return new _t(_e.comparator)}const ZA={asc:"ASCENDING",desc:"DESCENDING"},JA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WA={and:"AND",or:"OR"};class ex{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||vh(e)?e:{value:e}}function ih(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function tx(s,e){return ih(s,e.toTimestamp())}function Mi(s){return Ze(!!s,49232),Se.fromTimestamp((function(i){const r=mr(i);return new mt(r.seconds,r.nanos)})(s))}function Xm(s,e){return pm(s,e).canonicalString()}function pm(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function j1(s){const e=dt.fromString(s);return Ze(B1(e),10190,{key:e.toString()}),e}function ym(s,e){return Xm(s.databaseId,e.path)}function Xd(s,e){const i=j1(e);if(i.get(1)!==s.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(P1(i))}function L1(s,e){return Xm(s.databaseId,e)}function nx(s){const e=j1(s);return e.length===4?dt.emptyPath():P1(e)}function _m(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function P1(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function P_(s,e,i){return{name:ym(s,e),fields:i.value.mapValue.fields}}function ix(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Ze(T===void 0||typeof T=="string",58123),tn.fromBase64String(T||"")):(Ze(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),tn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?Z.UNKNOWN:k1(_.code);return new he(T,_.message||"")})(d);i=new M1(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Xd(s,r.document.name),c=Mi(r.document.updateTime),d=r.document.createTime?Mi(r.document.createTime):Se.min(),g=new En({mapValue:{fields:r.document.fields}}),p=an.newFoundDocument(l,c,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];i=new qc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Xd(s,r.document),c=r.readTime?Mi(r.readTime):Se.min(),d=an.newNoDocument(l,c),g=r.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Xd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new YA(l,c),g=r.targetId;i=new O1(g,d)}}return i}function sx(s,e){let i;if(e instanceof tu)i={update:P_(s,e.key,e.value)};else if(e instanceof Ym)i={delete:ym(s,e.key)};else if(e instanceof br)i={update:P_(s,e.key,e.data),updateMask:dx(e.fieldMask)};else{if(!(e instanceof HA))return Te(16599,{Vt:e.type});i={verify:ym(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:tx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function rx(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(Se.min())&&(d=Mi(c)),new zA(d,l.transformResults||[])})(i,e)))):[]}function ax(s,e){return{documents:[L1(s,e.path)]}}function ox(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=L1(s,l);const c=(function(_){if(_.length!==0)return z1(zi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:to(N.field),direction:cx(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function lx(s){let e=nx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ze(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const N=U1(S);return N instanceof zi&&p1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(q){return new eh(no(q.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,vh(N)?null:N})(i.limit));let p=null;i.startAt&&(p=(function(S){const N=!!S.before,F=S.values||[];return new Wc(F,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,F=S.values||[];return new Wc(F,N)})(i.endAt)),xA(e,l,d,c,g,"F",p,_)}function ux(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function U1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=no(i.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=no(i.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=no(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=no(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return zt.create(no(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((r=>U1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function cx(s){return ZA[s]}function hx(s){return JA[s]}function fx(s){return WA[s]}function to(s){return{fieldPath:s.canonicalString()}}function no(s){return en.fromServerFormat(s.fieldPath)}function z1(s){return s instanceof zt?(function(i){if(i.op==="=="){if(A_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NAN"}};if(S_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(A_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NAN"}};if(S_(i.value))return{unaryFilter:{field:to(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(i.field),op:hx(i.op),value:i.value}}})(s):s instanceof zi?(function(i){const r=i.getFilters().map((l=>z1(l)));return r.length===1?r[0]:{compositeFilter:{op:fx(i.op),filters:r}}})(s):Te(54877,{filter:s})}function dx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function B1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class rr{constructor(e,i,r,l,c=Se.min(),d=Se.min(),g=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mx{constructor(e){this.yt=e}}function gx(s){const e=lx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(e,e.limit,"L"):e}class px{constructor(){this.Cn=new yx}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(dr.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class yx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new qt(dt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new qt(dt.comparator)).toArray()}}const U_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(q1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const z_="LruGarbageCollector",_x=1048576;function B_([s,e],[i,r]){const l=Be(s,i);return l===0?Be(e,r):l}class vx{constructor(e){this.Ir=e,this.buffer=new qt(B_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();B_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bx{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?ae(z_,"Ignoring IndexedDB error during garbage collection: ",i):await To(i)}await this.Vr(3e5)}))}}class Ex{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(_h.ce);const r=new vx(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(U_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),Wa()<=ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Tx(s,e){return new Ex(s,e)}class wx{constructor(){this.changes=new oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Ax{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ul(r.mutation,l,On.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=qe()){const l=Zr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Dl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Zr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,qe())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=ps();const d=Pl(),g=(function(){return Pl()})();return i.forEach(((p,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof br)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Ul(T.mutation,_,T.mutation.getFieldMask(),mt.now())):d.set(_.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new Sx(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Pl();let l=new _t(((d,g)=>d-g)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=r.get(p)||On.empty();T=g.applyToLocalView(_,T),r.set(p,T);const S=(l.get(g.batchId)||qe()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,S=S1();T.forEach((N=>{if(!c.has(N)){const F=N1(i.get(N),r.get(N));F!==null&&S.set(N,F),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):RA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(Zr());let g=Hl,p=c;return d.next((_=>$.forEach(_,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,p,_,qe()))).next((T=>({batchId:g,changes:w1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let l=Dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(p=>{const _=(function(S,N){return new Eh(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,an.newInvalidDocument(T)))}));let g=Dl();return d.forEach(((p,_)=>{const T=c.get(p);T!==void 0&&Ul(T.mutation,_,On.empty(),mt.now()),wh(i,_)&&(g=g.insert(p,_))})),g}))}}class xx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:gx(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),$.resolve()}}class Rx{constructor(){this.overlays=new _t(_e.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Zr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=Zr(),c=i.length+1,d=new _e(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new _t(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=Zr(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Zr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return $.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new GA(i,r));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Cx{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class $m{constructor(){this.Qr=new qt(Yt.$r),this.Ur=new qt(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Yt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Yt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _e(new dt([])),r=new Yt(i,e),l=new Yt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new dt([])),r=new Yt(i,e),l=new Yt(i,e+1);let c=qe();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Yt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Be(e.Yr,i.Yr)}static Kr(e,i){return Be(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class Ix{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Yt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FA(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Yt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qt(Be);return i.forEach((l=>{const c=new Yt(l,0),d=new Yt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new Yt(new _e(c),0);let g=new qt(Be);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Yt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Yt(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Nx{constructor(e){this.ri=e,this.docs=(function(){return new _t(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let r=ps();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=ps();const d=i.path,g=new _e(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||sA(iA(T),r)<=0||(l.has(T.key)||wh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Te(9500)}ii(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Dx(this)}getSize(e){return $.resolve(this.size)}}class Dx extends wx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class kx{constructor(e){this.persistence=e,this.si=new oa((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new go(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class H1{constructor(e,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new Cx,this.referenceDelegate=e(this),this.Pi=new kx(this),this.indexManager=new px,this.remoteDocumentCache=(function(l){return new Nx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mx(i),this.Ii=new xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Rx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Ix(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ae("MemoryPersistence","Starting transaction:",e);const l=new Ox(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Ox extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=_e.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.pi=new oa((r=>uA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Tx(this,i)}static mi(e,i){return new sh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,r){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=qe(),l=qe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,r,l)}}class Mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Vx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return S2()?8:oA(on())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Mx;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Wa()<=ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Wa()<=ze.DEBUG&&ae("QueryEngine","Query:",eo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Wa()<=ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(i))):$.resolve())}ys(e,i){if(I_(i))return $.resolve(null);let r=Oi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),r=Oi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(e,mm(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,r,l){return I_(i)||l.isEqual(Se.min())?$.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Wa()<=ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.vs(e,d,i,nA(l,Hl)).next((g=>g)))}))}Ds(e,i){let r=new qt(E1(e));return i.forEach(((l,c)=>{wh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Wa()<=ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",eo(i)),this.ps.getDocumentsMatchingQuery(e,i,dr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",jx=3e8;class Lx{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new _t(Be),this.xs=new oa((c=>qm(c)),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ax(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Px(s,e,i,r){return new Lx(s,e,i,r)}async function F1(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let p=qe();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Ux(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const S=_.batch,N=S.keys();let F=$.resolve();return N.forEach((q=>{F=F.next((()=>T.getEntry(p,q))).next((ee=>{const W=_.docVersions.get(q);Ze(W!==null,48541),ee.version.compareTo(W)<0&&(S.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),T.addEntry(ee)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=qe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function G1(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function zx(s,e){const i=xe(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let F=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,r)),l=l.insert(S,F),(function(ee,W,ge){return ee.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=jx?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(N,F,T)&&g.push(i.Pi.updateTargetData(c,F))}));let p=ps(),_=qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(Bx(c,d,e.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!r.isEqual(Se.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,_))).next((()=>p))})).then((c=>(i.Ms=l,c)))}function Bx(s,e,i){let r=qe(),l=qe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ps();return i.forEach(((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ae(Wm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function qx(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hx(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new rr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function vm(s,e,i){const r=xe(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;ae(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function q_(s,e,i){const r=xe(s);let l=Se.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const S=xe(p),N=S.xs.get(T);return N!==void 0?$.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,T)})(r,d,Oi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:qe()))).next((g=>(Fx(r,IA(e),g),{documents:g,Qs:c})))))}function Fx(s,e,i){let r=s.Os.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class H_{constructor(){this.activeTargetIds=VA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gx{constructor(){this.Mo=new H_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yx{Oo(e){}shutdown(){}}const F_="ConnectivityMonitor";class G_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(F_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function bm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const $d="RestConnection",Qx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=bm(),g=this.zo(e,i.toUriEncodedString());ae($d,`Sending RPC '${e}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),T=vo(_);return this.Jo(e,g,p,r,T).then((S=>(ae($d,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw co($d,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=Qx[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Xx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class $x extends Kx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=bm();return new Promise(((g,p)=>{const _=new Xv;_.setWithCredentials(!0),_.listenOnce($v.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const S=_.getResponseJson();ae(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Pc.TIMEOUT:ae(sn,`RPC '${e}' ${d} timed out`),p(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const N=_.getStatus();if(ae(sn,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const q=F?.error;if(q&&q.status&&q.message){const ee=(function(ge){const ve=ge.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ve)>=0?ve:Z.UNKNOWN})(q.status);p(new he(ee,q.message))}else p(new he(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new he(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(sn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ae(sn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Wv(),g=Jv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const T=c.join("");ae(sn,`Creating RPC '${e}' stream ${l}: ${T}`,p);const S=d.createWebChannel(T,p);this.I_(S);let N=!1,F=!1;const q=new Xx({Yo:W=>{F?ae(sn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(N||(ae(sn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),N=!0),ae(sn,`RPC '${e}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),ee=(W,ge,ve)=>{W.listen(ge,(le=>{try{ve(le)}catch(Ce){setTimeout((()=>{throw Ce}),0)}}))};return ee(S,Nl.EventType.OPEN,(()=>{F||(ae(sn,`RPC '${e}' stream ${l} transport opened.`),q.o_())})),ee(S,Nl.EventType.CLOSE,(()=>{F||(F=!0,ae(sn,`RPC '${e}' stream ${l} transport closed`),q.a_(),this.E_(S))})),ee(S,Nl.EventType.ERROR,(W=>{F||(F=!0,co(sn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),q.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Nl.EventType.MESSAGE,(W=>{if(!F){const ge=W.data[0];Ze(!!ge,16349);const ve=ge,le=ve?.error||ve[0]?.error;if(le){ae(sn,`RPC '${e}' stream ${l} received error:`,le);const Ce=le.status;let Le=(function(A){const x=Vt[A];if(x!==void 0)return k1(x)})(Ce),Re=le.message;Le===void 0&&(Le=Z.INTERNAL,Re="Unknown error status: "+Ce+" with message "+le.message),F=!0,q.a_(new he(Le,Re)),S.close()}else ae(sn,`RPC '${e}' stream ${l} received:`,ge),q.u_(ge)}})),ee(g,Zv.STAT_EVENT,(W=>{W.stat===lm.PROXY?ae(sn,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===lm.NOPROXY&&ae(sn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}function Rh(s){return new ex(s,!0)}class Y1{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Y_="PersistentStream";class Q1{constructor(e,i,r,l,c,d,g,p){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new he(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zx extends Q1{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=ix(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Mi(d.readTime):Se.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=dm(p)?{documents:ax(c,p)}:{query:ox(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=V1(c,d.resumeToken);const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=gm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=ux(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=_m(this.serializer),i.removeTarget=e,this.q_(i)}}class Jx extends Q1{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=rx(e.writeResults,e.commitTime),r=Mi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=_m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>sx(this.serializer,r)))};this.q_(i)}}class Wx{}class eR extends Wx{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,pm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class tR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class nR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{la(this)&&(ae(sa,"Restarting streams for network reachability change."),await(async function(p){const _=xe(p);_.Ea.add(4),await iu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new tR(r,l)}}async function Ch(s){if(la(s))for(const e of s.da)await e(!0)}async function iu(s){for(const e of s.da)await e(!1)}function K1(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ig(i)?ng(i):So(i).O_()&&tg(i,e))}function eg(s,e){const i=xe(s),r=So(i);i.Ia.delete(e),r.O_()&&X1(i,e),i.Ia.size===0&&(r.O_()?r.L_():la(i)&&i.Ra.set("Unknown"))}function tg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}So(s).Y_(e)}function X1(s,e){s.Va.Ue(e),So(s).Z_(e)}function ng(s){s.Va=new $A({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Ra.ua()}function ig(s){return la(s)&&!So(s).x_()&&s.Ia.size>0}function la(s){return xe(s).Ea.size===0}function $1(s){s.Va=void 0}async function iR(s){s.Ra.set("Online")}async function sR(s){s.Ia.forEach(((e,i)=>{tg(s,e)}))}async function rR(s,e){$1(s),ig(s)?(s.Ra.ha(e),ng(s)):s.Ra.set("Unknown")}async function aR(s,e,i){if(s.Ra.set("Online"),e instanceof M1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){ae(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(s,r)}else if(e instanceof qc?s.Va.Ze(e):e instanceof O1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Se.min()))try{const r=await G1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(tn.EMPTY_BYTE_STRING,T.snapshotVersion)),X1(c,p);const S=new rr(T.target,p,_,T.sequenceNumber);tg(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ae(sa,"Failed to raise snapshot:",r),await rh(s,r)}}async function rh(s,e,i){if(!wo(e))throw e;s.Ea.add(1),await iu(s),s.Ra.set("Offline"),i||(i=()=>G1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(sa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ch(s)}))}function Z1(s,e){return e().catch((i=>rh(s,i,e)))}async function Ih(s){const e=xe(s),i=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;oR(e);)try{const l=await qx(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,lR(e,l)}catch(l){await rh(e,l)}J1(e)&&W1(e)}function oR(s){return la(s)&&s.Ta.length<10}function lR(s,e){s.Ta.push(e);const i=yr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function J1(s){return la(s)&&!yr(s).x_()&&s.Ta.length>0}function W1(s){yr(s).start()}async function uR(s){yr(s).ra()}async function cR(s){const e=yr(s);for(const i of s.Ta)e.ea(i.mutations)}async function hR(s,e,i){const r=s.Ta.shift(),l=Qm.from(r,e,i);await Z1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ih(s)}async function fR(s,e){e&&yr(s).X_&&await(async function(r,l){if((function(d){return QA(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();yr(r).B_(),await Z1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(r)}})(s,e),J1(s)&&W1(s)}async function Q_(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),ae(sa,"RemoteStore received new credentials");const r=la(i);i.Ea.add(3),await iu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ch(i)}async function dR(s,e){const i=xe(s);e?(i.Ea.delete(2),await Ch(i)):e||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(i,r,l){const c=xe(i);return c.sa(),new Zx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:iR.bind(null,s),t_:sR.bind(null,s),r_:rR.bind(null,s),H_:aR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ig(s)?ng(s):s.Ra.set("Unknown")):(await s.ma.stop(),$1(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,r,l){const c=xe(i);return c.sa(),new Jx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:uR.bind(null,s),r_:fR.bind(null,s),ta:cR.bind(null,s),na:hR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class sg{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new sg(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(s,e){if(gs("AsyncQueue",`${e}: ${s}`),wo(s))return new he(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Dl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new so;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class K_{constructor(){this.ga=new _t(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class po{constructor(e,i,r,l,c,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new po(e,i,so.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class mR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gR{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=xe(i),c=l.queries;l.queries=X_(),c.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function X_(){return new oa((s=>b1(s)),Th)}async function pR(s,e){const i=xe(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new mR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=rg(d,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ag(i)}async function yR(s,e){const i=xe(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _R(s,e){const i=xe(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&ag(i)}function vR(s,e,i){const r=xe(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function ag(s){s.Ca.forEach((e=>{e.next()}))}var Em,$_;($_=Em||(Em={})).Ma="default",$_.Cache="cache";class bR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class ER{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=E1(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new K_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const N=l.get(T),F=wh(this.query,S)?S:null,q=!!N&&this.mutatedKeys.has(N.key),ee=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let W=!1;N&&F?N.data.isEqual(F.data)?q!==ee&&(r.track({type:3,doc:F}),W=!0):this.su(N,F)||(r.track({type:2,doc:F}),W=!0,(p&&this.eu(F,p)>0||_&&this.eu(F,_)<0)&&(g=!0)):!N&&F?(r.track({type:0,doc:F}),W=!0):N&&!F&&(r.track({type:1,doc:N}),W=!0,(p||_)&&(g=!0)),W&&(F?(d=d.add(F),c=ee?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(F,q){const ee=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:W})}};return ee(F)-ee(q)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new po(this.query,e.tu,c,d,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new tb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new eb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class TR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class wR{constructor(e){this.key=e,this.hu=!1}}class SR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((g=>b1(g)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new _t(_e.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AR(s,e,i=!0){const r=ob(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nb(r,e,i,!0),l}async function xR(s,e){const i=ob(s);await nb(i,e,!0,!1)}async function nb(s,e,i,r){const l=await Hx(s.localStore,Oi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await RR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&K1(s.remoteStore,l),g}async function RR(s,e,i,r,l){s.pu=(S,N,F)=>(async function(ee,W,ge,ve){let le=W.view.ru(ge);le.Cs&&(le=await q_(ee.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,le))));const Ce=ve&&ve.targetChanges.get(W.targetId),Le=ve&&ve.targetMismatches.get(W.targetId)!=null,Re=W.view.applyChanges(le,ee.isPrimaryClient,Ce,Le);return J_(ee,W.targetId,Re.au),Re.snapshot})(s,S,N,F);const c=await q_(s.localStore,e,!0),d=new ER(e,c.Qs),g=d.ru(c.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,p);J_(s,i,_.au);const T=new TR(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function CR(s,e,i){const r=xe(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Th(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&eg(r.remoteStore,l.targetId),Tm(r,l.targetId)})).catch(To)):(Tm(r,l.targetId),await vm(r.localStore,l.targetId,!0))}async function IR(s,e){const i=xe(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),eg(i.remoteStore,r.targetId))}async function NR(s,e,i){const r=LR(s);try{const l=await(function(d,g){const p=xe(d),_=mt.now(),T=g.reduce(((F,q)=>F.add(q.key)),qe());let S,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let q=ps(),ee=qe();return p.Ns.getEntries(F,T).next((W=>{q=W,q.forEach(((ge,ve)=>{ve.isValidDocument()||(ee=ee.add(ge))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,q))).next((W=>{S=W;const ge=[];for(const ve of g){const le=qA(ve,S.get(ve.key).overlayedDocument);le!=null&&ge.push(new br(ve.key,le,d1(le.value.mapValue),hi.exists(!0)))}return p.mutationQueue.addMutationBatch(F,_,ge,g)})).next((W=>{N=W;const ge=W.applyToLocalDocumentSet(S,ee);return p.documentOverlayCache.saveOverlays(F,W.batchId,ge)}))})).then((()=>({batchId:N.batchId,changes:w1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new _t(Be)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await su(r,l.changes),await Ih(r.remoteStore)}catch(l){const c=rg(l,"Failed to persist write");i.reject(c)}}async function ib(s,e){const i=xe(s);try{const r=await zx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ze(d.hu,14607):l.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await su(i,r,e)}catch(r){await To(r)}}function Z_(s,e,i){const r=xe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=xe(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,S)=>{for(const N of S.Sa)N.va(g)&&(_=!0)})),_&&ag(p)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DR(s,e,i){const r=xe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new _t(_e.comparator);d=d.insert(c,an.newNoDocument(c,Se.min()));const g=qe().add(c),p=new xh(Se.min(),new Map,new _t(Be),d,g);await ib(r,p),r.du=r.du.remove(c),r.Au.delete(e),lg(r)}else await vm(r.localStore,e,!1).then((()=>Tm(r,e,i))).catch(To)}async function kR(s,e){const i=xe(s),r=e.batch.batchId;try{const l=await Ux(i.localStore,e);rb(i,r,null),sb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await su(i,l)}catch(l){await To(l)}}async function OR(s,e,i){const r=xe(s);try{const l=await(function(d,g){const p=xe(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((S=>(Ze(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);rb(r,e,i),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await su(r,l)}catch(l){await To(l)}}function sb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function rb(s,e,i){const r=xe(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Tm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||ab(s,r)}))}function ab(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(eg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),lg(s))}function J_(s,e,i){for(const r of i)r instanceof eb?(s.Ru.addReference(r.key,e),MR(s,r)):r instanceof tb?(ae(og,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||ab(s,r.key)):Te(19791,{wu:r})}function MR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ae(og,"New document in limbo: "+i),s.Eu.add(r),lg(s))}function lg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new wR(i)),s.du=s.du.insert(i,r),K1(s.remoteStore,new rr(Oi(Fm(i.path)),r,"TargetPurposeLimboResolution",_h.ce))}}async function su(s,e,i){const r=xe(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=Jm.As(p.targetId,_);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(p,_){const T=xe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(N=>$.forEach(N.Es,(F=>T.persistence.referenceDelegate.addReference(S,N.targetId,F))).next((()=>$.forEach(N.ds,(F=>T.persistence.referenceDelegate.removeReference(S,N.targetId,F)))))))))}catch(S){if(!wo(S))throw S;ae(Wm,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const F=T.Ms.get(N),q=F.snapshotVersion,ee=F.withLastLimboFreeSnapshotVersion(q);T.Ms=T.Ms.insert(N,ee)}}})(r.localStore,c))}async function VR(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){ae(og,"User change. New user:",e.toKey());const r=await F1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new he(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(i,r.Ls)}}function jR(s,e){const i=xe(s),r=i.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let l=qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function ob(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DR.bind(null,e),e.Pu.H_=_R.bind(null,e.eventManager),e.Pu.yu=vR.bind(null,e.eventManager),e}function LR(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OR.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Px(this.persistence,new Vx,e.initialUser,this.serializer)}Cu(e){return new H1(Zm.mi,this.serializer)}Du(e){return new Gx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class PR extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bx(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new H1((r=>sh.mi(r,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VR.bind(null,this.syncEngine),await dR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gR})()}createDatastore(e){const i=Rh(e.databaseInfo.databaseId),r=(function(c){return new $x(c)})(e.databaseInfo);return(function(c,d,g,p){return new eR(c,d,g,p)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new nR(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Z_(this.syncEngine,i,0)),(function(){return G_.v()?new G_:new Yx})())}createSyncEngine(e,i){return(function(l,c,d,g,p,_,T){const S=new SR(l,c,d,g,p,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=xe(i);ae(sa,"RemoteStore shutting down."),r.Ea.add(5),await iu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class UR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _r="FirestoreClient";class zR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ae(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ae(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=rg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),ae(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await F1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function W_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await BR(s);ae(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Q_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Q_(e.remoteStore,l))),s._onlineComponents=e}async function BR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(_r,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;co("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new ah)}}else ae(_r,"Using default OfflineComponentProvider"),await Jd(s,new PR(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(_r,"Using user provided OnlineComponentProvider"),await W_(s,s._uninitializedComponentsProvider._online)):(ae(_r,"Using default OnlineComponentProvider"),await W_(s,new wm))),s._onlineComponents}function qR(s){return lb(s).then((e=>e.syncEngine))}async function ev(s){const e=await lb(s),i=e.eventManager;return i.onListen=AR.bind(null,e.syncEngine),i.onUnlisten=CR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=IR.bind(null,e.syncEngine),i}function ub(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const tv=new Map;const cb="firestore.googleapis.com",nv=!0;class iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cb,this.ssl=nv}else this.host=e.host,this.ssl=e.ssl??nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_x)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GS;switch(r.type){case"firstParty":return new XS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=tv.get(i);r&&(ae("ComponentProvider","Removing Datastore"),tv.delete(i),r.terminate())})(this),Promise.resolve()}}function HR(s,e,i,r={}){s=cr(s,Nh);const l=vo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Bv(`https://${g}`),qv("Firestore",!0)),c.host!==cb&&c.host!==g&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!ta(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=rn.MOCK_USER;else{_=g2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new rn(S)}s._authCredentials=new YS(new t1(_,T))}}class Dh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dh(this.firestore,e,this._query)}}class Bt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(eu(i,Bt._jsonSchema))return new Bt(e,r||null,new _e(dt.fromString(i.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:jt("string",Bt._jsonSchemaVersion),referencePath:jt("string")};class hr extends Dh{constructor(e,i,r){super(e,i,Fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new _e(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function sv(s,e,...i){if(s=Qt(s),n1("collection","path",e),s instanceof Nh){const r=dt.fromString(e,...i);return p_(r),new hr(s,null,r)}{if(!(s instanceof Bt||s instanceof hr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return p_(r),new hr(s.firestore,null,r)}}function Hc(s,e,...i){if(s=Qt(s),arguments.length===1&&(e=Lm.newId()),n1("doc","path",e),s instanceof Nh){const r=dt.fromString(e,...i);return g_(r),new Bt(s,null,new _e(r))}{if(!(s instanceof Bt||s instanceof hr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return g_(r),new Bt(s.firestore,s instanceof hr?s.converter:null,new _e(r))}}const rv="AsyncQueue";class av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const r=Zd();r&&ae(rv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ae(rv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",ov(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=sg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function ov(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function lv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class yo extends Nh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new av,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function FR(s,e){const i=typeof s=="object"?s:Vm(),r=typeof s=="string"?s:Zc,l=Mm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=d2("firestore");c&&HR(l,...c)}return l}function hb(s){if(s._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GR(s),s._firestoreClient}function GR(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new fA(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ub(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new zR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(tn.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Xn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:jt("string",Xn._jsonSchemaVersion),bytes:jt("string")};class kh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._methodName=e}}class Vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:jt("string",Vi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class ji{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ji(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:jt("string",ji._jsonSchemaVersion),vectorValues:jt("object")};const YR=/^__.*__$/;class QR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class fb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function db(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class cg{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(db(this.Ac)&&YR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class KR{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Rh(e)}Cc(e,i,r,l=!1){return new cg({Ac:e,methodName:i,Dc:r,path:en.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mb(s){const e=s._freezeSettings(),i=Rh(s._databaseId);return new KR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function XR(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);hg("Data must be an object, but it was:",d,r);const g=gb(r,d);let p,_;if(c.merge)p=new On(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const N=Sm(e,S,i);if(!d.contains(N))throw new he(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);yb(T,N)||T.push(N)}p=new On(T),_=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=d.fieldTransforms;return new QR(new En(g),p,_)}class Oh extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function $R(s,e,i,r){const l=s.Cc(1,e,i);hg("Data must be an object, but it was:",l,r);const c=[],d=En.empty();vr(r,((p,_)=>{const T=fg(e,p,i);_=Qt(_);const S=l.yc(T);if(_ instanceof Oh)c.push(T);else{const N=Mh(_,S);N!=null&&(c.push(T),d.set(T,N))}}));const g=new On(c);return new fb(d,g,l.fieldTransforms)}function ZR(s,e,i,r,l,c){const d=s.Cc(1,e,i),g=[Sm(e,r,i)],p=[l];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(Sm(e,c[N])),p.push(c[N+1]);const _=[],T=En.empty();for(let N=g.length-1;N>=0;--N)if(!yb(_,g[N])){const F=g[N];let q=p[N];q=Qt(q);const ee=d.yc(F);if(q instanceof Oh)_.push(F);else{const W=Mh(q,ee);W!=null&&(_.push(F),T.set(F,W))}}const S=new On(_);return new fb(T,S,d.fieldTransforms)}function Mh(s,e){if(pb(s=Qt(s)))return hg("Unsupported field value:",e,s),gb(s,e);if(s instanceof ug)return(function(r,l){if(!db(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let p=Mh(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jA(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=mt.fromDate(r);return{timestampValue:ih(l.serializer,c)}}if(r instanceof mt){const c=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:V1(l.serializer,r._byteString)};if(r instanceof Bt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ji)return(function(d,g){return{mapValue:{fields:{[h1]:{stringValue:f1},[Jc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Gm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Pm(r)}`)})(s,e)}function gb(s,e){const i={};return r1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,((r,l)=>{const c=Mh(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Vi||s instanceof Xn||s instanceof Bt||s instanceof ug||s instanceof ji)}function hg(s,e,i){if(!pb(i)||!i1(i)){const r=Pm(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Sm(s,e,i){if((e=Qt(e))instanceof kh)return e._internalPath;if(typeof e=="string")return fg(s,e);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const JR=new RegExp("[~\\*/\\[\\]]");function fg(s,e,i){if(e.search(JR)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kh(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${l}`),p+=")"),new he(Z.INVALID_ARGUMENT,g+s+p)}function yb(s,e){return s.some((i=>i.isEqual(e)))}class _b{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(vb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WR extends _b{data(){return super.data()}}function vb(s,e){return typeof e=="string"?fg(s,e):e instanceof kh?e._internalPath:e._delegate._internalPath}function eC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tC{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return vr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new ji(i)}convertGeoPoint(e){return new Vi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);Ze(B1(r),9688,{name:e});const l=new Gl(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function nC(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends _b{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(vb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:jt("string",Wr._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Fc extends Wr{data(e={}){return super.data(e)}}class ro{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Fc(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:iC(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:jt("string",ro._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class bb extends tC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,i)}}function uv(s,e,i,...r){s=cr(s,Bt);const l=cr(s.firestore,yo),c=mb(l);let d;return d=typeof(e=Qt(e))=="string"||e instanceof kh?ZR(c,"updateDoc",s._key,e,i,r):$R(c,"updateDoc",s._key,e),dg(l,[d.toMutation(s._key,hi.exists(!0))])}function sC(s){return dg(cr(s.firestore,yo),[new Ym(s._key,hi.none())])}function rC(s,e){const i=cr(s.firestore,yo),r=Hc(s),l=nC(s.converter,e);return dg(i,[XR(mb(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then((()=>r))}function aC(s,...e){s=Qt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||lv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lv(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let c,d,g;if(s instanceof Bt)d=cr(s.firestore,yo),g=Fm(s._key.path),c={next:p=>{e[r]&&e[r](oC(d,s,p))},error:e[r+1],complete:e[r+2]};else{const p=cr(s,Dh);d=cr(p.firestore,yo),g=p._query;const _=new bb(d);c={next:T=>{e[r]&&e[r](new ro(d,_,p,T))},error:e[r+1],complete:e[r+2]},eC(s._query)}return(function(_,T,S,N){const F=new UR(N),q=new bR(T,F,S);return _.asyncQueue.enqueueAndForget((async()=>pR(await ev(_),q))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>yR(await ev(_),q)))}})(hb(d),g,l,c)}function dg(s,e){return(function(r,l){const c=new Jr;return r.asyncQueue.enqueueAndForget((async()=>NR(await qR(r),l,c))),c.promise})(hb(s),e)}function oC(s,e,i){const r=i.docs.get(e._key),l=new bb(s);return new Wr(s,l,e._key,r,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Eo=l})(bo),uo(new na("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new yo(new QS(r.getProvider("auth-internal")),new $S(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),lr(h_,f_,e),lr(h_,f_,"esm2020")})();function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=Eb,Tb=new Jl("auth","Firebase",Eb());const lh=new km("@firebase/auth");function uC(s,...e){lh.logLevel<=ze.WARN&&lh.warn(`Auth (${bo}): ${s}`,...e)}function Gc(s,...e){lh.logLevel<=ze.ERROR&&lh.error(`Auth (${bo}): ${s}`,...e)}function fi(s,...e){throw mg(s,...e)}function Li(s,...e){return mg(s,...e)}function wb(s,e,i){const r={...lC(),[e]:i};return new Jl("auth","Firebase",r).create(e,{appName:s.name})}function fr(s){return wb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Tb.create(s,...e)}function Ee(s,e,...i){if(!s)throw mg(e,...i)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function ys(s,e){s||fs(e)}function Am(){return typeof self<"u"&&self.location?.href||""}function cC(){return cv()==="http:"||cv()==="https:"}function cv(){return typeof self<"u"&&self.location?.protocol||null}function hC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||E2()||"connection"in navigator)?navigator.onLine:!0}function fC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ru{constructor(e,i){this.shortDelay=e,this.longDelay=i,ys(i>e,"Short delay should be less than long delay!"),this.isMobile=_2()||T2()}get(){return hC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(s,e){ys(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Sb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gC=new ru(3e4,6e4);function ua(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Er(s,e,i,r,l={}){return Ab(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Wl({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:p,...c};return b2()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&vo(s.emulatorConfig.host)&&(_.credentials="include"),Sb.fetch()(await xb(s,s.config.apiHost,i,g),_)})}async function Ab(s,e,i){s._canInitEmulator=!1;const r={...dC,...e};try{const l=new yC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw jc(s,"user-disabled",d);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw wb(s,T,_);fi(s,T)}}catch(l){if(l instanceof _s)throw l;fi(s,"network-request-failed",{message:String(l)})}}async function Vh(s,e,i,r,l={}){const c=await Er(s,e,i,r,l);return"mfaPendingCredential"in c&&fi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function xb(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?gg(s.config,l):`${s.config.apiScheme}://${l}`;return mC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function pC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),gC.get())})}}function jc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Li(s,e,r);return l.customData._tokenResponse=i,l}function hv(s){return s!==void 0&&s.enterprise!==void 0}class _C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return pC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vC(s,e){return Er(s,"GET","/v2/recaptchaConfig",ua(s,e))}async function bC(s,e){return Er(s,"POST","/v1/accounts:delete",e)}async function uh(s,e){return Er(s,"POST","/v1/accounts:lookup",e)}function zl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EC(s,e=!1){const i=Qt(s),r=await i.getIdToken(e),l=pg(r);Ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:zl(Wd(l.auth_time)),issuedAtTime:zl(Wd(l.iat)),expirationTime:zl(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function pg(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Lv(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function fv(s){const e=pg(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof _s&&TC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function TC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class wC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(s){const e=s.auth,i=await s.getIdToken(),r=await Xl(s,uh(e,{idToken:i}));Ee(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Rb(l.providerUserInfo):[],d=AC(s.providerData,c),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!d?.length,_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function SC(s){const e=Qt(s);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Rb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xC(s,e){const i=await Ab(s,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await xb(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&vo(s.emulatorConfig.host)&&(p.credentials="include"),Sb.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function RC(s,e){return Er(s,"POST","/v2/accounts:revokeToken",ua(s,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=fv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await xC(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ao;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Ee(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return fs("not implemented")}}function er(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return EC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await Xl(this,bC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:F,providerData:q,stsTokenManager:ee}=i;Ee(S&&ee,e,"internal-error");const W=ao.fromJSON(this.name,ee);Ee(typeof S=="string",e,"internal-error"),er(r,e.name),er(l,e.name),Ee(typeof N=="boolean",e,"internal-error"),Ee(typeof F=="boolean",e,"internal-error"),er(c,e.name),er(d,e.name),er(g,e.name),er(p,e.name),er(_,e.name),er(T,e.name);const ge=new ci({uid:S,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:_,lastLoginAt:T});return q&&Array.isArray(q)&&(ge.providerData=q.map(ve=>({...ve}))),p&&(ge._redirectEventId=p),ge}static async _fromIdTokenResponse(e,i,r=!1){const l=new ao;l.updateFromServerResponse(i);const c=new ci({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ch(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Ee(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Rb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ao;g.updateFromIdToken(r);const p=new ci({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}const dv=new Map;function ds(s){ys(s instanceof Function,"Expected a class definition");let e=dv.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dv.set(s,e),e)}class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Cb.type="NONE";const mv=Cb;function Yc(s,e,i){return`firebase:${s}:${e}:${i}`}class oo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Yc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uh(this.auth,{idToken:e}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new oo(ds(mv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ds(mv);const d=Yc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let S;if(typeof T=="string"){const N=await uh(e,{idToken:T}).catch(()=>{});if(!N)break;S=await ci._fromGetAccountInfoResponse(e,N,T)}else S=ci._fromJSON(e,T);_!==c&&(g=S),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new oo(c,e,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new oo(c,e,r))}}function gv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mb(e))return"Blackberry";if(Vb(e))return"Webos";if(Nb(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(Ob(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Ib(s=on()){return/firefox\//i.test(s)}function Nb(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(s=on()){return/crios\//i.test(s)}function kb(s=on()){return/iemobile/i.test(s)}function Ob(s=on()){return/android/i.test(s)}function Mb(s=on()){return/blackberry/i.test(s)}function Vb(s=on()){return/webos/i.test(s)}function yg(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function CC(s=on()){return yg(s)&&!!window.navigator?.standalone}function IC(){return w2()&&document.documentMode===10}function jb(s=on()){return yg(s)||Ob(s)||Vb(s)||Mb(s)||/windows phone/i.test(s)||kb(s)}function Lb(s,e=[]){let i;switch(s){case"Browser":i=gv(on());break;case"Worker":i=`${gv(on())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${bo}/${r}`}class NC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function DC(s,e={}){return Er(s,"GET","/v2/passwordPolicy",ua(s,e))}const kC=6;class OC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??kC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class MC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uh(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(fr(this));const i=e?Qt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DC(this),i=new OC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await RC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(s){return Qt(s)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=D2(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VC(s){jh=s}function Pb(s){return jh.loadJS(s)}function jC(){return jh.recaptchaEnterpriseScript}function LC(){return jh.gapiScript}function PC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class UC{constructor(){this.enterprise=new zC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class zC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const BC="recaptcha-enterprise",Ub="NO_RECAPTCHA";class qC{constructor(e){this.type=BC,this.auth=Ao(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{vC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new _C(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;hv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(Ub)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&hv(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jC();p.length!==0&&(p+=g),Pb(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function yv(s,e,i,r=!1,l=!1){const c=new qC(s);let d;if(l)d=Ub;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function _v(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await yv(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await yv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function HC(s,e){const i=Mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ta(c,e??{}))return l;fi(l,"already-initialized")}return i.initialize({options:e})}function FC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ds);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function GC(s,e,i){const r=Ao(s);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=zb(e),{host:d,port:g}=YC(e),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(ta(_,r.config.emulator)&&ta(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,vo(d)?(Bv(`${c}//${d}${p}`),qv("Auth",!0)):QC()}function zb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function YC(s){const e=zb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:vv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:vv(d)}}}function vv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function QC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class _g{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,i){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function KC(s,e){return Er(s,"POST","/v1/accounts:signUp",e)}async function XC(s,e){return Vh(s,"POST","/v1/accounts:signInWithPassword",ua(s,e))}async function $C(s,e){return Vh(s,"POST","/v1/accounts:signInWithEmailLink",ua(s,e))}async function ZC(s,e){return Vh(s,"POST","/v1/accounts:signInWithEmailLink",ua(s,e))}class $l extends _g{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new $l(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new $l(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,i,"signInWithPassword",XC);case"emailLink":return $C(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,r,"signUpPassword",KC);case"emailLink":return ZC(e,{idToken:i,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(s,e){return Vh(s,"POST","/v1/accounts:signInWithIdp",ua(s,e))}const JC="http://localhost";class ra extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ra(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return lo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,lo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,lo(e,i)}buildRequest(){const e={requestUri:JC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wl(i)}return e}}function WC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eI(s){const e=Cl(Il(s)).link,i=e?Cl(Il(e)).deep_link_id:null,r=Cl(Il(s)).deep_link_id;return(r?Cl(Il(r)).link:null)||r||i||e||s}class vg{constructor(e){const i=Cl(Il(e)),r=i.apiKey??null,l=i.oobCode??null,c=WC(i.mode??null);Ee(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=eI(e);try{return new vg(i)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,i){return $l._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=vg.parseLink(i);return Ee(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends Bb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends au{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends au{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends au{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await ci._fromIdTokenResponse(e,r,l),d=bv(r);return new _o({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=bv(r);return new _o({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class hh extends _s{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new hh(e,i,r,l)}}function qb(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,c,e,r):c})}async function tI(s,e,i=!1){const r=await Xl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return _o._forOperation(s,"link",r)}async function nI(s,e,i=!1){const{auth:r}=s;if(ui(r.app))return Promise.reject(fr(r));const l="reauthenticate";try{const c=await Xl(s,qb(r,l,e,s),i);Ee(c.idToken,r,"internal-error");const d=pg(c.idToken);Ee(d,r,"internal-error");const{sub:g}=d;return Ee(s.uid===g,r,"user-mismatch"),_o._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),c}}async function Hb(s,e,i=!1){if(ui(s.app))return Promise.reject(fr(s));const r="signIn",l=await qb(s,r,e),c=await _o._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function iI(s,e){return Hb(Ao(s),e)}async function sI(s){const e=Ao(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rI(s,e,i){return ui(s.app)?Promise.reject(fr(s)):iI(Qt(s),xo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sI(s),r})}function aI(s,e,i,r){return Qt(s).onIdTokenChanged(e,i,r)}function oI(s,e,i){return Qt(s).beforeAuthStateChanged(e,i)}function lI(s,e,i,r){return Qt(s).onAuthStateChanged(e,i,r)}function uI(s){return Qt(s).signOut()}const fh="__sak";class Fb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cI=1e3,hI=10;class Gb extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);IC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,hI):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gb.type="LOCAL";const fI=Gb;class Yb extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Yb.type="SESSION";const Qb=Yb;function dI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),p=await dI(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];function bg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class mI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=bg("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function gI(s){Pi().location.href=s}function Kb(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function pI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yI(){return navigator?.serviceWorker?.controller||null}function _I(){return Kb()?self:null}const Xb="firebaseLocalStorageDb",vI=1,dh="firebaseLocalStorage",$b="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ph(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function bI(){const s=indexedDB.deleteDatabase(Xb);return new ou(s).toPromise()}function Rm(){const s=indexedDB.open(Xb,vI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:$b})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await bI(),e(await Rm()))})})}async function Ev(s,e,i){const r=Ph(s,!0).put({[$b]:e,value:i});return new ou(r).toPromise()}async function EI(s,e){const i=Ph(s,!1).get(e),r=await new ou(i).toPromise();return r===void 0?null:r.value}function Tv(s,e){const i=Ph(s,!0).delete(e);return new ou(i).toPromise()}const TI=800,wI=3;class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>wI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(_I()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pI(),!this.activeServiceWorker)return;this.sender=new mI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await Ev(e,fh,"1"),await Tv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ev(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>EI(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Ph(l,!1).getAll();return new ou(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zb.type="LOCAL";const SI=Zb;new ru(3e4,6e4);function AI(s,e){return e?ds(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Eg extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return lo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function xI(s){return Hb(s.auth,new Eg(s),s.bypassAuthState)}function RI(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),nI(i,new Eg(s),s.bypassAuthState)}async function CI(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),tI(i,new Eg(s),s.bypassAuthState)}class Jb{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return CI;case"reauthViaPopup":case"reauthViaRedirect":return RI;default:fi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const II=new ru(2e3,1e4);class io extends Jb{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,II.get())};e()}}io.currentPopupAction=null;const NI="pendingRedirect",Qc=new Map;class DI extends Jb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await kI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kI(s,e){const i=VI(e),r=MI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function OI(s,e){Qc.set(s._key(),e)}function MI(s){return ds(s._redirectPersistence)}function VI(s){return Yc(NI,s.config.apiKey,s.name)}async function jI(s,e,i=!1){if(ui(s.app))return Promise.reject(fr(s));const r=Ao(s),l=AI(r,e),d=await new DI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const LI=600*1e3;class PI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Wb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LI&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}function wv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Wb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function UI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(s);default:return!1}}async function zI(s,e={}){return Er(s,"GET","/v1/projects",e)}const BI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qI=/^https?/;async function HI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await zI(s);for(const i of e)try{if(FI(i))return}catch{}fi(s,"unauthorized-domain")}function FI(s){const e=Am(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!qI.test(i))return!1;if(BI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const GI=new ru(3e4,6e4);function Sv(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function YI(s){return new Promise((e,i)=>{function r(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),i(Li(s,"network-request-failed"))},timeout:GI.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const l=PC("iframefcb");return Pi()[l]=()=>{gapi.load?r():i(Li(s,"network-request-failed"))},Pb(`${LC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function QI(s){return Kc=Kc||YI(s),Kc}const KI=new ru(5e3,15e3),XI="__/auth/iframe",$I="emulator/auth/iframe",ZI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WI(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?gg(e,$I):`https://${s.config.authDomain}/${XI}`,r={apiKey:e.apiKey,appName:s.name,v:bo},l=JI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Wl(r).slice(1)}`}async function eN(s){const e=await QI(s),i=Pi().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:WI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Li(s,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},KI.get());function p(){Pi().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(d)})}))}const tN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nN=500,iN=600,sN="_blank",rN="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aN(s,e,i,r=nN,l=iN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...tN,width:r.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(g=Db(_)?sN:i),Ib(_)&&(e=e||rN,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[F,q])=>`${N}${F}=${q},`,"");if(CC(_)&&g!=="_self")return oN(e||"",g),new Av(null);const S=window.open(e||"",g,T);Ee(S,s,"popup-blocked");try{S.focus()}catch{}return new Av(S)}function oN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const lN="__/auth/handler",uN="emulator/auth/handler",cN=encodeURIComponent("fac");async function xv(s,e,i,r,l,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:bo,eventId:l};if(e instanceof Bb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",N2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof au){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await s._getAppCheckToken(),_=p?`#${cN}=${encodeURIComponent(p)}`:"";return`${hN(s)}?${Wl(g).slice(1)}${_}`}function hN({config:s}){return s.emulator?gg(s,uN):`https://${s.authDomain}/${lN}`}const em="webStorageSupport";class fN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qb,this._completeRedirectFn=jI,this._overrideRedirectResult=OI}async _openPopup(e,i,r,l){ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await xv(e,i,r,Am(),l);return aN(e,c,bg())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await xv(e,i,r,Am(),l);return gI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await eN(e),r=new PI(e);return i.register("authEvent",l=>(Ee(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=HI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return jb()||Nb()||yg()}}const dN=fN;var Rv="@firebase/auth",Cv="1.11.1";class mN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pN(s){uo(new na("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(s)},_=new MC(r,l,c,p);return FC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),uo(new na("auth-internal",e=>{const i=Ao(e.getProvider("auth").getImmediate());return(r=>new mN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(Rv,Cv,gN(s)),lr(Rv,Cv,"esm2020")}const yN=300,_N=zv("authIdTokenMaxAge")||yN;let Iv=null;const vN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>_N)return;const l=i?.token;Iv!==l&&(Iv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bN(s=Vm()){const e=Mm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=HC(s,{popupRedirectResolver:dN,persistence:[SI,fI,Qb]}),r=zv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=vN(c.toString());oI(i,d,()=>d(i.currentUser)),aI(i,g=>d(g))}}const l=Pv("auth");return l&&GC(i,`http://${l}`),i}function EN(){return document.getElementsByTagName("head")?.[0]??document}VC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Li("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",EN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pN("Browser");const Nv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Lc,Ml,li;try{Nv.apiKey&&(kS().length===0?Lc=Gv(Nv):Lc=Vm(),Ml=bN(Lc),li=FR(Lc))}catch(s){console.error("Firebase init error:",s)}const Tn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",tm="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",TN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[],packingList:[],shoppingList:[]},Dv=({message:s,type:e,onClose:i})=>{me.useEffect(()=>{const c=setTimeout(i,3e3);return()=>clearTimeout(c)},[i]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?b.jsx(iw,{size:18}):b.jsx(WT,{size:18});return b.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[b.jsx("div",{className:"shrink-0",children:l}),b.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},wN=({title:s,message:e,onConfirm:i,onCancel:r})=>b.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:r}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-xs transform transition-all scale-100 text-center`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100/80 text-red-500 rounded-2xl flex items-center justify-center mb-4 shadow-inner border border-white/50",children:b.jsx(Zw,{size:32})}),b.jsx("h3",{className:"text-xl font-[900] text-gray-800 mb-2 drop-shadow-sm",children:s}),b.jsx("p",{className:"text-sm text-gray-600 font-bold mb-6 leading-relaxed opacity-80",children:e}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-2xl font-bold text-gray-600 bg-white/40 hover:bg-white/60 transition-all border border-white/50 active:scale-95",children:""}),b.jsxs("button",{onClick:i,className:"flex-1 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/30 hover:shadow-red-500/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[b.jsx(ph,{size:16})," "]})]})]})]}),Uh=({title:s,subtitle:e,showBack:i,leftAction:r,rightAction:l,setActiveTab:c,bgImage:d,themeColor:g,coverOffsetY:p=50,coverScale:_=1})=>{const T=i&&!r?b.jsx("button",{onClick:()=>c&&c("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700 shadow-sm border border-white/20 backdrop-blur-sm",children:b.jsx(KT,{size:20})}):null;return b.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[b.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[d?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-full h-full overflow-hidden relative",children:b.jsx("img",{src:d,className:"w-full h-full object-cover opacity-100 transition-transform duration-700",style:{objectPosition:`center ${p}%`,transform:`scale(${_})`},alt:"",onError:S=>S.target.style.display="none"},d)}),b.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):b.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),b.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[r||T,b.jsxs("div",{className:"drop-shadow-sm",children:[b.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&b.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),b.jsx("div",{className:"scale-90 origin-right",children:l})]})]})},SN=s=>new Promise(e=>{const i=new FileReader;i.readAsDataURL(s),i.onload=r=>{const l=new Image;l.src=r.target.result,l.onload=()=>{const c=document.createElement("canvas"),d=800,g=d/l.width,p=l.width>d?d:l.width,_=l.width>d?l.height*g:l.height;c.width=p,c.height=_,c.getContext("2d").drawImage(l,0,0,p,_),e(c.toDataURL("image/jpeg",.7))}}}),AN=({trip:s,onClose:e,onSave:i,onPreviewChange:r})=>{const[l,c]=me.useState({destination:s.destination||"",date:s.date||"",coverImage:s.coverImage||"",coverOffsetY:s.coverOffsetY!==void 0?s.coverOffsetY:50,coverScale:s.coverScale!==void 0?s.coverScale:1});me.useEffect(()=>{r&&r(l)},[l,r]);const[d,g]=me.useState(!1),p=me.useRef(null),_=me.useRef(null),T=me.useRef(!1),S=me.useRef(0),N=me.useRef(0),F=le=>{const{name:Ce,value:Le}=le.target;c(Re=>({...Re,[Ce]:Le}))},q=async le=>{const Ce=le.target.files[0];if(Ce){g(!0);try{const Le=await SN(Ce);c(Re=>({...Re,coverImage:Le,coverOffsetY:50,coverScale:1}))}catch(Le){console.error("Image process error",Le),alert("")}finally{g(!1)}}},ee=()=>{i(s.id,l)},W=le=>{l.coverImage&&(T.current=!0,S.current=le.clientY||le.touches[0].clientY,N.current=l.coverOffsetY)},ge=le=>{if(!T.current)return;const Ce=le.clientY||le.touches&&le.touches[0].clientY;if(!Ce)return;const Le=S.current-Ce,Re=160,I=1.5*l.coverScale,A=Le/Re*100/I;let x=N.current+A;x=Math.max(0,Math.min(100,x)),c(M=>({...M,coverOffsetY:x}))},ve=()=>{T.current=!1};return me.useEffect(()=>(window.addEventListener("mouseup",ve),window.addEventListener("touchend",ve),()=>{window.removeEventListener("mouseup",ve),window.removeEventListener("touchend",ve)}),[]),b.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(aa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Ov,{size:18})}),b.jsx("input",{name:"destination",value:l.destination,onChange:F,className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Im,{size:18})}),b.jsx("input",{name:"date",value:l.date,onChange:F,placeholder:"YYYY/MM/DD",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"flex gap-2 mb-2",children:[b.jsxs("button",{onClick:()=>p.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-md",children:[d?b.jsx(gh,{className:"animate-spin",size:14}):b.jsx(Ww,{size:14}),""]}),b.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:q})]}),b.jsxs("div",{className:"relative mb-3",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(vw,{size:14})}),b.jsx("input",{name:"coverImage",value:l.coverImage,onChange:F,placeholder:"...",className:"w-full bg-white/40 border border-white/50 rounded-xl py-2 pl-10 pr-4 text-gray-600 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]}),l.coverImage&&b.jsxs("div",{className:"mt-1",children:[b.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1",children:[b.jsxs("div",{className:"text-[10px] text-gray-500 mb-1 ml-1 flex items-center gap-1",children:[b.jsx(kw,{size:10})," "]}),b.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[b.jsx(s2,{size:10})," : ",l.coverScale,"x"]})]}),b.jsxs("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:W,onMouseMove:ge,onTouchStart:W,onTouchMove:ge,children:[b.jsx("img",{ref:_,src:l.coverImage,alt:"Preview",className:"w-full h-full object-cover pointer-events-none select-none origin-center",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},onError:le=>le.target.style.opacity=.3},l.coverImage),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 pointer-events-none",children:b.jsx("div",{className:"bg-black/50 text-white text-[10px] px-2 py-1 rounded-full backdrop-blur-sm",children:""})})]}),b.jsxs("div",{className:"mt-3 flex items-center gap-3 px-1",children:[b.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"1x"}),b.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:le=>c(Ce=>({...Ce,coverScale:parseFloat(le.target.value)})),className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"}),b.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"3x"})]})]})]}),b.jsxs("button",{onClick:ee,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all mt-4",children:[b.jsx(Uw,{size:18})," "]})]})]})]})},xN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:r,onExportTrip:l,onEditTrip:c,onOpenImport:d,onClose:g,userEmail:p,onLogout:_})=>b.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:g}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:g,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(aa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),b.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:p})]}),b.jsxs("button",{onClick:_,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[b.jsx(Aw,{size:12})," "]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&b.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(T=>b.jsxs("div",{onClick:()=>i(T.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===T.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[b.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${T.coverImage?"":`bg-gradient-to-br ${T.themeColor||"from-gray-300 to-gray-400"}`}`,children:T.coverImage?b.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${T.coverOffsetY||50}%`,transform:`scale(${T.coverScale||1})`},alt:""}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:b.jsx(gw,{size:20})})}),b.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[b.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:T.destination||""}),b.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[b.jsx(Im,{size:12,className:"mr-1"}),T.date||"--/--"]})]}),b.jsxs("div",{className:"flex items-center gap-1 z-20",children:[b.jsx("button",{onClick:S=>{S.stopPropagation(),c(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:"",children:b.jsx(Nm,{size:18})}),b.jsx("button",{onClick:S=>{S.stopPropagation(),l(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:b.jsx(hw,{size:18})}),b.jsx("button",{onClick:S=>{S.stopPropagation(),r(T.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:b.jsx(ph,{size:18})})]})]},T.id))]}),b.jsx("div",{className:"mt-auto relative z-10",children:b.jsxs("button",{onClick:d,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[b.jsx(rw,{size:20})," /"]})})]})]}),RN=({onClose:s,onImport:e,isLoading:i})=>{const[r,l]=me.useState("json"),[c,d]=me.useState(""),g=()=>{e(c,r)};return b.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(aa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[b.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),b.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?b.jsx("textarea",{value:c,onChange:p=>d(p.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):b.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),b.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),b.jsx("button",{onClick:g,disabled:!c.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!c.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?b.jsxs(b.Fragment,{children:[b.jsx(gh,{className:"animate-spin",size:16})," ..."]}):b.jsxs(b.Fragment,{children:[b.jsx(ow,{size:16})," "]})})]})]})]})},CN=({flights:s,onClose:e})=>b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(aa,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?b.jsx("div",{className:"space-y-4",children:s.map((i,r)=>b.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[b.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:b.jsx(nm,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),b.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[b.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),b.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),b.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),b.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),b.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),b.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[b.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),b.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:b.jsx(nm,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),b.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),b.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&b.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):b.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[b.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),b.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),IN=({onClose:s,onAdd:e})=>{const[i,r]=me.useState(""),[l,c]=me.useState(""),[d,g]=me.useState(""),p=()=>{i.trim()&&e(i,l,d)};return b.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(aa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",children:b.jsx(Zl,{size:18})}),b.jsx("input",{type:"text",value:i,onChange:_=>r(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:b.jsx(Dm,{size:18})}),b.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:b.jsx(Mv,{size:18})}),b.jsx("input",{type:"text",value:d,onChange:_=>g(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("button",{onClick:p,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(mh,{size:20,strokeWidth:3}),""]})]})]})]})},NN=({onClose:s,onAdd:e})=>{const[i,r]=me.useState(""),[l,c]=me.useState(""),d=()=>{i.trim()&&e(i,l)};return b.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(aa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500",children:b.jsx(ea,{size:18})}),b.jsx("input",{type:"text",value:i,onChange:g=>r(g.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(g=>b.jsx("button",{onClick:()=>c(g),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===g?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:g},g))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:b.jsx(Dm,{size:18})}),b.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("button",{onClick:d,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(mh,{size:20,strokeWidth:3}),""]})]})]})]})},DN=({editingState:s,onClose:e,onSave:i})=>{const{type:r,data:l}=s,[c,d]=me.useState(l),g=r==="shopping",p=g?"pink":"blue",_=g?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",T=g?"text-pink-500":"text-blue-500",S=()=>{i(c)};return b.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(aa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:g?b.jsx(Zl,{size:18}):b.jsx(ea,{size:18})}),b.jsx("input",{type:"text",value:c.item,onChange:N=>d({...c,item:N.target.value}),className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${p}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold`,autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:b.jsx(Dm,{size:18})}),b.jsx("input",{type:"text",value:c.category||"",onChange:N=>d({...c,category:N.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${p}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),g&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:b.jsx(Mv,{size:18})}),b.jsx("input",{type:"text",value:c.note||"",onChange:N=>d({...c,note:N.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${p}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),b.jsxs("button",{onClick:S,disabled:!c.item.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${c.item.trim()?`${_} shadow-${p}-500/30 hover:shadow-${p}-500/50`:"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(ea,{size:20,strokeWidth:3}),""]})]})]})]})},kN=({onLogin:s,isLoading:e})=>{const[i,r]=me.useState(""),[l,c]=me.useState(""),d=()=>{!i||!l||s(i,l)};return b.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsxs("div",{className:`relative ${Tn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:b.jsx(t2,{size:40})}),b.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),b.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),b.jsxs("div",{className:"w-full space-y-4 mb-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Rw,{size:18})}),b.jsx("input",{type:"email",value:i,onChange:g=>r(g.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(ww,{size:18})}),b.jsx("input",{type:"password",value:l,onChange:g=>c(g.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),b.jsx("button",{onClick:d,disabled:e||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?b.jsx(gh,{className:"animate-spin"}):""}),b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:b.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[b.jsx(yw,{size:10})," "]})})]})]})},ON=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:r,setShowFlightModal:l,toggleShoppingItem:c,deleteShoppingItem:d,togglePackingItem:g,deletePackingItem:p,openEditModal:_,setShowTripListModal:T,onEditCurrentTrip:S,onScroll:N,previewTrip:F})=>{const q=F||e;return b.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:N,children:[b.jsx(Uh,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:b.jsx("button",{onClick:()=>T(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:b.jsx(Ew,{size:24,strokeWidth:2.5})}),rightAction:e?b.jsx("button",{onClick:S,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:b.jsx(Bw,{size:22,strokeWidth:2.5})}):null,setActiveTab:r,bgImage:q?.coverImage,themeColor:q?.themeColor,coverOffsetY:q?.coverOffsetY,coverScale:q?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[!q||!q.date||q.date==="----/--/--"?b.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[b.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),b.jsxs("p",{className:"text-sm text-gray-500",children:["",b.jsx("br",{}),"  "]})]}):b.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${Tn} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${tm} relative`,children:[b.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[q.coverImage&&b.jsx("div",{className:"w-full h-full overflow-hidden relative",children:b.jsx("img",{src:q.coverImage,alt:q.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${q.coverOffsetY||50}%`,transform:`scale(${q.coverScale||1})`},onError:ee=>ee.target.style.display="none"},q.coverImage)}),b.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${q.themeColor||"from-gray-400 to-gray-600"} ${q.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),b.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:b.jsx("div",{className:"flex justify-between items-end",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),b.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:q.destination||""}),b.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[b.jsx(Im,{size:14,className:"mr-2"}),q.date||"--/--"]})]})})})]}),b.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),b.jsxs("div",{className:"flex items-baseline",children:[b.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(q.date)}),b.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),b.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:b.jsx(tw,{size:28})})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[b.jsxs("div",{onClick:()=>r("shopping"),className:`${Tn} ${tm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)] flex items-center gap-4 h-24`,children:[b.jsx("div",{className:"bg-pink-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-pink-500 shadow-inner border border-white/50 shrink-0",children:b.jsx(Zl,{size:24})}),b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),b.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[e&&e.shoppingList?e.shoppingList.filter(ee=>!ee.checked).length:0," "]})]})]}),b.jsxs("div",{onClick:()=>r("packing"),className:`${Tn} ${tm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)] flex items-center gap-4 h-24`,children:[b.jsx("div",{className:"bg-blue-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-blue-500 shadow-inner border border-white/50 shrink-0",children:b.jsx(ea,{size:24})}),b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),b.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[e&&e.packingList?e.packingList.filter(ee=>!ee.checked).length:0," "]})]})]})]})]})]})},MN=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l,onScroll:c})=>{const d=s&&s.days&&s.days.length>0?r(s):null,g=p=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(p)}`,"_blank")};return b.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:c,children:[b.jsx(Uh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:b.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0,0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:b.jsx(nm,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&b.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((p,_)=>b.jsxs("div",{className:"relative pl-4",children:[_!==s.days.length-1&&b.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),b.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[b.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[b.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),b.jsx("span",{className:"text-xl font-black leading-none",children:p.day})]}),b.jsx("div",{children:b.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:p.title})})]}),b.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:p.activities.map((T,S)=>{const N=d===T.id;return b.jsxs("div",{ref:F=>l.current[T.id]=F,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${N?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[b.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${N?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${T.type==="transport"?"bg-purple-400":T.type==="food"?"bg-orange-400":T.type==="shopping"?"bg-pink-400":T.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:N&&b.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:T.time}),N&&b.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),b.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[T.type==="sightseeing"&&b.jsx(ZT,{size:14,className:"text-gray-500"}),T.type==="food"&&b.jsx(uw,{size:14,className:"text-gray-500"}),T.type==="transport"&&b.jsx(Kw,{size:14,className:"text-gray-500"}),T.type==="shopping"&&b.jsx(Zl,{size:14,className:"text-gray-500"}),T.type==="relax"&&b.jsx(Gw,{size:14,className:"text-gray-500"})]})]}),b.jsxs("div",{className:"flex justify-between items-end gap-2",children:[b.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:T.title}),b.jsx("button",{onClick:F=>{F.stopPropagation(),g(T.title)},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0","aria-label":" Google Maps ",children:b.jsx(Ov,{size:18,strokeWidth:2.5})})]})]},S)})})]},_))]})]})},VN=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:r,deleteShoppingItem:l,openEditModal:c,onScroll:d})=>{const[g,p]=me.useState(""),[_,T]=me.useState(!1),S=s?.shoppingList||[],N=["",...new Set(S.map(q=>q.category||"").filter(q=>q))],F=[...S].filter(q=>g===""?!0:(q.category||"")===g).sort((q,ee)=>_?(q.category||"").localeCompare(ee.category||"","zh-Hant"):0);return b.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[b.jsx(Uh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[b.jsxs("div",{className:`${Tn} rounded-[2.5rem] p-6 mb-6`,children:[b.jsxs("div",{className:"flex justify-between items-end mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),b.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[s&&s.shoppingList?Math.round(s.shoppingList.filter(q=>q.checked).length/(s.shoppingList.length||1)*100):0,"%"]})]}),b.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:b.jsx(mh,{size:24,strokeWidth:3})})]}),b.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:b.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${s&&s.shoppingList?s.shoppingList.filter(q=>q.checked).length/(s.shoppingList.length||1)*100:0}%`}})})]}),b.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 sticky top-0 z-10 py-2 -mx-1",children:[b.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1 mr-2 pb-1 mask-linear-fade pr-4",onTouchStart:q=>q.stopPropagation(),onTouchMove:q=>q.stopPropagation(),children:N.map(q=>b.jsx("button",{onClick:()=>p(q),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${g===q?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:q},q))}),b.jsx("button",{onClick:()=>T(!_),className:`p-2 rounded-xl transition-all shrink-0 border ${_?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40 hover:bg-white/80"}`,title:_?"":"",children:b.jsx(YT,{size:18})})]}),b.jsx("div",{className:"space-y-4 pb-4",children:F.length===0?b.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""}):F.map(q=>b.jsxs("div",{onClick:()=>r(q.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${q.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[b.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${q.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:b.jsx(ea,{size:18,strokeWidth:3})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${q.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:q.item}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[q.category&&b.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:q.category}),q.note&&b.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:q.note})]})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:ee=>{ee.stopPropagation(),c("shopping",q)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Nm,{size:18})}),b.jsx("button",{onClick:ee=>{ee.stopPropagation(),l(q.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(ph,{size:18})})]})]},q.id))})]})]})},jN=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:r,deletePackingItem:l,openEditModal:c,onScroll:d})=>b.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[b.jsx(Uh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[b.jsxs("div",{className:`${Tn} rounded-[2.5rem] p-6 mb-8`,children:[b.jsxs("div",{className:"flex justify-between items-end mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),b.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[Math.round(s&&s.packingList&&s.packingList.length>0?s.packingList.filter(g=>g.checked).length/s.packingList.length*100:0),"%"]})]}),b.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:b.jsx(mh,{size:24,strokeWidth:3})})]}),b.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:b.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${s&&s.packingList&&s.packingList.length>0?s.packingList.filter(g=>g.checked).length/s.packingList.length*100:0}%`}})})]}),b.jsx("div",{className:"space-y-4",children:s&&s.packingList&&s.packingList.map(g=>b.jsxs("div",{onClick:()=>r(g.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${g.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[b.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${g.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:b.jsx(ea,{size:18,strokeWidth:3})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${g.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:g.item}),b.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:g.category})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:p=>{p.stopPropagation(),c("packing",g)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Nm,{size:18})}),b.jsx("button",{onClick:p=>{p.stopPropagation(),l(g.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(ph,{size:18})})]})]},g.id))})]})]}),LN=({activeTab:s,setActiveTab:e,isVisible:i})=>b.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ease-in-out ${i?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:b.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[b.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(dw,{size:24,strokeWidth:s==="home"?3:2})}),b.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(Nw,{size:24,strokeWidth:s==="itinerary"?3:2})}),b.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(Zl,{size:24,strokeWidth:s==="shopping"?3:2})}),b.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(ea,{size:24,strokeWidth:s==="packing"?3:2})})]})});function PN(){const[s,e]=me.useState("home"),[i,r]=me.useState(null),[l,c]=me.useState(!1),[d,g]=me.useState(!0),p=me.useRef(0),[_,T]=me.useState([]),[S,N]=me.useState(null),[F,q]=me.useState(!1),[ee,W]=me.useState(!1),[ge,ve]=me.useState(!1),[le,Ce]=me.useState(!1),[Le,Re]=me.useState(!1),[I,A]=me.useState(!1),[x,M]=me.useState(null),[D,j]=me.useState(!1),[R,at]=me.useState(null),[Et,Y]=me.useState(null),[ie,de]=me.useState({show:!1,type:null,id:null,name:""}),[Ie,Ge]=me.useState({show:!1,message:"",type:"success"}),O=me.useRef({}),G=(J,te="success")=>{Ge({show:!0,message:J,type:te})},se=J=>{const te=J.currentTarget.scrollTop,oe=te-p.current;Math.abs(oe)>10&&(oe>0?g(!1):g(!0),p.current=te)};me.useEffect(()=>{g(!0)},[s]),me.useEffect(()=>{if(!Ml)return;const J=lI(Ml,te=>{r(te),te&&G(` ${te.email}`),c(!0)});return()=>J()},[]);const re=async(J,te)=>{q(!0);try{await rI(Ml,J,te)}catch(oe){console.error(oe);let ye="";oe.code==="auth/invalid-credential"&&(ye=""),oe.code==="auth/user-not-found"&&(ye=""),oe.code==="auth/wrong-password"&&(ye=""),G(ye,"error")}finally{q(!1)}},we=async()=>{confirm("")&&(await uI(Ml),T([]),N(null),G(""))};me.useEffect(()=>{if(!i||!li)return;const J=sv(li,"users",i.uid,"trips"),te=aC(J,oe=>{const ye=oe.docs.map(ct=>({id:ct.id,...ct.data()}));ye.sort((ct,tt)=>{const ot=new Date(ct.date).getTime()||0,Ke=new Date(tt.date).getTime()||0;return ot-Ke}),T(ye),ye.length>0?N(ct=>ct&&ye.find(tt=>tt.id===ct)?ct:ye[0].id):N(null)},oe=>{console.error("Firestore Error:",oe),G("","error")});return()=>te()},[i]);const fe=_.find(J=>J.id===S)||null,Ne=async J=>{if(!li||!i||!S)return;const te=Hc(li,"users",i.uid,"trips",S),oe=J(fe);try{await uv(te,oe)}catch(ye){console.error("Save failed",ye),G("","error")}},Tt=async J=>{if(!(!li||!i))try{await sC(Hc(li,"users",i.uid,"trips",J)),G("")}catch(te){console.error("Delete failed",te),G("","error")}},ut=J=>{if(J)try{const{id:te,...oe}=J,ye=JSON.stringify(oe,null,2),ct=new Blob([ye],{type:"application/json"}),tt=URL.createObjectURL(ct),ot=document.createElement("a");ot.href=tt;const Ke=(J.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");ot.download=`${Ke}_export.json`,document.body.appendChild(ot),ot.click(),document.body.removeChild(ot),URL.revokeObjectURL(tt),G("")}catch(te){console.error("Export failed",te),G("","error")}},Bi=async(J,te)=>{if(!li||!i)return;q(!0);const oe=new Promise(ye=>setTimeout(()=>ye("timeout"),8e3));try{let ye=[];if(te==="url"){const ot=await fetch(J);if(!ot.ok)throw new Error("Network error");const Ke=await ot.json();ye=Array.isArray(Ke)?Ke:[Ke]}else{const ot=JSON.parse(J);ye=Array.isArray(ot)?ot:[ot]}const ct=sv(li,"users",i.uid,"trips"),tt=Promise.all(ye.map(async ot=>{const{id:Ke,...fn}=ot,ln={...TN,...fn};await rC(ct,ln)}));await Promise.race([tt,oe]),Re(!1),A(!1),G(` ${ye.length} `)}catch(ye){console.error("Import failed",ye),G("","error")}finally{q(!1)}},qi=J=>{at(J),Y(J),j(!0)},vs=async(J,te)=>{if(!(!li||!i))try{const oe=Hc(li,"users",i.uid,"trips",J);await uv(oe,te),j(!1),at(null),Y(null),G("")}catch(oe){console.error("Save failed",oe),G("","error")}},$n=(J,te,oe)=>{de({show:!0,type:J,id:te,name:oe})},Mn=()=>{const{type:J,id:te}=ie;J==="shopping"?(Ne(oe=>({...oe,shoppingList:(oe.shoppingList||[]).filter(ye=>ye.id!==te)})),G("")):J==="packing"&&(Ne(oe=>({...oe,packingList:(oe.packingList||[]).filter(ye=>ye.id!==te)})),G("")),de({show:!1,type:null,id:null,name:""})},bs=J=>Ne(te=>({...te,packingList:(te.packingList||[]).map(oe=>oe.id===J?{...oe,checked:!oe.checked}:oe)})),Hi=(J,te)=>{J.trim()&&(Ne(oe=>({...oe,packingList:[...oe.packingList||[],{id:Date.now(),item:J,checked:!1,category:te||""}]})),Ce(!1),G(""))},Es=J=>Ne(te=>({...te,shoppingList:(te.shoppingList||[]).map(oe=>oe.id===J?{...oe,checked:!oe.checked}:oe)})),Tr=(J,te,oe)=>{J.trim()&&(Ne(ye=>({...ye,shoppingList:[...ye.shoppingList||[],{id:Date.now(),item:J,category:te||"",note:oe,checked:!1}]})),ve(!1),G(""))},gt=(J,te)=>M({type:J,data:{...te}}),wt=J=>{if(!x)return;const{type:te}=x,oe=te==="shopping"?"shoppingList":"packingList";Ne(ye=>({...ye,[oe]:(ye[oe]||[]).map(ct=>ct.id===J.id?J:ct)})),M(null),G("")},di=J=>{if(!J||J==="----/--/--")return 0;const te=new Date,ye=new Date(J)-te;return Math.ceil(ye/(1e3*60*60*24))>0?Math.ceil(ye/(1e3*60*60*24)):0},ca=J=>{if(!J||!J.days)return null;const te=new Date;let oe=null,ye=1/0;return J.days.forEach(ct=>{const tt=new Date(J.date);tt.setDate(tt.getDate()+(ct.day-1)),te.toDateString()===tt.toDateString()&&ct.activities.forEach(ot=>{const[Ke,fn]=ot.time.split(":"),ln=new Date(tt);ln.setHours(Ke,fn,0,0);const un=te-ln;un>=0&&un<ye&&(ye=un,oe=ot.id)})}),oe};me.useEffect(()=>{if(s==="itinerary"&&fe&&fe.days){const J=ca(fe);J&&O.current[J]&&setTimeout(()=>{O.current[J].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,fe]);const Fi=me.useRef(null),Lt=me.useRef(null),[Vn,Ts]=me.useState(0),[Gi,Zn]=me.useState(!1),Yi=["home","itinerary","shopping","packing"],jn=Yi.indexOf(s),ha=80,fa=J=>{ee||ge||le||Le||I||x||D||ie.show||(Fi.current=J.targetTouches[0].clientX,Lt.current=J.targetTouches[0].clientY,Zn(!0))},wn=J=>{if(!Gi||Fi.current===null)return;const te=J.targetTouches[0].clientX,oe=J.targetTouches[0].clientY,ye=te-Fi.current,ct=oe-Lt.current;if(Math.abs(ct)>Math.abs(ye))return;let tt=ye;jn===0&&ye>0&&(tt=ye*.3),jn===Yi.length-1&&ye<0&&(tt=ye*.3),Ts(tt)},Pt=()=>{Gi&&(Math.abs(Vn)>ha&&(Vn>0&&jn>0?e(Yi[jn-1]):Vn<0&&jn<Yi.length-1&&e(Yi[jn+1])),Zn(!1),Ts(0),Fi.current=null,Lt.current=null)};return l?i?b.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[b.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),b.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),b.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),b.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:fa,onTouchMove:wn,onTouchEnd:Pt,children:[Ie.show&&b.jsx(Dv,{message:Ie.message,type:Ie.type,onClose:()=>Ge({...Ie,show:!1})}),ee&&b.jsx(CN,{onClose:()=>W(!1),flights:fe?fe.flights:[]}),ge&&b.jsx(IN,{onClose:()=>ve(!1),onAdd:Tr}),le&&b.jsx(NN,{onClose:()=>Ce(!1),onAdd:Hi}),Le&&b.jsx(RN,{onClose:()=>Re(!1),onImport:Bi,isLoading:F}),x&&b.jsx(DN,{editingState:x,onClose:()=>M(null),onSave:wt}),D&&R&&b.jsx(AN,{trip:R,onClose:()=>{j(!1),Y(null)},onSave:vs,onPreviewChange:Y}),I&&b.jsx(xN,{trips:_,activeTripId:S,onSelectTrip:J=>{N(J),A(!1),e("home")},onDeleteTrip:J=>{confirm("")&&Tt(J)},onExportTrip:ut,onEditTrip:qi,onOpenImport:()=>Re(!0),onClose:()=>A(!1),userEmail:i.email,onLogout:we}),b.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${jn*100}vw + ${Vn}px))`,transition:Gi?"none":"transform 0.3s ease-out"},children:[b.jsx(ON,{trips:_,currentTrip:fe,calculateDaysLeft:di,setActiveTab:e,setShowFlightModal:W,toggleShoppingItem:Es,deleteShoppingItem:J=>{const te=fe?.shoppingList?.find(oe=>oe.id===J);$n("shopping",J,te?te.item:"")},togglePackingItem:bs,deletePackingItem:J=>{const te=fe?.packingList?.find(oe=>oe.id===J);$n("packing",J,te?te.item:"")},openEditModal:gt,setShowTripListModal:A,onEditCurrentTrip:()=>qi(fe),onScroll:se,previewTrip:Et}),b.jsx(MN,{currentTrip:fe,setActiveTab:e,setShowFlightModal:W,getCurrentActivityId:ca,activityRefs:O,onScroll:se}),b.jsx(VN,{currentTrip:fe,setActiveTab:e,setShowAddShoppingModal:ve,toggleShoppingItem:Es,deleteShoppingItem:J=>{const te=fe?.shoppingList?.find(oe=>oe.id===J);$n("shopping",J,te?te.item:"")},openEditModal:gt,onScroll:se}),b.jsx(jN,{currentTrip:fe,setActiveTab:e,setShowAddPackingModal:Ce,togglePackingItem:bs,deletePackingItem:J=>{const te=fe?.packingList?.find(oe=>oe.id===J);$n("packing",J,te?te.item:"")},openEditModal:gt,onScroll:se})]}),ie.show&&b.jsx(wN,{title:"",message:`${ie.name}`,onConfirm:Mn,onCancel:()=>de({...ie,show:!1})}),b.jsx(LN,{activeTab:s,setActiveTab:e,isVisible:d})]})]}):b.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[Ie.show&&b.jsx(Dv,{message:Ie.message,type:Ie.type,onClose:()=>Ge({...Ie,show:!1})}),b.jsx(kN,{onLogin:re,isLoading:F})]}):b.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[b.jsx(gh,{className:"animate-spin text-gray-600 mb-4",size:32}),b.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}UT.createRoot(document.getElementById("root")).render(b.jsx(me.StrictMode,{children:b.jsx(PN,{})}));
