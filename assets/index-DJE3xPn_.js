(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Bd={exports:{}},kl={};var t_;function YT(){if(t_)return kl;t_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var n_;function QT(){return n_||(n_=1,Bd.exports=YT()),Bd.exports}var b=QT(),qd={exports:{}},Ae={};var i_;function KT(){if(i_)return Ae;i_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function B(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function W(D,Q,te){this.props=D,this.context=Q,this.refs=Z,this.updater=te||J}W.prototype.isReactComponent={},W.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ge(){}ge.prototype=W.prototype;function ue(D,Q,te){this.props=D,this.context=Q,this.refs=Z,this.updater=te||J}var Ie=ue.prototype=new ge;Ie.constructor=ue,ee(Ie,W.prototype),Ie.isPureReactComponent=!0;var Pe=Array.isArray;function Re(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,Q,te){var re=te.ref;return{$$typeof:s,type:D,key:Q,ref:re!==void 0?re:null,props:te}}function M(D,Q){return I(D.type,Q,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function j(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return Q[te]})}var R=/\/+/g;function it(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):Q.toString(36)}function bt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Re,Re):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,Q,te,re,Ee){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(he){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case s:case e:Me=!0;break;case T:return Me=D._init,F(Me(D._payload),Q,te,re,Ee)}}if(Me)return Ee=Ee(D),Me=re===""?"."+it(D,0):re,Pe(Ee)?(te="",Me!=null&&(te=Me.replace(R,"$&/")+"/"),F(Ee,Q,te,"",function(Bt){return Bt})):Ee!=null&&(O(Ee)&&(Ee=M(Ee,te+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Me)),Q.push(Ee)),1;Me=0;var At=re===""?".":re+":";if(Pe(D))for(var ut=0;ut<D.length;ut++)re=D[ut],he=At+it(re,ut),Me+=F(re,Q,te,he,Ee);else if(ut=B(D),typeof ut=="function")for(D=ut.call(D),ut=0;!(re=D.next()).done;)re=re.value,he=At+it(re,ut++),Me+=F(re,Q,te,he,Ee);else if(he==="object"){if(typeof D.then=="function")return F(bt(D),Q,te,re,Ee);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(D,Q,te){if(D==null)return D;var re=[],Ee=0;return F(D,re,"","",function(he){return Q.call(te,he,Ee++)}),re}function ye(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var Fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ye={map:se,forEach:function(D,Q,te){se(D,function(){Q.apply(this,arguments)},te)},count:function(D){var Q=0;return se(D,function(){Q++}),Q},toArray:function(D){return se(D,function(Q){return Q})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ae.Activity=S,Ae.Children=Ye,Ae.Component=W,Ae.Fragment=i,Ae.Profiler=l,Ae.PureComponent=ue,Ae.StrictMode=r,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(D,Q,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=ee({},D.props),Ee=D.key;if(Q!=null)for(he in Q.key!==void 0&&(Ee=""+Q.key),Q)!A.call(Q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Q.ref===void 0||(re[he]=Q[he]);var he=arguments.length-2;if(he===1)re.children=te;else if(1<he){for(var Me=Array(he),At=0;At<he;At++)Me[At]=arguments[At+2];re.children=Me}return I(D.type,Ee,re)},Ae.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ae.createElement=function(D,Q,te){var re,Ee={},he=null;if(Q!=null)for(re in Q.key!==void 0&&(he=""+Q.key),Q)A.call(Q,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=Q[re]);var Me=arguments.length-2;if(Me===1)Ee.children=te;else if(1<Me){for(var At=Array(Me),ut=0;ut<Me;ut++)At[ut]=arguments[ut+2];Ee.children=At}if(D&&D.defaultProps)for(re in Me=D.defaultProps,Me)Ee[re]===void 0&&(Ee[re]=Me[re]);return I(D,he,Ee)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:p,render:D}},Ae.isValidElement=O,Ae.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ye}},Ae.memo=function(D,Q){return{$$typeof:_,type:D,compare:Q===void 0?null:Q}},Ae.startTransition=function(D){var Q=N.T,te={};N.T=te;try{var re=D(),Ee=N.S;Ee!==null&&Ee(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Re,Fe)}catch(he){Fe(he)}finally{Q!==null&&te.types!==null&&(Q.types=te.types),N.T=Q}},Ae.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ae.use=function(D){return N.H.use(D)},Ae.useActionState=function(D,Q,te){return N.H.useActionState(D,Q,te)},Ae.useCallback=function(D,Q){return N.H.useCallback(D,Q)},Ae.useContext=function(D){return N.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,Q){return N.H.useDeferredValue(D,Q)},Ae.useEffect=function(D,Q){return N.H.useEffect(D,Q)},Ae.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Ae.useId=function(){return N.H.useId()},Ae.useImperativeHandle=function(D,Q,te){return N.H.useImperativeHandle(D,Q,te)},Ae.useInsertionEffect=function(D,Q){return N.H.useInsertionEffect(D,Q)},Ae.useLayoutEffect=function(D,Q){return N.H.useLayoutEffect(D,Q)},Ae.useMemo=function(D,Q){return N.H.useMemo(D,Q)},Ae.useOptimistic=function(D,Q){return N.H.useOptimistic(D,Q)},Ae.useReducer=function(D,Q,te){return N.H.useReducer(D,Q,te)},Ae.useRef=function(D){return N.H.useRef(D)},Ae.useState=function(D){return N.H.useState(D)},Ae.useSyncExternalStore=function(D,Q,te){return N.H.useSyncExternalStore(D,Q,te)},Ae.useTransition=function(){return N.H.useTransition()},Ae.version="19.2.0",Ae}var s_;function jm(){return s_||(s_=1,qd.exports=KT()),qd.exports}var pe=jm(),Hd={exports:{}},Ml={},Fd={exports:{}},Gd={};var r_;function XT(){return r_||(r_=1,(function(s){function e(F,se){var ye=F.length;F.push(se);e:for(;0<ye;){var Fe=ye-1>>>1,Ye=F[Fe];if(0<l(Ye,se))F[Fe]=se,F[ye]=Ye,ye=Fe;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var se=F[0],ye=F.pop();if(ye!==se){F[0]=ye;e:for(var Fe=0,Ye=F.length,D=Ye>>>1;Fe<D;){var Q=2*(Fe+1)-1,te=F[Q],re=Q+1,Ee=F[re];if(0>l(te,ye))re<Ye&&0>l(Ee,te)?(F[Fe]=Ee,F[re]=ye,Fe=re):(F[Fe]=te,F[Q]=ye,Fe=Q);else if(re<Ye&&0>l(Ee,ye))F[Fe]=Ee,F[re]=ye,Fe=re;else break e}}return se}function l(F,se){var ye=F.sortIndex-se.sortIndex;return ye!==0?ye:F.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],T=1,S=null,x=3,B=!1,J=!1,ee=!1,Z=!1,W=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Ie(F){for(var se=i(_);se!==null;){if(se.callback===null)r(_);else if(se.startTime<=F)r(_),se.sortIndex=se.expirationTime,e(g,se);else break;se=i(_)}}function Pe(F){if(ee=!1,Ie(F),!J)if(i(g)!==null)J=!0,Re||(Re=!0,j());else{var se=i(_);se!==null&&bt(Pe,se.startTime-F)}}var Re=!1,N=-1,A=5,I=-1;function M(){return Z?!0:!(s.unstable_now()-I<A)}function O(){if(Z=!1,Re){var F=s.unstable_now();I=F;var se=!0;try{e:{J=!1,ee&&(ee=!1,ge(N),N=-1),B=!0;var ye=x;try{t:{for(Ie(F),S=i(g);S!==null&&!(S.expirationTime>F&&M());){var Fe=S.callback;if(typeof Fe=="function"){S.callback=null,x=S.priorityLevel;var Ye=Fe(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ye=="function"){S.callback=Ye,Ie(F),se=!0;break t}S===i(g)&&r(g),Ie(F)}else r(g);S=i(g)}if(S!==null)se=!0;else{var D=i(_);D!==null&&bt(Pe,D.startTime-F),se=!1}}break e}finally{S=null,x=ye,B=!1}se=void 0}}finally{se?j():Re=!1}}}var j;if(typeof ue=="function")j=function(){ue(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,it=R.port2;R.port1.onmessage=O,j=function(){it.postMessage(null)}}else j=function(){W(O,0)};function bt(F,se){N=W(function(){F(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(F){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var ye=x;x=se;try{return F()}finally{x=ye}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ye=x;x=F;try{return se()}finally{x=ye}},s.unstable_scheduleCallback=function(F,se,ye){var Fe=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Fe+ye:Fe):ye=Fe,F){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=ye+Ye,F={id:T++,callback:se,priorityLevel:F,startTime:ye,expirationTime:Ye,sortIndex:-1},ye>Fe?(F.sortIndex=ye,e(_,F),i(g)===null&&F===i(_)&&(ee?(ge(N),N=-1):ee=!0,bt(Pe,ye-Fe))):(F.sortIndex=Ye,e(g,F),J||B||(J=!0,Re||(Re=!0,j()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var se=x;return function(){var ye=x;x=se;try{return F.apply(this,arguments)}finally{x=ye}}}})(Gd)),Gd}var a_;function $T(){return a_||(a_=1,Fd.exports=XT()),Fd.exports}var Yd={exports:{}},ln={};var o_;function ZT(){if(o_)return ln;o_=1;var s=jm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(g,_,null,T)},ln.flushSync=function(g){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=T,r.d.f()}},ln.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},ln.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},ln.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:B}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},ln.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},ln.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},ln.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},ln.requestFormReset=function(g){r.d.r(g)},ln.unstable_batchedUpdates=function(g,_){return g(_)},ln.useFormState=function(g,_,T){return d.H.useFormState(g,_,T)},ln.useFormStatus=function(){return d.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var l_;function JT(){if(l_)return Yd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=ZT(),Yd.exports}var u_;function WT(){if(u_)return Ml;u_=1;var s=$T(),e=jm(),i=JT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case W:return"Profiler";case Z:return"StrictMode";case Pe:return"Suspense";case Re:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ue:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case Ie:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var bt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Fe=[],Ye=-1;function D(t){return{current:t}}function Q(t){0>Ye||(t.current=Fe[Ye],Fe[Ye]=null,Ye--)}function te(t,n){Ye++,Fe[Ye]=t.current,t.current=n}var re=D(null),Ee=D(null),he=D(null),Me=D(null);function At(t,n){switch(te(he,n),te(Ee,t),te(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?S0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=S0(n),t=A0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(re),te(re,t)}function ut(){Q(re),Q(Ee),Q(he)}function Bt(t){t.memoizedState!==null&&te(Me,t);var n=re.current,a=A0(n,t.type);n!==a&&(te(Ee,t),te(re,a))}function Es(t){Ee.current===t&&(Q(re),Q(Ee)),Me.current===t&&(Q(Me),Cl._currentValue=ye)}var Ts,ws;function xn(t){if(Ts===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ts=n&&n[1]||"",ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+t+ws}var Ar=!1;function qi(t,n){if(!t||Ar)return"";Ar=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var z=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){z=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){z=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),U=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ar=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xn(a):""}function xr(t,n){switch(t.tag){case 26:case 27:case 5:return xn(t.type);case 16:return xn("Lazy");case 13:return t.child!==n&&n!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return qi(t.type,!1);case 11:return qi(t.type.render,!1);case 1:return qi(t.type,!0);case 31:return xn("Activity");default:return""}}function Rr(t){try{var n="",a=null;do n+=xr(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Tt=s.unstable_scheduleCallback,di=s.unstable_cancelCallback,Ir=s.unstable_shouldYield,ya=s.unstable_requestPaint,Zt=s.unstable_now,mi=s.unstable_getCurrentPriorityLevel,pi=s.unstable_ImmediatePriority,Hi=s.unstable_UserBlockingPriority,Rn=s.unstable_NormalPriority,_a=s.unstable_LowPriority,Ss=s.unstable_IdlePriority,Cr=s.log,gi=s.unstable_setDisableYieldValue,qt=null,Ht=null;function pn(t){if(typeof Cr=="function"&&gi(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(qt,t)}catch{}}var _t=Math.clz32?Math.clz32:me,va=Math.log,ne=Math.LN2;function me(t){return t>>>=0,t===0?32:31-(va(t)/ne|0)|0}var fe=256,oe=262144,De=4194304;function Ve(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function We(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ve(o):(y&=E,y!==0?h=Ve(y):a||(a=E&~t,a!==0&&(h=Ve(a))))):(E=o&~f,E!==0?h=Ve(E):y!==0?h=Ve(y):a||(a=o&~t,a!==0&&(h=Ve(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function pt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Fi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gi(){var t=De;return De<<=1,(De&62914560)===0&&(De=4194304),t}function on(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Yi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ba(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-_t(a),K=1<<G;E[G]=0,C[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}a&=~K}o!==0&&Qi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Qi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Nr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-_t(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ki(t,n){var a=n&-n;return a=(a&42)!==0?1:Xi(a),(a&(t.suspendedLanes|n))!==0?0:a}function Xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function In(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:K0(t.type))}function Jn(t,n){var a=se.p;try{return se.p=t,n()}finally{se.p=a}}var Wn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Wn,Qt="__reactProps$"+Wn,yi="__reactContainer$"+Wn,Ea="__reactEvents$"+Wn,Yh="__reactListeners$"+Wn,vu="__reactHandles$"+Wn,bu="__reactResources$"+Wn,_i="__reactMarker$"+Wn;function Ta(t){delete t[Nt],delete t[Qt],delete t[Ea],delete t[Yh],delete t[vu]}function vi(t){var n=t[Nt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yi]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=O0(t);t!==null;){if(a=t[Nt])return a;t=O0(t)}return n}t=a,a=t.parentNode}return null}function Un(t){if(t=t[Nt]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function bi(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[_i]=!0}var jo=new Set,Lo={};function Ei(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(Lo[t]=n,t=0;t<n.length;t++)jo.add(n[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},zo={};function Eu(t){return Et.call(zo,t)?!0:Et.call(Uo,t)?!1:Po.test(t)?zo[t]=!0:(Uo[t]=!0,!1)}function wa(t,n,a){if(Eu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Nn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ot(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Bo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function et(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Bo(t,n,""+t[n])}}function Dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function gn(t){return t.replace(Or,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sa(t,n,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kt(n)):t.value!==""+Kt(n)&&(t.value=""+Kt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qo(t,y,Kt(n)):a!=null?qo(t,y,Kt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Kt(E):t.removeAttribute("name")}function Tu(t,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){et(t);return}a=a!=null?""+Kt(a):"",n=n!=null?""+Kt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),et(t)}function qo(t,n,a){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Kt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+Kt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Kt(a):""}function Rs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(bt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Kt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),et(t)}function yn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Su.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Fo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ho(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ho(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Go=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Si=null;function kr(t){var n=Un(t);if(n&&(t=n.stateNode)){var a=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Qt]||null;if(!h)throw Error(r(90));Sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Dr(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&xs(t,!!a.multiple,n,!1)}}}var Ra=!1;function Ns(t,n,a){if(Ra)return t(n,a);Ra=!0;try{var o=t(n);return o}finally{if(Ra=!1,(Cs!==null||Si!==null)&&(_c(),Cs&&(n=Cs,t=Si,Si=Cs=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function ti(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Qt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Bn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Mr=!1}var Ai=null,Yo=null,Vr=null;function Qo(){if(Vr)return Vr;var t,n=Yo,a=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Vr=h.slice(t,1<o?1-o:void 0)}function jr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ni(){return!1}function Jt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ni,this.isPropagationStopped=ni,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Jt(Zi),Ds=S({},Zi,{view:0,detail:0}),Ko=Jt(Ds),Os,Ia,Ri,Ca=S({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Os=t.screenX-Ri.screenX,Ia=t.screenY-Ri.screenY):Ia=Os=0,Ri=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Xo=Jt(Ca),Lr=S({},Ca,{dataTransfer:0}),xu=Jt(Lr),Ru=S({},Ds,{relatedTarget:0}),Pr=Jt(Ru),$o=S({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Jt($o),Na=S({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=Jt(Na),Nu=S({},Zi,{data:0}),Ii=Jt(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ku[t])?!!n[t]:!1}function ks(){return Mu}var dn=S({},Ds,{key:function(t){if(t.key){var n=Du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vu=Jt(dn),ju=S({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Jt(ju),c=S({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Jt(c),v=S({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Jt(v),L=S({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Jt(L),ie=S({},Zi,{newState:0,oldState:0}),Ce=Jt(ie),xt=[9,13,27,32],$e=Bn&&"CompositionEvent"in window,gt=null;Bn&&"documentMode"in document&&(gt=document.documentMode);var qn=Bn&&"TextEvent"in window&&!gt,Ci=Bn&&(!$e||gt&&8<gt&&11>=gt),ii=" ",si=!1;function Ur(t,n){switch(t){case"keyup":return xt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function gE(t,n){switch(t){case"compositionend":return Da(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return t=n.data,t===ii&&si?null:t;default:return null}}function yE(t,n){if(Oa)return t==="compositionend"||!$e&&Ur(t,n)?(t=Qo(),Vr=Yo=Ai=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var _E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!_E[t.type]:n==="textarea"}function jp(t,n,a,o){Cs?Si?Si.push(o):Si=[o]:Cs=o,n=Ac(n,"onChange"),0<n.length&&(a=new xi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Zo=null,Jo=null;function vE(t){_0(t,0)}function Lu(t){var n=Cn(t);if(Dr(n))return t}function Lp(t,n){if(t==="change")return n}var Pp=!1;if(Bn){var Qh;if(Bn){var Kh="oninput"in document;if(!Kh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Kh=typeof Up.oninput=="function"}Qh=Kh}else Qh=!1;Pp=Qh&&(!document.documentMode||9<document.documentMode)}function zp(){Zo&&(Zo.detachEvent("onpropertychange",Bp),Jo=Zo=null)}function Bp(t){if(t.propertyName==="value"&&Lu(Jo)){var n=[];jp(n,Jo,t,zn(t)),Ns(vE,n)}}function bE(t,n,a){t==="focusin"?(zp(),Zo=n,Jo=a,Zo.attachEvent("onpropertychange",Bp)):t==="focusout"&&zp()}function EE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Jo)}function TE(t,n){if(t==="click")return Lu(n)}function wE(t,n){if(t==="input"||t==="change")return Lu(n)}function SE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:SE;function Wo(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hp(t,n){var a=qp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Fp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wi(t.document)}return n}function Xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var AE=Bn&&"documentMode"in document&&11>=document.documentMode,ka=null,$h=null,el=null,Zh=!1;function Yp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||ka==null||ka!==wi(o)||(o=ka,"selectionStart"in o&&Xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),el&&Wo(el,o)||(el=o,o=Ac($h,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ka)))}function zr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ma={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Jh={},Qp={};Bn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Br(t){if(Jh[t])return Jh[t];if(!Ma[t])return t;var n=Ma[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qp)return Jh[t]=n[a];return t}var Kp=Br("animationend"),Xp=Br("animationiteration"),$p=Br("animationstart"),xE=Br("transitionrun"),RE=Br("transitionstart"),IE=Br("transitioncancel"),Zp=Br("transitionend"),Jp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function ri(t,n){Jp.set(t,n),Ei(n,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Va=0,ef=0;function Uu(){for(var t=Va,n=ef=Va=0;n<t;){var a=Hn[n];Hn[n++]=null;var o=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var f=Hn[n];if(Hn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Wp(a,h,f)}}function zu(t,n,a,o){Hn[Va++]=t,Hn[Va++]=n,Hn[Va++]=a,Hn[Va++]=o,ef|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function tf(t,n,a,o){return zu(t,n,a,o),Bu(t)}function qr(t,n){return zu(t,null,null,n),Bu(t)}function Wp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Bu(t){if(50<Tl)throw Tl=0,hd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ja={};function CE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,a,o){return new CE(t,n,a,o)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=On(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function eg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function qu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")nf(t)&&(y=1);else if(typeof t=="string")y=MT(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=On(31,a,n,h),t.elementType=I,t.lanes=f,t;case ee:return Hr(a.children,h,f,n);case Z:y=8,h|=24;break;case W:return t=On(12,a,n,h|2),t.elementType=W,t.lanes=f,t;case Pe:return t=On(13,a,n,h),t.elementType=Pe,t.lanes=f,t;case Re:return t=On(19,a,n,h),t.elementType=Re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:y=10;break e;case ge:y=9;break e;case Ie:y=11;break e;case N:y=14;break e;case A:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=On(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Hr(t,n,a,o){return t=On(7,t,o,n),t.lanes=a,t}function sf(t,n,a){return t=On(6,t,null,n),t.lanes=a,t}function tg(t){var n=On(18,null,null,0);return n.stateNode=t,n}function rf(t,n,a){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ng=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Rr(n)},ng.set(t,n),n)}return{value:t,source:n,stack:Rr(n)}}var La=[],Pa=0,Hu=null,tl=0,Gn=[],Yn=0,Ms=null,Ni=1,Di="";function es(t,n){La[Pa++]=tl,La[Pa++]=Hu,Hu=t,tl=n}function ig(t,n,a){Gn[Yn++]=Ni,Gn[Yn++]=Di,Gn[Yn++]=Ms,Ms=t;var o=Ni;t=Di;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var f=32-_t(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ni=1<<32-_t(n)+h|a<<h|o,Di=f+t}else Ni=1<<f|a<<h|o,Di=t}function af(t){t.return!==null&&(es(t,1),ig(t,1,0))}function of(t){for(;t===Hu;)Hu=La[--Pa],La[Pa]=null,tl=La[--Pa],La[Pa]=null;for(;t===Ms;)Ms=Gn[--Yn],Gn[Yn]=null,Di=Gn[--Yn],Gn[Yn]=null,Ni=Gn[--Yn],Gn[Yn]=null}function sg(t,n){Gn[Yn++]=Ni,Gn[Yn++]=Di,Gn[Yn++]=Ms,Ni=n.id,Di=n.overflow,Ms=t}var Wt=null,ht=null,Ge=!1,Vs=null,Qn=!1,lf=Error(r(519));function js(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Fn(n,t)),lf}function rg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Qt]=o,a){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Le(Sl[a],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||T0(n.textContent,a)?(o.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),o.onScroll!=null&&Le("scroll",n),o.onScrollEnd!=null&&Le("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||js(t,!0)}function ag(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Wt=Wt.return}}function Ua(t){if(t!==Wt)return!1;if(!Ge)return ag(t),Ge=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xd(t.type,t.memoizedProps)),a=!a),a&&ht&&js(t),ag(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=D0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=D0(t)}else n===27?(n=ht,$s(t.type)?(t=Dd,Dd=null,ht=t):ht=n):ht=Wt?Xn(t.stateNode.nextSibling):null;return!0}function Fr(){ht=Wt=null,Ge=!1}function uf(){var t=Vs;return t!==null&&(En===null?En=t:En.push.apply(En,t),Vs=null),t}function nl(t){Vs===null?Vs=[t]:Vs.push(t)}var cf=D(null),Gr=null,ts=null;function Ls(t,n,a){te(cf,n._currentValue),n._currentValue=a}function ns(t){t._currentValue=cf.current,Q(cf)}function hf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function ff(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),hf(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),hf(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function za(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;Dn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&ff(n,t,a,o),n.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Gr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return og(Gr,t)}function Gu(t,n){return Gr===null&&Yr(t),og(t,n)}function og(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return a}var NE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},DE=s.unstable_scheduleCallback,OE=s.unstable_NormalPriority,kt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new NE,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&DE(OE,function(){t.controller.abort()})}var sl=null,mf=0,Ba=0,qa=null;function kE(t,n){if(sl===null){var a=sl=[];mf=0,Ba=yd(),qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return mf++,n.then(lg,lg),n}function lg(){if(--mf===0&&sl!==null){qa!==null&&(qa.status="fulfilled");var t=sl;sl=null,Ba=0,qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ME(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ug=F.S;F.S=function(t,n){Yy=Zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kE(t,n),ug!==null&&ug(t,n)};var Qr=D(null);function pf(){var t=Qr.current;return t!==null?t:lt.pooledCache}function Yu(t,n){n===null?te(Qr,Qr.current):te(Qr,n.pool)}function cg(){var t=pf();return t===null?null:{parent:kt._currentValue,pool:t}}var Ha=Error(r(460)),gf=Error(r(474)),Qu=Error(r(542)),Ku={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ei,ei),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mg(t),t;default:if(typeof n.status=="string")n.then(ei,ei);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,mg(t),t}throw Xr=n,Ha}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xr=a,Ha):a}}var Xr=null;function dg(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function mg(t){if(t===Ha||t===Qu)throw Error(r(483))}var Fa=null,rl=0;function Xu(t){var n=rl;return rl+=1,Fa===null&&(Fa=[]),fg(Fa,t,n)}function al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function pg(t){function n(V,k){if(t){var P=V.deletions;P===null?(V.deletions=[k],V.flags|=16):P.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)n(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=Wi(V,k),V.index=0,V.sibling=null,V}function f(V,k,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<k?(V.flags|=67108866,k):P):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,P,Y){return k===null||k.tag!==6?(k=sf(P,V.mode,Y),k.return=V,k):(k=h(k,P),k.return=V,k)}function C(V,k,P,Y){var _e=P.type;return _e===ee?G(V,k,P.props.children,Y,P.key):k!==null&&(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Kr(_e)===k.type)?(k=h(k,P.props),al(k,P),k.return=V,k):(k=qu(P.type,P.key,P.props,null,V.mode,Y),al(k,P),k.return=V,k)}function U(V,k,P,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=rf(P,V.mode,Y),k.return=V,k):(k=h(k,P.children||[]),k.return=V,k)}function G(V,k,P,Y,_e){return k===null||k.tag!==7?(k=Hr(P,V.mode,Y,_e),k.return=V,k):(k=h(k,P),k.return=V,k)}function K(V,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=sf(""+k,V.mode,P),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case B:return P=qu(k.type,k.key,k.props,null,V.mode,P),al(P,k),P.return=V,P;case J:return k=rf(k,V.mode,P),k.return=V,k;case A:return k=Kr(k),K(V,k,P)}if(bt(k)||j(k))return k=Hr(k,V.mode,P,null),k.return=V,k;if(typeof k.then=="function")return K(V,Xu(k),P);if(k.$$typeof===ue)return K(V,Gu(V,k),P);$u(V,k)}return null}function z(V,k,P,Y){var _e=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _e!==null?null:E(V,k,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===_e?C(V,k,P,Y):null;case J:return P.key===_e?U(V,k,P,Y):null;case A:return P=Kr(P),z(V,k,P,Y)}if(bt(P)||j(P))return _e!==null?null:G(V,k,P,Y,null);if(typeof P.then=="function")return z(V,k,Xu(P),Y);if(P.$$typeof===ue)return z(V,k,Gu(V,P),Y);$u(V,P)}return null}function H(V,k,P,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(P)||null,E(k,V,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return V=V.get(Y.key===null?P:Y.key)||null,C(k,V,Y,_e);case J:return V=V.get(Y.key===null?P:Y.key)||null,U(k,V,Y,_e);case A:return Y=Kr(Y),H(V,k,P,Y,_e)}if(bt(Y)||j(Y))return V=V.get(P)||null,G(k,V,Y,_e,null);if(typeof Y.then=="function")return H(V,k,P,Xu(Y),_e);if(Y.$$typeof===ue)return H(V,k,P,Gu(k,Y),_e);$u(k,Y)}return null}function ce(V,k,P,Y){for(var _e=null,Ke=null,de=k,Oe=k=0,ze=null;de!==null&&Oe<P.length;Oe++){de.index>Oe?(ze=de,de=null):ze=de.sibling;var Xe=z(V,de,P[Oe],Y);if(Xe===null){de===null&&(de=ze);break}t&&de&&Xe.alternate===null&&n(V,de),k=f(Xe,k,Oe),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe,de=ze}if(Oe===P.length)return a(V,de),Ge&&es(V,Oe),_e;if(de===null){for(;Oe<P.length;Oe++)de=K(V,P[Oe],Y),de!==null&&(k=f(de,k,Oe),Ke===null?_e=de:Ke.sibling=de,Ke=de);return Ge&&es(V,Oe),_e}for(de=o(de);Oe<P.length;Oe++)ze=H(de,V,Oe,P[Oe],Y),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?Oe:ze.key),k=f(ze,k,Oe),Ke===null?_e=ze:Ke.sibling=ze,Ke=ze);return t&&de.forEach(function(tr){return n(V,tr)}),Ge&&es(V,Oe),_e}function be(V,k,P,Y){if(P==null)throw Error(r(151));for(var _e=null,Ke=null,de=k,Oe=k=0,ze=null,Xe=P.next();de!==null&&!Xe.done;Oe++,Xe=P.next()){de.index>Oe?(ze=de,de=null):ze=de.sibling;var tr=z(V,de,Xe.value,Y);if(tr===null){de===null&&(de=ze);break}t&&de&&tr.alternate===null&&n(V,de),k=f(tr,k,Oe),Ke===null?_e=tr:Ke.sibling=tr,Ke=tr,de=ze}if(Xe.done)return a(V,de),Ge&&es(V,Oe),_e;if(de===null){for(;!Xe.done;Oe++,Xe=P.next())Xe=K(V,Xe.value,Y),Xe!==null&&(k=f(Xe,k,Oe),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe);return Ge&&es(V,Oe),_e}for(de=o(de);!Xe.done;Oe++,Xe=P.next())Xe=H(de,V,Oe,Xe.value,Y),Xe!==null&&(t&&Xe.alternate!==null&&de.delete(Xe.key===null?Oe:Xe.key),k=f(Xe,k,Oe),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe);return t&&de.forEach(function(GT){return n(V,GT)}),Ge&&es(V,Oe),_e}function ot(V,k,P,Y){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var _e=P.key;k!==null;){if(k.key===_e){if(_e=P.type,_e===ee){if(k.tag===7){a(V,k.sibling),Y=h(k,P.props.children),Y.return=V,V=Y;break e}}else if(k.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Kr(_e)===k.type){a(V,k.sibling),Y=h(k,P.props),al(Y,P),Y.return=V,V=Y;break e}a(V,k);break}else n(V,k);k=k.sibling}P.type===ee?(Y=Hr(P.props.children,V.mode,Y,P.key),Y.return=V,V=Y):(Y=qu(P.type,P.key,P.props,null,V.mode,Y),al(Y,P),Y.return=V,V=Y)}return y(V);case J:e:{for(_e=P.key;k!==null;){if(k.key===_e)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){a(V,k.sibling),Y=h(k,P.children||[]),Y.return=V,V=Y;break e}else{a(V,k);break}else n(V,k);k=k.sibling}Y=rf(P,V.mode,Y),Y.return=V,V=Y}return y(V);case A:return P=Kr(P),ot(V,k,P,Y)}if(bt(P))return ce(V,k,P,Y);if(j(P)){if(_e=j(P),typeof _e!="function")throw Error(r(150));return P=_e.call(P),be(V,k,P,Y)}if(typeof P.then=="function")return ot(V,k,Xu(P),Y);if(P.$$typeof===ue)return ot(V,k,Gu(V,P),Y);$u(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,k!==null&&k.tag===6?(a(V,k.sibling),Y=h(k,P),Y.return=V,V=Y):(a(V,k),Y=sf(P,V.mode,Y),Y.return=V,V=Y),y(V)):a(V,k)}return function(V,k,P,Y){try{rl=0;var _e=ot(V,k,P,Y);return Fa=null,_e}catch(de){if(de===Ha||de===Qu)throw de;var Ke=On(29,de,null,V.mode);return Ke.lanes=Y,Ke.return=V,Ke}finally{}}}var $r=pg(!0),gg=pg(!1),Ps=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Bu(t),Wp(t,null,a),n}return zu(t,o,n,a),Bu(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Nr(t,a)}}function vf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var bf=!1;function ll(){if(bf){var t=qa;if(t!==null)throw t}}function ul(t,n,a,o){bf=!1;var h=t.updateQueue;Ps=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,U=C.next;C.next=null,y===null?f=U:y.next=U,y=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;y=0,G=U=C=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ue&z)===z:(o&z)===z){z!==0&&z===Ba&&(bf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,be=E;z=n;var ot=a;switch(be.tag){case 1:if(ce=be.payload,typeof ce=="function"){K=ce.call(ot,K,z);break e}K=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=be.payload,z=typeof ce=="function"?ce.call(ot,K,z):ce,z==null)break e;K=S({},K,z);break e;case 2:Ps=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=H,C=K):G=G.next=H,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Gs|=y,t.lanes=y,t.memoizedState=K}}function yg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function _g(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yg(a[t],n)}var Ga=D(null),Zu=D(0);function vg(t,n){t=hs,te(Zu,t),te(Ga,n),hs=t|n.baseLanes}function Ef(){te(Zu,hs),te(Ga,Ga.current)}function Tf(){hs=Zu.current,Q(Ga),Q(Zu)}var kn=D(null),Kn=null;function Bs(t){var n=t.alternate;te(Rt,Rt.current&1),te(kn,t),Kn===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Kn=t)}function wf(t){te(Rt,Rt.current),te(kn,t),Kn===null&&(Kn=t)}function bg(t){t.tag===22?(te(Rt,Rt.current),te(kn,t),Kn===null&&(Kn=t)):qs()}function qs(){te(Rt,Rt.current),te(kn,kn.current)}function Mn(t){Q(kn),Kn===t&&(Kn=null),Q(Rt)}var Rt=D(0);function Ju(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Nd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Ne=null,rt=null,Mt=null,Wu=!1,Ya=!1,Zr=!1,ec=0,cl=0,Qa=null,VE=0;function wt(){throw Error(r(321))}function Sf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Dn(t[a],n[a]))return!1;return!0}function Af(t,n,a,o,h,f){return is=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?iy:zf,Zr=!1,f=a(o,h),Zr=!1,Ya&&(f=Tg(n,a,o,h)),Eg(t),f}function Eg(t){F.H=dl;var n=rt!==null&&rt.next!==null;if(is=0,Mt=rt=Ne=null,Wu=!1,cl=0,Qa=null,n)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Fu(t)&&(Vt=!0))}function Tg(t,n,a,o){Ne=t;var h=0;do{if(Ya&&(Qa=null),cl=0,Ya=!1,25<=h)throw Error(r(301));if(h+=1,Mt=rt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=sy,f=n(a,o)}while(Ya);return f}function jE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function xf(){var t=ec!==0;return ec=0,t}function Rf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function If(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}is=0,Mt=rt=Ne=null,Ya=!1,cl=ec=0,Qa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ne.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function It(){if(rt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Mt===null?Ne.memoizedState:Mt.next;if(n!==null)Mt=n,rt=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Mt===null?Ne.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Qa===null&&(Qa=[]),t=fg(Qa,t,n),n=Ne,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?iy:zf),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ue)return en(t)}throw Error(r(438,String(t)))}function Cf(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=tc(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function ic(t){var n=It();return Nf(n,rt,t)}function Nf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,U=n,G=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Ue&K)===K:(is&K)===K){var z=U.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Ba&&(G=!0);else if((is&z)===z){U=U.next,z===Ba&&(G=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=K,y=f):C=C.next=K,Ne.lanes|=z,Gs|=z;K=U.action,Zr&&a(f,K),f=U.hasEagerState?U.eagerState:a(f,K)}else z={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=z,y=f):C=C.next=z,Ne.lanes|=K,Gs|=K;U=U.next}while(U!==null&&U!==n);if(C===null?y=f:C.next=E,!Dn(f,t.memoizedState)&&(Vt=!0,G&&(a=qa,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Df(t){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Dn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function wg(t,n,a){var o=Ne,h=It(),f=Ge;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Dn((rt||h).memoizedState,a);if(y&&(h.memoizedState=a,Vt=!0),h=h.queue,Mf(xg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},Ag.bind(null,o,h,a,n),null),lt===null)throw Error(r(349));f||(is&127)!==0||Sg(o,n,a)}return a}function Sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=tc(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ag(t,n,a,o){n.value=a,n.getSnapshot=o,Rg(n)&&Ig(t)}function xg(t,n,a){return a(function(){Rg(n)&&Ig(t)})}function Rg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Dn(t,a)}catch{return!0}}function Ig(t){var n=qr(t,2);n!==null&&Tn(n,t,2)}function Of(t){var n=mn();if(typeof t=="function"){var a=t;if(t=a(),Zr){pn(!0);try{a()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Cg(t,n,a,o){return t.baseState=a,Nf(t,rt,typeof o=="function"?o:ss)}function LE(t,n,a,o,h){if(ac(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ng(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ng(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),C=F.S;C!==null&&C(y,E),Dg(t,n,E)}catch(U){kf(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),Dg(t,n,f)}catch(U){kf(t,n,U)}}function Dg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Og(t,n,o)},function(o){return kf(t,n,o)}):Og(t,n,a)}function Og(t,n,a){n.status="fulfilled",n.value=a,kg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ng(t,a)))}function kf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,kg(n),n=n.next;while(n!==o)}t.action=null}function kg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mg(t,n){return n}function Vg(t,n){if(Ge){var a=lt.formState;if(a!==null){e:{var o=Ne;if(Ge){if(ht){t:{for(var h=ht,f=Qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Xn(h.nextSibling),o=h.data==="F!";break e}}js(o)}o=!1}o&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},a.queue=o,a=ey.bind(null,Ne,o),o.dispatch=a,o=Of(!1),f=Uf.bind(null,Ne,!1,o.queue),o=mn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=LE.bind(null,Ne,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function jg(t){var n=It();return Lg(n,rt,t)}function Lg(t,n,a){if(n=Nf(t,n,Mg)[0],t=ic(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=hl(n)}catch(y){throw y===Ha?Qu:y}else o=n;n=It();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,Ka(9,{destroy:void 0},PE.bind(null,h,a),null)),[o,f,t]}function PE(t,n){t.action=n}function Pg(t){var n=It(),a=rt;if(a!==null)return Lg(n,a,t);It(),n=n.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ka(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=tc(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ug(){return It().memoizedState}function sc(t,n,a,o){var h=mn();Ne.flags|=t,h.memoizedState=Ka(1|n,{destroy:void 0},a,o===void 0?null:o)}function rc(t,n,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;rt!==null&&o!==null&&Sf(o,rt.memoizedState.deps)?h.memoizedState=Ka(n,f,a,o):(Ne.flags|=t,h.memoizedState=Ka(1|n,f,a,o))}function zg(t,n){sc(8390656,8,t,n)}function Mf(t,n){rc(2048,8,t,n)}function UE(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=tc(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Bg(t){var n=It().memoizedState;return UE({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function qg(t,n){return rc(4,2,t,n)}function Hg(t,n){return rc(4,4,t,n)}function Fg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Gg(t,n,a){a=a!=null?a.concat([t]):null,rc(4,4,Fg.bind(null,n,t),a)}function Vf(){}function Yg(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Sf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Qg(t,n){var a=It();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Sf(n,o[1]))return o[0];if(o=t(),Zr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o}function jf(t,n,a){return a===void 0||(is&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ky(),Ne.lanes|=t,Gs|=t,a)}function Kg(t,n,a,o){return Dn(a,n)?a:Ga.current!==null?(t=jf(t,a,o),Dn(t,n)||(Vt=!0),t):(is&42)===0||(is&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=a):(t=Ky(),Ne.lanes|=t,Gs|=t,n)}function Xg(t,n,a,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Uf(t,!1,n,a);try{var C=h(),U=F.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=ME(C,o);fl(t,n,G,Ln(t))}else fl(t,n,o,Ln(t))}catch(K){fl(t,n,{then:function(){},status:"rejected",reason:K},Ln())}finally{se.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function zE(){}function Lf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=$g(t).queue;Xg(t,h,n,ye,a===null?zE:function(){return Zg(t),a(o)})}function $g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Zg(t){var n=$g(t);n.next===null&&(n=t.alternate.memoizedState),fl(t,n.next.queue,{},Ln())}function Pf(){return en(Cl)}function Jg(){return It().memoizedState}function Wg(){return It().memoizedState}function BE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ln();t=Us(a);var o=zs(n,t,a);o!==null&&(Tn(o,n,a),ol(o,n,a)),n={cache:df()},t.payload=n;return}n=n.return}}function qE(t,n,a){var o=Ln();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?ty(n,a):(a=tf(t,n,a,o),a!==null&&(Tn(a,t,o),ny(a,n,o)))}function ey(t,n,a){var o=Ln();fl(t,n,a,o)}function fl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))ty(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,Dn(E,y))return zu(t,n,h,0),lt===null&&Uu(),!1}catch{}finally{}if(a=tf(t,n,h,o),a!==null)return Tn(a,t,o),ny(a,n,o),!0}return!1}function Uf(t,n,a,o){if(o={lane:2,revertLane:yd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(n)throw Error(r(479))}else n=tf(t,a,o,2),n!==null&&Tn(n,t,2)}function ac(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function ty(t,n){Ya=Wu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ny(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Nr(t,a)}}var dl={readContext:en,use:nc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};dl.useEffectEvent=wt;var iy={readContext:en,use:nc,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:en,useEffect:zg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,sc(4194308,4,Fg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return sc(4194308,4,t,n)},useInsertionEffect:function(t,n){sc(4,2,t,n)},useMemo:function(t,n){var a=mn();n=n===void 0?null:n;var o=t();if(Zr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=mn();if(a!==void 0){var h=a(n);if(Zr){pn(!0);try{a(n)}finally{pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=qE.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:function(t){t=Of(t);var n=t.queue,a=ey.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(t,n){var a=mn();return jf(a,t,n)},useTransition:function(){var t=Of(!1);return t=Xg.bind(null,Ne,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ne,h=mn();if(Ge){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),lt===null)throw Error(r(349));(Ue&127)!==0||Sg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,zg(xg.bind(null,o,f,t),[t]),o.flags|=2048,Ka(9,{destroy:void 0},Ag.bind(null,o,f,a,n),null),a},useId:function(){var t=mn(),n=lt.identifierPrefix;if(Ge){var a=Di,o=Ni;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ec++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=VE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Pf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=mn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:Cf,useCacheRefresh:function(){return mn().memoizedState=BE.bind(null,Ne)},useEffectEvent:function(t){var n=mn(),a={impl:t};return n.memoizedState=a,function(){if((Ze&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:en,use:nc,useCallback:Yg,useContext:en,useEffect:Mf,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:ic,useRef:Ug,useState:function(){return ic(ss)},useDebugValue:Vf,useDeferredValue:function(t,n){var a=It();return Kg(a,rt.memoizedState,t,n)},useTransition:function(){var t=ic(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wg,useId:Jg,useHostTransitionStatus:Pf,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var a=It();return Cg(a,rt,t,n)},useMemoCache:Cf,useCacheRefresh:Wg};zf.useEffectEvent=Bg;var sy={readContext:en,use:nc,useCallback:Yg,useContext:en,useEffect:Mf,useImperativeHandle:Gg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:Df,useRef:Ug,useState:function(){return Df(ss)},useDebugValue:Vf,useDeferredValue:function(t,n){var a=It();return rt===null?jf(a,t,n):Kg(a,rt.memoizedState,t,n)},useTransition:function(){var t=Df(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wg,useId:Jg,useHostTransitionStatus:Pf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,n){var a=It();return rt!==null?Cg(a,rt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Wg};sy.useEffectEvent=Bg;function Bf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Ln(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Tn(n,t,o),ol(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Ln(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=zs(t,h,o),n!==null&&(Tn(n,t,o),ol(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Ln(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=zs(t,o,a),n!==null&&(Tn(n,t,a),ol(n,t,a))}};function ry(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Wo(a,o)||!Wo(h,f):!0}function ay(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&qf.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function oy(t){Pu(t)}function ly(t){console.error(t)}function uy(t){Pu(t)}function oc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function cy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,n)},a}function hy(t){return t=Us(t),t.tag=3,t}function fy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){cy(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){cy(n,a,o),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function HE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&za(n,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Kn===null?vc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),md(t,o,h)),!1;case 22:return a.flags|=65536,o===Ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),md(t,o,h)),!1}throw Error(r(435,a.tag))}return md(t,o,h),vc(),!1}if(Ge)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==lf&&(t=Error(r(422),{cause:o}),nl(Fn(t,a)))):(o!==lf&&(n=Error(r(423),{cause:o}),nl(Fn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Fn(o,a),h=Hf(t.stateNode,o,h),vf(t,h),St!==4&&(St=2)),!1;var f=Error(r(520),{cause:o});if(f=Fn(f,a),El===null?El=[f]:El.push(f),St!==4&&(St=2),n===null)return!0;o=Fn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hf(a.stateNode,o,t),vf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hy(h),fy(h,t,a,o),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ff=Error(r(461)),Vt=!1;function tn(t,n,a,o){n.child=t===null?gg(n,null,a,o):$r(n,t.child,a,o)}function dy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Yr(n),o=Af(t,n,a,y,f,h),E=xf(),t!==null&&!Vt?(Rf(t,n,h),rs(t,n,h)):(Ge&&E&&af(n),n.flags|=1,tn(t,n,o,h),n.child)}function my(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,py(t,n,f,o,h)):(t=qu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Jf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(y,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,o),t.ref=n.ref,t.return=n,n.child=t}function py(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Wo(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Jf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return Gf(t,n,a,o,h)}function gy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return yy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(n,f!==null?f.cachePool:null),f!==null?vg(n,f):Ef(),bg(n);else return o=n.lanes=536870912,yy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Yu(n,f.cachePool),vg(n,f),qs(),n.memoizedState=null):(t!==null&&Yu(n,null),Ef(),qs());return tn(t,n,h,a),n.child}function ml(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function yy(t,n,a,o,h){var f=pf();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yu(n,null),Ef(),bg(n),t!==null&&za(t,n,o,!0),n.childLanes=h,null}function lc(t,n){return n=cc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _y(t,n,a){return $r(n,t.child,null,a),t=lc(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function FE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(o.mode==="hidden")return t=lc(n,o),n.lanes=536870912,ml(null,t);if(wf(n),(t=ht)?(t=N0(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=n,n.child=a,Wt=n,ht=null)):t=null,t===null)throw js(n);return n.lanes=536870912,null}return lc(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=_y(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Vt||za(t,n,a,!1),h=(a&t.childLanes)!==0,Vt||h){if(o=lt,o!==null&&(y=Ki(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,qr(t,y),Tn(o,t,y),Ff;vc(),n=_y(t,n,a)}else t=f.treeContext,ht=Xn(y.nextSibling),Wt=n,Ge=!0,Vs=null,Qn=!1,t!==null&&sg(n,t),n=lc(n,o),n.flags|=4096;return n}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gf(t,n,a,o,h){return Yr(n),a=Af(t,n,a,o,void 0,h),o=xf(),t!==null&&!Vt?(Rf(t,n,h),rs(t,n,h)):(Ge&&o&&af(n),n.flags|=1,tn(t,n,a,h),n.child)}function vy(t,n,a,o,h,f){return Yr(n),n.updateQueue=null,a=Tg(n,o,a,h),Eg(t),o=xf(),t!==null&&!Vt?(Rf(t,n,f),rs(t,n,f)):(Ge&&o&&af(n),n.flags|=1,tn(t,n,a,f),n.child)}function by(t,n,a,o,h){if(Yr(n),n.stateNode===null){var f=ja,y=a.contextType;typeof y=="object"&&y!==null&&(f=en(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},yf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?en(y):ja,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Bf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&qf.enqueueReplaceState(f,f.state,null),ul(n,o,f,h),ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Jr(a,E);f.props=C;var U=f.context,G=a.contextType;y=ja,typeof G=="object"&&G!==null&&(y=en(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==y)&&ay(n,f,o,y),Ps=!1;var z=n.memoizedState;f.state=z,ul(n,o,f,h),ll(),U=n.memoizedState,E||z!==U||Ps?(typeof K=="function"&&(Bf(n,a,K,o),U=n.memoizedState),(C=Ps||ry(n,a,C,o,z,U,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,_f(t,n),y=n.memoizedProps,G=Jr(a,y),f.props=G,K=n.pendingProps,z=f.context,U=a.contextType,C=ja,typeof U=="object"&&U!==null&&(C=en(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||z!==C)&&ay(n,f,o,C),Ps=!1,z=n.memoizedState,f.state=z,ul(n,o,f,h),ll();var H=n.memoizedState;y!==K||z!==H||Ps||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(Bf(n,a,E,o),H=n.memoizedState),(G=Ps||ry(n,a,G,o,z,H,C)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,uc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=$r(n,t.child,null,h),n.child=$r(n,null,a,h)):tn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function Ey(t,n,a,o){return Fr(),n.flags|=256,tn(t,n,a,o),n.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:cg()}}function Kf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=jn),t}function Ty(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?Bs(n):qs(),(t=ht)?(t=N0(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=tg(t),a.return=n,n.child=a,Wt=n,ht=null)):t=null,t===null)throw js(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(qs(),h=n.mode,E=cc({mode:"hidden",children:E},h),o=Hr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Qf(a),o.childLanes=Kf(t,y,a),n.memoizedState=Yf,ml(null,o)):(Bs(n),Xf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Bs(n),n.flags&=-257,n=$f(t,n,a)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),E=o.fallback,h=n.mode,o=cc({mode:"visible",children:o.children},h),E=Hr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,$r(n,t.child,null,a),o=n.child,o.memoizedState=Qf(a),o.childLanes=Kf(t,y,a),n.memoizedState=Yf,n=ml(null,o));else if(Bs(n),Nd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var U=y.dgst;y=U,o=Error(r(419)),o.stack="",o.digest=y,nl({value:o,source:null,stack:null}),n=$f(t,n,a)}else if(Vt||za(t,n,a,!1),y=(a&t.childLanes)!==0,Vt||y){if(y=lt,y!==null&&(o=Ki(y,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,qr(t,o),Tn(y,t,o),Ff;Cd(E)||vc(),n=$f(t,n,a)}else Cd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ht=Xn(E.nextSibling),Wt=n,Ge=!0,Vs=null,Qn=!1,t!==null&&sg(n,t),n=Xf(n,o.children),n.flags|=4096);return n}return h?(qs(),E=o.fallback,h=n.mode,C=t.child,U=C.sibling,o=Wi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=Wi(U,E):(E=Hr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ml(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Qf(a):(h=E.cachePool,h!==null?(C=kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=cg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Kf(t,y,a),n.memoizedState=Yf,ml(t.child,o)):(Bs(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Xf(t,n){return n=cc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cc(t,n){return t=On(22,t,null,n),t.lanes=0,t}function $f(t,n,a){return $r(n,t.child,null,a),t=Xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),hf(t.return,n,a)}function Zf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Sy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Rt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,te(Rt,y),tn(t,n,o,a),o=Ge?tl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,a,n);else if(t.tag===19)wy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Zf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Zf(n,!0,a,null,f,o);break;case"together":Zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(za(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function GE(t,n,a){switch(n.tag){case 3:At(n,n.stateNode.containerInfo),Ls(n,kt,t.memoizedState.cache),Fr();break;case 27:case 5:Bt(n);break;case 4:At(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Bs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ty(t,n,a):(Bs(n),t=rs(t,n,a),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(za(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Sy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Rt,Rt.current),o)break;return null;case 22:return n.lanes=0,gy(t,n,a,n.pendingProps);case 24:Ls(n,kt,t.memoizedState.cache)}return rs(t,n,a)}function Ay(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Jf(t,a)&&(n.flags&128)===0)return Vt=!1,GE(t,n,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ge&&(n.flags&1048576)!==0&&ig(n,tl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")nf(t)?(o=Jr(t,o),n.tag=1,n=by(null,n,t,o,a)):(n.tag=0,n=Gf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ie){n.tag=11,n=dy(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=my(null,n,t,o,a);break e}}throw n=it(t)||t,Error(r(306,n,""))}}return n;case 0:return Gf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Jr(o,n.pendingProps),by(t,n,o,h,a);case 3:e:{if(At(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,_f(t,n),ul(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Ls(n,kt,o),o!==f.cache&&ff(n,[kt],a,!0),ll(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ey(t,n,o,a);break e}else if(o!==h){h=Fn(Error(r(424)),n),nl(h),n=Ey(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Xn(t.firstChild),Wt=n,Ge=!0,Vs=null,Qn=!0,a=gg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fr(),o===h){n=rs(t,n,a);break e}tn(t,n,o,a)}n=n.child}return n;case 26:return uc(t,n),t===null?(a=j0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ge||(a=n.type,t=n.pendingProps,o=xc(he.current).createElement(a),o[Nt]=n,o[Qt]=t,nn(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=j0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Bt(n),t===null&&Ge&&(o=n.stateNode=k0(n.type,n.pendingProps,he.current),Wt=n,Qn=!0,h=ht,$s(n.type)?(Dd=h,ht=Xn(o.firstChild)):ht=h),tn(t,n,n.pendingProps.children,a),uc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=o=ht)&&(o=ET(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,Wt=n,ht=Xn(o.firstChild),Qn=!1,h=!0):h=!1),h||js(n)),Bt(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,xd(h,f)?o=null:y!==null&&xd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(t,n,jE,null,null,a),Cl._currentValue=h),uc(t,n),tn(t,n,o,a),n.child;case 6:return t===null&&Ge&&((t=a=ht)&&(a=TT(a,n.pendingProps,Qn),a!==null?(n.stateNode=a,Wt=n,ht=null,t=!0):t=!1),t||js(n)),null;case 13:return Ty(t,n,a);case 4:return At(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=$r(n,null,o,a):tn(t,n,o,a),n.child;case 11:return dy(t,n,n.type,n.pendingProps,a);case 7:return tn(t,n,n.pendingProps,a),n.child;case 8:return tn(t,n,n.pendingProps.children,a),n.child;case 12:return tn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ls(n,n.type,o.value),tn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Yr(n),h=en(h),o=o(h),n.flags|=1,tn(t,n,o,a),n.child;case 14:return my(t,n,n.type,n.pendingProps,a);case 15:return py(t,n,n.type,n.pendingProps,a);case 19:return Sy(t,n,a);case 31:return FE(t,n,a);case 22:return gy(t,n,a,n.pendingProps);case 24:return Yr(n),o=en(kt),t===null?(h=pf(),h===null&&(h=lt,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},yf(n),Ls(n,kt,h)):((t.lanes&a)!==0&&(_f(t,n),ul(n,null,null,a),ll()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,kt,o)):(o=f.cache,Ls(n,kt,o),o!==h.cache&&ff(n,[kt],a,!0))),tn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(t){t.flags|=4}function Wf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jy())t.flags|=8192;else throw Xr=Ku,gf}else t.flags&=-16777217}function xy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!B0(n))if(Jy())t.flags|=8192;else throw Xr=Ku,gf}function hc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Gi():536870912,t.lanes|=n,Ja|=n)}function pl(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function YE(t,n,a){var o=n.pendingProps;switch(of(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(kt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(ft(n),xy(n,f)):(ft(n),Wf(n,h,null,o,a))):f?f!==t.memoizedState?(as(n),ft(n),xy(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),ft(n),Wf(n,h,t,o,a)),null;case 27:if(Es(n),a=he.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=re.current,Ua(n)?rg(n):(t=k0(h,o,a),n.stateNode=t,as(n))}return ft(n),null;case 5:if(Es(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(f=re.current,Ua(n))rg(n);else{var y=xc(he.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Nt]=n,f[Qt]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(nn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return ft(n),Wf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=he.current,Ua(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||T0(t.nodeValue,a)),t||js(n,!0)}else t=xc(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return ft(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ua(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ft(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Nt]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),hc(n,n.updateQueue),ft(n),null);case 4:return ut(),t===null&&Ed(n.stateNode.containerInfo),ft(n),null;case 10:return ns(n.type),ft(n),null;case 19:if(Q(Rt),o=n.memoizedState,o===null)return ft(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)pl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ju(t),f!==null){for(n.flags|=128,pl(o,!1),t=f.updateQueue,n.updateQueue=t,hc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)eg(a,t),a=a.sibling;return te(Rt,Rt.current&1|2),Ge&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Zt()>gc&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,hc(n,t),pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ge)return ft(n),null}else 2*Zt()-o.renderingStartTime>gc&&a!==536870912&&(n.flags|=128,h=!0,pl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,a=Rt.current,te(Rt,h?a&1|2:a&1),Ge&&es(n,o.treeForkCount),t):(ft(n),null);case 22:case 23:return Mn(n),Tf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&hc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Q(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(kt),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function QE(t,n){switch(of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(kt),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Es(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Rt),null;case 4:return ut(),null;case 10:return ns(n.type),null;case 22:case 23:return Mn(n),Tf(),t!==null&&Q(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(kt),null;case 25:return null;default:return null}}function Ry(t,n){switch(of(n),n.tag){case 3:ns(kt),ut();break;case 26:case 27:case 5:Es(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:Q(Rt);break;case 10:ns(n.type);break;case 22:case 23:Mn(n),Tf(),t!==null&&Q(Qr);break;case 24:ns(kt)}}function gl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){nt(n,n.return,E)}}function Hs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=a,U=E;try{U()}catch(G){nt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){nt(n,n.return,G)}}function Iy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{_g(n,a)}catch(o){nt(t,t.return,o)}}}function Cy(t,n,a){a.props=Jr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){nt(t,n,o)}}function yl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){nt(t,n,h)}}function Oi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){nt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,n,h)}else a.current=null}function Ny(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function ed(t,n,a){try{var o=t.stateNode;pT(o,t.type,a,n),o[Qt]=n}catch(h){nt(t,t.return,h)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&$s(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(nd(t,n,a),t=t.sibling;t!==null;)nd(t,n,a),t=t.sibling}function fc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&$s(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,n,a),t=t.sibling;t!==null;)fc(t,n,a),t=t.sibling}function Oy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,o,a),n[Nt]=t,n[Qt]=a}catch(f){nt(t,t.return,f)}}var os=!1,jt=!1,id=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function KE(t,n){if(t=t.containerInfo,Sd=kc,t=Gp(t),Xh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,C=-1,U=0,G=0,K=t,z=null;t:for(;;){for(var H;K!==a||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(C=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(H=K.firstChild)!==null;)z=K,K=H;for(;;){if(K===t)break t;if(z===a&&++U===h&&(E=y),z===f&&++G===o&&(C=y),(H=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:t,selectionRange:a},kc=!1,Xt=n;Xt!==null;)if(n=Xt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Xt=t;else for(;Xt!==null;){switch(n=Xt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ce=Jr(a.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){nt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Id(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Xt=t;break}Xt=n.return}}function My(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&gl(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){nt(a,a.return,y)}else{var h=Jr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){nt(a,a.return,y)}}o&64&&Iy(a),o&512&&yl(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{_g(t,n)}catch(y){nt(a,a.return,y)}}break;case 27:n===null&&o&4&&Oy(a);case 26:case 5:us(t,a),n===null&&o&4&&Ny(a),o&512&&yl(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&Ly(t,a);break;case 13:us(t,a),o&4&&Py(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=iT.bind(null,a),wT(t,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||jt,h=os;var f=jt;os=o,(jt=n)&&!f?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),os=h,jt=f}break;case 30:break;default:us(t,a)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,_n=!1;function ls(t,n,a){for(a=a.child;a!==null;)jy(t,n,a),a=a.sibling}function jy(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(qt,a)}catch{}switch(a.tag){case 26:jt||Oi(a,n),ls(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Oi(a,n);var o=yt,h=_n;$s(a.type)&&(yt=a.stateNode,_n=!1),ls(t,n,a),xl(a.stateNode),yt=o,_n=h;break;case 5:jt||Oi(a,n);case 6:if(o=yt,h=_n,yt=null,ls(t,n,a),yt=o,_n=h,yt!==null)if(_n)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){nt(a,n,f)}else try{yt.removeChild(a.stateNode)}catch(f){nt(a,n,f)}break;case 18:yt!==null&&(_n?(t=yt,I0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):I0(yt,a.stateNode));break;case 4:o=yt,h=_n,yt=a.stateNode.containerInfo,_n=!0,ls(t,n,a),yt=o,_n=h;break;case 0:case 11:case 14:case 15:Hs(2,a,n),jt||Hs(4,a,n),ls(t,n,a);break;case 1:jt||(Oi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cy(a,n,o)),ls(t,n,a);break;case 21:ls(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,ls(t,n,a),jt=o;break;default:ls(t,n,a)}}function Ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){nt(n,n.return,a)}}}function Py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){nt(n,n.return,a)}}function XE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ky),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ky),n;default:throw Error(r(435,t.tag))}}function dc(t,n){var a=XE(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=sT.bind(null,t,o);o.then(h,h)}})}function vn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if($s(E.type)){yt=E.stateNode,_n=!1;break e}break;case 5:yt=E.stateNode,_n=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,_n=!0;break e}E=E.return}if(yt===null)throw Error(r(160));jy(f,y,h),yt=null,_n=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var ai=null;function Uy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),bn(t),o&4&&(Hs(3,t,t.return),gl(3,t),Hs(5,t,t.return));break;case 1:vn(n,t),bn(t),o&512&&(jt||a===null||Oi(a,a.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ai;if(vn(n,t),bn(t),o&512&&(jt||a===null||Oi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,o,a),f[Nt]=t,Dt(f),o=f;break e;case"link":var y=U0("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;case"meta":if(y=U0("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),nn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Nt]=t,Dt(f),o=f}t.stateNode=o}else z0(h,t.type,t.stateNode);else t.stateNode=P0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?z0(h,t.type,t.stateNode):P0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(n,t),bn(t),o&512&&(jt||a===null||Oi(a,a.return)),a!==null&&o&4&&ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(n,t),bn(t),o&512&&(jt||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(ce){nt(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,a!==null?a.memoizedProps:h)),o&1024&&(id=!0);break;case 6:if(vn(n,t),bn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){nt(t,t.return,ce)}}break;case 3:if(Cc=null,h=ai,ai=Rc(n.containerInfo),vn(n,t),ai=h,bn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(n.containerInfo)}catch(ce){nt(t,t.return,ce)}id&&(id=!1,zy(t));break;case 4:o=ai,ai=Rc(t.stateNode.containerInfo),vn(n,t),bn(t),ai=o;break;case 12:vn(n,t),bn(t);break;case 31:vn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 13:vn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=Zt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=os,G=jt;if(os=U||h,jt=G||C,vn(n,t),jt=G,os=U,bn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||os||jt||Wr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){nt(C,C.return,ce)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){nt(C,C.return,ce)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?C0(H,!0):C0(C.stateNode,!1)}catch(ce){nt(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,dc(t,a))));break;case 19:vn(n,t),bn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,dc(t,o)));break;case 30:break;case 21:break;default:vn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Dy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=td(t);fc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(yn(y,""),a.flags&=-33);var E=td(t);fc(t,E,y);break;case 3:case 4:var C=a.stateNode.containerInfo,U=td(t);nd(t,U,C);break;default:throw Error(r(161))}}catch(G){nt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)My(t,n.alternate,n),n=n.sibling}function Wr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Hs(4,n,n.return),Wr(n);break;case 1:Oi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Cy(n,n.return,a),Wr(n);break;case 27:xl(n.stateNode);case 26:case 5:Oi(n,n.return),Wr(n);break;case 22:n.memoizedState===null&&Wr(n);break;case 30:Wr(n);break;default:Wr(n)}t=t.sibling}}function cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),gl(4,f);break;case 1:if(cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){nt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)yg(C[h],E)}catch(U){nt(o,o.return,U)}}a&&y&64&&Iy(f),yl(f,f.return);break;case 27:Oy(f);case 26:case 5:cs(h,f,a),a&&o===null&&y&4&&Ny(f),yl(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&y&4&&Ly(h,f);break;case 13:cs(h,f,a),a&&y&4&&Py(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),yl(f,f.return);break;case 30:break;default:cs(h,f,a)}n=n.sibling}}function sd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function rd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function oi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)By(t,n,a,o),n=n.sibling}function By(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(t,n,a,o),h&2048&&gl(9,n);break;case 1:oi(t,n,a,o);break;case 3:oi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){oi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){nt(n,n.return,C)}}else oi(t,n,a,o);break;case 31:oi(t,n,a,o);break;case 13:oi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?oi(t,n,a,o):_l(t,n):f._visibility&2?oi(t,n,a,o):(f._visibility|=2,Xa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(y,n);break;case 24:oi(t,n,a,o),h&2048&&rd(n.alternate,n);break;default:oi(t,n,a,o)}}function Xa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,C=o,U=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(f,y,E,C,h),gl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Xa(f,y,E,C,h):_l(f,y):(G._visibility|=2,Xa(f,y,E,C,h)),h&&U&2048&&sd(y.alternate,y);break;case 24:Xa(f,y,E,C,h),h&&U&2048&&rd(y.alternate,y);break;default:Xa(f,y,E,C,h)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:_l(a,o),h&2048&&sd(o.alternate,o);break;case 24:_l(a,o),h&2048&&rd(o.alternate,o);break;default:_l(a,o)}n=n.sibling}}var vl=8192;function $a(t,n,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)qy(t,n,a),t=t.sibling}function qy(t,n,a){switch(t.tag){case 26:$a(t,n,a),t.flags&vl&&t.memoizedState!==null&&VT(a,ai,t.memoizedState,t.memoizedProps);break;case 5:$a(t,n,a);break;case 3:case 4:var o=ai;ai=Rc(t.stateNode.containerInfo),$a(t,n,a),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=vl,vl=16777216,$a(t,n,a),vl=o):$a(t,n,a));break;default:$a(t,n,a)}}function Hy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xt=o,Gy(o,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Hs(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mc(t)):bl(t);break;default:bl(t)}}function mc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Xt=o,Gy(o,t)}Hy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Hs(8,n,n.return),mc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mc(n));break;default:mc(n)}t=t.sibling}}function Gy(t,n){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Hs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:il(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Xt=o;else e:for(a=t;Xt!==null;){o=Xt;var h=o.sibling,f=o.return;if(Vy(o),o===a){Xt=null;break e}if(h!==null){h.return=f,Xt=h;break e}Xt=f}}}var $E={getCacheForType:function(t){var n=en(kt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return en(kt).controller.signal}},ZE=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,je=null,Ue=0,tt=0,Vn=null,Fs=!1,Za=!1,ad=!1,hs=0,St=0,Gs=0,ea=0,od=0,jn=0,Ja=0,El=null,En=null,ld=!1,pc=0,Yy=0,gc=1/0,yc=null,Ys=null,Ft=0,Qs=null,Wa=null,fs=0,ud=0,cd=null,Qy=null,Tl=0,hd=null;function Ln(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?yd():_u()}function Ky(){if(jn===0)if((Ue&536870912)===0||Ge){var t=oe;oe<<=1,(oe&3932160)===0&&(oe=262144),jn=t}else jn=536870912;return t=kn.current,t!==null&&(t.flags|=32),jn}function Tn(t,n,a){(t===lt&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Ks(t,Ue,jn,!1)),Yi(t,a),((Ze&2)===0||t!==lt)&&(t===lt&&((Ze&2)===0&&(ea|=a),St===4&&Ks(t,Ue,jn,!1)),ki(t))}function Xy(t,n,a){if((Ze&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||pt(t,n),h=o?eT(t,n):dd(t,n,!0),f=o;do{if(h===0){Za&&!o&&Ks(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!JE(a)){h=dd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=El;var C=E.current.memoizedState.isDehydrated;if(C&&(eo(E,y).flags|=256),y=dd(E,y,!1),y!==2){if(ad&&!C){E.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){eo(t,0),Ks(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ks(o,n,jn,!Fs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=pc+300-Zt(),10<h)){if(Ks(o,n,jn,!Fs),We(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=x0($y.bind(null,o,a,En,yc,ld,n,jn,ea,Ja,Fs,f,"Throttled",-0,0),h);break e}$y(o,a,En,yc,ld,n,jn,ea,Ja,Fs,f,null,-0,0)}}break}while(!0);ki(t)}function $y(t,n,a,o,h,f,y,E,C,U,G,K,z,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},qy(n,f,K);var ce=(f&62914560)===f?pc-Zt():(f&4194048)===f?Yy-Zt():0;if(ce=jT(K,ce),ce!==null){fs=f,t.cancelPendingCommit=ce(s0.bind(null,t,n,f,a,o,h,y,E,C,G,K,null,z,H)),Ks(t,f,y,!U);return}}s0(t,n,f,a,o,h,y,E,C)}function JE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,a,o){n&=~od,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&Qi(t,a,n)}function _c(){return(Ze&6)===0?(wl(0),!1):!0}function fd(){if(je!==null){if(tt===0)var t=je.return;else t=je,ts=Gr=null,If(t),Fa=null,rl=0,t=je;for(;t!==null;)Ry(t.alternate,t),t=t.return;je=null}}function eo(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_T(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,fd(),lt=t,je=a=Wi(t.current,null),Ue=n,tt=0,Vn=null,Fs=!1,Za=pt(t,n),ad=!1,Ja=jn=od=ea=Gs=St=0,En=El=null,ld=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_t(o),f=1<<h;n|=t[h],o&=~f}return hs=n,Uu(),a}function Zy(t,n){Ne=null,F.H=dl,n===Ha||n===Qu?(n=dg(),tt=3):n===gf?(n=dg(),tt=4):tt=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vn=n,je===null&&(St=1,oc(t,Fn(n,t.current)))}function Jy(){var t=kn.current;return t===null?!0:(Ue&4194048)===Ue?Kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Kn:!1}function Wy(){var t=F.H;return F.H=dl,t===null?dl:t}function e0(){var t=F.A;return F.A=$E,t}function vc(){St=4,Fs||(Ue&4194048)!==Ue&&kn.current!==null||(Za=!0),(Gs&134217727)===0&&(ea&134217727)===0||lt===null||Ks(lt,Ue,jn,!1)}function dd(t,n,a){var o=Ze;Ze|=2;var h=Wy(),f=e0();(lt!==t||Ue!==n)&&(yc=null,eo(t,n)),n=!1;var y=St;e:do try{if(tt!==0&&je!==null){var E=je,C=Vn;switch(tt){case 8:fd(),y=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var U=tt;if(tt=0,Vn=null,to(t,E,C,U),a&&Za){y=0;break e}break;default:U=tt,tt=0,Vn=null,to(t,E,C,U)}}WE(),y=St;break}catch(G){Zy(t,G)}while(!0);return n&&t.shellSuspendCounter++,ts=Gr=null,Ze=o,F.H=h,F.A=f,je===null&&(lt=null,Ue=0,Uu()),y}function WE(){for(;je!==null;)t0(je)}function eT(t,n){var a=Ze;Ze|=2;var o=Wy(),h=e0();lt!==t||Ue!==n?(yc=null,gc=Zt()+500,eo(t,n)):Za=pt(t,n);e:do try{if(tt!==0&&je!==null){n=je;var f=Vn;t:switch(tt){case 1:tt=0,Vn=null,to(t,n,f,1);break;case 2:case 9:if(hg(f)){tt=0,Vn=null,n0(n);break}n=function(){tt!==2&&tt!==9||lt!==t||(tt=7),ki(t)},f.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:hg(f)?(tt=0,Vn=null,n0(n)):(tt=0,Vn=null,to(t,n,f,7));break;case 5:var y=null;switch(je.tag){case 26:y=je.memoizedState;case 5:case 27:var E=je;if(y?B0(y):E.stateNode.complete){tt=0,Vn=null;var C=E.sibling;if(C!==null)je=C;else{var U=E.return;U!==null?(je=U,bc(U)):je=null}break t}}tt=0,Vn=null,to(t,n,f,5);break;case 6:tt=0,Vn=null,to(t,n,f,6);break;case 8:fd(),St=6;break e;default:throw Error(r(462))}}tT();break}catch(G){Zy(t,G)}while(!0);return ts=Gr=null,F.H=o,F.A=h,Ze=a,je!==null?0:(lt=null,Ue=0,Uu(),St)}function tT(){for(;je!==null&&!Ir();)t0(je)}function t0(t){var n=Ay(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?bc(t):je=n}function n0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=vy(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=vy(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:If(n);default:Ry(a,n),n=je=eg(n,hs),n=Ay(a,n,hs)}t.memoizedProps=t.pendingProps,n===null?bc(t):je=n}function to(t,n,a,o){ts=Gr=null,If(n),Fa=null,rl=0;var h=n.return;try{if(HE(t,h,n,a,Ue)){St=1,oc(t,Fn(a,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;St=1,oc(t,Fn(a,t.current)),je=null;return}n.flags&32768?(Ge||o===1?t=!0:Za||(Ue&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),i0(n,t)):bc(n)}function bc(t){var n=t;do{if((n.flags&32768)!==0){i0(n,Fs);return}t=n.return;var a=YE(n.alternate,n,hs);if(a!==null){je=a;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);St===0&&(St=5)}function i0(t,n){do{var a=QE(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);St=6,je=null}function s0(t,n,a,o,h,f,y,E,C){t.cancelPendingCommit=null;do Ec();while(Ft!==0);if((Ze&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ef,ba(t,a,f,y,E,C),t===lt&&(je=lt=null,Ue=0),Wa=n,Qs=t,fs=a,ud=f,cd=h,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rT(Rn,function(){return u0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=se.p,se.p=2,y=Ze,Ze|=4;try{KE(t,n,a)}finally{Ze=y,se.p=h,F.T=o}}Ft=1,r0(),a0(),o0()}}function r0(){if(Ft===1){Ft=0;var t=Qs,n=Wa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{Uy(n,t);var f=Ad,y=Gp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Fp(E.ownerDocument.documentElement,E)){if(C!==null&&Xh(E)){var U=C.start,G=C.end;if(G===void 0&&(G=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var H=z.getSelection(),ce=E.textContent.length,be=Math.min(C.start,ce),ot=C.end===void 0?be:Math.min(C.end,ce);!H.extend&&be>ot&&(y=ot,ot=be,be=y);var V=Hp(E,be),k=Hp(E,ot);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var P=K.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),be>ot?(H.addRange(P),H.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),H.addRange(P))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}kc=!!Sd,Ad=Sd=null}finally{Ze=h,se.p=o,F.T=a}}t.current=n,Ft=2}}function a0(){if(Ft===2){Ft=0;var t=Qs,n=Wa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=se.p;se.p=2;var h=Ze;Ze|=4;try{My(t,n.alternate,n)}finally{Ze=h,se.p=o,F.T=a}}Ft=3}}function o0(){if(Ft===4||Ft===3){Ft=0,ya();var t=Qs,n=Wa,a=fs,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,Wa=Qs=null,l0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),In(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(qt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=se.p,se.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,se.p=h}}(fs&3)!==0&&Ec(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===hd?Tl++:(Tl=0,hd=t):Tl=0,wl(0)}}function l0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function Ec(){return r0(),a0(),o0(),u0()}function u0(){if(Ft!==5)return!1;var t=Qs,n=ud;ud=0;var a=In(fs),o=F.T,h=se.p;try{se.p=32>a?32:a,F.T=null,a=cd,cd=null;var f=Qs,y=fs;if(Ft=0,Wa=Qs=null,fs=0,(Ze&6)!==0)throw Error(r(331));var E=Ze;if(Ze|=4,Fy(f.current),By(f,f.current,y,a),Ze=E,wl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(qt,f)}catch{}return!0}finally{se.p=h,F.T=o,l0(t,n)}}function c0(t,n,a){n=Fn(a,n),n=Hf(t.stateNode,n,2),t=zs(t,n,2),t!==null&&(Yi(t,2),ki(t))}function nt(t,n,a){if(t.tag===3)c0(t,t,a);else for(;n!==null;){if(n.tag===3){c0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Fn(a,t),a=hy(2),o=zs(n,a,2),o!==null&&(fy(a,o,n,t),Yi(o,2),ki(o));break}}n=n.return}}function md(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new ZE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ad=!0,h.add(a),t=nT.bind(null,t,n,a),n.then(t,t))}function nT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(Ue&a)===a&&(St===4||St===3&&(Ue&62914560)===Ue&&300>Zt()-pc?(Ze&2)===0&&eo(t,0):od|=a,Ja===Ue&&(Ja=0)),ki(t)}function h0(t,n){n===0&&(n=Gi()),t=qr(t,n),t!==null&&(Yi(t,n),ki(t))}function iT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),h0(t,a)}function sT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),h0(t,a)}function rT(t,n){return Tt(t,n)}var Tc=null,no=null,pd=!1,wc=!1,gd=!1,Xs=0;function ki(t){t!==no&&t.next===null&&(no===null?Tc=no=t:no=no.next=t),wc=!0,pd||(pd=!0,oT())}function wl(t,n){if(!gd&&wc){gd=!0;do for(var a=!1,o=Tc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,p0(o,f))}else f=Ue,f=We(o,o===lt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||pt(o,f)||(a=!0,p0(o,f));o=o.next}while(a);gd=!1}}function aT(){f0()}function f0(){wc=pd=!1;var t=0;Xs!==0&&yT()&&(t=Xs);for(var n=Zt(),a=null,o=Tc;o!==null;){var h=o.next,f=d0(o,n);f===0?(o.next=null,a===null?Tc=h:a.next=h,h===null&&(no=a)):(a=o,(t!==0||(f&3)!==0)&&(wc=!0)),o=h}Ft!==0&&Ft!==5||wl(t),Xs!==0&&(Xs=0)}function d0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-_t(f),E=1<<y,C=h[y];C===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Fi(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=lt,a=Ue,a=We(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&di(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||pt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&di(o),In(a)){case 2:case 8:a=Hi;break;case 32:a=Rn;break;case 268435456:a=Ss;break;default:a=Rn}return o=m0.bind(null,t),a=Tt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&di(o),t.callbackPriority=2,t.callbackNode=null,2}function m0(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var o=Ue;return o=We(t,t===lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Xy(t,o,n),d0(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?m0.bind(null,t):null)}function p0(t,n){if(Ec())return null;Xy(t,n,!0)}function oT(){vT(function(){(Ze&6)!==0?Tt(pi,aT):f0()})}function yd(){if(Xs===0){var t=Ba;t===0&&(t=fe,fe<<=1,(fe&261888)===0&&(fe=256)),Xs=t}return Xs}function g0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function y0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function lT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=g0((h[Qt]||null).action),y=o.submitter;y&&(n=(n=y[Qt]||null)?g0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Xs!==0){var C=y?y0(h,y):new FormData(h);Lf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?y0(h,y):new FormData(h),Lf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],uT=vd.toLowerCase(),cT=vd[0].toUpperCase()+vd.slice(1);ri(uT,"on"+cT)}ri(Kp,"onAnimationEnd"),ri(Xp,"onAnimationIteration"),ri($p,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(xE,"onTransitionRun"),ri(RE,"onTransitionStart"),ri(IE,"onTransitionCancel"),ri(Zp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function _0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){Pu(G)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){Pu(G)}h.currentTarget=null,f=C}}}}function Le(t,n){var a=n[Ea];a===void 0&&(a=n[Ea]=new Set);var o=t+"__bubble";a.has(o)||(v0(n,t,2,!1),a.add(o))}function bd(t,n,a){var o=0;n&&(o|=4),v0(a,t,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[Sc]){t[Sc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(hT.has(a)||bd(a,!1,t),bd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,bd("selectionchange",!1,n))}}function v0(t,n,a,o){switch(K0(n)){case 2:var h=UT;break;case 8:h=zT;break;default:h=jd}a=h.bind(null,n,a,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Td(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=vi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}E=E.parentNode}}o=o.return}Ns(function(){var U=f,G=zn(a),K=[];e:{var z=Jp.get(t);if(z!==void 0){var H=xi,ce=t;switch(t){case"keypress":if(jr(a)===0)break e;case"keydown":case"keyup":H=Vu;break;case"focusin":ce="focus",H=Pr;break;case"focusout":ce="blur",H=Pr;break;case"beforeblur":case"afterblur":H=Pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Kp:case Xp:case $p:H=Iu;break;case Zp:H=w;break;case"scroll":case"scrollend":H=Ko;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=Ce}var be=(n&4)!==0,ot=!be&&(t==="scroll"||t==="scrollend"),V=be?z!==null?z+"Capture":null:z;be=[];for(var k=U,P;k!==null;){var Y=k;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||V===null||(Y=ti(k,V),Y!=null&&be.push(Al(k,Y,P))),ot)break;k=k.return}0<be.length&&(z=new H(z,ce,null,a,G),K.push({event:z,listeners:be}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Go&&(ce=a.relatedTarget||a.fromElement)&&(vi(ce)||ce[yi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=U,ce=ce?vi(ce):null,ce!==null&&(ot=u(ce),be=ce.tag,ce!==ot||be!==5&&be!==27&&be!==6)&&(ce=null)):(H=null,ce=U),H!==ce)){if(be=Xo,Y="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ji,Y="onPointerLeave",V="onPointerEnter",k="pointer"),ot=H==null?z:Cn(H),P=ce==null?z:Cn(ce),z=new be(Y,k+"leave",H,a,G),z.target=ot,z.relatedTarget=P,Y=null,vi(G)===U&&(be=new be(V,k+"enter",ce,a,G),be.target=P,be.relatedTarget=ot,Y=be),ot=Y,H&&ce)t:{for(be=fT,V=H,k=ce,P=0,Y=V;Y;Y=be(Y))P++;Y=0;for(var _e=k;_e;_e=be(_e))Y++;for(;0<P-Y;)V=be(V),P--;for(;0<Y-P;)k=be(k),Y--;for(;P--;){if(V===k||k!==null&&V===k.alternate){be=V;break t}V=be(V),k=be(k)}be=null}else be=null;H!==null&&b0(K,z,H,be,!1),ce!==null&&ot!==null&&b0(K,ot,ce,be,!0)}}e:{if(z=U?Cn(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ke=Lp;else if(Vp(z))if(Pp)Ke=wE;else{Ke=EE;var de=bE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Aa(U.elementType)&&(Ke=Lp):Ke=TE;if(Ke&&(Ke=Ke(t,U))){jp(K,Ke,a,G);break e}de&&de(t,z,U),t==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&qo(z,"number",z.value)}switch(de=U?Cn(U):window,t){case"focusin":(Vp(de)||de.contentEditable==="true")&&(ka=de,$h=U,el=null);break;case"focusout":el=$h=ka=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Yp(K,a,G);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":Yp(K,a,G)}var Oe;if($e)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Oa?Ur(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Ci&&a.locale!=="ko"&&(Oa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Oa&&(Oe=Qo()):(Ai=G,Yo="value"in Ai?Ai.value:Ai.textContent,Oa=!0)),de=Ac(U,ze),0<de.length&&(ze=new Ii(ze,t,null,a,G),K.push({event:ze,listeners:de}),Oe?ze.data=Oe:(Oe=Da(a),Oe!==null&&(ze.data=Oe)))),(Oe=qn?gE(t,a):yE(t,a))&&(ze=Ac(U,"onBeforeInput"),0<ze.length&&(de=new Ii("onBeforeInput","beforeinput",null,a,G),K.push({event:de,listeners:ze}),de.data=Oe)),lT(K,t,U,a,G)}_0(K,n)})}function Al(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ac(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ti(t,a),h!=null&&o.unshift(Al(t,h,f)),h=ti(t,n),h!=null&&o.push(Al(t,h,f))),t.tag===3)return o;t=t.return}return[]}function fT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function b0(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||U===null||(C=U,h?(U=ti(a,f),U!=null&&y.unshift(Al(a,U,C))):h||(U=ti(a,f),U!=null&&y.push(Al(a,U,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var dT=/\r\n?/g,mT=/\u0000|\uFFFD/g;function E0(t){return(typeof t=="string"?t:""+t).replace(dT,`
`).replace(mT,"")}function T0(t,n){return n=E0(n),E0(t)===n}function at(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(t,""+o);break;case"className":Nn(t,"class",o);break;case"tabIndex":Nn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,o);break;case"style":Fo(t,o,f);break;case"data":if(n!=="object"){Nn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=xa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=xa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=xa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Le("beforetoggle",t),Le("toggle",t),wa(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,wa(t,a,o))}}function wd(t,n,a,o,h,f){switch(a){case"style":Fo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?yn(t,o):(typeof o=="number"||typeof o=="bigint")&&yn(t,""+o);break;case"onScroll":o!=null&&Le("scroll",t);break;case"onScrollEnd":o!=null&&Le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Qt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):wa(t,a,o)}}}function nn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,f,y,a,null)}}h&&at(t,n,"srcSet",a.srcSet,a,null),o&&at(t,n,"src",a.src,a,null);return;case"input":Le("invalid",t);var E=f=y=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":C=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:at(t,n,o,G,a,null)}}Tu(t,f,E,C,U,y,h,!1);return;case"select":Le("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:at(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!o,n!=null?xs(t,!!o,n,!1):a!=null&&xs(t,!!o,a,!0);return;case"textarea":Le("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:at(t,n,y,E,a,null)}Rs(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:at(t,n,C,o,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(o=0;o<Sl.length;o++)Le(Sl[o],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:at(t,n,U,o,a,null)}return;default:if(Aa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&wd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&at(t,n,E,o,a,null))}function pT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,U=null,G=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(H)||at(t,n,H,null,o,K)}}for(var z in o){var H=o[z];if(K=a[z],o.hasOwnProperty(z)&&(H!=null||K!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==K&&at(t,n,z,H,o,K)}}Sa(t,y,E,C,U,G,f,h);return;case"select":H=y=E=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||at(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&at(t,n,h,f,o,C)}n=E,a=y,o=H,z!=null?xs(t,!!a,z,!1):!!o!=!!a&&(n!=null?xs(t,!!a,n,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&at(t,n,y,h,o,f)}wu(t,z,H);return;case"option":for(var ce in a)if(z=a[ce],a.hasOwnProperty(ce)&&z!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:at(t,n,ce,null,o,z)}for(C in o)if(z=o[C],H=a[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:at(t,n,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)z=a[be],a.hasOwnProperty(be)&&z!=null&&!o.hasOwnProperty(be)&&at(t,n,be,null,o,z);for(U in o)if(z=o[U],H=a[U],o.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:at(t,n,U,z,o,H)}return;default:if(Aa(n)){for(var ot in a)z=a[ot],a.hasOwnProperty(ot)&&z!==void 0&&!o.hasOwnProperty(ot)&&wd(t,n,ot,void 0,o,z);for(G in o)z=o[G],H=a[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||wd(t,n,G,z,o,H);return}}for(var V in a)z=a[V],a.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&at(t,n,V,null,o,z);for(K in o)z=o[K],H=a[K],!o.hasOwnProperty(K)||z===H||z==null&&H==null||at(t,n,K,z,o,H)}function w0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&w0(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>E)break;var G=C.transferSize,K=C.initiatorType;G&&w0(K)&&(C=C.responseEnd,y+=G*(C<E?1:(E-U)/(C-U)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sd=null,Ad=null;function xc(t){return t.nodeType===9?t:t.ownerDocument}function S0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rd=null;function yT(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,vT=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(t){return R0.resolve(null).then(t).catch(bT)}:x0;function bT(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function I0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),ao(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[_i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&xl(t.ownerDocument.body);a=h}while(a);ao(n)}function C0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Id(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ET(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function TT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function N0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Dd=null;function D0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Xn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function O0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function k0(t,n,a){switch(n=xc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ta(t)}var $n=new Map,M0=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=se.d;se.d={f:ST,r:AT,D:xT,C:RT,L:IT,m:CT,X:DT,S:NT,M:OT};function ST(){var t=ds.f(),n=_c();return t||n}function AT(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?Zg(n):ds.r(t)}var io=typeof document>"u"?null:document;function V0(t,n,a){var o=io;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M0.has(h)||(M0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),nn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function xT(t){ds.D(t),V0("dns-prefetch",t,null)}function RT(t,n){ds.C(t,n),V0("preconnect",t,n)}function IT(t,n,a){ds.L(t,n,a);var o=io;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=so(t);break;case"script":f=ro(t)}$n.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),$n.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Rl(f))||n==="script"&&o.querySelector(Il(f))||(n=o.createElement("link"),nn(n,"link",t),Dt(n),o.head.appendChild(n)))}}function CT(t,n){ds.m(t,n);var a=io;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ro(t)}if(!$n.has(f)&&(t=S({rel:"modulepreload",href:t},n),$n.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}o=a.createElement("link"),nn(o,"link",t),Dt(o),a.head.appendChild(o)}}}function NT(t,n,a){ds.S(t,n,a);var o=io;if(o&&t){var h=bi(o).hoistableStyles,f=so(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Rl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=$n.get(f))&&Od(t,a);var C=y=o.createElement("link");Dt(C),nn(C,"link",t),C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ic(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function DT(t,n){ds.X(t,n);var a=io;if(a&&t){var o=bi(a).hoistableScripts,h=ro(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=S({src:t,async:!0},n),(n=$n.get(h))&&kd(t,n),f=a.createElement("script"),Dt(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function OT(t,n){ds.M(t,n);var a=io;if(a&&t){var o=bi(a).hoistableScripts,h=ro(t),f=o.get(h);f||(f=a.querySelector(Il(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=$n.get(h))&&kd(t,n),f=a.createElement("script"),Dt(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function j0(t,n,a,o){var h=(h=he.current)?Rc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=so(a.href),a=bi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var f=bi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(Rl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||kT(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ro(a),a=bi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function so(t){return'href="'+gn(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function L0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function kT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),nn(n,"link",a),Dt(n),t.head.appendChild(n))}function ro(t){return'[src="'+gn(t)+'"]'}function Il(t){return"script[async]"+t}function P0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),nn(o,"style",h),Ic(o,a.precedence,t),n.instance=o;case"stylesheet":h=so(a.href);var f=t.querySelector(Rl(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=L0(a),(h=$n.get(h))&&Od(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),nn(f,"link",o),n.state.loading|=4,Ic(f,a.precedence,t),n.instance=f;case"script":return f=ro(a.src),(h=t.querySelector(Il(f)))?(n.instance=h,Dt(h),h):(o=a,(h=$n.get(f))&&(o=S({},a),kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),nn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,a.precedence,t));return n.instance}function Ic(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Cc=null;function U0(t,n,a){if(Cc===null){var o=new Map,h=Cc=new Map;h.set(a,o)}else h=Cc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function z0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function MT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function B0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function VT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=so(o.href),f=n.querySelector(Rl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Nc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=n.ownerDocument||n,o=L0(o),(h=$n.get(h))&&Od(o,h),f=f.createElement("link"),Dt(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),nn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Md=0;function jT(t,n){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Md===0&&(Md=62500*gT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Md?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,n.forEach(LT,t),Dc=null,Nc.call(t))}function LT(t,n){if(!(n.state.loading&4)){var a=Dc.get(t);if(a)var o=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:ue,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function PT(t,n,a,o,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=on(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=on(0),this.hiddenUpdates=on(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function q0(t,n,a,o,h,f,y,E,C,U,G,K){return t=new PT(t,n,a,y,C,U,G,K,E),n=1,f===!0&&(n|=24),f=On(3,null,null,n),t.current=f,f.stateNode=t,n=df(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},yf(f),t}function H0(t){return t?(t=ja,t):ja}function F0(t,n,a,o,h,f){h=H0(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=zs(t,o,n),a!==null&&(Tn(a,t,n),ol(a,t,n))}function G0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Vd(t,n){G0(t,n),(t=t.alternate)&&G0(t,n)}function Y0(t){if(t.tag===13||t.tag===31){var n=qr(t,67108864);n!==null&&Tn(n,t,67108864),Vd(t,67108864)}}function Q0(t){if(t.tag===13||t.tag===31){var n=Ln();n=Xi(n);var a=qr(t,n);a!==null&&Tn(a,t,n),Vd(t,n)}}var kc=!0;function UT(t,n,a,o){var h=F.T;F.T=null;var f=se.p;try{se.p=2,jd(t,n,a,o)}finally{se.p=f,F.T=h}}function zT(t,n,a,o){var h=F.T;F.T=null;var f=se.p;try{se.p=8,jd(t,n,a,o)}finally{se.p=f,F.T=h}}function jd(t,n,a,o){if(kc){var h=Ld(o);if(h===null)Td(t,n,o,Mc,a),X0(t,o);else if(qT(h,t,n,a,o))o.stopPropagation();else if(X0(t,o),n&4&&-1<BT.indexOf(t)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ve(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-_t(y);E.entanglements[1]|=C,y&=~C}ki(f),(Ze&6)===0&&(gc=Zt()+500,wl(0))}}break;case 31:case 13:E=qr(f,2),E!==null&&Tn(E,f,2),_c(),Vd(f,2)}if(f=Ld(o),f===null&&Td(t,n,o,Mc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Td(t,n,o,null,a)}}function Ld(t){return t=zn(t),Pd(t)}var Mc=null;function Pd(t){if(Mc=null,t=vi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mc=t,null}function K0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mi()){case pi:return 2;case Hi:return 8;case Rn:case _a:return 32;case Ss:return 268435456;default:return 32}default:return 32}}var Ud=!1,Zs=null,Js=null,Ws=null,Nl=new Map,Dl=new Map,er=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X0(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Ol(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&Y0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function qT(t,n,a,o,h){switch(n){case"focusin":return Zs=Ol(Zs,t,n,a,o,h),!0;case"dragenter":return Js=Ol(Js,t,n,a,o,h),!0;case"mouseover":return Ws=Ol(Ws,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Nl.set(f,Ol(Nl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Dl.set(f,Ol(Dl.get(f)||null,t,n,a,o,h)),!0}return!1}function $0(t){var n=vi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){Q0(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Jn(t.priority,function(){Q0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Go=o,a.target.dispatchEvent(o),Go=null}else return n=Un(a),n!==null&&Y0(n),t.blockedOn=a,!1;n.shift()}return!0}function Z0(t,n,a){Vc(t)&&a.delete(n)}function HT(){Ud=!1,Zs!==null&&Vc(Zs)&&(Zs=null),Js!==null&&Vc(Js)&&(Js=null),Ws!==null&&Vc(Ws)&&(Ws=null),Nl.forEach(Z0),Dl.forEach(Z0)}function jc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ud||(Ud=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,HT)))}var Lc=null;function J0(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Pd(o||a)===null)continue;break}var f=Un(a);f!==null&&(t.splice(n,3),n-=3,Lf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ao(t){function n(C){return jc(C,t)}Zs!==null&&jc(Zs,t),Js!==null&&jc(Js,t),Ws!==null&&jc(Ws,t),Nl.forEach(n),Dl.forEach(n);for(var a=0;a<er.length;a++){var o=er[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<er.length&&(a=er[0],a.blockedOn===null);)$0(a),a.blockedOn===null&&er.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Qt]||null;if(typeof f=="function")y||J0(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Qt]||null)E=y.formAction;else if(Pd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),J0(a)}}}function W0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}Pc.prototype.render=zd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Ln();F0(a,o,t,n,null,null)},Pc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;F0(t.current,2,null,t,null,null),_c(),n[yi]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var n=_u();t={blockedOn:null,target:t,priority:n};for(var a=0;a<er.length&&n!==0&&n<er[a].priority;a++);er.splice(a,0,t),a===0&&$0(t)}};var e_=e.version;if(e_!=="19.2.0")throw Error(r(527,e_,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var FT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{qt=Uc.inject(FT),Ht=Uc}catch{}}return Ml.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=oy,f=ly,y=uy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=q0(t,1,!1,null,null,a,o,null,h,f,y,W0),t[yi]=n.current,Ed(t),new zd(n)},Ml.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=oy,y=ly,E=uy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=q0(t,1,!0,n,a??null,o,h,C,f,y,E,W0),n.context=H0(null),a=n.current,o=Ln(),o=Xi(o),h=Us(o),h.callback=null,zs(a,h,o),a=o,n.current.lanes=a,Yi(n,a),ki(n),t[yi]=n.current,Ed(t),new Pc(n)},Ml.version="19.2.0",Ml}var c_;function ew(){if(c_)return Hd.exports;c_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=WT(),Hd.exports}var tw=ew();const nw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),h_=s=>{const e=iw(s);return e.charAt(0).toUpperCase()+e.slice(1)},Qv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),sw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aw=pe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...p},g)=>pe.createElement("svg",{ref:g,...rw,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Qv("lucide",l),...!u&&!sw(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,T])=>pe.createElement(_,T)),...Array.isArray(u)?u:[u]]));const ke=(s,e)=>{const i=pe.forwardRef(({className:r,...l},u)=>pe.createElement(aw,{ref:u,iconNode:e,className:Qv(`lucide-${nw(h_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=h_(s),i};const ow=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],lw=ke("arrow-down-a-z",ow);const uw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cw=ke("arrow-left",uw);const hw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lm=ke("calendar",hw);const fw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],dw=ke("camera",fw);const mw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],pw=ke("check",mw);const gw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yw=ke("chevron-right",gw);const _w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vw=ke("circle-alert",_w);const bw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Ew=ke("circle-plus",bw);const Tw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ww=ke("cloud-upload",Tw);const Sw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Aw=ke("coffee",Sw);const xw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Rw=ke("download",xw);const Iw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Cw=ke("house",Iw);const Nw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Dw=ke("image",Nw);const Ow=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kw=ke("info",Ow);const Mw=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Vw=ke("link",Mw);const jw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Lw=ke("list",jw);const Pw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Uw=ke("lock",Pw);const zw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Bw=ke("log-out",zw);const qw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hw=ke("mail",qw);const Fw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Kv=ke("map-pin",Fw);const Gw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Yw=ke("map",Gw);const Qw=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],Kw=ke("move-vertical",Qw);const Xw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xv=ke("pen-line",Xw);const $w=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pm=ke("pencil",$w);const Zw=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],um=ke("plane",Zw);const Jw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Th=ke("plus",Jw);const Ww=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wh=ke("refresh-cw",Ww);const eS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tS=ke("save",eS);const nS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iS=ke("settings",nS);const sS=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],au=ke("shopping-bag",sS);const rS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aa=ke("square-check-big",rS);const aS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oS=ke("sun",aS);const lS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Um=ke("tag",lS);const uS=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],cS=ke("tram-front",uS);const hS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sh=ke("trash-2",hS);const fS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dS=ke("triangle-alert",fS);const mS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pS=ke("upload",mS);const gS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yS=ke("user",gS);const _S=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fa=ke("x",_S);const vS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],bS=ke("zoom-in",vS),ES=()=>{};var f_={};const $v=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},TS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],p=s[i++],g=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let x=(p&15)<<2|_>>6,B=_&63;g||(B=64,d||(x=64)),r.push(i[T],i[S],i[x],i[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($v(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):TS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||p==null||_==null||S==null)throw new wS;const x=u<<2|p>>4;if(r.push(x),_!==64){const B=p<<4&240|_>>2;if(r.push(B),S!==64){const J=_<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SS=function(s){const e=$v(s);return Zv.encodeByteArray(e,!0)},sh=function(s){return SS(s).replace(/\./g,"")},Jv=function(s){try{return Zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xS=()=>AS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof f_>"u")return;const s=f_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},IS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Jv(s[1]);return e&&JSON.parse(e)},Ah=()=>{try{return ES()||xS()||RS()||IS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Wv=s=>Ah()?.emulatorHosts?.[s],CS=s=>{const e=Wv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},e1=()=>Ah()?.config,t1=s=>Ah()?.[`_${s}`];class NS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function Ro(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n1(s){return(await fetch(s,{credentials:"include"})).ok}function DS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[sh(JSON.stringify(i)),sh(JSON.stringify(d)),""].join(".")}const Hl={};function OS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?s.emulator.push(e):s.prod.push(e);return s}function kS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let d_=!1;function i1(s,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Hl[s]===e||Hl[s]||d_)return;Hl[s]=e;function i(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=OS().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,B){x.setAttribute("width","24"),x.setAttribute("id",B),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{d_=!0,d()},x}function T(x,B){x.setAttribute("id",B),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=kS(r),B=i("text"),J=document.getElementById(B)||document.createElement("span"),ee=i("learnmore"),Z=document.getElementById(ee)||document.createElement("a"),W=i("preprendIcon"),ge=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ue=x.element;p(ue),T(Z,ee);const Ie=_();g(ge,W),ue.append(ge,J,Z,Ie),document.body.appendChild(ue)}u?(J.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function VS(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function zS(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const HS="FirebaseError";class bs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=HS,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?FS(u,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new bs(l,p,r)}}function FS(s,e){return s.replace(GS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const GS=/\{\$([^}]+)}/g;function YS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function oa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(m_(u)&&m_(d)){if(!oa(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function m_(s){return s!==null&&typeof s=="object"}function lu(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ll(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function QS(s,e){const i=new KS(s,e);return i.subscribe.bind(i)}class KS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");XS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}function Yt(s){return s&&s._delegate?s._delegate:s}class la{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class $S{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new NS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JS(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZS(s){return s===ta?void 0:s}function JS(s){return s.instantiationMode==="EAGER"}class WS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new $S(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const eA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},tA=Be.INFO,nA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},iA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=nA[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=iA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const sA=(s,e)=>e.some(i=>s instanceof i);let p_,g_;function rA(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aA(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s1=new WeakMap,cm=new WeakMap,r1=new WeakMap,Kd=new WeakMap,Bm=new WeakMap;function oA(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(ur(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&s1.set(i,s)}).catch(()=>{}),Bm.set(e,s),e}function lA(s){if(cm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});cm.set(s,e)}let hm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||r1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function uA(s){hm=s(hm)}function cA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Xd(this),e,...i);return r1.set(r,e.sort?e.sort():[e]),ur(r)}:aA().includes(s)?function(...e){return s.apply(Xd(this),e),ur(s1.get(this))}:function(...e){return ur(s.apply(Xd(this),e))}}function hA(s){return typeof s=="function"?cA(s):(s instanceof IDBTransaction&&lA(s),sA(s,rA())?new Proxy(s,hm):s)}function ur(s){if(s instanceof IDBRequest)return oA(s);if(Kd.has(s))return Kd.get(s);const e=hA(s);return e!==s&&(Kd.set(s,e),Bm.set(e,s)),e}const Xd=s=>Bm.get(s);function fA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),p=ur(d);return r&&d.addEventListener("upgradeneeded",g=>{r(ur(d.result),g.oldVersion,g.newVersion,ur(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const dA=["get","getKey","getAll","getAllKeys","count"],mA=["put","add","delete","clear"],$d=new Map;function y_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=mA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||dA.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&g.done]))[0]};return $d.set(e,u),u}uA(s=>({...s,get:(e,i,r)=>y_(e,i)||s.get(e,i,r),has:(e,i)=>!!y_(e,i)||s.has(e,i)}));class pA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function gA(s){return s.getComponent()?.type==="VERSION"}const fm="@firebase/app",__="0.14.6";const gs=new zm("@firebase/app"),yA="@firebase/app-compat",_A="@firebase/analytics-compat",vA="@firebase/analytics",bA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",wA="@firebase/auth-compat",SA="@firebase/database",AA="@firebase/data-connect",xA="@firebase/database-compat",RA="@firebase/functions",IA="@firebase/functions-compat",CA="@firebase/installations",NA="@firebase/installations-compat",DA="@firebase/messaging",OA="@firebase/messaging-compat",kA="@firebase/performance",MA="@firebase/performance-compat",VA="@firebase/remote-config",jA="@firebase/remote-config-compat",LA="@firebase/storage",PA="@firebase/storage-compat",UA="@firebase/firestore",zA="@firebase/ai",BA="@firebase/firestore-compat",qA="firebase",HA="12.6.0";const dm="[DEFAULT]",FA={[fm]:"fire-core",[yA]:"fire-core-compat",[vA]:"fire-analytics",[_A]:"fire-analytics-compat",[EA]:"fire-app-check",[bA]:"fire-app-check-compat",[TA]:"fire-auth",[wA]:"fire-auth-compat",[SA]:"fire-rtdb",[AA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[RA]:"fire-fn",[IA]:"fire-fn-compat",[CA]:"fire-iid",[NA]:"fire-iid-compat",[DA]:"fire-fcm",[OA]:"fire-fcm-compat",[kA]:"fire-perf",[MA]:"fire-perf-compat",[VA]:"fire-rc",[jA]:"fire-rc-compat",[LA]:"fire-gcs",[PA]:"fire-gcs-compat",[UA]:"fire-fst",[BA]:"fire-fst-compat",[zA]:"fire-vertex","fire-js":"fire-js",[qA]:"fire-js-all"};const Xl=new Map,GA=new Map,mm=new Map;function v_(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function _o(s){const e=s.name;if(mm.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,s);for(const i of Xl.values())v_(i,s);for(const i of GA.values())v_(i,s);return!0}function qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function li(s){return s==null?!1:s.settings!==void 0}const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new ou("app","Firebase",YA);class QA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Io=HA;function a1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:dm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw cr.create("bad-app-name",{appName:String(l)});if(i||(i=e1()),!i)throw cr.create("no-options");const u=Xl.get(l);if(u){if(oa(i,u.options)&&oa(r,u.config))return u;throw cr.create("duplicate-app",{appName:l})}const d=new WS(l);for(const g of mm.values())d.addComponent(g);const p=new QA(i,r,d);return Xl.set(l,p),p}function Hm(s=dm){const e=Xl.get(s);if(!e&&s===dm&&e1())return a1();if(!e)throw cr.create("no-app",{appName:s});return e}function KA(){return Array.from(Xl.values())}function hr(s,e,i){let r=FA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}_o(new la(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const XA="firebase-heartbeat-database",$A=1,$l="firebase-heartbeat-store";let Zd=null;function o1(){return Zd||(Zd=fA(XA,$A,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function ZA(s){try{const i=(await o1()).transaction($l),r=await i.objectStore($l).get(l1(s));return await i.done,r}catch(e){if(e instanceof bs)gs.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function b_(s,e){try{const r=(await o1()).transaction($l,"readwrite");await r.objectStore($l).put(e,l1(s)),await r.done}catch(i){if(i instanceof bs)gs.warn(i.message);else{const r=cr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function l1(s){return`${s.name}!${s.options.appId}`}const JA=1024,WA=30;class e2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new n2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>WA){const l=i2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E_(),{heartbeatsToSend:i,unsentEntries:r}=t2(this._heartbeatsCache.heartbeats),l=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return gs.warn(e),""}}}function E_(){return new Date().toISOString().substring(0,10)}function t2(s,e=JA){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),T_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),T_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class n2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function T_(s){return sh(JSON.stringify({version:2,heartbeats:s})).length}function i2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function s2(s){_o(new la("platform-logger",e=>new pA(e),"PRIVATE")),_o(new la("heartbeat",e=>new e2(e),"PRIVATE")),hr(fm,__,s),hr(fm,__,"esm2020"),hr("fire-js","")}s2("");var r2="firebase",a2="12.6.0";hr(r2,a2,"app");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,u1;(function(){var s;function e(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,O,j){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return A.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)M[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],O=N.g[2];let j=N.g[3],R;R=A+(j^I&(O^j))+M[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(O^A&(I^O))+M[1]+3905402710&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(I^j&(A^I))+M[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(A^O&(j^A))+M[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(j^I&(O^j))+M[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(O^A&(I^O))+M[5]+1200080426&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(I^j&(A^I))+M[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(A^O&(j^A))+M[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(j^I&(O^j))+M[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(O^A&(I^O))+M[9]+2336552879&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(I^j&(A^I))+M[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(A^O&(j^A))+M[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(j^I&(O^j))+M[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(O^A&(I^O))+M[13]+4254626195&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(I^j&(A^I))+M[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(A^O&(j^A))+M[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(O^j&(I^O))+M[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(A^I))+M[6]+3225465664&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(j^A))+M[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(O^j))+M[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(I^O))+M[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(A^I))+M[10]+38016083&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(j^A))+M[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(O^j))+M[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(I^O))+M[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(A^I))+M[14]+3275163606&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(j^A))+M[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(O^j))+M[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(I^O))+M[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(A^I))+M[2]+4243563512&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(j^A))+M[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(O^j))+M[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(I^O^j)+M[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^O)+M[8]+2272392833&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^I)+M[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^A)+M[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^j)+M[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^O)+M[4]+1272893353&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^I)+M[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^A)+M[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^j)+M[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^O)+M[0]+3936430074&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^I)+M[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^A)+M[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^j)+M[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^O)+M[12]+3873151461&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^I)+M[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^A)+M[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(O^(I|~j))+M[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~O))+M[7]+1126891415&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~I))+M[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~A))+M[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~j))+M[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~O))+M[3]+2399980690&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~I))+M[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~A))+M[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~j))+M[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~O))+M[15]+4264355552&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~I))+M[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~A))+M[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~j))+M[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~O))+M[11]+3174756917&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~I))+M[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,M=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=I;)l(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(M[O++]=N.charCodeAt(j++),O==this.blockSize){l(this,M),O=0;break}}else for(;j<A;)if(M[O++]=N[j++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[A++]=this.g[I]>>>M&255;return N};function u(N,A){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let M=!0;for(let O=N.length-1;O>=0;O--){const j=N[O]|0;M&&j==A||(I[O]=j,M=!1)}this.g=I}var p={};function g(N){return-128<=N&&N<128?u(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(_(-N));const A=[];let I=1;for(let M=0;N>=I;M++)A[M]=N/I|0,I*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return Z(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let M=S;for(let j=0;j<N.length;j+=8){var O=Math.min(8,N.length-j);const R=parseInt(N.substring(j,j+O),A);O<8?(O=_(Math.pow(A,O)),M=M.j(O).add(_(R))):(M=M.j(I),M=M.add(_(R)))}return M}var S=g(0),x=g(1),B=g(16777216);s=d.prototype,s.m=function(){if(ee(this))return-Z(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(ee(this))return"-"+Z(this).toString(N);const A=_(Math.pow(N,6));var I=this;let M="";for(;;){const O=Ie(I,A).g;I=W(I,O.j(A));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,J(I))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function ee(N){return N.h==-1}s.l=function(N){return N=W(this,N),ee(N)?-1:J(N)?0:1};function Z(N){const A=N.g.length,I=[];for(let M=0;M<A;M++)I[M]=~N.g[M];return new d(I,~N.h).add(x)}s.abs=function(){return ee(this)?Z(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let O=0;O<=A;O++){let j=M+(this.i(O)&65535)+(N.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=R>>>16,j&=65535,R&=65535,I[O]=R<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function W(N,A){return N.add(Z(A))}s.j=function(N){if(J(this)||J(N))return S;if(ee(this))return ee(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(ee(N))return Z(this.j(Z(N)));if(this.l(B)<0&&N.l(B)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<N.g.length;O++){const j=this.i(M)>>>16,R=this.i(M)&65535,it=N.i(O)>>>16,bt=N.i(O)&65535;I[2*M+2*O]+=R*bt,ge(I,2*M+2*O),I[2*M+2*O+1]+=j*bt,ge(I,2*M+2*O+1),I[2*M+2*O+1]+=R*it,ge(I,2*M+2*O+1),I[2*M+2*O+2]+=j*it,ge(I,2*M+2*O+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function ge(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ue(N,A){this.g=N,this.h=A}function Ie(N,A){if(J(A))throw Error("division by zero");if(J(N))return new ue(S,S);if(ee(N))return A=Ie(Z(N),A),new ue(Z(A.g),Z(A.h));if(ee(A))return A=Ie(N,Z(A)),new ue(Z(A.g),A.h);if(N.g.length>30){if(ee(N)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,M=A;M.l(N)<=0;)I=Pe(I),M=Pe(M);var O=Re(I,1),j=Re(M,1);for(M=Re(M,2),I=Re(I,2);!J(M);){var R=j.add(M);R.l(N)<=0&&(O=O.add(I),j=R),M=Re(M,1),I=Re(I,1)}return A=W(N,O.j(A)),new ue(O,A)}for(O=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=_(I),R=j.j(A);ee(R)||R.l(N)>0;)I-=M,j=_(I),R=j.j(A);J(j)&&(j=x),O=O.add(j),N=W(N,R)}return new ue(O,N)}s.B=function(N){return Ie(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&N.i(M);return new d(I,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|N.i(M);return new d(I,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^N.i(M);return new d(I,this.h^N.h)};function Pe(N){const A=N.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(I,N.h)}function Re(N,A){const I=A>>5;A%=32;const M=N.g.length-I,O=[];for(let j=0;j<M;j++)O[j]=A>0?N.i(j+I)>>>A|N.i(j+I+1)<<32-A:N.i(j+I);return new d(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,fr=d}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c1,Pl,h1,Kc,pm,f1,d1,m1;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in v))break e;v=v[L]}c=c[c.length-1],w=v[c],m=m(w),m!=w&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&v.push([w,m[w]]);return v}});var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=g,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,L,q){for(var ie=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ie[Ce-2]=arguments[Ce];return m.prototype[L].apply(w,ie)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let w=0;w<m;w++)v[w]=c[w];return v}return[]}function J(c,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let ie=0;ie<q;ie++)c[v+ie]=L[ie]}else c.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){d.setTimeout(()=>{throw c},0)}function W(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const w=ue.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ue=new ee(()=>new Ie,c=>c.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,Re=!1,N=new ge,A=()=>{const c=Promise.resolve(void 0);Pe=()=>{c.then(I)}};function I(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){Z(v)}var m=ue;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Re=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function it(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(it,O),it.prototype.init=function(c,m){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(c,m,v,w,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=L,this.key=++F,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c,m,v){for(const w in c)m.call(v,c[w],w,c)}function Ye(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function D(c){const m={};for(const v in c)m[v]=c[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(c,m){let v,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(v in w)c[v]=w[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function re(c){this.src=c,this.g={},this.h=0}re.prototype.add=function(c,m,v,w,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ie=he(c,m,w,L);return ie>-1?(m=c[ie],v||(m.fa=!1)):(m=new se(m,this.src,q,!!w,L),m.fa=v,c.push(m)),m};function Ee(c,m){const v=m.type;if(v in c.g){var w=c.g[v],L=Array.prototype.indexOf.call(w,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(w,L,1),q&&(ye(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function he(c,m,v,w){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==w)return L}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),At={};function ut(c,m,v,w,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ut(c,m[q],v,w,L);return null}return v=Rr(v),c&&c[bt]?c.J(m,v,p(w)?!!w.capture:!1,L):Bt(c,m,v,!1,w,L)}function Bt(c,m,v,w,L,q){if(!m)throw Error("Invalid event type");const ie=p(L)?!!L.capture:!!L;let Ce=qi(c);if(Ce||(c[Me]=Ce=new re(c)),v=Ce.add(m,v,w,ie,q),v.proxy)return v;if(w=Es(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)j||(L=ie),L===void 0&&(L=!1),c.addEventListener(m.toString(),w,L);else if(c.attachEvent)c.attachEvent(xn(m.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Es(){function c(v){return m.call(c.src,c.listener,v)}const m=Ar;return c}function Ts(c,m,v,w,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ts(c,m[q],v,w,L);else w=p(w)?!!w.capture:!!w,v=Rr(v),c&&c[bt]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=he(m,v,w,L),v>-1&&(ye(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=qi(c))&&(m=c.g[m.toString()],c=-1,m&&(c=he(m,v,w,L)),(v=c>-1?m[c]:null)&&ws(v))}function ws(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[bt])Ee(m.i,c);else{var v=c.type,w=c.proxy;m.removeEventListener?m.removeEventListener(v,w,c.capture):m.detachEvent?m.detachEvent(xn(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=qi(m))?(Ee(v,c),v.h==0&&(v.src=null,m[Me]=null)):ye(c)}}}function xn(c){return c in At?At[c]:At[c]="on"+c}function Ar(c,m){if(c.da)c=!0;else{m=new it(m,this);const v=c.listener,w=c.ha||c.src;c.fa&&ws(c),c=v.call(w,m)}return c}function qi(c){return c=c[Me],c instanceof re?c:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rr(c){return typeof c=="function"?c:(c[xr]||(c[xr]=function(m){return c.handleEvent(m)}),c[xr])}function Et(){M.call(this),this.i=new re(this),this.M=this,this.G=null}S(Et,M),Et.prototype[bt]=!0,Et.prototype.removeEventListener=function(c,m,v,w){Ts(this,c,m,v,w)};function Tt(c,m){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var L=m;m=new O(w,c),te(m,L)}L=!0;let q,ie;if(v)for(ie=v.length-1;ie>=0;ie--)q=m.g=v[ie],L=di(q,w,!0,m)&&L;if(q=m.g=c,L=di(q,w,!0,m)&&L,L=di(q,w,!1,m)&&L,v)for(ie=0;ie<v.length;ie++)q=m.g=v[ie],L=di(q,w,!1,m)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let w=0;w<v.length;w++)ye(v[w]);delete c.g[m],c.h--}}this.G=null},Et.prototype.J=function(c,m,v,w){return this.i.add(String(c),m,!1,v,w)},Et.prototype.K=function(c,m,v,w){return this.i.add(String(c),m,!0,v,w)};function di(c,m,v,w){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ie=m[q];if(ie&&!ie.da&&ie.capture==v){const Ce=ie.listener,xt=ie.ha||ie.src;ie.fa&&Ee(c.i,ie),L=Ce.call(xt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Ir(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function ya(c){c.g=Ir(()=>{c.g=null,c.i&&(c.i=!1,ya(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Zt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(c){M.call(this),this.h=c,this.g={}}S(mi,M);var pi=[];function Hi(c){Fe(c.g,function(m,v){this.g.hasOwnProperty(v)&&ws(m)},c),c.g={}}mi.prototype.N=function(){mi.Z.N.call(this),Hi(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=d.JSON.stringify,_a=d.JSON.parse,Ss=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Cr(){}function gi(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}S(Ht,O);function pn(){O.call(this,"c")}S(pn,O);var _t={},va=null;function ne(){return va=va||new Et}_t.Ia="serverreachability";function me(c){O.call(this,_t.Ia,c)}S(me,O);function fe(c){const m=ne();Tt(m,new me(m))}_t.STAT_EVENT="statevent";function oe(c,m){O.call(this,_t.STAT_EVENT,c),this.stat=m}S(oe,O);function De(c){const m=ne();Tt(m,new oe(m,c))}_t.Ja="timingevent";function Ve(c,m){O.call(this,_t.Ja,c),this.size=m}S(Ve,O);function We(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function pt(){this.g=!0}pt.prototype.ua=function(){this.g=!1};function Fi(c,m,v,w,L,q){c.info(function(){if(c.g)if(q){var ie="",Ce=q.split("&");for(let $e=0;$e<Ce.length;$e++){var xt=Ce[$e].split("=");if(xt.length>1){const gt=xt[0];xt=xt[1];const qn=gt.split("_");ie=qn.length>=2&&qn[1]=="type"?ie+(gt+"="+xt+"&"):ie+(gt+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function Gi(c,m,v,w,L,q,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+ie})}function on(c,m,v,w){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ba(c,v)+(w?" "+w:"")})}function Yi(c,m){c.info(function(){return"TIMEOUT: "+m})}pt.prototype.info=function(){};function ba(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Rn(q)}catch{return m}}var Qi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ki;function Xi(){}S(Xi,Cr),Xi.prototype.g=function(){return new XMLHttpRequest},Ki=new Xi;function In(c){return encodeURIComponent(String(c))}function _u(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Jn(c,m,v,w){this.j=c,this.i=m,this.l=v,this.S=w||1,this.V=new mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Nt={},Qt={};function yi(c,m,v){c.M=1,c.A=Dr(Ot(m)),c.u=v,c.R=!0,Ea(c,null)}function Ea(c,m){c.F=Date.now(),_i(c),c.B=Ot(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Aa(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Wn,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new Zt(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(pi[0]=L.toString()),L=pi);for(let q=0;q<L.length;q++){const ie=ut(v,L[q],w||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),fe(),Fi(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&ni(c)==3?m.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=ni(this.g),xt=this.g.ya(),$e=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ce!=4||xt==7||(xt==8||$e<=0?fe(3):fe(2)),vi(this);var m=this.g.ca();this.X=m;var v=Yh(this);if(this.o=m==200,Gi(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var q=w;break t}}q=null}if(c=q)on(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,c);else{this.o=!1,this.m=3,De(12),Cn(this),Un(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=bu(this,v),gt==Qt){Ce==4&&(this.m=4,De(14),c=!1),on(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,De(15),on(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else on(this.i,this.l,gt,null),bi(this,gt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,De(16),c=!1),this.o=this.o&&c,!c)on(this.i,this.l,v,"[Invalid Chunked Response]"),Cn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(ie),ie.P=!0,De(11))}}else on(this.i,this.l,v,null),bi(this,v);Ce==4&&Cn(this),this.o&&!this.K&&(Ce==4?Cu(this.j,this):(this.o=!1,_i(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),Cn(this),Un(this)}}}catch{}finally{}};function Yh(c){if(!vu(c))return c.g.la();const m=Jt(c.g);if(m==="")return"";let v="";const w=m.length,L=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Cn(c),Un(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<w;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==w-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,m){var v=c.C,w=m.indexOf(`
`,v);return w==-1?Qt:(v=Number(m.substring(v,w)),isNaN(v)?Nt:(w+=1,w+v>m.length?Qt:(m=m.slice(w,w+v),c.C=w+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Cn(this)};function _i(c){c.T=Date.now()+c.H,Ta(c,c.H)}function Ta(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=We(_(c.aa,c),m)}function vi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Yi(this.i,this.B),this.M!=2&&(fe(),De(17)),Cn(this),this.m=2,Un(this)):Ta(this,this.T-c)};function Un(c){c.j.I==0||c.K||Cu(c.j,c)}function Cn(c){vi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Hi(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function bi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Na(v),Os(v);else break e;Pr(v),De(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=We(_(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&Na(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $e=L[m];const gt=$e[0];if(!(gt<=v.K))if(v.K=gt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const qn=$e[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Ci=$e[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ii=$e[5];ii!=null&&typeof ii=="number"&&ii>0&&(w=1.5*ii,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const si=c.g;if(si){const Ur=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var q=w.h;q.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Po(q,q.h),q.h=null))}if(w.G){const Da=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(w.wa=Da,et(w.J,w.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ie=c;if(w.na=Ou(w,w.L?w.ba:null,w.W),ie.L){Uo(w.h,ie);var Ce=ie,xt=w.O;xt&&(Ce.H=xt),Ce.D&&(vi(Ce),_i(Ce)),w.g=ie}else Ru(w);v.i.length>0&&Ri(v)}else $e[0]!="stop"&&$e[0]!="close"||Ii(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ii(v,7):Ko(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}fe(4)}catch{}}var Dt=class{constructor(c,m){this.g=c,this.map=m}};function jo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Po(c,m){c.g?c.g.add(m):c.h=m}function Uo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}jo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let L,q=null;w>=0?(L=c[v].substring(0,w),q=c[v].substring(w+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Nn?(this.l=c.l,Kt(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,Bo(this,Au(c.i)),this.m=c.m):c&&(m=String(c).match(Eu))?(this.l=!1,Kt(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),As(this,m[4]),this.h=wi(m[5]||"",!0),Bo(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Nn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Or(m,Sa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Or(m,Sa,!0),"@"),c.push(In(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Or(v,v.charAt(0)=="/"?qo:Tu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Or(v,wu)),c.join("")},Nn.prototype.resolve=function(c){const m=Ot(this);let v=!!c.j;v?Kt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var w=c.h;if(v)As(m,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ie=0;ie<L.length;){const Ce=L[ie++];Ce=="."?w&&ie==L.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&ie==L.length&&q.push("")):(q.push(Ce),w=!0)}w=q.join("/")}else w=L}return v?m.h=w:v=c.i.toString()!=="",v?Bo(m,Au(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ot(c){return new Nn(c)}function Kt(c,m,v){c.j=v?wi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Bo(c,m,v){m instanceof Rs?(c.i=m,xa(c.i,c.l)):(v||(m=Or(m,xs)),c.i=new Rs(m,c.l))}function et(c,m,v){c.i.set(m,v)}function Dr(c){return et(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Or(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,gn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sa=/[#\/\?@]/g,Tu=/[#\?:]/g,qo=/[#\?]/g,xs=/[#\?@]/g,wu=/#/g;function Rs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(c,m){yn(this),this.i=null,c=Is(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Su(c,m){yn(c),m=Is(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Ho(c,m){return yn(c),m=Is(c,m),c.g.has(m)}s.forEach=function(c,m){yn(this),this.g.forEach(function(v,w){v.forEach(function(L){c.call(m,L,w,this)},this)},this)};function Fo(c,m){yn(c);let v=[];if(typeof m=="string")Ho(c,m)&&(v=v.concat(c.g.get(Is(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return yn(this),this.i=null,c=Is(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Fo(this,c),c.length>0?String(c[0]):m):m};function Aa(c,m,v){Su(c,m),v.length>0&&(c.i=null,c.g.set(Is(c,m),B(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var v=m[w];const L=In(v);v=Fo(this,v);for(let q=0;q<v.length;q++){let ie=L;v[q]!==""&&(ie+="="+In(v[q])),c.push(ie)}}return this.i=c.join("&")};function Au(c){const m=new Rs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Is(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function xa(c,m){m&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(v,w){const L=w.toLowerCase();w!=L&&(Su(this,w),Aa(this,L,v))},c)),c.j=m}function ei(c,m){const v=new pt;if(d.Image){const w=new Image;w.onload=T(zn,v,"TestLoadImage: loaded",!0,m,w),w.onerror=T(zn,v,"TestLoadImage: error",!1,m,w),w.onabort=T(zn,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(zn,v,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else m(!1)}function Go(c,m){const v=new pt,w=new AbortController,L=setTimeout(()=>{w.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:w.signal}).then(q=>{clearTimeout(L),q.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),zn(v,"TestPingServer: error",!1,m)})}function zn(c,m,v,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(v)}catch{}}function Cs(){this.g=new Ss}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Si,Cr),Si.prototype.g=function(){return new kr(this.i,this.h)};function kr(c,m){Et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(kr,Et),s=kr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,ti(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ns(this):ti(this),this.readyState==3&&Ra(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ns(this))},s.Na=function(c){this.g&&(this.response=c,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let m="";return Fe(c,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function Mr(c,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Bn(v),typeof c=="string"?v!=null&&In(v):et(c,m,v))}function st(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(st,Et);var Ai=/^https?$/i,Yo=["POST","PUT"];s=st.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ki.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Vr(this,q);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)v.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())v.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Yo,m,void 0)>=0)||w||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of v)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Vr(this,q)}};function Vr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Qo(c),$i(c)}function Qo(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Tt(this,"complete"),Tt(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),st.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},s.Xa=function(){jr(this)};function jr(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(Tt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=q===0){let ie=String(c.D).match(Eu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),w=!Ai.test(ie?ie.toLowerCase():"")}v=w}if(v)Tt(c,"complete"),Tt(c,"success");else{c.o=6;try{var L=ni(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Qo(c)}}finally{$i(c)}}}}function $i(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Tt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),_a(m)}};function Jt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(c){const m={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(R(c[w]))continue;var v=_u(c[w]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Ye(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ds(c){this.za=0,this.i=[],this.j=new pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,c),this.Za=xi("retryDelaySeedMs",1e4,c),this.Ta=xi("forwardChannelMaxRetries",2,c),this.va=xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new Cs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,w){De(0),this.W=c,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Ou(this,null,this.W),Ri(this)};function Ko(c){if(Ia(c),c.I==3){var m=c.V++,v=Ot(c.J);if(et(v,"SID",c.M),et(v,"RID",m),et(v,"TYPE","terminate"),Lr(c,v),m=new Jn(c,c.j,m),m.M=2,m.A=Dr(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Du(c)}function Os(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function Ia(c){Os(c),c.v&&(d.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Lo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Pe||A(),Re||(Pe(),Re=!0),N.add(m,c),c.D=0}}function Ca(c,m){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=We(_(c.Ea,c,m),Nu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Jn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=D(q),te(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=xu(this,L,m),v=Ot(this.J),et(v,"RID",c),et(v,"CVER",22),this.G&&et(v,"X-HTTP-Session-Id",this.G),Lr(this,v),q&&(this.R?m="headers="+In(Bn(q))+"&"+m:this.u&&Mr(v,this.u,q)),Po(this.h,L),this.Ra&&et(v,"TYPE","init"),this.S?(et(v,"$req",m),et(v,"SID","null"),L.U=!0,yi(L,v,null)):yi(L,v,m),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Lo(this.h)||Xo(this))};function Xo(c,m){var v;m?v=m.l:v=c.V++;const w=Ot(c.J);et(w,"SID",c.M),et(w,"RID",v),et(w,"AID",c.K),Lr(c,w),c.u&&c.o&&Mr(w,c.u,c.o),v=new Jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),yi(v,w,m)}function Lr(c,m){c.H&&Fe(c.H,function(v,w){et(m,w,v)}),c.l&&Fe({},function(v,w){et(m,w,v)})}function xu(c,m,v){v=Math.min(c.i.length,v);const w=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ce=-1;for(;;){const xt=["count="+v];Ce==-1?v>0?(Ce=L[0].g,xt.push("ofs="+Ce)):Ce=0:xt.push("ofs="+Ce);let $e=!0;for(let gt=0;gt<v;gt++){var q=L[gt].g;const qn=L[gt].map;if(q-=Ce,q<0)Ce=Math.max(0,L[gt].g-100),$e=!1;else try{q="req"+q+"_"||"";try{var ie=qn instanceof Map?qn:Object.entries(qn);for(const[Ci,ii]of ie){let si=ii;p(ii)&&(si=Rn(ii)),xt.push(q+Ci+"="+encodeURIComponent(si))}}catch(Ci){throw xt.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(qn)}}if($e){ie=xt.join("&");break e}}ie=void 0}return c=c.i.splice(0,v),m.G=c,ie}function Ru(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Pe||A(),Re||(Pe(),Re=!0),N.add(m,c),c.A=0}}function Pr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=We(_(c.Da,c),Nu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=We(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),Os(this),Iu(this))};function $o(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ot(c.na);et(m,"RID","rpc"),et(m,"SID",c.M),et(m,"AID",c.K),et(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&et(m,"TO",c.ia),et(m,"TYPE","xmlhttp"),Lr(c,m),c.u&&c.o&&Mr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Dr(Ot(m)),v.u=null,v.R=!0,Ea(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Os(this),Pr(this),De(19))};function Na(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Cu(c,m){var v=null;if(c.g==m){Na(c),$o(c),c.g=null;var w=2}else if(Ti(c.h,m))v=m.G,Uo(c.h,m),w=1;else return;if(c.I!=0){if(m.o)if(w==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;w=ne(),Tt(w,new Ve(w,v)),Ri(c)}else Ru(c);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&Ca(c,m)||w==2&&Pr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Nu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ii(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),w=c.Ua;const L=!w;w=new Nn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kt(w,"https"),Dr(w),L?ei(w.toString(),v):Go(w.toString(),v)}else De(2);c.I=0,c.l&&c.l.pa(m),Du(c),Ia(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Du(c){if(c.I=0,c.ja=[],c.l){const m=zo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Ou(c,m,v){var w=v instanceof Nn?Ot(v):new Nn(v);if(w.g!="")m&&(w.g=m+"."+w.g),As(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Nn(null);w&&Kt(q,w),m&&(q.g=m),L&&As(q,L),v&&(q.h=v),w=q}return v=c.G,m=c.wa,v&&m&&et(w,v,m),et(w,"VER",c.ka),Lr(c,w),w}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new st(new Si({ab:v})):new st(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(c,m){return new dn(c,m)};function dn(c,m){Et.call(this),this.g=new Ds(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ji(this)}S(dn,Et),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ko(this.g)},dn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Rn(c),c=v);m.i.push(new Dt(m.Ya++,c)),m.I==3&&Ri(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,dn.Z.N.call(this)};function Vu(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Vu,Ht);function ju(){pn.call(this),this.status=1}S(ju,pn);function Ji(c){this.g=c}S(Ji,Mu),Ji.prototype.ra=function(){Tt(this.g,"a")},Ji.prototype.qa=function(c){Tt(this.g,new Vu(c))},Ji.prototype.pa=function(c){Tt(this.g,new ju)},Ji.prototype.oa=function(){Tt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,m1=function(){return new ks},d1=function(){return ne()},f1=_t,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Kc=Qi,Nr.COMPLETE="complete",h1=Nr,gi.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Pl=gi,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,c1=st}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",A_="4.9.2";class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Co="12.3.0";const ua=new zm("@firebase/firestore");function oo(){return ua.logLevel}function le(s,...e){if(ua.logLevel<=Be.DEBUG){const i=e.map(Fm);ua.debug(`Firestore (${Co}): ${s}`,...i)}}function ys(s,...e){if(ua.logLevel<=Be.ERROR){const i=e.map(Fm);ua.error(`Firestore (${Co}): ${s}`,...i)}}function vo(s,...e){if(ua.logLevel<=Be.WARN){const i=e.map(Fm);ua.warn(`Firestore (${Co}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,p1(s,r,i)}function p1(s,e,i){let r=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ys(r),new Error(r)}function Je(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||p1(e,l,r)}function xe(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class g1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class l2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class u2{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sa,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new g1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class c2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new c2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=d2(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Jd(l)===Jd(u)?qe(l,u):Jd(l)?1:-1}return qe(s.length,e.length)}const m2=55296,p2=57343;function Jd(s){const e=s.charCodeAt(0);return e>=m2&&e<=p2}function bo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const R_="__name__";class Mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&we(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Mi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return qe(e.length,i.length)}static compareSegments(e,i){const r=Mi.isNumericId(e),l=Mi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class ct extends Mi{construct(e,i,r){return new ct(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ct(i)}static emptyPath(){return new ct([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Mi{construct(e,i,r){return new rn(e,i,r)}static isValidIdentifier(e){return g2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R_}static keyField(){return new rn([R_])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(u(),l++)}if(u(),d)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(i)}static emptyPath(){return new rn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ct.fromString(e))}static fromName(e){return new ve(ct.fromString(e).popFirst(5))}static empty(){return new ve(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ct.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ct(e.slice()))}}function y1(s,e,i){if(!i)throw new ae(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function y2(s,e,i,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I_(s){if(!ve.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function C_(s){if(ve.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function xh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function dr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xh(s);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function uu(s,e){if(!_1(s))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ae(X.INVALID_ARGUMENT,i);return!0}const N_=-62135596800,D_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*D_);return new mt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<N_)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Ut("string",mt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new mt(0,0))}static max(){return new Se(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function _2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(r===1e9?new mt(i+1,0):new mt(i,r));return new gr(l,ve.empty(),e)}function v2(s){return new gr(s.readTime,s.key,Zl)}class gr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new gr(Se.min(),ve.empty(),Zl)}static max(){return new gr(Se.max(),ve.empty(),Zl)}}function b2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==E2)throw s;le("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,u=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&i()}),(g=>r(g)))})),d=!0,u===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const u=e.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;i(e[_]).next((T=>{d[_]=T,++p,p===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new $(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function w2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Do(s){return s.name==="IndexedDbTransactionError"}class Rh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;const Ym=-1;function Ih(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function S2(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const v1="";function A2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O_(e)),e=x2(s.get(i),e);return O_(e)}function x2(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case v1:i+="";break;default:i+=u}}return i}function O_(s){return s+v1+""}function k_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function b1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||sn.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??sn.RED,this.left=l??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new sn(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new sn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Gt(this.comparator);return i.data=e,i}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Gt(rn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new E1("Invalid base64 string: "+u):u}})(e);return new an(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=R2.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const T1="server_timestamp",w1="__type__",S1="__previous_value__",A1="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[w1]?.stringValue===T1}function Ch(s){const e=s.mapValue.fields[S1];return Qm(e)?Ch(e):e}function Jl(s){const e=yr(s.mapValue.fields[A1].timestampValue);return new mt(e.seconds,e.nanos)}class I2{constructor(e,i,r,l,u,d,p,g,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const ah="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}const x1="__type__",C2="__max__",qc={mapValue:{}},R1="__vector__",oh="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:D2(s)?9007199254740991:N2(s)?10:11:we(28295,{value:s})}function Bi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jl(s).isEqual(Jl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=yr(l.timestampValue),p=yr(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return _r(l.bytesValue).isEqual(_r(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Ct(l.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ct(l.integerValue)===Ct(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Ct(l.doubleValue),p=Ct(u.doubleValue);return d===p?rh(d)===rh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return bo(s.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(k_(d)!==k_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Bi(d[g],p[g])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function eu(s,e){return(s.values||[]).find((i=>Bi(i,e)))!==void 0}function Eo(s,e){if(s===e)return 0;const i=vr(s),r=vr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const p=Ct(u.integerValue||u.doubleValue),g=Ct(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return V_(s.timestampValue,e.timestampValue);case 4:return V_(Jl(s),Jl(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(u,d){const p=_r(u),g=_r(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=qe(p[_],g[_]);if(T!==0)return T}return qe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const p=qe(Ct(u.latitude),Ct(d.latitude));return p!==0?p:qe(Ct(u.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const p=u.fields||{},g=d.fields||{},_=p[oh]?.arrayValue,T=g[oh]?.arrayValue,S=qe(_?.values?.length||0,T?.values?.length||0);return S!==0?S:j_(_,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===qc.mapValue&&d===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=d.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const x=gm(g[S],T[S]);if(x!==0)return x;const B=Eo(p[g[S]],_[T[S]]);if(B!==0)return B}return qe(g.length,T.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function V_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=yr(s),r=yr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function j_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=Eo(i[l],r[l]);if(u)return u}return qe(i.length,r.length)}function To(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=yr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=ym(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):we(61005,{value:s})}function Xc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(s);return e?16+Xc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Xc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Tr(r.fields,((u,d)=>{l+=u.length+Xc(d)})),l})(s.mapValue);default:throw we(13486,{value:s})}}function L_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function P_(s){return!!s&&"nullValue"in s}function U_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function $c(s){return!!s&&"mapValue"in s}function N2(s){return(s?.mapValue?.fields||{})[x1]?.stringValue===R1}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return{...s}}function D2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===C2}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!$c(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=rn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Fl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());$c(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];$c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Tr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Sn(Fl(this.value))}}function I1(s){const e=[];return Tr(s.fields,((i,r)=>{const l=new rn([i]);if($c(r)){const u=I1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Pn(e)}class hn{constructor(e,i,r,l,u,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new hn(e,0,Se.min(),Se.min(),Se.min(),Sn.empty(),0)}static newFoundDocument(e,i,r,l){return new hn(e,1,i,Se.min(),r,l,0)}static newNoDocument(e,i){return new hn(e,2,i,Se.min(),Se.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,Se.min(),Se.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function z_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=ve.comparator(ve.fromName(d.referenceValue),i.key):r=Eo(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function B_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Bi(s.position[i],e.position[i]))return!1;return!0}class tu{constructor(e,i="asc"){this.field=e,this.dir=i}}function O2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class C1{}class Pt extends C1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new M2(e,i,r):i==="array-contains"?new L2(e,r):i==="in"?new P2(e,r):i==="not-in"?new U2(e,r):i==="array-contains-any"?new z2(e,r):new Pt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new V2(e,r):new j2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Eo(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(Eo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends C1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new hi(e,i)}matches(e){return N1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N1(s){return s.op==="and"}function D1(s){return k2(s)&&N1(s)}function k2(s){for(const e of s.filters)if(e instanceof hi)return!1;return!0}function vm(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+To(s.value);if(D1(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function O1(s,e){return s instanceof Pt?(function(r,l){return l instanceof Pt&&r.op===l.op&&r.field.isEqual(l.field)&&Bi(r.value,l.value)})(s,e):s instanceof hi?(function(r,l){return l instanceof hi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,p)=>u&&O1(d,l.filters[p])),!0):!1})(s,e):void we(19439)}function k1(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${To(i.value)}`})(s):s instanceof hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(k1).join(" ,")+"}"})(s):"Filter"}class M2 extends Pt{constructor(e,i,r){super(e,i,r),this.key=ve.fromName(r.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class V2 extends Pt{constructor(e,i){super(e,"in",i),this.keys=M1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class j2 extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=M1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function M1(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class L2 extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&eu(i.arrayValue,this.value)}}class P2 extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eu(this.value.arrayValue,i)}}class U2 extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eu(this.value.arrayValue,i)}}class z2 extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>eu(this.value.arrayValue,r)))}}class B2{constructor(e,i=null,r=[],l=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function q_(s,e=null,i=[],r=[],l=null,u=null,d=null){return new B2(s,e,i,r,l,u,d)}function Xm(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>vm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ih(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>To(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>To(r))).join(",")),e.Te=i}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!O2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!O1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!B_(s.startAt,e.startAt)&&B_(s.endAt,e.endAt)}function bm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oo{constructor(e,i=null,r=[],l=[],u=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function q2(s,e,i,r,l,u,d,p){return new Oo(s,e,i,r,l,u,d,p)}function Zm(s){return new Oo(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function V1(s){return s.collectionGroup!==null}function Gl(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Gt(rn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,r))})),i.has(rn.keyField().canonicalString())||e.Ie.push(new tu(rn.keyField(),r))}return e.Ie}function Vi(s){const e=xe(s);return e.Ee||(e.Ee=H2(e,Gl(s))),e.Ee}function H2(s,e){if(s.limitType==="F")return q_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new tu(l.field,u)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return q_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Em(s,e){const i=s.filters.concat([e]);return new Oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Tm(s,e,i){return new Oo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return $m(Vi(s),Vi(e))&&s.limitType===e.limitType}function j1(s){return`${Xm(Vi(s))}|lt:${s.limitType}`}function lo(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>k1(l))).join(", ")}]`),Ih(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>To(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>To(l))).join(",")),`Target(${r})`})(Vi(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ve.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Gl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const _=z_(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,Gl(r),l)||r.endAt&&!(function(d,p,g){const _=z_(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,Gl(r),l))})(s,e)}function F2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function L1(s){return(e,i)=>{let r=!1;for(const l of Gl(s)){const u=G2(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function G2(s,e,i){const r=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(u,d,p){const g=d.data.field(u),_=p.data.field(u);return g!==null&&_!==null?Eo(g,_):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}const Y2=new vt(ve.comparator);function _s(){return Y2}const P1=new vt(ve.comparator);function Ul(...s){let e=P1;for(const i of s)e=e.insert(i.key,i);return e}function U1(s){let e=P1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ia(){return Yl()}function z1(){return Yl()}function Yl(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Q2=new vt(ve.comparator),K2=new Gt(ve.comparator);function He(...s){let e=K2;for(const i of s)e=e.add(i);return e}const X2=new Gt(qe);function $2(){return X2}function Jm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function B1(s){return{integerValue:""+s}}function Z2(s,e){return S2(e)?B1(e):Jm(s,e)}class Oh{constructor(){this._=void 0}}function J2(s,e,i){return s instanceof uh?(function(l,u){const d={fields:{[w1]:{stringValue:T1},[A1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Qm(u)&&(u=Ch(u)),u&&(d.fields[S1]=u),{mapValue:d}})(i,e):s instanceof nu?H1(s,e):s instanceof iu?F1(s,e):(function(l,u){const d=q1(l,u),p=F_(d)+F_(l.Ae);return _m(d)&&_m(l.Ae)?B1(p):Jm(l.serializer,p)})(s,e)}function W2(s,e,i){return s instanceof nu?H1(s,e):s instanceof iu?F1(s,e):i}function q1(s,e){return s instanceof ch?(function(r){return _m(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class uh extends Oh{}class nu extends Oh{constructor(e){super(),this.elements=e}}function H1(s,e){const i=G1(e);for(const r of s.elements)i.some((l=>Bi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class iu extends Oh{constructor(e){super(),this.elements=e}}function F1(s,e){let i=G1(e);for(const r of s.elements)i=i.filter((l=>!Bi(l,r)));return{arrayValue:{values:i}}}class ch extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function F_(s){return Ct(s.integerValue||s.doubleValue)}function G1(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ex(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof nu&&l instanceof nu||r instanceof iu&&l instanceof iu?bo(r.elements,l.elements,Bi):r instanceof ch&&l instanceof ch?Bi(r.Ae,l.Ae):r instanceof uh&&l instanceof uh})(s.transform,e.transform)}class tx{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kh{}function Y1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Wm(s.key,ci.none()):new cu(s.key,s.data,ci.none());{const i=s.data,r=Sn.empty();let l=new Gt(rn.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new wr(s.key,r,new Pn(l.toArray()),ci.none())}}function nx(s,e,i){s instanceof cu?(function(l,u,d){const p=l.value.clone(),g=Y_(l.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof wr?(function(l,u,d){if(!Zc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=Y_(l.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(Q1(l)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ql(s,e,i,r){return s instanceof cu?(function(u,d,p,g){if(!Zc(u.precondition,d))return p;const _=u.value.clone(),T=Q_(u.fieldTransforms,g,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof wr?(function(u,d,p,g){if(!Zc(u.precondition,d))return p;const _=Q_(u.fieldTransforms,g,d),T=d.data;return T.setAll(Q1(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(u,d,p){return Zc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function ix(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=q1(r.transform,l||null);u!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,u))}return i||null}function G_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&bo(r,l,((u,d)=>ex(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class cu extends kh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wr extends kh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Y_(s,e,i){const r=new Map;Je(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,p=e.data.field(u.field);r.set(u.field,W2(d,p,i[l]))}return r}function Q_(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,J2(u,d,e))}return r}class Wm extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sx extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rx{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&nx(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ql(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=z1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(l.key)?null:p;const g=Y1(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,((i,r)=>G_(i,r)))&&bo(this.baseMutations,e.baseMutations,((i,r)=>G_(i,r)))}}class ep{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Q2})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new ep(e,i,r,l)}}class ax{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ox{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Qe;function lx(s){switch(s){case X.OK:return we(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function K1(s){if(s===void 0)return ys("GRPC error has no .code"),X.UNKNOWN;switch(s){case Lt.OK:return X.OK;case Lt.CANCELLED:return X.CANCELLED;case Lt.UNKNOWN:return X.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return X.INTERNAL;case Lt.UNAVAILABLE:return X.UNAVAILABLE;case Lt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Lt.NOT_FOUND:return X.NOT_FOUND;case Lt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Lt.ABORTED:return X.ABORTED;case Lt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Lt.DATA_LOSS:return X.DATA_LOSS;default:return we(39323,{code:s})}}(Qe=Lt||(Lt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function ux(){return new TextEncoder}const cx=new fr([4294967295,4294967295],0);function K_(s){const e=ux().encode(s),i=new u1;return i.update(e),new Uint8Array(i.digest())}function X_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fr([i,r],0),new fr([l,u],0)]}class tp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=fr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(fr.fromNumber(r)));return l.compare(cx)===1&&(l=new fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=K_(e),[r,l]=X_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new tp(u,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=K_(e),[r,l]=X_(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Mh(Se.min(),l,new vt(qe),_s(),He())}}class hu{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new hu(r,i,He(),He(),He())}}class Jc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class X1{constructor(e,i){this.targetId=e,this.Ce=i}}class $1{constructor(e,i,r=an.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class $_{constructor(){this.ve=0,this.Fe=Z_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:we(38017,{changeType:u})}})),new hu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Z_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hx{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.Je=Hc(),this.He=Hc(),this.Ye=new vt(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(bm(u))if(r===0){const d=new ve(u.path);this.et(i,d,hn.newNoDocument(d,Se.min()))}else Je(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,p;try{d=_r(r).toUint8Array()}catch(g){if(g instanceof E1)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new tp(d,l,u)}catch(g){return vo(g instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&bm(p.target)){const g=new ve(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,hn.newNoDocument(g,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=He();this.He.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Mh(e,i,this.Ye,this.je,r);return this.je=_s(),this.Je=Hc(),this.He=Hc(),this.Ye=new vt(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Gt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Gt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hc(){return new vt(ve.comparator)}function Z_(){return new vt(ve.comparator)}const fx={asc:"ASCENDING",desc:"DESCENDING"},dx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mx={and:"AND",or:"OR"};class px{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function wm(s,e){return s.useProto3Json||Ih(e)?e:{value:e}}function hh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gx(s,e){return hh(s,e.toTimestamp())}function ji(s){return Je(!!s,49232),Se.fromTimestamp((function(i){const r=yr(i);return new mt(r.seconds,r.nanos)})(s))}function np(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(l){return new ct(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function J1(s){const e=ct.fromString(s);return Je(ib(e),10190,{key:e.toString()}),e}function Am(s,e){return np(s.databaseId,e.path)}function Wd(s,e){const i=J1(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(eb(i))}function W1(s,e){return np(s.databaseId,e)}function yx(s){const e=J1(s);return e.length===4?ct.emptyPath():eb(e)}function xm(s){return new ct(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function eb(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function J_(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function _x(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Je(T===void 0||typeof T=="string",58123),an.fromBase64String(T||"")):(Je(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),an.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?X.UNKNOWN:K1(_.code);return new ae(T,_.message||"")})(d);i=new $1(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Wd(s,r.document.name),u=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):Se.min(),p=new Sn({mapValue:{fields:r.document.fields}}),g=hn.newFoundDocument(l,u,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];i=new Jc(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Wd(s,r.document),u=r.readTime?ji(r.readTime):Se.min(),d=hn.newNoDocument(l,u),p=r.removedTargetIds||[];i=new Jc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Wd(s,r.document),u=r.removedTargetIds||[];i=new Jc([],u,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new ox(l,u),p=r.targetId;i=new X1(p,d)}}return i}function vx(s,e){let i;if(e instanceof cu)i={update:J_(s,e.key,e.value)};else if(e instanceof Wm)i={delete:Am(s,e.key)};else if(e instanceof wr)i={update:J_(s,e.key,e.data),updateMask:Ix(e.fieldMask)};else{if(!(e instanceof sx))return we(16599,{Vt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof uh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:gx(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)})(s,e.precondition)),i}function bx(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?ji(l.updateTime):ji(u);return d.isEqual(Se.min())&&(d=ji(u)),new tx(d,l.transformResults||[])})(i,e)))):[]}function Ex(s,e){return{documents:[W1(s,e.path)]}}function Tx(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=W1(s,l);const u=(function(_){if(_.length!==0)return nb(hi.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(x){return{field:uo(x.field),direction:Ax(x.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=wm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function wx(s){let e=yx(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Je(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(S){const x=tb(S);return x instanceof hi&&D1(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(J){return new tu(co(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,Ih(x)?null:x})(i.limit));let g=null;i.startAt&&(g=(function(S){const x=!!S.before,B=S.values||[];return new lh(B,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const x=!S.before,B=S.values||[];return new lh(B,x)})(i.endAt)),q2(e,l,d,u,p,"F",g,_)}function Sx(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function tb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=co(i.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=co(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(i.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=co(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create(co(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return hi.create(i.compositeFilter.filters.map((r=>tb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function Ax(s){return fx[s]}function xx(s){return dx[s]}function Rx(s){return mx[s]}function uo(s){return{fieldPath:s.canonicalString()}}function co(s){return rn.fromServerFormat(s.fieldPath)}function nb(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(U_(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U_(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(i.field),op:xx(i.op),value:i.value}}})(s):s instanceof hi?(function(i){const r=i.getFilters().map((l=>nb(l)));return r.length===1?r[0]:{compositeFilter:{op:Rx(i.op),filters:r}}})(s):we(54877,{filter:s})}function Ix(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function ib(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class lr{constructor(e,i,r,l,u=Se.min(),d=Se.min(),p=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cx{constructor(e){this.yt=e}}function Nx(s){const e=wx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(e,e.limit,"L"):e}class Dx{constructor(){this.Cn=new Ox}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(gr.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Ox{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Gt(ct.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Gt(ct.comparator)).toArray()}}const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sb=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(sb,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wo(0)}static cr(){return new wo(-1)}}const ev="LruGarbageCollector",kx=1048576;function tv([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class Mx{constructor(e){this.Ir=e,this.buffer=new Gt(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();tv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Vx{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Do(i)?le(ev,"Ignoring IndexedDB error during garbage collection: ",i):await No(i)}await this.Vr(3e5)}))}}class jx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Rh.ce);const r=new Mx(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(W_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,p,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),oo()<=Be.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function Lx(s,e){return new jx(s,e)}class Px{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ux{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class zx{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ql(r.mutation,l,Pn.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=ia();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Ul();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ia();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let u=_s();const d=Yl(),p=(function(){return Yl()})();return i.forEach(((g,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof wr)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Ql(T.mutation,_,T.mutation.getFieldMask(),mt.now())):d.set(_.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new Ux(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Yl();let l=new vt(((d,p)=>d-p)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let T=r.get(g)||Pn.empty();T=p.applyToLocalView(_,T),r.set(g,T);const S=(l.get(p.batchId)||He()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,S=z1();T.forEach((x=>{if(!u.has(x)){const B=Y1(i.get(x),r.get(x));B!==null&&S.set(x,B),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):V1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):$.resolve(ia());let p=Zl,g=u;return d.next((_=>$.forEach(_,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{g=g.insert(T,x)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,g,_,He()))).next((T=>({batchId:p,changes:U1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((r=>{let l=Ul();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,u).next((p=>$.forEach(p,(g=>{const _=(function(S,x){return new Oo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((g,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,hn.newInvalidDocument(T)))}));let p=Ul();return d.forEach(((g,_)=>{const T=u.get(g);T!==void 0&&Ql(T.mutation,_,Pn.empty(),mt.now()),Dh(i,_)&&(p=p.insert(g,_))})),p}))}}class Bx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Nx(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class qx{constructor(){this.overlays=new vt(ve.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ia();return $.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=ia(),u=i.length+1,d=new ve(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new vt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=u.get(_.largestBatchId);T===null&&(T=ia(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=ia(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return $.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ax(i,r));let u=this.qr.get(i);u===void 0&&(u=He(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class Hx{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class ip{constructor(){this.Qr=new Gt($t.$r),this.Ur=new Gt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new $t(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new $t(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ve(new ct([])),r=new $t(i,e),l=new $t(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ve(new ct([])),r=new $t(i,e),l=new $t(i,e+1);let u=He();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new $t(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ve.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||ve.comparator(e.key,i.key)}}class Fx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Gt($t.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rx(u,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new $t(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Gt(qe);return i.forEach((l=>{const u=new $t(l,0),d=new $t(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;ve.isDocumentKey(u)||(u=u.child(""));const d=new $t(new ve(u),0);let p=new Gt(qe);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const u=new $t(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new $t(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Gx{constructor(e){this.ri=e,this.docs=(function(){return new vt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let r=_s();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():hn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=_s();const d=i.path,p=new ve(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||b2(v2(T),r)<=0||(l.has(T.key)||Dh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,i,r,l){we(9500)}ii(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Yx(this)}getSize(e){return $.resolve(this.size)}}class Yx extends Px{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Qx{constructor(e){this.persistence=e,this.si=new da((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new ip,this.targetCount=0,this.ai=wo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class rb{constructor(e,i){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new Hx,this.referenceDelegate=e(this),this.Pi=new Qx(this),this.indexManager=new Dx,this.remoteDocumentCache=(function(l){return new Gx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Cx(i),this.Ii=new Bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new qx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Fx(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){le("MemoryPersistence","Starting transaction:",e);const l=new Kx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Kx extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Ri=new ip,this.Vi=null}static mi(e){return new sp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ve.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class fh{constructor(e,i){this.persistence=e,this.pi=new da((r=>A2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Lx(this,i)}static mi(e,i){return new fh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,u.removeEntry(d,Se.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xc(e.data.value)),i}br(e,i,r){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rp{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new rp(e,i.fromCache,r,l)}}class Xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $x{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zS()?8:w2(fn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new Xx;return this.Ss(e,i,d).next((p=>{if(u.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(oo()<=Be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(oo()<=Be.DEBUG&&le("QueryEngine","Query:",lo(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(oo()<=Be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(i))):$.resolve())}ys(e,i){if(H_(i))return $.resolve(null);let r=Vi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Tm(i,null,"F"),r=Vi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=He(...u);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const _=this.Ds(i,p);return this.Cs(i,_,d,g.readTime)?this.ys(e,Tm(i,null,"F")):this.vs(e,_,i,g)}))))})))))}ws(e,i,r,l){return H_(i)||l.isEqual(Se.min())?$.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?$.resolve(null):(oo()<=Be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),lo(i)),this.vs(e,d,i,_2(l,Zl)).next((p=>p)))}))}Ds(e,i){let r=new Gt(L1(e));return i.forEach(((l,u)=>{Dh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return oo()<=Be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",lo(i)),this.ps.getDocumentsMatchingQuery(e,i,gr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const ap="LocalStore",Zx=3e8;class Jx{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new vt(qe),this.xs=new da((u=>Xm(u)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Wx(s,e,i,r){return new Jx(s,e,i,r)}async function ab(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=He();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return i.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function eR(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,T){const S=_.batch,x=S.keys();let B=$.resolve();return x.forEach((J=>{B=B.next((()=>T.getEntry(g,J))).next((ee=>{const Z=_.docVersions.get(J);Je(Z!==null,48541),ee.version.compareTo(Z)<0&&(S.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),T.addEntry(ee)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=He();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function ob(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function tR(s,e){const i=xe(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const x=l.get(S);if(!x)return;p.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,S))));let B=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(an.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),l=l.insert(S,B),(function(ee,Z,W){return ee.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=Zx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(x,B,T)&&p.push(i.Pi.updateTargetData(u,B))}));let g=_s(),_=He();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(nR(u,d,e.documentUpdates).next((T=>{g=T.ks,_=T.qs}))),!r.isEqual(Se.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(i.Ms=l,u)))}function nR(s,e,i){let r=He(),l=He();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=_s();return i.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):le(ap,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function iR(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sR(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new lr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Rm(s,e,i){const r=xe(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Do(d))throw d;le(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function nv(s,e,i){const r=xe(s);let l=Se.min(),u=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,T){const S=xe(g),x=S.xs.get(T);return x!==void 0?$.resolve(S.Ms.get(x)):S.Pi.getTargetData(_,T)})(r,d,Vi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?u:He()))).next((p=>(rR(r,F2(e),p),{documents:p,Qs:u})))))}function rR(s,e,i){let r=s.Os.get(e)||Se.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class iv{constructor(){this.activeTargetIds=$2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aR{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oR{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function Im(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const em="RestConnection",lR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Im(),p=this.zo(e,i.toUriEncodedString());le(em,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:_}=new URL(p),T=Ro(_);return this.Jo(e,p,g,r,T).then((S=>(le(em,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw vo(em,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=lR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class cR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class hR extends uR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Im();return new Promise(((p,g)=>{const _=new c1;_.setWithCredentials(!0),_.listenOnce(h1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Kc.NO_ERROR:const S=_.getResponseJson();le(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Kc.TIMEOUT:le(un,`RPC '${e}' ${d} timed out`),g(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const x=_.getStatus();if(le(un,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B?.error;if(J&&J.status&&J.message){const ee=(function(W){const ge=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ge)>=0?ge:X.UNKNOWN})(J.status);g(new ae(ee,J.message))}else g(new ae(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ae(X.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(un,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);le(un,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Im(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=m1(),p=d1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const T=u.join("");le(un,`Creating RPC '${e}' stream ${l}: ${T}`,g);const S=d.createWebChannel(T,g);this.I_(S);let x=!1,B=!1;const J=new cR({Yo:Z=>{B?le(un,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(x||(le(un,`Opening RPC '${e}' stream ${l} transport.`),S.open(),x=!0),le(un,`RPC '${e}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),ee=(Z,W,ge)=>{Z.listen(W,(ue=>{try{ge(ue)}catch(Ie){setTimeout((()=>{throw Ie}),0)}}))};return ee(S,Pl.EventType.OPEN,(()=>{B||(le(un,`RPC '${e}' stream ${l} transport opened.`),J.o_())})),ee(S,Pl.EventType.CLOSE,(()=>{B||(B=!0,le(un,`RPC '${e}' stream ${l} transport closed`),J.a_(),this.E_(S))})),ee(S,Pl.EventType.ERROR,(Z=>{B||(B=!0,vo(un,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Pl.EventType.MESSAGE,(Z=>{if(!B){const W=Z.data[0];Je(!!W,16349);const ge=W,ue=ge?.error||ge[0]?.error;if(ue){le(un,`RPC '${e}' stream ${l} received error:`,ue);const Ie=ue.status;let Pe=(function(A){const I=Lt[A];if(I!==void 0)return K1(I)})(Ie),Re=ue.message;Pe===void 0&&(Pe=X.INTERNAL,Re="Unknown error status: "+Ie+" with message "+ue.message),B=!0,J.a_(new ae(Pe,Re)),S.close()}else le(un,`RPC '${e}' stream ${l} received:`,W),J.u_(W)}})),ee(p,f1.STAT_EVENT,(Z=>{Z.stat===pm.PROXY?le(un,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===pm.NOPROXY&&le(un,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function tm(){return typeof document<"u"?document:null}function Vh(s){return new px(s,!0)}class lb{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const av="PersistentStream";class ub{constructor(e,i,r,l,u,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fR extends ub{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=_x(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?ji(d.readTime):Se.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=bm(g)?{documents:Ex(u,g)}:{query:Tx(u,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Z1(u,d.resumeToken);const _=wm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=hh(u,d.snapshotVersion.toTimestamp());const _=wm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=Sx(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.q_(i)}}class dR extends ub{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=bx(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>vx(this.serializer,r)))};this.q_(i)}}class mR{}class pR extends mR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Sm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(X.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Sm(i,r),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class yR{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(g){const _=xe(g);_.Ea.add(4),await fu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await jh(_)})(this))}))})),this.Ra=new gR(r,l)}}async function jh(s){if(ma(s))for(const e of s.da)await e(!0)}async function fu(s){for(const e of s.da)await e(!1)}function cb(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cp(i)?up(i):ko(i).O_()&&lp(i,e))}function op(s,e){const i=xe(s),r=ko(i);i.Ia.delete(e),r.O_()&&hb(i,e),i.Ia.size===0&&(r.O_()?r.L_():ma(i)&&i.Ra.set("Unknown"))}function lp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ko(s).Y_(e)}function hb(s,e){s.Va.Ue(e),ko(s).Z_(e)}function up(s){s.Va=new hx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ko(s).start(),s.Ra.ua()}function cp(s){return ma(s)&&!ko(s).x_()&&s.Ia.size>0}function ma(s){return xe(s).Ea.size===0}function fb(s){s.Va=void 0}async function _R(s){s.Ra.set("Online")}async function vR(s){s.Ia.forEach(((e,i)=>{lp(s,e)}))}async function bR(s,e){fb(s),cp(s)?(s.Ra.ha(e),up(s)):s.Ra.set("Unknown")}async function ER(s,e,i){if(s.Ra.set("Online"),e instanceof $1&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(s,r)}else if(e instanceof Jc?s.Va.Ze(e):e instanceof X1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Se.min()))try{const r=await ob(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(an.EMPTY_BYTE_STRING,T.snapshotVersion)),hb(u,g);const S=new lr(T.target,g,_,T.sequenceNumber);lp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){le(ca,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,e,i){if(!Do(e))throw e;s.Ea.add(1),await fu(s),s.Ra.set("Offline"),i||(i=()=>ob(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await jh(s)}))}function db(s,e){return e().catch((i=>dh(s,i,e)))}async function Lh(s){const e=xe(s),i=br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;TR(e);)try{const l=await iR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,wR(e,l)}catch(l){await dh(e,l)}mb(e)&&pb(e)}function TR(s){return ma(s)&&s.Ta.length<10}function wR(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.X_&&i.ea(e.mutations)}function mb(s){return ma(s)&&!br(s).x_()&&s.Ta.length>0}function pb(s){br(s).start()}async function SR(s){br(s).ra()}async function AR(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function xR(s,e,i){const r=s.Ta.shift(),l=ep.from(r,e,i);await db(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Lh(s)}async function RR(s,e){e&&br(s).X_&&await(async function(r,l){if((function(d){return lx(d)&&d!==X.ABORTED})(l.code)){const u=r.Ta.shift();br(r).B_(),await db(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Lh(r)}})(s,e),mb(s)&&pb(s)}async function ov(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const r=ma(i);i.Ea.add(3),await fu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await jh(i)}async function IR(s,e){const i=xe(s);e?(i.Ea.delete(2),await jh(i)):e||(i.Ea.add(2),await fu(i),i.Ra.set("Unknown"))}function ko(s){return s.ma||(s.ma=(function(i,r,l){const u=xe(i);return u.sa(),new fR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:_R.bind(null,s),t_:vR.bind(null,s),r_:bR.bind(null,s),H_:ER.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),cp(s)?up(s):s.Ra.set("Unknown")):(await s.ma.stop(),fb(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,r,l){const u=xe(i);return u.sa(),new dR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:SR.bind(null,s),r_:RR.bind(null,s),ta:AR.bind(null,s),na:xR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Lh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hp{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,p=new hp(e,i,d,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(s,e){if(ys("AsyncQueue",`${e}: ${s}`),Do(s))return new ae(X.UNAVAILABLE,`${e}: ${s}`);throw s}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ve.comparator(i.key,r.key):(i,r)=>ve.comparator(i.key,r.key),this.keyedMap=Ul(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class lv{constructor(){this.ga=new vt(ve.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class So{constructor(e,i,r,l,u,d,p,g,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new So(e,i,fo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NR{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=xe(i),u=l.queries;l.queries=uv(),u.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function uv(){return new da((s=>j1(s)),Nh)}async function DR(s,e){const i=xe(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new CR,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=fp(d,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&dp(i)}async function OR(s,e){const i=xe(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function kR(s,e){const i=xe(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&dp(i)}function MR(s,e,i){const r=xe(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function dp(s){s.Ca.forEach((e=>{e.next()}))}var Cm,cv;(cv=Cm||(Cm={})).Ma="default",cv.Cache="cache";class VR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class gb{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class jR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=L1(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new lv,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const x=l.get(T),B=Dh(this.query,S)?S:null,J=!!x&&this.mutatedKeys.has(x.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;x&&B?x.data.isEqual(B.data)?J!==ee&&(r.track({type:3,doc:B}),Z=!0):this.su(x,B)||(r.track({type:2,doc:B}),Z=!0,(g&&this.eu(B,g)>0||_&&this.eu(B,_)<0)&&(p=!0)):!x&&B?(r.track({type:0,doc:B}),Z=!0):x&&!B&&(r.track({type:1,doc:x}),Z=!0,(g||_)&&(p=!0)),Z&&(B?(d=d.add(B),u=ee?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(B,J){const ee=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:Z})}};return ee(B)-ee(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new So(this.query,e.tu,u,d,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new yb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new gb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mp="SyncEngine";class LR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class PR{constructor(e){this.key=e,this.hu=!1}}class UR{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((p=>j1(p)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ve.comparator),this.Au=new Map,this.Ru=new ip,this.Vu={},this.mu=new Map,this.fu=wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zR(s,e,i=!0){const r=wb(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await _b(r,e,i,!0),l}async function BR(s,e){const i=wb(s);await _b(i,e,!0,!1)}async function _b(s,e,i,r){const l=await sR(s.localStore,Vi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await qR(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&cb(s.remoteStore,l),p}async function qR(s,e,i,r,l){s.pu=(S,x,B)=>(async function(ee,Z,W,ge){let ue=Z.view.ru(W);ue.Cs&&(ue=await nv(ee.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,ue))));const Ie=ge&&ge.targetChanges.get(Z.targetId),Pe=ge&&ge.targetMismatches.get(Z.targetId)!=null,Re=Z.view.applyChanges(ue,ee.isPrimaryClient,Ie,Pe);return fv(ee,Z.targetId,Re.au),Re.snapshot})(s,S,x,B);const u=await nv(s.localStore,e,!0),d=new jR(e,u.Qs),p=d.ru(u.documents),g=hu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,g);fv(s,i,_.au);const T=new LR(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function HR(s,e,i){const r=xe(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Nh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&op(r.remoteStore,l.targetId),Nm(r,l.targetId)})).catch(No)):(Nm(r,l.targetId),await Rm(r.localStore,l.targetId,!0))}async function FR(s,e){const i=xe(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),op(i.remoteStore,r.targetId))}async function GR(s,e,i){const r=JR(s);try{const l=await(function(d,p){const g=xe(d),_=mt.now(),T=p.reduce(((B,J)=>B.add(J.key)),He());let S,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=_s(),ee=He();return g.Ns.getEntries(B,T).next((Z=>{J=Z,J.forEach(((W,ge)=>{ge.isValidDocument()||(ee=ee.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,J))).next((Z=>{S=Z;const W=[];for(const ge of p){const ue=ix(ge,S.get(ge.key).overlayedDocument);ue!=null&&W.push(new wr(ge.key,ue,I1(ue.value.mapValue),ci.exists(!0)))}return g.mutationQueue.addMutationBatch(B,_,W,p)})).next((Z=>{x=Z;const W=Z.applyToLocalDocumentSet(S,ee);return g.documentOverlayCache.saveOverlays(B,Z.batchId,W)}))})).then((()=>({batchId:x.batchId,changes:U1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new vt(qe)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await du(r,l.changes),await Lh(r.remoteStore)}catch(l){const u=fp(l,"Failed to persist write");i.reject(u)}}async function vb(s,e){const i=xe(s);try{const r=await tR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Je(d.hu,14607):l.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await du(i,r,e)}catch(r){await No(r)}}function hv(s,e,i){const r=xe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=xe(d);g.onlineState=p;let _=!1;g.queries.forEach(((T,S)=>{for(const x of S.Sa)x.va(p)&&(_=!0)})),_&&dp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YR(s,e,i){const r=xe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new vt(ve.comparator);d=d.insert(u,hn.newNoDocument(u,Se.min()));const p=He().add(u),g=new Mh(Se.min(),new Map,new vt(qe),d,p);await vb(r,g),r.du=r.du.remove(u),r.Au.delete(e),pp(r)}else await Rm(r.localStore,e,!1).then((()=>Nm(r,e,i))).catch(No)}async function QR(s,e){const i=xe(s),r=e.batch.batchId;try{const l=await eR(i.localStore,e);Eb(i,r,null),bb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await du(i,l)}catch(l){await No(l)}}async function KR(s,e,i){const r=xe(s);try{const l=await(function(d,p){const g=xe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next((S=>(Je(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>g.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);Eb(r,e,i),bb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await du(r,l)}catch(l){await No(l)}}function bb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Eb(s,e,i){const r=xe(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Nm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Tb(s,r)}))}function Tb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(op(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),pp(s))}function fv(s,e,i){for(const r of i)r instanceof gb?(s.Ru.addReference(r.key,e),XR(s,r)):r instanceof yb?(le(mp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Tb(s,r.key)):we(19791,{wu:r})}function XR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(le(mp,"New document in limbo: "+i),s.Eu.add(r),pp(s))}function pp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(ct.fromString(e)),r=s.fu.next();s.Au.set(r,new PR(i)),s.du=s.du.insert(i,r),cb(s.remoteStore,new lr(Vi(Zm(i.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function du(s,e,i){const r=xe(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(_){l.push(_);const T=rp.As(g.targetId,_);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,_){const T=xe(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(x=>$.forEach(x.Es,(B=>T.persistence.referenceDelegate.addReference(S,x.targetId,B))).next((()=>$.forEach(x.ds,(B=>T.persistence.referenceDelegate.removeReference(S,x.targetId,B)))))))))}catch(S){if(!Do(S))throw S;le(ap,"Failed to update sequence numbers: "+S)}for(const S of _){const x=S.targetId;if(!S.fromCache){const B=T.Ms.get(x),J=B.snapshotVersion,ee=B.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(x,ee)}}})(r.localStore,u))}async function $R(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){le(mp,"User change. New user:",e.toKey());const r=await ab(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ae(X.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(i,r.Ls)}}function ZR(s,e){const i=xe(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function wb(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YR.bind(null,e),e.Pu.H_=kR.bind(null,e.eventManager),e.Pu.yu=MR.bind(null,e.eventManager),e}function JR(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Wx(this.persistence,new $x,e.initialUser,this.serializer)}Cu(e){return new rb(sp.mi,this.serializer)}Du(e){return new aR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class WR extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vx(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new rb((r=>fh.mi(r,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$R.bind(null,this.syncEngine),await IR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NR})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),r=(function(u){return new hR(u)})(e.databaseInfo);return(function(u,d,p,g){return new pR(u,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,p){return new yR(r,l,u,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new oR})())}createSyncEngine(e,i){return(function(l,u,d,p,g,_,T){const S=new UR(l,u,d,p,g,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=xe(i);le(ca,"RemoteStore shutting down."),r.Ea.add(5),await fu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class eI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class tI{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=cn.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{le(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=fp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),le(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await ab(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await nI(s);le(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>ov(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>ov(e.remoteStore,l))),s._onlineComponents=e}async function nI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Er,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;vo("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new mh)}}else le(Er,"Using default OfflineComponentProvider"),await nm(s,new WR(void 0));return s._offlineComponents}async function Sb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Er,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(le(Er,"Using default OnlineComponentProvider"),await dv(s,new Dm))),s._onlineComponents}function iI(s){return Sb(s).then((e=>e.syncEngine))}async function mv(s){const e=await Sb(s),i=e.eventManager;return i.onListen=zR.bind(null,e.syncEngine),i.onUnlisten=HR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=BR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=FR.bind(null,e.syncEngine),i}function Ab(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const pv=new Map;const xb="firestore.googleapis.com",gv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xb,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kx)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o2;switch(r.type){case"firstParty":return new h2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=pv.get(i);r&&(le("ComponentProvider","Removing Datastore"),pv.delete(i),r.terminate())})(this),Promise.resolve()}}function sI(s,e,i,r={}){s=dr(s,Ph);const l=Ro(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(n1(`https://${p}`),i1("Firestore",!0)),u.host!==xb&&u.host!==p&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!oa(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=cn.MOCK_USER;else{_=DS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(S)}s._authCredentials=new l2(new g1(_,T))}}class pa{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class zt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(uu(i,zt._jsonSchema))return new zt(e,r||null,new ve(ct.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Ut("string",zt._jsonSchemaVersion),referencePath:Ut("string")};class mr extends pa{constructor(e,i,r){super(e,i,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ve(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function nr(s,e,...i){if(s=Yt(s),y1("collection","path",e),s instanceof Ph){const r=ct.fromString(e,...i);return C_(r),new mr(s,null,r)}{if(!(s instanceof zt||s instanceof mr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...i));return C_(r),new mr(s.firestore,null,r)}}function na(s,e,...i){if(s=Yt(s),arguments.length===1&&(e=Gm.newId()),y1("doc","path",e),s instanceof Ph){const r=ct.fromString(e,...i);return I_(r),new zt(s,null,new ve(r))}{if(!(s instanceof zt||s instanceof mr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...i));return I_(r),new zt(s.firestore,s instanceof mr?s.converter:null,new ve(r))}}const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lb(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&le(_v,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new sa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;le(_v,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",bv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=hp.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function bv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Ev(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Ao extends Ph{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new vv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function rI(s,e){const i=typeof s=="object"?s:Hm(),r=typeof s=="string"?s:ah,l=qm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=CS("firestore");u&&sI(l,...u)}return l}function Rb(s){if(s._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||aI(s),s._firestoreClient}function aI(s){const e=s._freezeSettings(),i=(function(l,u,d,p){return new I2(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Ab(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new tI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(an.fromBase64String(e))}catch(i){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Zn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ut("string",Zn._jsonSchemaVersion),bytes:Ut("string")};class Uh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gp{constructor(e){this._methodName=e}}class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(uu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Ut("string",Li._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Pi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Pi(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Ut("string",Pi._jsonSchemaVersion),vectorValues:Ut("object")};const oI=/^__.*__$/;class lI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new cu(e,this.data,i,this.fieldTransforms)}}class Ib{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Cb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:s})}}class yp{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Cb(this.Ac)&&oI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vh(e)}Cc(e,i,r,l=!1){return new yp({Ac:e,methodName:i,Dc:r,path:rn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _p(s){const e=s._freezeSettings(),i=Vh(s._databaseId);return new uI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function cI(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);vp("Data must be an object, but it was:",d,r);const p=Nb(r,d);let g,_;if(u.merge)g=new Pn(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const x=Om(e,S,i);if(!d.contains(x))throw new ae(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ob(T,x)||T.push(x)}g=new Pn(T),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new lI(new Sn(p),g,_)}class zh extends gp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function hI(s,e,i,r){const l=s.Cc(1,e,i);vp("Data must be an object, but it was:",l,r);const u=[],d=Sn.empty();Tr(r,((g,_)=>{const T=bp(e,g,i);_=Yt(_);const S=l.yc(T);if(_ instanceof zh)u.push(T);else{const x=mu(_,S);x!=null&&(u.push(T),d.set(T,x))}}));const p=new Pn(u);return new Ib(d,p,l.fieldTransforms)}function fI(s,e,i,r,l,u){const d=s.Cc(1,e,i),p=[Om(e,r,i)],g=[l];if(u.length%2!=0)throw new ae(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(Om(e,u[x])),g.push(u[x+1]);const _=[],T=Sn.empty();for(let x=p.length-1;x>=0;--x)if(!Ob(_,p[x])){const B=p[x];let J=g[x];J=Yt(J);const ee=d.yc(B);if(J instanceof zh)_.push(B);else{const Z=mu(J,ee);Z!=null&&(_.push(B),T.set(B,Z))}}const S=new Pn(_);return new Ib(T,S,d.fieldTransforms)}function dI(s,e,i,r=!1){return mu(i,s.Cc(r?4:3,e))}function mu(s,e){if(Db(s=Yt(s)))return vp("Unsupported field value:",e,s),Nb(s,e);if(s instanceof gp)return(function(r,l){if(!Cb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const p of r){let g=mu(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=mt.fromDate(r);return{timestampValue:hh(l.serializer,u)}}if(r instanceof mt){const u=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,u)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:Z1(l.serializer,r._byteString)};if(r instanceof zt){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Pi)return(function(d,p){return{mapValue:{fields:{[x1]:{stringValue:R1},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Jm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${xh(r)}`)})(s,e)}function Nb(s,e){const i={};return b1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((r,l)=>{const u=mu(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function Db(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Li||s instanceof Zn||s instanceof zt||s instanceof gp||s instanceof Pi)}function vp(s,e,i){if(!Db(i)||!_1(i)){const r=xh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Om(s,e,i){if((e=Yt(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return bp(s,e);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const mI=new RegExp("[~\\*/\\[\\]]");function bp(s,e,i){if(e.search(mI)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uh(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new ae(X.INVALID_ARGUMENT,p+s+g)}function Ob(s,e){return s.some((i=>i.isEqual(e)))}class kb{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ep("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pI extends kb{data(){return super.data()}}function Ep(s,e){return typeof e=="string"?bp(s,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function gI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tp{}class Mb extends Tp{}function im(s,e,...i){let r=[];e instanceof Tp&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((g=>g instanceof Sp)).length,p=u.filter((g=>g instanceof wp)).length;if(d>1||d>0&&p>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class wp extends Mb{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new wp(e,i,r)}_apply(e){const i=this._parse(e);return Vb(e._query,i),new pa(e.firestore,e.converter,Em(e._query,i))}_parse(e){const i=_p(e.firestore);return(function(u,d,p,g,_,T,S){let x;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){wv(S,T);const J=[];for(const ee of S)J.push(Tv(g,u,ee));x={arrayValue:{values:J}}}else x=Tv(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||wv(S,T),x=dI(p,d,S,T==="in"||T==="not-in");return Pt.create(_,T,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Sp extends Tp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Sp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:hi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const g of p)Vb(d,g),d=Em(d,g)})(e._query,i),new pa(e.firestore,e.converter,Em(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ap extends Mb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ap(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,d)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new Oo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function sm(s,e="asc"){const i=e,r=Ep("orderBy",s);return Ap._create(r,i)}function Tv(s,e,i){if(typeof(i=Yt(i))=="string"){if(i==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V1(e)&&i.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ct.fromString(i));if(!ve.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L_(s,new ve(r))}if(i instanceof zt)return L_(s,i._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(i)}.`)}function wv(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vb(s,e){const i=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class yI{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Tr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new Pi(i)}convertGeoPoint(e){return new Li(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ch(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ct.fromString(e);Je(ib(r),9688,{name:e});const l=new Wl(r.get(1),r.get(3)),u=new ve(r.popFirst(5));return l.isEqual(i)||ys(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function _I(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends kb{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Ep("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ut("string",ra._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Wc extends ra{data(e={}){return super.data(e)}}class mo{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Wc(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Wc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:vI(p.type),doc:g,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Ut("string",mo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class jb extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}function Gc(s,e,i,...r){s=dr(s,zt);const l=dr(s.firestore,Ao),u=_p(l);let d;return d=typeof(e=Yt(e))=="string"||e instanceof Uh?fI(u,"updateDoc",s._key,e,i,r):hI(u,"updateDoc",s._key,e),xp(l,[d.toMutation(s._key,ci.exists(!0))])}function Sv(s){return xp(dr(s.firestore,Ao),[new Wm(s._key,ci.none())])}function Vl(s,e){const i=dr(s.firestore,Ao),r=na(s),l=_I(s.converter,e);return xp(i,[cI(_p(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function rm(s,...e){s=Yt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ev(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let u,d,p;if(s instanceof zt)d=dr(s.firestore,Ao),p=Zm(s._key.path),u={next:g=>{e[r]&&e[r](bI(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=dr(s,pa);d=dr(g.firestore,Ao),p=g._query;const _=new jb(d);u={next:T=>{e[r]&&e[r](new mo(d,_,g,T))},error:e[r+1],complete:e[r+2]},gI(s._query)}return(function(_,T,S,x){const B=new eI(x),J=new VR(T,B,S);return _.asyncQueue.enqueueAndForget((async()=>DR(await mv(_),J))),()=>{B.Nu(),_.asyncQueue.enqueueAndForget((async()=>OR(await mv(_),J)))}})(Rb(d),p,l,u)}function xp(s,e){return(function(r,l){const u=new sa;return r.asyncQueue.enqueueAndForget((async()=>GR(await iI(r),l,u))),u.promise})(Rb(s),e)}function bI(s,e,i){const r=i.docs.get(e._key),l=new jb(s);return new ra(s,l,e._key,r,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Co=l})(Io),_o(new la("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new Ao(new u2(r.getProvider("auth-internal")),new f2(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),hr(S_,A_,e),hr(S_,A_,"esm2020")})();function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EI=Lb,Pb=new ou("auth","Firebase",Lb());const gh=new zm("@firebase/auth");function TI(s,...e){gh.logLevel<=Be.WARN&&gh.warn(`Auth (${Io}): ${s}`,...e)}function eh(s,...e){gh.logLevel<=Be.ERROR&&gh.error(`Auth (${Io}): ${s}`,...e)}function fi(s,...e){throw Rp(s,...e)}function Ui(s,...e){return Rp(s,...e)}function Ub(s,e,i){const r={...EI(),[e]:i};return new ou("auth","Firebase",r).create(e,{appName:s.name})}function pr(s){return Ub(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Pb.create(s,...e)}function Te(s,e,...i){if(!s)throw Rp(e,...i)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw eh(e),new Error(e)}function vs(s,e){s||ms(e)}function km(){return typeof self<"u"&&self.location?.href||""}function wI(){return Av()==="http:"||Av()==="https:"}function Av(){return typeof self<"u"&&self.location?.protocol||null}function SI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wI()||LS()||"connection"in navigator)?navigator.onLine:!0}function AI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class pu{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=MS()||PS()}get(){return SI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ip(s,e){vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class zb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],II=new pu(3e4,6e4);function ga(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Sr(s,e,i,r,l={}){return Bb(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const p=lu({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...u};return jS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Ro(s.emulatorConfig.host)&&(_.credentials="include"),zb.fetch()(await qb(s,s.config.apiHost,i,p),_)})}async function Bb(s,e,i){s._canInitEmulator=!1;const r={...xI,...e};try{const l=new NI(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Yc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Yc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Ub(s,T,_);fi(s,T)}}catch(l){if(l instanceof bs)throw l;fi(s,"network-request-failed",{message:String(l)})}}async function Bh(s,e,i,r,l={}){const u=await Sr(s,e,i,r,l);return"mfaPendingCredential"in u&&fi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function qb(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Ip(s.config,l):`${s.config.apiScheme}://${l}`;return RI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function CI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),II.get())})}}function Yc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ui(s,e,r);return l.customData._tokenResponse=i,l}function xv(s){return s!==void 0&&s.enterprise!==void 0}class DI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return CI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OI(s,e){return Sr(s,"GET","/v2/recaptchaConfig",ga(s,e))}async function kI(s,e){return Sr(s,"POST","/v1/accounts:delete",e)}async function yh(s,e){return Sr(s,"POST","/v1/accounts:lookup",e)}function Kl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MI(s,e=!1){const i=Yt(s),r=await i.getIdToken(e),l=Cp(r);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Kl(am(l.auth_time)),issuedAtTime:Kl(am(l.iat)),expirationTime:Kl(am(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function am(s){return Number(s)*1e3}function Cp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(i);return l?JSON.parse(l):(eh("Failed to decode base64 JWT payload"),null)}catch(l){return eh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Rv(s){const e=Cp(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function su(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof bs&&VI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function VI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(s){const e=s.auth,i=await s.getIdToken(),r=await su(s,yh(e,{idToken:i}));Te(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?Hb(l.providerUserInfo):[],d=PI(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Mm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function LI(s){const e=Yt(s);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Hb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UI(s,e){const i=await Bb(s,{},async()=>{const r=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await qb(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ro(s.emulatorConfig.host)&&(g.credentials="include"),zb.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zI(s,e){return Sr(s,"POST","/v2/accounts:revokeToken",ga(s,e))}class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=Rv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await UI(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new po;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return ms("not implemented")}}function ir(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await su(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return MI(this,e)}reload(){return LI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await _h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await su(this,kI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:B,providerData:J,stsTokenManager:ee}=i;Te(S&&ee,e,"internal-error");const Z=po.fromJSON(this.name,ee);Te(typeof S=="string",e,"internal-error"),ir(r,e.name),ir(l,e.name),Te(typeof x=="boolean",e,"internal-error"),Te(typeof B=="boolean",e,"internal-error"),ir(u,e.name),ir(d,e.name),ir(p,e.name),ir(g,e.name),ir(_,e.name),ir(T,e.name);const W=new ui({uid:S,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:T});return J&&Array.isArray(J)&&(W.providerData=J.map(ge=>({...ge}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(e,i,r=!1){const l=new po;l.updateFromServerResponse(i);const u=new ui({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await _h(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?Hb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,p=new po;p.updateFromIdToken(r);const g=new ui({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const Iv=new Map;function ps(s){vs(s instanceof Function,"Expected a class definition");let e=Iv.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Iv.set(s,e),e)}class Fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Fb.type="NONE";const Cv=Fb;function th(s,e,i){return`firebase:${s}:${e}:${i}`}class go{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=th(this.userKey,l.apiKey,u),this.fullPersistenceKey=th("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await yh(this.auth,{idToken:e}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new go(ps(Cv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||ps(Cv);const d=th(r,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const T=await _._get(d);if(T){let S;if(typeof T=="string"){const x=await yh(e,{idToken:T}).catch(()=>{});if(!x)break;S=await ui._fromGetAccountInfoResponse(e,x,T)}else S=ui._fromJSON(e,T);_!==u&&(p=S),u=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new go(u,e,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new go(u,e,r))}}function Nv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($b(e))return"Blackberry";if(Zb(e))return"Webos";if(Yb(e))return"Safari";if((e.includes("chrome/")||Qb(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Gb(s=fn()){return/firefox\//i.test(s)}function Yb(s=fn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(s=fn()){return/crios\//i.test(s)}function Kb(s=fn()){return/iemobile/i.test(s)}function Xb(s=fn()){return/android/i.test(s)}function $b(s=fn()){return/blackberry/i.test(s)}function Zb(s=fn()){return/webos/i.test(s)}function Np(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function BI(s=fn()){return Np(s)&&!!window.navigator?.standalone}function qI(){return US()&&document.documentMode===10}function Jb(s=fn()){return Np(s)||Xb(s)||Zb(s)||$b(s)||/windows phone/i.test(s)||Kb(s)}function Wb(s,e=[]){let i;switch(s){case"Browser":i=Nv(fn());break;case"Worker":i=`${Nv(fn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Io}/${r}`}class HI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,p)=>{try{const g=e(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function FI(s,e={}){return Sr(s,"GET","/v2/passwordPolicy",ga(s,e))}const GI=6;class YI{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??GI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class QI{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new HI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await yh(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(pr(this));const i=e?Yt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FI(this),i=new YI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await zI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mo(s){return Yt(s)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=QS(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KI(s){qh=s}function eE(s){return qh.loadJS(s)}function XI(){return qh.recaptchaEnterpriseScript}function $I(){return qh.gapiScript}function ZI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class JI{constructor(){this.enterprise=new WI}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class WI{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const eC="recaptcha-enterprise",tE="NO_RECAPTCHA";class tC{constructor(e){this.type=eC,this.auth=Mo(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{OI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new DI(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(u,d,p){const g=window.grecaptcha;xv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(tE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&xv(window.grecaptcha))l(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=XI();g.length!==0&&(g+=p),eE(g).then(()=>{l(p,u,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function Ov(s,e,i,r=!1,l=!1){const u=new tC(s);let d;if(l)d=tE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function kv(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ov(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ov(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function nC(s,e){const i=qm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(oa(u,e??{}))return l;fi(l,"already-initialized")}return i.initialize({options:e})}function iC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function sC(s,e,i){const r=Mo(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=nE(e),{host:d,port:p}=rC(e),g=p===null?"":`:${p}`,_={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(oa(_,r.config.emulator)&&oa(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Ro(d)?(n1(`${u}//${d}${g}`),i1("Auth",!0)):aC()}function nE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function rC(s){const e=nE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Mv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Mv(d)}}}function Mv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function aC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function oC(s,e){return Sr(s,"POST","/v1/accounts:signUp",e)}async function lC(s,e){return Bh(s,"POST","/v1/accounts:signInWithPassword",ga(s,e))}async function uC(s,e){return Bh(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}async function cC(s,e){return Bh(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}class ru extends Dp{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new ru(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new ru(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,i,"signInWithPassword",lC);case"emailLink":return uC(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,r,"signUpPassword",oC);case"emailLink":return cC(e,{idToken:i,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yo(s,e){return Bh(s,"POST","/v1/accounts:signInWithIdp",ga(s,e))}const hC="http://localhost";class ha extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new ha(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return yo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,yo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,yo(e,i)}buildRequest(){const e={requestUri:hC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=lu(i)}return e}}function fC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dC(s){const e=jl(Ll(s)).link,i=e?jl(Ll(e)).deep_link_id:null,r=jl(Ll(s)).deep_link_id;return(r?jl(Ll(r)).link:null)||r||i||e||s}class Op{constructor(e){const i=jl(Ll(e)),r=i.apiKey??null,l=i.oobCode??null,u=fC(i.mode??null);Te(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=dC(e);try{return new Op(i)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,i){return ru._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Op.parseLink(i);return Te(r,"argument-error"),ru._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class iE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends gu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return rr.credential(i,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends gu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class or extends gu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return or.credential(i,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ui._fromIdTokenResponse(e,r,l),d=Vv(r);return new xo({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Vv(r);return new xo({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Vv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class vh extends bs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new vh(e,i,r,l)}}function sE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(s,u,e,r):u})}async function mC(s,e,i=!1){const r=await su(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return xo._forOperation(s,"link",r)}async function pC(s,e,i=!1){const{auth:r}=s;if(li(r.app))return Promise.reject(pr(r));const l="reauthenticate";try{const u=await su(s,sE(r,l,e,s),i);Te(u.idToken,r,"internal-error");const d=Cp(u.idToken);Te(d,r,"internal-error");const{sub:p}=d;return Te(s.uid===p,r,"user-mismatch"),xo._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&fi(r,"user-mismatch"),u}}async function rE(s,e,i=!1){if(li(s.app))return Promise.reject(pr(s));const r="signIn",l=await sE(s,r,e),u=await xo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function gC(s,e){return rE(Mo(s),e)}async function yC(s){const e=Mo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _C(s,e,i){return li(s.app)?Promise.reject(pr(s)):gC(Yt(s),Vo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yC(s),r})}function vC(s,e,i,r){return Yt(s).onIdTokenChanged(e,i,r)}function bC(s,e,i){return Yt(s).beforeAuthStateChanged(e,i)}function EC(s,e,i,r){return Yt(s).onAuthStateChanged(e,i,r)}function TC(s){return Yt(s).signOut()}const bh="__sak";class aE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wC=1e3,SC=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);qI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,SC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const AC=oE;class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}lE.type="SESSION";const uE=lE;function xC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,u)),g=await xC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function kp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class RC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const _=kp("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function IC(s){zi().location.href=s}function cE(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function CC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){return navigator?.serviceWorker?.controller||null}function DC(){return cE()?self:null}const hE="firebaseLocalStorageDb",OC=1,Eh="firebaseLocalStorage",fE="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Fh(s,e){return s.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function kC(){const s=indexedDB.deleteDatabase(hE);return new yu(s).toPromise()}function Vm(){const s=indexedDB.open(hE,OC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Eh,{keyPath:fE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await kC(),e(await Vm()))})})}async function jv(s,e,i){const r=Fh(s,!0).put({[fE]:e,value:i});return new yu(r).toPromise()}async function MC(s,e){const i=Fh(s,!1).get(e),r=await new yu(i).toPromise();return r===void 0?null:r.value}function Lv(s,e){const i=Fh(s,!0).delete(e);return new yu(i).toPromise()}const VC=800,jC=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>jC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(DC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CC(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await jv(e,bh,"1"),await Lv(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>jv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>MC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Fh(l,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const LC=dE;new pu(3e4,6e4);function PC(s,e){return e?ps(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mp extends Dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return yo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function UC(s){return rE(s.auth,new Mp(s),s.bypassAuthState)}function zC(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),pC(i,new Mp(s),s.bypassAuthState)}async function BC(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),mC(i,new Mp(s),s.bypassAuthState)}class mE{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:fi(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qC=new pu(2e3,1e4);class ho extends mE{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qC.get())};e()}}ho.currentPopupAction=null;const HC="pendingRedirect",nh=new Map;class FC extends mE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await GC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(s,e){const i=KC(e),r=QC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function YC(s,e){nh.set(s._key(),e)}function QC(s){return ps(s._redirectPersistence)}function KC(s){return th(HC,s.config.apiKey,s.name)}async function XC(s,e,i=!1){if(li(s.app))return Promise.reject(pr(s));const r=Mo(s),l=PC(r,e),d=await new FC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const $C=600*1e3;class ZC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!pE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ui(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pv(e))}saveEventToCache(e){this.cachedEventUids.add(Pv(e)),this.lastProcessedEventTime=Date.now()}}function Pv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function pE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function JC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(s);default:return!1}}async function WC(s,e={}){return Sr(s,"GET","/v1/projects",e)}const eN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tN=/^https?/;async function nN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await WC(s);for(const i of e)try{if(iN(i))return}catch{}fi(s,"unauthorized-domain")}function iN(s){const e=km(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!tN.test(i))return!1;if(eN.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const sN=new pu(3e4,6e4);function Uv(){const s=zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function rN(s){return new Promise((e,i)=>{function r(){Uv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uv(),i(Ui(s,"network-request-failed"))},timeout:sN.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)r();else{const l=ZI("iframefcb");return zi()[l]=()=>{gapi.load?r():i(Ui(s,"network-request-failed"))},eE(`${$I()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw ih=null,e})}let ih=null;function aN(s){return ih=ih||rN(s),ih}const oN=new pu(5e3,15e3),lN="__/auth/iframe",uN="emulator/auth/iframe",cN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fN(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Ip(e,uN):`https://${s.config.authDomain}/${lN}`,r={apiKey:e.apiKey,appName:s.name,v:Io},l=hN.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${lu(r).slice(1)}`}async function dN(s){const e=await aN(s),i=zi().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:fN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ui(s,"network-request-failed"),p=zi().setTimeout(()=>{u(d)},oN.get());function g(){zi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(d)})}))}const mN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pN=500,gN=600,yN="_blank",_N="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vN(s,e,i,r=pN,l=gN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...mN,width:r.toString(),height:l.toString(),top:u,left:d},_=fn().toLowerCase();i&&(p=Qb(_)?yN:i),Gb(_)&&(e=e||_N,g.scrollbars="yes");const T=Object.entries(g).reduce((x,[B,J])=>`${x}${B}=${J},`,"");if(BI(_)&&p!=="_self")return bN(e||"",p),new zv(null);const S=window.open(e||"",p,T);Te(S,s,"popup-blocked");try{S.focus()}catch{}return new zv(S)}function bN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const EN="__/auth/handler",TN="emulator/auth/handler",wN=encodeURIComponent("fac");async function Bv(s,e,i,r,l,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Io,eventId:l};if(e instanceof iE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",YS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof gu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),_=g?`#${wN}=${encodeURIComponent(g)}`:"";return`${SN(s)}?${lu(p).slice(1)}${_}`}function SN({config:s}){return s.emulator?Ip(s,TN):`https://${s.authDomain}/${EN}`}const om="webStorageSupport";class AN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=XC,this._overrideRedirectResult=YC}async _openPopup(e,i,r,l){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Bv(e,i,r,km(),l);return vN(e,u,kp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await Bv(e,i,r,km(),l);return IC(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(vs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await dN(e),r=new ZC(e);return i.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(om,{type:om},l=>{const u=l?.[0]?.[om];u!==void 0&&i(!!u),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=nN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jb()||Yb()||Np()}}const xN=AN;var qv="@firebase/auth",Hv="1.11.1";class RN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CN(s){_o(new la("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wb(s)},_=new QI(r,l,u,g);return iC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),_o(new la("auth-internal",e=>{const i=Mo(e.getProvider("auth").getImmediate());return(r=>new RN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(qv,Hv,IN(s)),hr(qv,Hv,"esm2020")}const NN=300,DN=t1("authIdTokenMaxAge")||NN;let Fv=null;const ON=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>DN)return;const l=i?.token;Fv!==l&&(Fv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function kN(s=Hm()){const e=qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=nC(s,{popupRedirectResolver:xN,persistence:[LC,AC,uE]}),r=t1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=ON(u.toString());bC(i,d,()=>d(i.currentUser)),vC(i,p=>d(p))}}const l=Wv("auth");return l&&sC(i,`http://${l}`),i}function MN(){return document.getElementsByTagName("head")?.[0]??document}KI({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ui("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",MN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CN("Browser");const Gv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Qc,ql,dt;try{Gv.apiKey&&(KA().length===0?Qc=a1(Gv):Qc=Hm(),ql=kN(Qc),dt=rI(Qc))}catch(s){console.error("Firebase init error:",s)}const An="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",lm="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",VN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[]},Yv=({message:s,type:e,onClose:i})=>{pe.useEffect(()=>{const u=setTimeout(i,3e3);return()=>clearTimeout(u)},[i]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?b.jsx(vw,{size:18}):b.jsx(pw,{size:18});return b.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[b.jsx("div",{className:"shrink-0",children:l}),b.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},jN=({title:s,message:e,onConfirm:i,onCancel:r})=>b.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:r}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-xs transform transition-all scale-100 text-center`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100/80 text-red-500 rounded-2xl flex items-center justify-center mb-4 shadow-inner border border-white/50",children:b.jsx(dS,{size:32})}),b.jsx("h3",{className:"text-xl font-[900] text-gray-800 mb-2 drop-shadow-sm",children:s}),b.jsx("p",{className:"text-sm text-gray-600 font-bold mb-6 leading-relaxed opacity-80",children:e}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-2xl font-bold text-gray-600 bg-white/40 hover:bg-white/60 transition-all border border-white/50 active:scale-95",children:""}),b.jsxs("button",{onClick:i,className:"flex-1 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/30 hover:shadow-red-500/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[b.jsx(Sh,{size:16})," "]})]})]})]}),Gh=({title:s,subtitle:e,showBack:i,leftAction:r,rightAction:l,setActiveTab:u,bgImage:d,themeColor:p,coverOffsetY:g=50,coverScale:_=1})=>{const T=i&&!r?b.jsx("button",{onClick:()=>u&&u("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700 shadow-sm border border-white/20 backdrop-blur-sm",children:b.jsx(cw,{size:20})}):null;return b.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[b.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[d?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-full h-full overflow-hidden relative",children:b.jsx("img",{src:d,className:"w-full h-full object-cover opacity-100 transition-transform duration-700",style:{objectPosition:`center ${g}%`,transform:`scale(${_})`},alt:"",onError:S=>S.target.style.display="none"},d)}),b.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):b.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),b.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[r||T,b.jsxs("div",{className:"drop-shadow-sm",children:[b.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&b.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),b.jsx("div",{className:"scale-90 origin-right",children:l})]})]})},LN=s=>new Promise(e=>{const i=new FileReader;i.readAsDataURL(s),i.onload=r=>{const l=new Image;l.src=r.target.result,l.onload=()=>{const u=document.createElement("canvas"),d=800,p=d/l.width,g=l.width>d?d:l.width,_=l.width>d?l.height*p:l.height;u.width=g,u.height=_,u.getContext("2d").drawImage(l,0,0,g,_),e(u.toDataURL("image/jpeg",.7))}}}),PN=({trip:s,onClose:e,onSave:i,onPreviewChange:r})=>{const[l,u]=pe.useState({destination:s.destination||"",date:s.date||"",coverImage:s.coverImage||"",coverOffsetY:s.coverOffsetY!==void 0?s.coverOffsetY:50,coverScale:s.coverScale!==void 0?s.coverScale:1});pe.useEffect(()=>{r&&r(l)},[l,r]);const[d,p]=pe.useState(!1),g=pe.useRef(null),_=pe.useRef(null),T=pe.useRef(!1),S=pe.useRef(0),x=pe.useRef(0),B=ue=>{const{name:Ie,value:Pe}=ue.target;u(Re=>({...Re,[Ie]:Pe}))},J=async ue=>{const Ie=ue.target.files[0];if(Ie){p(!0);try{const Pe=await LN(Ie);u(Re=>({...Re,coverImage:Pe,coverOffsetY:50,coverScale:1}))}catch(Pe){console.error("Image process error",Pe),alert("")}finally{p(!1)}}},ee=()=>{i(s.id,l)},Z=ue=>{l.coverImage&&(T.current=!0,S.current=ue.clientY||ue.touches[0].clientY,x.current=l.coverOffsetY)},W=ue=>{if(!T.current)return;const Ie=ue.clientY||ue.touches&&ue.touches[0].clientY;if(!Ie)return;const Pe=S.current-Ie,Re=160,N=1.5*l.coverScale,A=Pe/Re*100/N;let I=x.current+A;I=Math.max(0,Math.min(100,I)),u(M=>({...M,coverOffsetY:I}))},ge=()=>{T.current=!1};return pe.useEffect(()=>(window.addEventListener("mouseup",ge),window.addEventListener("touchend",ge),()=>{window.removeEventListener("mouseup",ge),window.removeEventListener("touchend",ge)}),[]),b.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(fa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Kv,{size:18})}),b.jsx("input",{name:"destination",value:l.destination,onChange:B,className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Lm,{size:18})}),b.jsx("input",{name:"date",value:l.date,onChange:B,placeholder:"YYYY/MM/DD",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"flex gap-2 mb-2",children:[b.jsxs("button",{onClick:()=>g.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-md",children:[d?b.jsx(wh,{className:"animate-spin",size:14}):b.jsx(pS,{size:14}),""]}),b.jsx("input",{type:"file",ref:g,className:"hidden",accept:"image/*",onChange:J})]}),b.jsxs("div",{className:"relative mb-3",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Vw,{size:14})}),b.jsx("input",{name:"coverImage",value:l.coverImage,onChange:B,placeholder:"...",className:"w-full bg-white/40 border border-white/50 rounded-xl py-2 pl-10 pr-4 text-gray-600 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]}),l.coverImage&&b.jsxs("div",{className:"mt-1",children:[b.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1",children:[b.jsxs("div",{className:"text-[10px] text-gray-500 mb-1 ml-1 flex items-center gap-1",children:[b.jsx(Kw,{size:10})," "]}),b.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[b.jsx(bS,{size:10})," : ",l.coverScale,"x"]})]}),b.jsxs("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:Z,onMouseMove:W,onTouchStart:Z,onTouchMove:W,children:[b.jsx("img",{ref:_,src:l.coverImage,alt:"Preview",className:"w-full h-full object-cover pointer-events-none select-none origin-center",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},onError:ue=>ue.target.style.opacity=.3},l.coverImage),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 pointer-events-none",children:b.jsx("div",{className:"bg-black/50 text-white text-[10px] px-2 py-1 rounded-full backdrop-blur-sm",children:""})})]}),b.jsxs("div",{className:"mt-3 flex items-center gap-3 px-1",children:[b.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"1x"}),b.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:ue=>u(Ie=>({...Ie,coverScale:parseFloat(ue.target.value)})),className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"}),b.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"3x"})]})]})]}),b.jsxs("button",{onClick:ee,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all mt-4",children:[b.jsx(tS,{size:18})," "]})]})]})]})},UN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:r,onExportTrip:l,onEditTrip:u,onOpenImport:d,onClose:p,userEmail:g,onLogout:_})=>b.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:p}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:p,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(fa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),b.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:g})]}),b.jsxs("button",{onClick:_,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[b.jsx(Bw,{size:12})," "]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&b.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(T=>b.jsxs("div",{onClick:()=>i(T.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===T.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[b.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${T.coverImage?"":`bg-gradient-to-br ${T.themeColor||"from-gray-300 to-gray-400"}`}`,children:T.coverImage?b.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${T.coverOffsetY||50}%`,transform:`scale(${T.coverScale||1})`},alt:""}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:b.jsx(Dw,{size:20})})}),b.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[b.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:T.destination||""}),b.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[b.jsx(Lm,{size:12,className:"mr-1"}),T.date||"--/--"]})]}),b.jsxs("div",{className:"flex items-center gap-1 z-20",children:[b.jsx("button",{onClick:S=>{S.stopPropagation(),u(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:"",children:b.jsx(Pm,{size:18})}),b.jsx("button",{onClick:S=>{S.stopPropagation(),l(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:b.jsx(Rw,{size:18})}),b.jsx("button",{onClick:S=>{S.stopPropagation(),r(T.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:b.jsx(Sh,{size:18})})]})]},T.id))]}),b.jsx("div",{className:"mt-auto relative z-10",children:b.jsxs("button",{onClick:d,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[b.jsx(Ew,{size:20})," /"]})})]})]}),zN=({onClose:s,onImport:e,isLoading:i})=>{const[r,l]=pe.useState("json"),[u,d]=pe.useState(""),p=()=>{e(u,r)};return b.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(fa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[b.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),b.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?b.jsx("textarea",{value:u,onChange:g=>d(g.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):b.jsx("input",{type:"text",value:u,onChange:g=>d(g.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),b.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),b.jsx("button",{onClick:p,disabled:!u.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!u.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?b.jsxs(b.Fragment,{children:[b.jsx(wh,{className:"animate-spin",size:16})," ..."]}):b.jsxs(b.Fragment,{children:[b.jsx(ww,{size:16})," "]})})]})]})]})},BN=({flights:s,onClose:e})=>b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(fa,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?b.jsx("div",{className:"space-y-4",children:s.map((i,r)=>b.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[b.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:b.jsx(um,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),b.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[b.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),b.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),b.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),b.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),b.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),b.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[b.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),b.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:b.jsx(um,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),b.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),b.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&b.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):b.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[b.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),b.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),qN=({onClose:s,onAdd:e})=>{const[i,r]=pe.useState(""),[l,u]=pe.useState(""),[d,p]=pe.useState(""),g=()=>{i.trim()&&e(i,l,d)};return b.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(fa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",children:b.jsx(au,{size:18})}),b.jsx("input",{type:"text",value:i,onChange:_=>r(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:b.jsx(Um,{size:18})}),b.jsx("input",{type:"text",value:l,onChange:_=>u(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:b.jsx(Xv,{size:18})}),b.jsx("input",{type:"text",value:d,onChange:_=>p(_.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("button",{onClick:g,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(Th,{size:20,strokeWidth:3}),""]})]})]})]})},HN=({onClose:s,onAdd:e})=>{const[i,r]=pe.useState(""),[l,u]=pe.useState(""),d=()=>{i.trim()&&e(i,l)};return b.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(fa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500",children:b.jsx(aa,{size:18})}),b.jsx("input",{type:"text",value:i,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(p=>b.jsx("button",{onClick:()=>u(p),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===p?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:p},p))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:b.jsx(Um,{size:18})}),b.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("button",{onClick:d,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(Th,{size:20,strokeWidth:3}),""]})]})]})]})},FN=({editingState:s,onClose:e,onSave:i})=>{const{type:r,data:l}=s,[u,d]=pe.useState(l),p=r==="shopping",g=p?"pink":"blue",_=p?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",T=p?"text-pink-500":"text-blue-500",S=()=>{i(u)};return b.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(fa,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:p?b.jsx(au,{size:18}):b.jsx(aa,{size:18})}),b.jsx("input",{type:"text",value:u.item,onChange:x=>d({...u,item:x.target.value}),className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${g}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold`,autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:b.jsx(Um,{size:18})}),b.jsx("input",{type:"text",value:u.category||"",onChange:x=>d({...u,category:x.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${g}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),p&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:b.jsx(Xv,{size:18})}),b.jsx("input",{type:"text",value:u.note||"",onChange:x=>d({...u,note:x.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${g}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),b.jsxs("button",{onClick:S,disabled:!u.item.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${u.item.trim()?`${_} shadow-${g}-500/30 hover:shadow-${g}-500/50`:"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(aa,{size:20,strokeWidth:3}),""]})]})]})]})},GN=({onLogin:s,isLoading:e})=>{const[i,r]=pe.useState(""),[l,u]=pe.useState(""),d=()=>{!i||!l||s(i,l)};return b.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsxs("div",{className:`relative ${An} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:b.jsx(yS,{size:40})}),b.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),b.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),b.jsxs("div",{className:"w-full space-y-4 mb-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Hw,{size:18})}),b.jsx("input",{type:"email",value:i,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Uw,{size:18})}),b.jsx("input",{type:"password",value:l,onChange:p=>u(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),b.jsx("button",{onClick:d,disabled:e||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?b.jsx(wh,{className:"animate-spin"}):""}),b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:b.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[b.jsx(kw,{size:10})," "]})})]})]})},YN=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:r,setShowFlightModal:l,openEditModal:u,setShowTripListModal:d,onEditCurrentTrip:p,onScroll:g,previewTrip:_,shoppingItems:T,packingItems:S})=>{const x=_||e;return b.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:g,children:[b.jsx(Gh,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:b.jsx("button",{onClick:()=>d(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:b.jsx(Lw,{size:24,strokeWidth:2.5})}),rightAction:e?b.jsx("button",{onClick:p,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:b.jsx(iS,{size:22,strokeWidth:2.5})}):null,setActiveTab:r,bgImage:x?.coverImage,themeColor:x?.themeColor,coverOffsetY:x?.coverOffsetY,coverScale:x?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[!x||!x.date||x.date==="----/--/--"?b.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[b.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),b.jsxs("p",{className:"text-sm text-gray-500",children:["",b.jsx("br",{}),"  "]})]}):b.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${An} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${lm} relative`,children:[b.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[x.coverImage&&b.jsx("div",{className:"w-full h-full overflow-hidden relative",children:b.jsx("img",{src:x.coverImage,alt:x.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${x.coverOffsetY||50}%`,transform:`scale(${x.coverScale||1})`},onError:B=>B.target.style.display="none"},x.coverImage)}),b.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${x.themeColor||"from-gray-400 to-gray-600"} ${x.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),b.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:b.jsx("div",{className:"flex justify-between items-end",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),b.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:x.destination||""}),b.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[b.jsx(Lm,{size:14,className:"mr-2"}),x.date||"--/--"]})]})})})]}),b.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),b.jsxs("div",{className:"flex items-baseline",children:[b.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(x.date)}),b.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),b.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:b.jsx(yw,{size:28})})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[b.jsxs("div",{onClick:()=>r("shopping"),className:`${An} ${lm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)] flex items-center gap-4 h-24`,children:[b.jsx("div",{className:"bg-pink-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-pink-500 shadow-inner border border-white/50 shrink-0",children:b.jsx(au,{size:24})}),b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),b.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[T.filter(B=>!B.checked).length," "]})]})]}),b.jsxs("div",{onClick:()=>r("packing"),className:`${An} ${lm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)] flex items-center gap-4 h-24`,children:[b.jsx("div",{className:"bg-blue-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-blue-500 shadow-inner border border-white/50 shrink-0",children:b.jsx(aa,{size:24})}),b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),b.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[S.filter(B=>!B.checked).length," "]})]})]})]})]})]})},QN=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l,onScroll:u})=>{const d=s&&s.days&&s.days.length>0?r(s):null,p=g=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g)}`,"_blank")};return b.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:u,children:[b.jsx(Gh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:b.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0-0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:b.jsx(um,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&b.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((g,_)=>b.jsxs("div",{className:"relative pl-4",children:[_!==s.days.length-1&&b.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),b.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[b.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[b.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),b.jsx("span",{className:"text-xl font-black leading-none",children:g.day})]}),b.jsx("div",{children:b.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:g.title})})]}),b.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:g.activities.map((T,S)=>{const x=d===T.id;return b.jsxs("div",{ref:B=>l.current[T.id]=B,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${x?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[b.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${x?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${T.type==="transport"?"bg-purple-400":T.type==="food"?"bg-orange-400":T.type==="shopping"?"bg-pink-400":T.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:x&&b.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:T.time}),x&&b.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),b.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[T.type==="sightseeing"&&b.jsx(dw,{size:14,className:"text-gray-500"}),T.type==="food"&&b.jsx(Aw,{size:14,className:"text-gray-500"}),T.type==="transport"&&b.jsx(cS,{size:14,className:"text-gray-500"}),T.type==="shopping"&&b.jsx(au,{size:14,className:"text-gray-500"}),T.type==="relax"&&b.jsx(oS,{size:14,className:"text-gray-500"})]})]}),b.jsxs("div",{className:"flex justify-between items-end gap-2",children:[b.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:T.title}),b.jsx("button",{onClick:B=>{B.stopPropagation(),p(T.title)},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0","aria-label":" Google Maps ",children:b.jsx(Kv,{size:18,strokeWidth:2.5})})]})]},S)})})]},_))]})]})},KN=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:r,requestDeleteShopping:l,openEditModal:u,onScroll:d,shoppingItems:p})=>{const[g,_]=pe.useState(""),[T,S]=pe.useState(!1),x=p||[],B=["",...new Set(x.map(W=>W.category||"").filter(W=>W))],J=[...x].filter(W=>g===""?!0:(W.category||"")===g).sort((W,ge)=>T?(W.category||"").localeCompare(ge.category||"","zh-Hant"):W.checked!==ge.checked?W.checked?1:-1:0),ee=x.filter(W=>W.checked).length,Z=x.length;return b.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[b.jsx(Gh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[b.jsxs("div",{className:`${An} rounded-[2.5rem] p-6 mb-6`,children:[b.jsxs("div",{className:"flex justify-between items-end mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),b.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[Z>0?Math.round(ee/Z*100):0,"%"]})]}),b.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:b.jsx(Th,{size:24,strokeWidth:3})})]}),b.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:b.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${Z>0?ee/Z*100:0}%`}})})]}),b.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 sticky top-0 z-10 py-2 -mx-1",children:[b.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1 mr-2 pb-1 mask-linear-fade pr-4",onTouchStart:W=>W.stopPropagation(),onTouchMove:W=>W.stopPropagation(),children:B.map(W=>b.jsx("button",{onClick:()=>_(W),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${g===W?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:W},W))}),b.jsx("button",{onClick:()=>S(!T),className:`p-2 rounded-xl transition-all shrink-0 border ${T?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40 hover:bg-white/80"}`,title:T?"":"",children:b.jsx(lw,{size:18})})]}),b.jsx("div",{className:"space-y-4 pb-4",children:J.length===0?b.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""}):J.map(W=>b.jsxs("div",{onClick:()=>r(W.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${W.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[b.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${W.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:b.jsx(aa,{size:18,strokeWidth:3})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${W.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:W.item}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[W.category&&b.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:W.category}),W.note&&b.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:W.note})]})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:ge=>{ge.stopPropagation(),u("shopping",W)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Pm,{size:18})}),b.jsx("button",{onClick:ge=>{ge.stopPropagation(),l(W.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Sh,{size:18})})]})]},W.id))})]})]})},XN=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:r,requestDeletePacking:l,openEditModal:u,onScroll:d,packingItems:p})=>{const g=p||[],_=g.filter(x=>x.checked).length,T=g.length,S=[...g].sort((x,B)=>x.checked!==B.checked?x.checked?1:-1:0);return b.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[b.jsx(Gh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[b.jsxs("div",{className:`${An} rounded-[2.5rem] p-6 mb-8`,children:[b.jsxs("div",{className:"flex justify-between items-end mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),b.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[T>0?Math.round(_/T*100):0,"%"]})]}),b.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:b.jsx(Th,{size:24,strokeWidth:3})})]}),b.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:b.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${T>0?_/T*100:0}%`}})})]}),b.jsx("div",{className:"space-y-4",children:S.map(x=>b.jsxs("div",{onClick:()=>r(x.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${x.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[b.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${x.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:b.jsx(aa,{size:18,strokeWidth:3})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${x.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:x.item}),b.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:x.category})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:B=>{B.stopPropagation(),u("packing",x)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Pm,{size:18})}),b.jsx("button",{onClick:B=>{B.stopPropagation(),l(x.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Sh,{size:18})})]})]},x.id))})]})]})},$N=({activeTab:s,setActiveTab:e,isVisible:i})=>b.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ease-in-out ${i?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:b.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[b.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(Cw,{size:24,strokeWidth:s==="home"?3:2})}),b.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(Yw,{size:24,strokeWidth:s==="itinerary"?3:2})}),b.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(au,{size:24,strokeWidth:s==="shopping"?3:2})}),b.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(aa,{size:24,strokeWidth:s==="packing"?3:2})})]})});function ZN(){const[s,e]=pe.useState("home"),[i,r]=pe.useState(null),[l,u]=pe.useState(!1),[d,p]=pe.useState(!0),g=pe.useRef(0),[_,T]=pe.useState([]),[S,x]=pe.useState(null),[B,J]=pe.useState([]),[ee,Z]=pe.useState([]),[W,ge]=pe.useState(!1),[ue,Ie]=pe.useState(!1),[Pe,Re]=pe.useState(!1),[N,A]=pe.useState(!1),[I,M]=pe.useState(!1),[O,j]=pe.useState(!1),[R,it]=pe.useState(null),[bt,F]=pe.useState(!1),[se,ye]=pe.useState(null),[Fe,Ye]=pe.useState(null),[D,Q]=pe.useState({show:!1,type:null,id:null,name:""}),[te,re]=pe.useState({show:!1,message:"",type:"success"}),Ee=pe.useRef({}),he=(ne,me="success")=>{re({show:!0,message:ne,type:me})},Me=ne=>{const me=ne.currentTarget.scrollTop,fe=me-g.current;Math.abs(fe)>10&&(fe>0?p(!1):p(!0),g.current=me)};pe.useEffect(()=>{p(!0)},[s]),pe.useEffect(()=>{if(!ql)return;const ne=EC(ql,me=>{r(me),me&&he(` ${me.email}`),u(!0)});return()=>ne()},[]);const At=async(ne,me)=>{ge(!0);try{await _C(ql,ne,me)}catch(fe){console.error(fe);let oe="";fe.code==="auth/invalid-credential"&&(oe=""),fe.code==="auth/user-not-found"&&(oe=""),fe.code==="auth/wrong-password"&&(oe=""),he(oe,"error")}finally{ge(!1)}},ut=async()=>{window.confirm("")&&(await TC(ql),T([]),x(null),he(""))};pe.useEffect(()=>{if(!i||!dt)return;const ne=nr(dt,"users",i.uid,"trips"),me=im(ne,sm("date")),fe=rm(me,oe=>{const De=oe.docs.map(Ve=>({id:Ve.id,...Ve.data()}));T(De),De.length>0?x(Ve=>Ve&&De.find(We=>We.id===Ve)?Ve:De[0].id):x(null)},oe=>{console.error("Firestore Error:",oe),he("","error")});return()=>fe()},[i]),pe.useEffect(()=>{if(!i||!dt||!S){J([]);return}const ne=nr(dt,"users",i.uid,"trips",S,"shoppingItems"),me=im(ne,sm("createdAt","asc")),fe=rm(me,oe=>{const De=oe.docs.map(Ve=>({id:Ve.id,...Ve.data()}));J(De)},oe=>{console.error("Shopping list read error:",oe)});return()=>fe()},[i,S]),pe.useEffect(()=>{if(!i||!dt||!S){Z([]);return}const ne=nr(dt,"users",i.uid,"trips",S,"packingItems"),me=im(ne,sm("createdAt","asc")),fe=rm(me,oe=>{const De=oe.docs.map(Ve=>({id:Ve.id,...Ve.data()}));Z(De)},oe=>{console.error("Packing list read error:",oe)});return()=>fe()},[i,S]);const Bt=_.find(ne=>ne.id===S)||null,Es=async ne=>{if(!(!dt||!i))try{await Sv(na(dt,"users",i.uid,"trips",ne)),he("")}catch(me){console.error("Delete failed",me),he("","error")}},Ts=ne=>{if(ne)try{const me={...ne,shoppingList:B,packingList:ee},{id:fe,...oe}=me,De=JSON.stringify(oe,null,2),Ve=new Blob([De],{type:"application/json"}),We=URL.createObjectURL(Ve),pt=document.createElement("a");pt.href=We;const Fi=(ne.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");pt.download=`${Fi}_export.json`,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),URL.revokeObjectURL(We),he("")}catch(me){console.error("Export failed",me),he("","error")}},ws=async(ne,me)=>{if(!dt||!i)return;ge(!0);const fe=new Promise(oe=>setTimeout(()=>oe("timeout"),8e3));try{let oe=[];if(me==="url"){const We=await fetch(ne);if(!We.ok)throw new Error("Network error");const pt=await We.json();oe=Array.isArray(pt)?pt:[pt]}else{const We=JSON.parse(ne);oe=Array.isArray(We)?We:[We]}const De=nr(dt,"users",i.uid,"trips"),Ve=Promise.all(oe.map(async We=>{const{id:pt,shoppingList:Fi=[],packingList:Gi=[],...on}=We,Yi={...VN,...on},ba=await Vl(De,Yi),Qi=nr(ba,"shoppingItems");await Promise.all(Fi.map(Ki=>{const{id:Xi,...In}=Ki;return Vl(Qi,{...In,createdAt:new Date().toISOString()})}));const Nr=nr(ba,"packingItems");await Promise.all(Gi.map(Ki=>{const{id:Xi,...In}=Ki;return Vl(Nr,{...In,createdAt:new Date().toISOString()})}))}));await Promise.race([Ve,fe]),M(!1),j(!1),he(` ${oe.length} `)}catch(oe){console.error("Import failed",oe),he("","error")}finally{ge(!1)}},xn=ne=>{ye(ne),Ye(ne),F(!0)},Ar=async(ne,me)=>{if(!(!dt||!i))try{const fe=na(dt,"users",i.uid,"trips",ne);await Gc(fe,me),F(!1),ye(null),Ye(null),he("")}catch(fe){console.error("Save failed",fe),he("","error")}},qi=async(ne,me)=>{if(!(!dt||!i||!S||!ne.trim()))try{const fe=nr(dt,"users",i.uid,"trips",S,"packingItems");await Vl(fe,{item:ne,checked:!1,category:me||"",createdAt:new Date().toISOString()}),A(!1),he("")}catch(fe){console.error("Add packing item failed",fe),he("","error")}},xr=async ne=>{if(!(!dt||!i||!S))try{const me=na(dt,"users",i.uid,"trips",S,"packingItems",ne),fe=ee.find(oe=>oe.id===ne);fe&&await Gc(me,{checked:!fe.checked})}catch(me){console.error("Toggle packing item failed",me),he("","error")}},Rr=async(ne,me,fe)=>{if(!(!dt||!i||!S||!ne.trim()))try{const oe=nr(dt,"users",i.uid,"trips",S,"shoppingItems");await Vl(oe,{item:ne,category:me||"",note:fe,checked:!1,createdAt:new Date().toISOString()}),Re(!1),he("")}catch(oe){console.error("Add shopping item failed",oe),he("","error")}},Et=async ne=>{if(!(!dt||!i||!S))try{const me=na(dt,"users",i.uid,"trips",S,"shoppingItems",ne),fe=B.find(oe=>oe.id===ne);fe&&await Gc(me,{checked:!fe.checked})}catch(me){console.error("Toggle shopping item failed",me),he("","error")}},Tt=(ne,me)=>{let fe="";ne==="shopping"?fe=B.find(oe=>oe.id===me)?.item||fe:ne==="packing"&&(fe=ee.find(oe=>oe.id===me)?.item||fe),Q({show:!0,type:ne,id:me,name:fe})},di=async()=>{const{type:ne,id:me}=D;if(!(!dt||!i||!S))try{let fe,oe;if(ne==="shopping")fe="shoppingItems",oe="";else if(ne==="packing")fe="packingItems",oe="";else return;const De=na(dt,"users",i.uid,"trips",S,fe,me);await Sv(De),he(oe)}catch(fe){console.error("Delete item failed",fe),he("","error")}finally{Q({show:!1,type:null,id:null,name:""})}},Ir=(ne,me)=>it({type:ne,data:{...me}}),ya=async ne=>{if(!R||!dt||!i||!S)return;const{type:me}=R,fe=me==="shopping"?"shoppingItems":"packingItems";try{const oe=na(dt,"users",i.uid,"trips",S,fe,ne.id),{id:De,createdAt:Ve,...We}=ne;await Gc(oe,We),it(null),he("")}catch(oe){console.error("Save edit item failed",oe),he("","error")}},Zt=ne=>{if(!ne||ne==="----/--/--")return 0;const me=new Date,oe=new Date(ne)-me;return Math.ceil(oe/(1e3*60*60*24))>0?Math.ceil(oe/(1e3*60*60*24)):0},mi=ne=>{if(!ne||!ne.days)return null;const me=new Date;let fe=null,oe=1/0;return ne.days.forEach(De=>{const Ve=new Date(ne.date);Ve.setDate(Ve.getDate()+(De.day-1)),me.toDateString()===Ve.toDateString()&&De.activities.forEach(We=>{const[pt,Fi]=We.time.split(":"),Gi=new Date(Ve);Gi.setHours(pt,Fi,0,0);const on=me-Gi;on>=0&&on<oe&&(oe=on,fe=We.id)})}),fe};pe.useEffect(()=>{if(s==="itinerary"&&Bt&&Bt.days){const ne=mi(Bt);ne&&Ee.current[ne]&&setTimeout(()=>{Ee.current[ne].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Bt]);const pi=pe.useRef(null),Hi=pe.useRef(null),[Rn,_a]=pe.useState(0),[Ss,Cr]=pe.useState(!1),gi=["home","itinerary","shopping","packing"],qt=gi.indexOf(s),Ht=80,pn=ne=>{ue||Pe||N||I||O||R||bt||D.show||(pi.current=ne.targetTouches[0].clientX,Hi.current=ne.targetTouches[0].clientY,Cr(!0))},_t=ne=>{if(!Ss||pi.current===null)return;const me=ne.targetTouches[0].clientX,fe=ne.targetTouches[0].clientY,oe=me-pi.current,De=fe-Hi.current;if(Math.abs(De)>Math.abs(oe))return;let Ve=oe;qt===0&&oe>0&&(Ve=oe*.3),qt===gi.length-1&&oe<0&&(Ve=oe*.3),_a(Ve)},va=()=>{Ss&&(Math.abs(Rn)>Ht&&(Rn>0&&qt>0?e(gi[qt-1]):Rn<0&&qt<gi.length-1&&e(gi[qt+1])),Cr(!1),_a(0),pi.current=null,Hi.current=null)};return l?i?b.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[b.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),b.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),b.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),b.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:pn,onTouchMove:_t,onTouchEnd:va,children:[te.show&&b.jsx(Yv,{message:te.message,type:te.type,onClose:()=>re({...te,show:!1})}),ue&&b.jsx(BN,{onClose:()=>Ie(!1),flights:Bt?Bt.flights:[]}),Pe&&b.jsx(qN,{onClose:()=>Re(!1),onAdd:Rr}),N&&b.jsx(HN,{onClose:()=>A(!1),onAdd:qi}),I&&b.jsx(zN,{onClose:()=>M(!1),onImport:ws,isLoading:W}),R&&b.jsx(FN,{editingState:R,onClose:()=>it(null),onSave:ya}),bt&&se&&b.jsx(PN,{trip:se,onClose:()=>{F(!1),Ye(null)},onSave:Ar,onPreviewChange:Ye}),O&&b.jsx(UN,{trips:_,activeTripId:S,onSelectTrip:ne=>{x(ne),j(!1),e("home")},onDeleteTrip:ne=>{window.confirm("")&&Es(ne)},onExportTrip:Ts,onEditTrip:xn,onOpenImport:()=>M(!0),onClose:()=>j(!1),userEmail:i.email,onLogout:ut}),b.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${qt*100}vw + ${Rn}px))`,transition:Ss?"none":"transform 0.3s ease-out"},children:[b.jsx(YN,{trips:_,currentTrip:Bt,calculateDaysLeft:Zt,setActiveTab:e,setShowFlightModal:Ie,shoppingItems:B,packingItems:ee,openEditModal:Ir,setShowTripListModal:j,onEditCurrentTrip:()=>xn(Bt),onScroll:Me,previewTrip:Fe}),b.jsx(QN,{currentTrip:Bt,setActiveTab:e,setShowFlightModal:Ie,getCurrentActivityId:mi,activityRefs:Ee,onScroll:Me}),b.jsx(KN,{currentTrip:Bt,setActiveTab:e,setShowAddShoppingModal:Re,toggleShoppingItem:Et,requestDeleteShopping:Tt,openEditModal:Ir,onScroll:Me,shoppingItems:B}),b.jsx(XN,{currentTrip:Bt,setActiveTab:e,setShowAddPackingModal:A,togglePackingItem:xr,requestDeletePacking:Tt,openEditModal:Ir,onScroll:Me,packingItems:ee})]}),D.show&&b.jsx(jN,{title:"",message:`${D.name}`,onConfirm:di,onCancel:()=>Q({...D,show:!1})}),b.jsx($N,{activeTab:s,setActiveTab:e,isVisible:d})]})]}):b.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[te.show&&b.jsx(Yv,{message:te.message,type:te.type,onClose:()=>re({...te,show:!1})}),b.jsx(GN,{onLogin:At,isLoading:W})]}):b.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[b.jsx(wh,{className:"animate-spin text-gray-600 mb-4",size:32}),b.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}tw.createRoot(document.getElementById("root")).render(b.jsx(pe.StrictMode,{children:b.jsx(ZN,{})}));
