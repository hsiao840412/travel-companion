(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Hd={exports:{}},Vl={};var r_;function WT(){if(r_)return Vl;r_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var a_;function ew(){return a_||(a_=1,Hd.exports=WT()),Hd.exports}var g=ew(),Fd={exports:{}},Re={};var o_;function tw(){if(o_)return Re;o_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function z(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,ee={};function se(O,K,re){this.props=O,this.context=K,this.refs=ee,this.updater=re||F}se.prototype.isReactComponent={},se.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function oe(){}oe.prototype=se.prototype;function Y(O,K,re){this.props=O,this.context=K,this.refs=ee,this.updater=re||F}var ne=Y.prototype=new oe;ne.constructor=Y,$(ne,se.prototype),ne.isPureReactComponent=!0;var Ce=Array.isArray;function Ee(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,K,re){var le=re.ref;return{$$typeof:s,type:O,key:K,ref:le!==void 0?le:null,props:re}}function M(O,K){return I(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return K[re]})}var R=/\/+/g;function st(O,K){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):K.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ee,Ee):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,re,le,_e){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(Ae){case"bigint":case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case s:case e:je=!0;break;case T:return je=O._init,G(je(O._payload),K,re,le,_e)}}if(je)return _e=_e(O),je=le===""?"."+st(O,0):le,Ce(_e)?(re="",je!=null&&(re=je.replace(R,"$&/")+"/"),G(_e,K,re,"",function(Bi){return Bi})):_e!=null&&(D(_e)&&(_e=M(_e,re+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+je)),K.push(_e)),1;je=0;var Ne=le===""?".":le+":";if(Ce(O))for(var et=0;et<O.length;et++)le=O[et],Ae=Ne+st(le,et),je+=G(le,K,re,Ae,_e);else if(et=z(O),typeof et=="function")for(O=et.call(O),et=0;!(le=O.next()).done;)le=le.value,Ae=Ne+st(le,et++),je+=G(le,K,re,Ae,_e);else if(Ae==="object"){if(typeof O.then=="function")return G(bt(O),K,re,le,_e);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return je}function ae(O,K,re){if(O==null)return O;var le=[],_e=0;return G(O,le,"","",function(Ae){return K.call(re,Ae,_e++)}),le}function ye(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qe={map:ae,forEach:function(O,K,re){ae(O,function(){K.apply(this,arguments)},re)},count:function(O){var K=0;return ae(O,function(){K++}),K},toArray:function(O){return ae(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=S,Re.Children=Qe,Re.Component=se,Re.Fragment=n,Re.Profiler=l,Re.PureComponent=Y,Re.StrictMode=r,Re.Suspense=y,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,K,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=$({},O.props),_e=O.key;if(K!=null)for(Ae in K.key!==void 0&&(_e=""+K.key),K)!A.call(K,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&K.ref===void 0||(le[Ae]=K[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=re;else if(1<Ae){for(var je=Array(Ae),Ne=0;Ne<Ae;Ne++)je[Ne]=arguments[Ne+2];le.children=je}return I(O.type,_e,le)},Re.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Re.createElement=function(O,K,re){var le,_e={},Ae=null;if(K!=null)for(le in K.key!==void 0&&(Ae=""+K.key),K)A.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=K[le]);var je=arguments.length-2;if(je===1)_e.children=re;else if(1<je){for(var Ne=Array(je),et=0;et<je;et++)Ne[et]=arguments[et+2];_e.children=Ne}if(O&&O.defaultProps)for(le in je=O.defaultProps,je)_e[le]===void 0&&(_e[le]=je[le]);return I(O,Ae,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:p,render:O}},Re.isValidElement=D,Re.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ye}},Re.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},Re.startTransition=function(O){var K=N.T,re={};N.T=re;try{var le=O(),_e=N.S;_e!==null&&_e(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ee,Ge)}catch(Ae){Ge(Ae)}finally{K!==null&&re.types!==null&&(K.types=re.types),N.T=K}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(O){return N.H.use(O)},Re.useActionState=function(O,K,re){return N.H.useActionState(O,K,re)},Re.useCallback=function(O,K){return N.H.useCallback(O,K)},Re.useContext=function(O){return N.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},Re.useEffect=function(O,K){return N.H.useEffect(O,K)},Re.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(O,K,re){return N.H.useImperativeHandle(O,K,re)},Re.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},Re.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},Re.useMemo=function(O,K){return N.H.useMemo(O,K)},Re.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},Re.useReducer=function(O,K,re){return N.H.useReducer(O,K,re)},Re.useRef=function(O){return N.H.useRef(O)},Re.useState=function(O){return N.H.useState(O)},Re.useSyncExternalStore=function(O,K,re){return N.H.useSyncExternalStore(O,K,re)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var l_;function Pm(){return l_||(l_=1,Fd.exports=tw()),Fd.exports}var he=Pm(),Gd={exports:{}},jl={},Yd={exports:{}},Qd={};var u_;function nw(){return u_||(u_=1,(function(s){function e(G,ae){var ye=G.length;G.push(ae);e:for(;0<ye;){var Ge=ye-1>>>1,Qe=G[Ge];if(0<l(Qe,ae))G[Ge]=ae,G[ye]=Qe,ye=Ge;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ae=G[0],ye=G.pop();if(ye!==ae){G[0]=ye;e:for(var Ge=0,Qe=G.length,O=Qe>>>1;Ge<O;){var K=2*(Ge+1)-1,re=G[K],le=K+1,_e=G[le];if(0>l(re,ye))le<Qe&&0>l(_e,re)?(G[Ge]=_e,G[le]=ye,Ge=le):(G[Ge]=re,G[K]=ye,Ge=K);else if(le<Qe&&0>l(_e,ye))G[Ge]=_e,G[le]=ye,Ge=le;else break e}}return ae}function l(G,ae){var ye=G.sortIndex-ae.sortIndex;return ye!==0?ye:G.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],v=[],T=1,S=null,x=3,z=!1,F=!1,$=!1,ee=!1,se=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ne(G){for(var ae=n(v);ae!==null;){if(ae.callback===null)r(v);else if(ae.startTime<=G)r(v),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(v)}}function Ce(G){if($=!1,ne(G),!F)if(n(y)!==null)F=!0,Ee||(Ee=!0,j());else{var ae=n(v);ae!==null&&bt(Ce,ae.startTime-G)}}var Ee=!1,N=-1,A=5,I=-1;function M(){return ee?!0:!(s.unstable_now()-I<A)}function D(){if(ee=!1,Ee){var G=s.unstable_now();I=G;var ae=!0;try{e:{F=!1,$&&($=!1,oe(N),N=-1),z=!0;var ye=x;try{t:{for(ne(G),S=n(y);S!==null&&!(S.expirationTime>G&&M());){var Ge=S.callback;if(typeof Ge=="function"){S.callback=null,x=S.priorityLevel;var Qe=Ge(S.expirationTime<=G);if(G=s.unstable_now(),typeof Qe=="function"){S.callback=Qe,ne(G),ae=!0;break t}S===n(y)&&r(y),ne(G)}else r(y);S=n(y)}if(S!==null)ae=!0;else{var O=n(v);O!==null&&bt(Ce,O.startTime-G),ae=!1}}break e}finally{S=null,x=ye,z=!1}ae=void 0}}finally{ae?j():Ee=!1}}}var j;if(typeof Y=="function")j=function(){Y(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,st=R.port2;R.port1.onmessage=D,j=function(){st.postMessage(null)}}else j=function(){se(D,0)};function bt(G,ae){N=se(function(){G(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var ye=x;x=ae;try{return G()}finally{x=ye}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=x;x=G;try{return ae()}finally{x=ye}},s.unstable_scheduleCallback=function(G,ae,ye){var Ge=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ge+ye:Ge):ye=Ge,G){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ye+Qe,G={id:T++,callback:ae,priorityLevel:G,startTime:ye,expirationTime:Qe,sortIndex:-1},ye>Ge?(G.sortIndex=ye,e(v,G),n(y)===null&&G===n(v)&&($?(oe(N),N=-1):$=!0,bt(Ce,ye-Ge))):(G.sortIndex=Qe,e(y,G),F||z||(F=!0,Ee||(Ee=!0,j()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var ae=x;return function(){var ye=x;x=ae;try{return G.apply(this,arguments)}finally{x=ye}}}})(Qd)),Qd}var c_;function iw(){return c_||(c_=1,Yd.exports=nw()),Yd.exports}var Kd={exports:{}},un={};var h_;function sw(){if(h_)return un;h_=1;var s=Pm();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:v,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(y,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(y,v,null,T)},un.flushSync=function(y){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=T,r.d.f()}},un.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},un.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},un.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:z}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},un.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},un.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},un.preloadModule=function(y,v){if(typeof y=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},un.requestFormReset=function(y){r.d.r(y)},un.unstable_batchedUpdates=function(y,v){return y(v)},un.useFormState=function(y,v,T){return d.H.useFormState(y,v,T)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.2.0",un}var f_;function rw(){if(f_)return Kd.exports;f_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=sw(),Kd.exports}var d_;function aw(){if(d_)return jl;d_=1;var s=iw(),e=Pm(),n=rw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function v(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case se:return"Profiler";case ee:return"StrictMode";case Ce:return"Suspense";case Ee:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case Y:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ge=[],Qe=-1;function O(t){return{current:t}}function K(t){0>Qe||(t.current=Ge[Qe],Ge[Qe]=null,Qe--)}function re(t,i){Qe++,Ge[Qe]=t.current,t.current=i}var le=O(null),_e=O(null),Ae=O(null),je=O(null);function Ne(t,i){switch(re(Ae,i),re(_e,t),re(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?I0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=I0(i),t=C0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(le),re(le,t)}function et(){K(le),K(_e),K(Ae)}function Bi(t){t.memoizedState!==null&&re(je,t);var i=le.current,a=C0(i,t.type);i!==a&&(re(_e,t),re(le,a))}function _s(t){_e.current===t&&(K(le),K(_e)),je.current===t&&(K(je),Dl._currentValue=ye)}var Qt,vs;function Un(t){if(Qt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Qt=i&&i[1]||"",vs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+t+vs}var Ar=!1;function mi(t,i){if(!t||Ar)return"";Ar=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var B=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){B=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){B=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),U=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var Q=`
`+C[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Ar=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Un(a):""}function xr(t,i){switch(t.tag){case 26:case 27:case 5:return Un(t.type);case 16:return Un("Lazy");case 13:return t.child!==i&&i!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return mi(t.type,!1);case 11:return mi(t.type.render,!1);case 1:return mi(t.type,!0);case 31:return Un("Activity");default:return""}}function Rr(t){try{var i="",a=null;do i+=xr(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,At=s.unstable_scheduleCallback,pi=s.unstable_cancelCallback,_a=s.unstable_shouldYield,va=s.unstable_requestPaint,qt=s.unstable_now,qi=s.unstable_getCurrentPriorityLevel,Ir=s.unstable_ImmediatePriority,bs=s.unstable_UserBlockingPriority,Rn=s.unstable_NormalPriority,Cr=s.unstable_LowPriority,Hi=s.unstable_IdlePriority,Nr=s.log,Es=s.unstable_setDisableYieldValue,gn=null,yt=null;function Nt(t){if(typeof Nr=="function"&&Es(t),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(gn,t)}catch{}}var _t=Math.clz32?Math.clz32:Ea,ba=Math.log,Ts=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(ba(t)/Ts|0)|0}var te=256,pe=262144,ue=4194304;function ce(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Le(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ce(o):(_&=E,_!==0?h=ce(_):a||(a=E&~t,a!==0&&(h=ce(a))))):(E=o&~f,E!==0?h=ce(E):_!==0?h=ce(_):a||(a=o&~t,a!==0&&(h=ce(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function De(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Tt(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jt(){var t=ue;return ue<<=1,(ue&62914560)===0&&(ue=4194304),t}function ln(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function zn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fi(t,i,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-_t(a),Z=1<<Q;E[Q]=0,C[Q]=-1;var B=U[Q];if(B!==null)for(U[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}o!==0&&Gi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Gi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-_t(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function ws(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-_t(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Dr(t,i){var a=i&-i;return a=(a&42)!==0?1:Yi(a),(a&(t.suspendedLanes|i))!==0?0:a}function Yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function In(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ta(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:J0(t.type))}function Ht(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ei=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ei,Kt="__reactProps$"+ei,gi="__reactContainer$"+ei,wa="__reactEvents$"+ei,Kh="__reactListeners$"+ei,Eu="__reactHandles$"+ei,Tu="__reactResources$"+ei,yi="__reactMarker$"+ei;function Sa(t){delete t[Dt],delete t[Kt],delete t[wa],delete t[Kh],delete t[Eu]}function _i(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=j0(t);t!==null;){if(a=t[Dt])return a;t=j0(t)}return i}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[Dt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Cn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function vi(t){var i=t[Tu];return i||(i=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(t){t[yi]=!0}var Po=new Set,Uo={};function bi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Uo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function wu(t){return Et.call(qo,t)?!0:Et.call(Bo,t)?!1:zo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function Aa(t,i,a){if(wu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Nn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ot(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ss(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function tt(t){if(!t._valueTracker){var i=Ss(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function kr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Ss(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Or=/[\n"\\]/g;function yn(t){return t.replace(Or,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xa(t,i,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Xt(i)):t.value!==""+Xt(i)&&(t.value=""+Xt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,Xt(i)):a!=null?Fo(t,_,Xt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xt(E):t.removeAttribute("name")}function Su(t,i,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){tt(t);return}a=a!=null?""+Xt(a):"",i=i!=null?""+Xt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),tt(t)}function Fo(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function As(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Xt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Au(t,i,a){if(i!=null&&(i=""+Xt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Xt(a):""}function xs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(bt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Xt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),tt(t)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Go(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Go(t,f,i[f])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var Qo=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Is=null,wi=null;function Mr(t){var i=Bn(t);if(i&&(t=i.stateNode)){var a=t[Kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Kt]||null;if(!h)throw Error(r(90));xa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&kr(o)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&As(t,!!a.multiple,i,!1)}}}var Ca=!1;function Cs(t,i,a){if(Ca)return t(i,a);Ca=!0;try{var o=t(i);return o}finally{if(Ca=!1,(Is!==null||wi!==null)&&(bc(),Is&&(i=Is,t=wi,wi=Is=null,Mr(i),t)))for(i=0;i<t.length;i++)Mr(t[i])}}function ni(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Kt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Hn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Vr=!1}var Si=null,Ko=null,jr=null;function Xo(){if(jr)return jr;var t,i=Ko,a=i.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[f-o];o++);return jr=h.slice(t,1<o?1-o:void 0)}function Lr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ii(){return!1}function Wt(t){function i(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ii,this.isPropagationStopped=ii,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Wt(Ki),Ns=S({},Ki,{view:0,detail:0}),$o=Wt(Ns),Ds,Na,xi,Da=S({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Ds=t.screenX-xi.screenX,Na=t.screenY-xi.screenY):Na=Ds=0,xi=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),Zo=Wt(Da),Pr=S({},Da,{dataTransfer:0}),Iu=Wt(Pr),Cu=S({},Ns,{relatedTarget:0}),Ur=Wt(Cu),Jo=S({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Wt(Jo),ka=S({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Wt(ka),ku=S({},Ki,{data:0}),Ri=Wt(ku),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Vu[t])?!!i[t]:!1}function ks(){return ju}var mn=S({},Ns,{key:function(t){if(t.key){var i=Ou[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lu=Wt(mn),Pu=S({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Wt(Pu),u=S({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Wt(u),b=S({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Wt(b),L=S({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Wt(L),ie=S({},Ki,{newState:0,oldState:0}),ke=Wt(ie),xt=[9,13,27,32],Ze=Hn&&"CompositionEvent"in window,pt=null;Hn&&"documentMode"in document&&(pt=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!pt,Ii=Hn&&(!Ze||pt&&8<pt&&11>=pt),si=" ",ri=!1;function zr(t,i){switch(t){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function wE(t,i){switch(t){case"compositionend":return Oa(i);case"keypress":return i.which!==32?null:(ri=!0,si);case"textInput":return t=i.data,t===si&&ri?null:t;default:return null}}function SE(t,i){if(Ma)return t==="compositionend"||!Ze&&zr(t,i)?(t=Xo(),jr=Ko=Si=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AE[t.type]:i==="textarea"}function zp(t,i,a,o){Is?wi?wi.push(o):wi=[o]:Is=o,i=Rc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Wo=null,el=null;function xE(t){T0(t,0)}function Uu(t){var i=Cn(t);if(kr(i))return t}function Bp(t,i){if(t==="change")return i}var qp=!1;if(Hn){var Xh;if(Hn){var $h="oninput"in document;if(!$h){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),$h=typeof Hp.oninput=="function"}Xh=$h}else Xh=!1;qp=Xh&&(!document.documentMode||9<document.documentMode)}function Fp(){Wo&&(Wo.detachEvent("onpropertychange",Gp),el=Wo=null)}function Gp(t){if(t.propertyName==="value"&&Uu(el)){var i=[];zp(i,el,t,qn(t)),Cs(xE,i)}}function RE(t,i,a){t==="focusin"?(Fp(),Wo=i,el=a,Wo.attachEvent("onpropertychange",Gp)):t==="focusout"&&Fp()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(el)}function CE(t,i){if(t==="click")return Uu(i)}function NE(t,i){if(t==="input"||t==="change")return Uu(i)}function DE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Dn=typeof Object.is=="function"?Object.is:DE;function tl(t,i){if(Dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(i,h)||!Dn(t[h],i[h]))return!1}return!0}function Yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qp(t,i){var a=Yp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Kp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Kp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function Zh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var kE=Hn&&"documentMode"in document&&11>=document.documentMode,Va=null,Jh=null,nl=null,Wh=!1;function $p(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||Va==null||Va!==Ti(o)||(o=Va,"selectionStart"in o&&Zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),nl&&tl(nl,o)||(nl=o,o=Rc(Jh,"onSelect"),0<o.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Va)))}function Br(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},ef={},Zp={};Hn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qr(t){if(ef[t])return ef[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return ef[t]=i[a];return t}var Jp=qr("animationend"),Wp=qr("animationiteration"),eg=qr("animationstart"),OE=qr("transitionrun"),ME=qr("transitionstart"),VE=qr("transitioncancel"),tg=qr("transitionend"),ng=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function ai(t,i){ng.set(t,i),bi(i,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Gn=[],La=0,nf=0;function Bu(){for(var t=La,i=nf=La=0;i<t;){var a=Gn[i];Gn[i++]=null;var o=Gn[i];Gn[i++]=null;var h=Gn[i];Gn[i++]=null;var f=Gn[i];if(Gn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&ig(a,h,f)}}function qu(t,i,a,o){Gn[La++]=t,Gn[La++]=i,Gn[La++]=a,Gn[La++]=o,nf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sf(t,i,a,o){return qu(t,i,a,o),Hu(t)}function Hr(t,i){return qu(t,null,null,i),Hu(t)}function ig(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-_t(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Hu(t){if(50<Sl)throw Sl=0,dd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function jE(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,i,a,o){return new jE(t,i,a,o)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=kn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,o,h,f){var _=0;if(o=t,typeof t=="function")rf(t)&&(_=1);else if(typeof t=="string")_=BT(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=kn(31,a,i,h),t.elementType=I,t.lanes=f,t;case $:return Fr(a.children,h,f,i);case ee:_=8,h|=24;break;case se:return t=kn(12,a,i,h|2),t.elementType=se,t.lanes=f,t;case Ce:return t=kn(13,a,i,h),t.elementType=Ce,t.lanes=f,t;case Ee:return t=kn(19,a,i,h),t.elementType=Ee,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:_=10;break e;case oe:_=9;break e;case ne:_=11;break e;case N:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=kn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Fr(t,i,a,o){return t=kn(7,t,o,i),t.lanes=a,t}function af(t,i,a){return t=kn(6,t,null,i),t.lanes=a,t}function rg(t){var i=kn(18,null,null,0);return i.stateNode=t,i}function of(t,i,a){return i=kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ag=new WeakMap;function Yn(t,i){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Rr(i)},ag.set(t,i),i)}return{value:t,source:i,stack:Rr(i)}}var Ua=[],za=0,Gu=null,il=0,Qn=[],Kn=0,Os=null,Ci=1,Ni="";function Zi(t,i){Ua[za++]=il,Ua[za++]=Gu,Gu=t,il=i}function og(t,i,a){Qn[Kn++]=Ci,Qn[Kn++]=Ni,Qn[Kn++]=Os,Os=t;var o=Ci;t=Ni;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var f=32-_t(i)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ci=1<<32-_t(i)+h|a<<h|o,Ni=f+t}else Ci=1<<f|a<<h|o,Ni=t}function lf(t){t.return!==null&&(Zi(t,1),og(t,1,0))}function uf(t){for(;t===Gu;)Gu=Ua[--za],Ua[za]=null,il=Ua[--za],Ua[za]=null;for(;t===Os;)Os=Qn[--Kn],Qn[Kn]=null,Ni=Qn[--Kn],Qn[Kn]=null,Ci=Qn[--Kn],Qn[Kn]=null}function lg(t,i){Qn[Kn++]=Ci,Qn[Kn++]=Ni,Qn[Kn++]=Os,Ci=i.id,Ni=i.overflow,Os=t}var en=null,ht=null,Ye=!1,Ms=null,Xn=!1,cf=Error(r(519));function Vs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Yn(i,t)),cf}function ug(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Dt]=t,i[Kt]=o,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ue(xl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),xs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||x0(i.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),o.onScroll!=null&&Ue("scroll",i),o.onScrollEnd!=null&&Ue("scrollend",i),o.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Vs(t,!0)}function cg(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:en=en.return}}function Ba(t){if(t!==en)return!1;if(!Ye)return cg(t),Ye=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Id(t.type,t.memoizedProps)),a=!a),a&&ht&&Vs(t),cg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=V0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=V0(t)}else i===27?(i=ht,Xs(t.type)?(t=Od,Od=null,ht=t):ht=i):ht=en?Zn(t.stateNode.nextSibling):null;return!0}function Gr(){ht=en=null,Ye=!1}function hf(){var t=Ms;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Ms=null),t}function sl(t){Ms===null?Ms=[t]:Ms.push(t)}var ff=O(null),Yr=null,Ji=null;function js(t,i,a){re(ff,i._currentValue),i._currentValue=a}function Wi(t){t._currentValue=ff.current,K(ff)}function df(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function mf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),df(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function qa(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;Dn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&mf(i,t,a,o),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qr(t){Yr=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return hg(Yr,t)}function Qu(t,i){return Yr===null&&Qr(t),hg(t,i)}function hg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(r(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var LE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},PE=s.unstable_scheduleCallback,UE=s.unstable_NormalPriority,Mt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new LE,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&PE(UE,function(){t.controller.abort()})}var al=null,gf=0,Ha=0,Fa=null;function zE(t,i){if(al===null){var a=al=[];gf=0,Ha=vd(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return gf++,i.then(fg,fg),i}function fg(){if(--gf===0&&al!==null){Fa!==null&&(Fa.status="fulfilled");var t=al;al=null,Ha=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function BE(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var dg=G.S;G.S=function(t,i){$y=qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&zE(t,i),dg!==null&&dg(t,i)};var Kr=O(null);function yf(){var t=Kr.current;return t!==null?t:ut.pooledCache}function Ku(t,i){i===null?re(Kr,Kr.current):re(Kr,i.pool)}function mg(){var t=yf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Ga=Error(r(460)),_f=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_g(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=ut,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,_g(t),t}throw $r=i,Ga}}function Xr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($r=a,Ga):a}}var $r=null;function yg(){if($r===null)throw Error(r(459));var t=$r;return $r=null,t}function _g(t){if(t===Ga||t===Xu)throw Error(r(483))}var Ya=null,ol=0;function Zu(t){var i=ol;return ol+=1,Ya===null&&(Ya=[]),gg(Ya,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ju(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function vg(t){function i(V,k){if(t){var P=V.deletions;P===null?(V.deletions=[k],V.flags|=16):P.push(k)}}function a(V,k){if(!t)return null;for(;k!==null;)i(V,k),k=k.sibling;return null}function o(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=$i(V,k),V.index=0,V.sibling=null,V}function f(V,k,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<k?(V.flags|=67108866,k):P):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function _(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,P,X){return k===null||k.tag!==6?(k=af(P,V.mode,X),k.return=V,k):(k=h(k,P),k.return=V,k)}function C(V,k,P,X){var ve=P.type;return ve===$?Q(V,k,P.props.children,X,P.key):k!==null&&(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Xr(ve)===k.type)?(k=h(k,P.props),ll(k,P),k.return=V,k):(k=Fu(P.type,P.key,P.props,null,V.mode,X),ll(k,P),k.return=V,k)}function U(V,k,P,X){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=of(P,V.mode,X),k.return=V,k):(k=h(k,P.children||[]),k.return=V,k)}function Q(V,k,P,X,ve){return k===null||k.tag!==7?(k=Fr(P,V.mode,X,ve),k.return=V,k):(k=h(k,P),k.return=V,k)}function Z(V,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=af(""+k,V.mode,P),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return P=Fu(k.type,k.key,k.props,null,V.mode,P),ll(P,k),P.return=V,P;case F:return k=of(k,V.mode,P),k.return=V,k;case A:return k=Xr(k),Z(V,k,P)}if(bt(k)||j(k))return k=Fr(k,V.mode,P,null),k.return=V,k;if(typeof k.then=="function")return Z(V,Zu(k),P);if(k.$$typeof===Y)return Z(V,Qu(V,k),P);Ju(V,k)}return null}function B(V,k,P,X){var ve=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ve!==null?null:E(V,k,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===ve?C(V,k,P,X):null;case F:return P.key===ve?U(V,k,P,X):null;case A:return P=Xr(P),B(V,k,P,X)}if(bt(P)||j(P))return ve!==null?null:Q(V,k,P,X,null);if(typeof P.then=="function")return B(V,k,Zu(P),X);if(P.$$typeof===Y)return B(V,k,Qu(V,P),X);Ju(V,P)}return null}function H(V,k,P,X,ve){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(P)||null,E(k,V,""+X,ve);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case z:return V=V.get(X.key===null?P:X.key)||null,C(k,V,X,ve);case F:return V=V.get(X.key===null?P:X.key)||null,U(k,V,X,ve);case A:return X=Xr(X),H(V,k,P,X,ve)}if(bt(X)||j(X))return V=V.get(P)||null,Q(k,V,X,ve,null);if(typeof X.then=="function")return H(V,k,P,Zu(X),ve);if(X.$$typeof===Y)return H(V,k,P,Qu(k,X),ve);Ju(k,X)}return null}function me(V,k,P,X){for(var ve=null,Xe=null,ge=k,Me=k=0,Be=null;ge!==null&&Me<P.length;Me++){ge.index>Me?(Be=ge,ge=null):Be=ge.sibling;var $e=B(V,ge,P[Me],X);if($e===null){ge===null&&(ge=Be);break}t&&ge&&$e.alternate===null&&i(V,ge),k=f($e,k,Me),Xe===null?ve=$e:Xe.sibling=$e,Xe=$e,ge=Be}if(Me===P.length)return a(V,ge),Ye&&Zi(V,Me),ve;if(ge===null){for(;Me<P.length;Me++)ge=Z(V,P[Me],X),ge!==null&&(k=f(ge,k,Me),Xe===null?ve=ge:Xe.sibling=ge,Xe=ge);return Ye&&Zi(V,Me),ve}for(ge=o(ge);Me<P.length;Me++)Be=H(ge,V,Me,P[Me],X),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?Me:Be.key),k=f(Be,k,Me),Xe===null?ve=Be:Xe.sibling=Be,Xe=Be);return t&&ge.forEach(function(er){return i(V,er)}),Ye&&Zi(V,Me),ve}function Te(V,k,P,X){if(P==null)throw Error(r(151));for(var ve=null,Xe=null,ge=k,Me=k=0,Be=null,$e=P.next();ge!==null&&!$e.done;Me++,$e=P.next()){ge.index>Me?(Be=ge,ge=null):Be=ge.sibling;var er=B(V,ge,$e.value,X);if(er===null){ge===null&&(ge=Be);break}t&&ge&&er.alternate===null&&i(V,ge),k=f(er,k,Me),Xe===null?ve=er:Xe.sibling=er,Xe=er,ge=Be}if($e.done)return a(V,ge),Ye&&Zi(V,Me),ve;if(ge===null){for(;!$e.done;Me++,$e=P.next())$e=Z(V,$e.value,X),$e!==null&&(k=f($e,k,Me),Xe===null?ve=$e:Xe.sibling=$e,Xe=$e);return Ye&&Zi(V,Me),ve}for(ge=o(ge);!$e.done;Me++,$e=P.next())$e=H(ge,V,Me,$e.value,X),$e!==null&&(t&&$e.alternate!==null&&ge.delete($e.key===null?Me:$e.key),k=f($e,k,Me),Xe===null?ve=$e:Xe.sibling=$e,Xe=$e);return t&&ge.forEach(function(JT){return i(V,JT)}),Ye&&Zi(V,Me),ve}function lt(V,k,P,X){if(typeof P=="object"&&P!==null&&P.type===$&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:e:{for(var ve=P.key;k!==null;){if(k.key===ve){if(ve=P.type,ve===$){if(k.tag===7){a(V,k.sibling),X=h(k,P.props.children),X.return=V,V=X;break e}}else if(k.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Xr(ve)===k.type){a(V,k.sibling),X=h(k,P.props),ll(X,P),X.return=V,V=X;break e}a(V,k);break}else i(V,k);k=k.sibling}P.type===$?(X=Fr(P.props.children,V.mode,X,P.key),X.return=V,V=X):(X=Fu(P.type,P.key,P.props,null,V.mode,X),ll(X,P),X.return=V,V=X)}return _(V);case F:e:{for(ve=P.key;k!==null;){if(k.key===ve)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){a(V,k.sibling),X=h(k,P.children||[]),X.return=V,V=X;break e}else{a(V,k);break}else i(V,k);k=k.sibling}X=of(P,V.mode,X),X.return=V,V=X}return _(V);case A:return P=Xr(P),lt(V,k,P,X)}if(bt(P))return me(V,k,P,X);if(j(P)){if(ve=j(P),typeof ve!="function")throw Error(r(150));return P=ve.call(P),Te(V,k,P,X)}if(typeof P.then=="function")return lt(V,k,Zu(P),X);if(P.$$typeof===Y)return lt(V,k,Qu(V,P),X);Ju(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,k!==null&&k.tag===6?(a(V,k.sibling),X=h(k,P),X.return=V,V=X):(a(V,k),X=af(P,V.mode,X),X.return=V,V=X),_(V)):a(V,k)}return function(V,k,P,X){try{ol=0;var ve=lt(V,k,P,X);return Ya=null,ve}catch(ge){if(ge===Ga||ge===Xu)throw ge;var Xe=kn(29,ge,null,V.mode);return Xe.lanes=X,Xe.return=V,Xe}finally{}}}var Zr=vg(!0),bg=vg(!1),Ls=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Je&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Hu(t),ig(t,null,a),i}return qu(t,o,i,a),Hu(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ws(t,a)}}function Ef(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Tf=!1;function cl(){if(Tf){var t=Fa;if(t!==null)throw t}}function hl(t,i,a,o){Tf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,U=C.next;C.next=null,_===null?f=U:_.next=U,_=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==_&&(E===null?Q.firstBaseUpdate=U:E.next=U,Q.lastBaseUpdate=C))}if(f!==null){var Z=h.baseState;_=0,Q=U=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(ze&B)===B:(o&B)===B){B!==0&&B===Ha&&(Tf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=t,Te=E;B=i;var lt=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){Z=me.call(lt,Z,B);break e}Z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,B=typeof me=="function"?me.call(lt,Z,B):me,B==null)break e;Z=S({},Z,B);break e;case 2:Ls=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(U=Q=H,C=Z):Q=Q.next=H,_|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Fs|=_,t.lanes=_,t.memoizedState=Z}}function Eg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Tg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Eg(a[t],i)}var Qa=O(null),Wu=O(0);function wg(t,i){t=ls,re(Wu,t),re(Qa,i),ls=t|i.baseLanes}function wf(){re(Wu,ls),re(Qa,Qa.current)}function Sf(){ls=Wu.current,K(Qa),K(Wu)}var On=O(null),$n=null;function zs(t){var i=t.alternate;re(Rt,Rt.current&1),re(On,t),$n===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&($n=t)}function Af(t){re(Rt,Rt.current),re(On,t),$n===null&&($n=t)}function Sg(t){t.tag===22?(re(Rt,Rt.current),re(On,t),$n===null&&($n=t)):Bs()}function Bs(){re(Rt,Rt.current),re(On,On.current)}function Mn(t){K(On),$n===t&&($n=null),K(Rt)}var Rt=O(0);function ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Dd(a)||kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var es=0,Oe=null,at=null,Vt=null,tc=!1,Ka=!1,Jr=!1,nc=0,fl=0,Xa=null,qE=0;function wt(){throw Error(r(321))}function xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Dn(t[a],i[a]))return!1;return!0}function Rf(t,i,a,o,h,f){return es=f,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?oy:qf,Jr=!1,f=a(o,h),Jr=!1,Ka&&(f=xg(i,a,o,h)),Ag(t),f}function Ag(t){G.H=pl;var i=at!==null&&at.next!==null;if(es=0,Vt=at=Oe=null,tc=!1,fl=0,Xa=null,i)throw Error(r(300));t===null||jt||(t=t.dependencies,t!==null&&Yu(t)&&(jt=!0))}function xg(t,i,a,o){Oe=t;var h=0;do{if(Ka&&(Xa=null),fl=0,Ka=!1,25<=h)throw Error(r(301));if(h+=1,Vt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ly,f=i(a,o)}while(Ka);return f}function HE(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Oe.flags|=1024),i}function If(){var t=nc!==0;return nc=0,t}function Cf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Nf(t){if(tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}tc=!1}es=0,Vt=at=Oe=null,Ka=!1,fl=nc=0,Xa=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Oe.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function It(){if(at===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var i=Vt===null?Oe.memoizedState:Vt.next;if(i!==null)Vt=i,at=t;else{if(t===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?Oe.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,Xa===null&&(Xa=[]),t=gg(Xa,t,i),i=Oe,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?oy:qf),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===Y)return tn(t)}throw Error(r(438,String(t)))}function Df(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=M;return i.index++,a}function ts(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=It();return kf(i,at,t)}function kf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=_=null,C=null,U=i,Q=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(ze&Z)===Z:(es&Z)===Z){var B=U.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===Ha&&(Q=!0);else if((es&B)===B){U=U.next,B===Ha&&(Q=!0);continue}else Z={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=Z,_=f):C=C.next=Z,Oe.lanes|=B,Fs|=B;Z=U.action,Jr&&a(f,Z),f=U.hasEagerState?U.eagerState:a(f,Z)}else B={lane:Z,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=B,_=f):C=C.next=B,Oe.lanes|=Z,Fs|=Z;U=U.next}while(U!==null&&U!==i);if(C===null?_=f:C.next=E,!Dn(f,t.memoizedState)&&(jt=!0,Q&&(a=Fa,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Of(t){var i=It(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Dn(f,i.memoizedState)||(jt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Rg(t,i,a){var o=Oe,h=It(),f=Ye;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Dn((at||h).memoizedState,a);if(_&&(h.memoizedState=a,jt=!0),h=h.queue,jf(Ng.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,$a(9,{destroy:void 0},Cg.bind(null,o,h,a,i),null),ut===null)throw Error(r(349));f||(es&127)!==0||Ig(o,i,a)}return a}function Ig(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=ic(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Cg(t,i,a,o){i.value=a,i.getSnapshot=o,Dg(i)&&kg(t)}function Ng(t,i,a){return a(function(){Dg(i)&&kg(t)})}function Dg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Dn(t,a)}catch{return!0}}function kg(t){var i=Hr(t,2);i!==null&&wn(i,t,2)}function Mf(t){var i=pn();if(typeof t=="function"){var a=t;if(t=a(),Jr){Nt(!0);try{a()}finally{Nt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},i}function Og(t,i,a,o){return t.baseState=a,kf(t,at,typeof o=="function"?o:ts)}function FE(t,i,a,o,h){if(lc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Mg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Mg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=G.T,_={};G.T=_;try{var E=a(h,o),C=G.S;C!==null&&C(_,E),Vg(t,i,E)}catch(U){Vf(t,i,U)}finally{f!==null&&_.types!==null&&(f.types=_.types),G.T=f}}else try{f=a(h,o),Vg(t,i,f)}catch(U){Vf(t,i,U)}}function Vg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){jg(t,i,o)},function(o){return Vf(t,i,o)}):jg(t,i,a)}function jg(t,i,a){i.status="fulfilled",i.value=a,Lg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Mg(t,a)))}function Vf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Lg(i),i=i.next;while(i!==o)}t.action=null}function Lg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Pg(t,i){return i}function Ug(t,i){if(Ye){var a=ut.formState;if(a!==null){e:{var o=Oe;if(Ye){if(ht){t:{for(var h=ht,f=Xn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Zn(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(i=a[0])}}return a=pn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:i},a.queue=o,a=sy.bind(null,Oe,o),o.dispatch=a,o=Mf(!1),f=Bf.bind(null,Oe,!1,o.queue),o=pn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=FE.bind(null,Oe,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function zg(t){var i=It();return Bg(i,at,t)}function Bg(t,i,a){if(i=kf(t,i,Pg)[0],t=rc(ts)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=dl(i)}catch(_){throw _===Ga?Xu:_}else o=i;i=It();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,$a(9,{destroy:void 0},GE.bind(null,h,a),null)),[o,f,t]}function GE(t,i){t.action=i}function qg(t){var i=It(),a=at;if(a!==null)return Bg(i,a,t);It(),i=i.memoizedState,a=It();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function $a(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=ic(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Hg(){return It().memoizedState}function ac(t,i,a,o){var h=pn();Oe.flags|=t,h.memoizedState=$a(1|i,{destroy:void 0},a,o===void 0?null:o)}function oc(t,i,a,o){var h=It();o=o===void 0?null:o;var f=h.memoizedState.inst;at!==null&&o!==null&&xf(o,at.memoizedState.deps)?h.memoizedState=$a(i,f,a,o):(Oe.flags|=t,h.memoizedState=$a(1|i,f,a,o))}function Fg(t,i){ac(8390656,8,t,i)}function jf(t,i){oc(2048,8,t,i)}function YE(t){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=ic(),Oe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Gg(t){var i=It().memoizedState;return YE({ref:i,nextImpl:t}),function(){if((Je&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Yg(t,i){return oc(4,2,t,i)}function Qg(t,i){return oc(4,4,t,i)}function Kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Xg(t,i,a){a=a!=null?a.concat([t]):null,oc(4,4,Kg.bind(null,i,t),a)}function Lf(){}function $g(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&xf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Zg(t,i){var a=It();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&xf(i,o[1]))return o[0];if(o=t(),Jr){Nt(!0);try{t()}finally{Nt(!1)}}return a.memoizedState=[o,i],o}function Pf(t,i,a){return a===void 0||(es&1073741824)!==0&&(ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Jy(),Oe.lanes|=t,Fs|=t,a)}function Jg(t,i,a,o){return Dn(a,i)?a:Qa.current!==null?(t=Pf(t,a,o),Dn(t,i)||(jt=!0),t):(es&42)===0||(es&1073741824)!==0&&(ze&261930)===0?(jt=!0,t.memoizedState=a):(t=Jy(),Oe.lanes|=t,Fs|=t,i)}function Wg(t,i,a,o,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var _=G.T,E={};G.T=E,Bf(t,!1,i,a);try{var C=h(),U=G.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=BE(C,o);ml(t,i,Q,Ln(t))}else ml(t,i,o,Ln(t))}catch(Z){ml(t,i,{then:function(){},status:"rejected",reason:Z},Ln())}finally{ae.p=f,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function QE(){}function Uf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=ey(t).queue;Wg(t,h,i,ye,a===null?QE:function(){return ty(t),a(o)})}function ey(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ty(t){var i=ey(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},Ln())}function zf(){return tn(Dl)}function ny(){return It().memoizedState}function iy(){return It().memoizedState}function KE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ln();t=Ps(a);var o=Us(i,t,a);o!==null&&(wn(o,i,a),ul(o,i,a)),i={cache:pf()},t.payload=i;return}i=i.return}}function XE(t,i,a){var o=Ln();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?ry(i,a):(a=sf(t,i,a,o),a!==null&&(wn(a,t,o),ay(a,i,o)))}function sy(t,i,a){var o=Ln();ml(t,i,a,o)}function ml(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))ry(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,Dn(E,_))return qu(t,i,h,0),ut===null&&Bu(),!1}catch{}finally{}if(a=sf(t,i,h,o),a!==null)return wn(a,t,o),ay(a,i,o),!0}return!1}function Bf(t,i,a,o){if(o={lane:2,revertLane:vd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(r(479))}else i=sf(t,a,o,2),i!==null&&wn(i,t,2)}function lc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function ry(t,i){Ka=tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ay(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,ws(t,a)}}var pl={readContext:tn,use:sc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};pl.useEffectEvent=wt;var oy={readContext:tn,use:sc,useCallback:function(t,i){return pn().memoizedState=[t,i===void 0?null:i],t},useContext:tn,useEffect:Fg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var a=pn();i=i===void 0?null:i;var o=t();if(Jr){Nt(!0);try{t()}finally{Nt(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=pn();if(a!==void 0){var h=a(i);if(Jr){Nt(!0);try{a(i)}finally{Nt(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=XE.bind(null,Oe,t),[o.memoizedState,t]},useRef:function(t){var i=pn();return t={current:t},i.memoizedState=t},useState:function(t){t=Mf(t);var i=t.queue,a=sy.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,i){var a=pn();return Pf(a,t,i)},useTransition:function(){var t=Mf(!1);return t=Wg.bind(null,Oe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Oe,h=pn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ut===null)throw Error(r(349));(ze&127)!==0||Ig(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Fg(Ng.bind(null,o,f,t),[t]),o.flags|=2048,$a(9,{destroy:void 0},Cg.bind(null,o,f,a,i),null),a},useId:function(){var t=pn(),i=ut.identifierPrefix;if(Ye){var a=Ni,o=Ci;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qE++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:zf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var i=pn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Bf.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Df,useCacheRefresh:function(){return pn().memoizedState=KE.bind(null,Oe)},useEffectEvent:function(t){var i=pn(),a={impl:t};return i.memoizedState=a,function(){if((Je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},qf={readContext:tn,use:sc,useCallback:$g,useContext:tn,useEffect:jf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Zg,useReducer:rc,useRef:Hg,useState:function(){return rc(ts)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=It();return Jg(a,at.memoizedState,t,i)},useTransition:function(){var t=rc(ts)[0],i=It().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:zf,useFormState:zg,useActionState:zg,useOptimistic:function(t,i){var a=It();return Og(a,at,t,i)},useMemoCache:Df,useCacheRefresh:iy};qf.useEffectEvent=Gg;var ly={readContext:tn,use:sc,useCallback:$g,useContext:tn,useEffect:jf,useImperativeHandle:Xg,useInsertionEffect:Yg,useLayoutEffect:Qg,useMemo:Zg,useReducer:Of,useRef:Hg,useState:function(){return Of(ts)},useDebugValue:Lf,useDeferredValue:function(t,i){var a=It();return at===null?Pf(a,t,i):Jg(a,at.memoizedState,t,i)},useTransition:function(){var t=Of(ts)[0],i=It().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Rg,useId:ny,useHostTransitionStatus:zf,useFormState:qg,useActionState:qg,useOptimistic:function(t,i){var a=It();return at!==null?Og(a,at,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Df,useCacheRefresh:iy};ly.useEffectEvent=Gg;function Hf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ff={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Ln(),h=Ps(o);h.payload=i,a!=null&&(h.callback=a),i=Us(t,h,o),i!==null&&(wn(i,t,o),ul(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Ln(),h=Ps(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Us(t,h,o),i!==null&&(wn(i,t,o),ul(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ln(),o=Ps(a);o.tag=2,i!=null&&(o.callback=i),i=Us(t,o,a),i!==null&&(wn(i,t,a),ul(i,t,a))}};function uy(t,i,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,o)||!tl(h,f):!0}function cy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Ff.enqueueReplaceState(i,i.state,null)}function Wr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function hy(t){zu(t)}function fy(t){console.error(t)}function dy(t){zu(t)}function uc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function my(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,i,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,i)},a}function py(t){return t=Ps(t),t.tag=3,t}function gy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){my(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){my(i,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $E(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&qa(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Ec():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),gd(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),gd(t,o,h)),!1}throw Error(r(435,a.tag))}return gd(t,o,h),Ec(),!1}if(Ye)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==cf&&(t=Error(r(422),{cause:o}),sl(Yn(t,a)))):(o!==cf&&(i=Error(r(423),{cause:o}),sl(Yn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Yn(o,a),h=Gf(t.stateNode,o,h),Ef(t,h),St!==4&&(St=2)),!1;var f=Error(r(520),{cause:o});if(f=Yn(f,a),wl===null?wl=[f]:wl.push(f),St!==4&&(St=2),i===null)return!0;o=Yn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Gf(a.stateNode,o,t),Ef(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),gy(h,t,a,o),Ef(a,h),!1}a=a.return}while(a!==null);return!1}var Yf=Error(r(461)),jt=!1;function nn(t,i,a,o){i.child=t===null?bg(i,null,a,o):Zr(i,t.child,a,o)}function yy(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Qr(i),o=Rf(t,i,a,_,f,h),E=If(),t!==null&&!jt?(Cf(t,i,h),ns(t,i,h)):(Ye&&E&&lf(i),i.flags|=1,nn(t,i,o,h),i.child)}function _y(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,vy(t,i,f,o,h)):(t=Fu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!ed(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,o)&&t.ref===i.ref)return ns(t,i,h)}return i.flags|=1,t=$i(f,o),t.ref=i.ref,t.return=i,i.child=t}function vy(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(tl(f,o)&&t.ref===i.ref)if(jt=!1,i.pendingProps=o=f,ed(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,ns(t,i,h)}return Qf(t,i,a,o,h)}function by(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Ey(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(i,f!==null?f.cachePool:null),f!==null?wg(i,f):wf(),Sg(i);else return o=i.lanes=536870912,Ey(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ku(i,f.cachePool),wg(i,f),Bs(),i.memoizedState=null):(t!==null&&Ku(i,null),wf(),Bs());return nn(t,i,h,a),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ey(t,i,a,o,h){var f=yf();return f=f===null?null:{parent:Mt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ku(i,null),wf(),Sg(i),t!==null&&qa(t,i,o,!0),i.childLanes=h,null}function cc(t,i){return i=fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ty(t,i,a){return Zr(i,t.child,null,a),t=cc(i,i.pendingProps),t.flags|=2,Mn(i),i.memoizedState=null,t}function ZE(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ye){if(o.mode==="hidden")return t=cc(i,o),i.lanes=536870912,gl(null,t);if(Af(i),(t=ht)?(t=M0(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=i,i.child=a,en=i,ht=null)):t=null,t===null)throw Vs(i);return i.lanes=536870912,null}return cc(i,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=Ty(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(jt||qa(t,i,a,!1),h=(a&t.childLanes)!==0,jt||h){if(o=ut,o!==null&&(_=Dr(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Hr(t,_),wn(o,t,_),Yf;Ec(),i=Ty(t,i,a)}else t=f.treeContext,ht=Zn(_.nextSibling),en=i,Ye=!0,Ms=null,Xn=!1,t!==null&&lg(i,t),i=cc(i,o),i.flags|=4096;return i}return t=$i(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function hc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Qf(t,i,a,o,h){return Qr(i),a=Rf(t,i,a,o,void 0,h),o=If(),t!==null&&!jt?(Cf(t,i,h),ns(t,i,h)):(Ye&&o&&lf(i),i.flags|=1,nn(t,i,a,h),i.child)}function wy(t,i,a,o,h,f){return Qr(i),i.updateQueue=null,a=xg(i,o,a,h),Ag(t),o=If(),t!==null&&!jt?(Cf(t,i,f),ns(t,i,f)):(Ye&&o&&lf(i),i.flags|=1,nn(t,i,a,f),i.child)}function Sy(t,i,a,o,h){if(Qr(i),i.stateNode===null){var f=Pa,_=a.contextType;typeof _=="object"&&_!==null&&(f=tn(_)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},vf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?tn(_):Pa,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Hf(i,a,_,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Ff.enqueueReplaceState(f,f.state,null),hl(i,o,f,h),cl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,C=Wr(a,E);f.props=C;var U=f.context,Q=a.contextType;_=Pa,typeof Q=="object"&&Q!==null&&(_=tn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==_)&&cy(i,f,o,_),Ls=!1;var B=i.memoizedState;f.state=B,hl(i,o,f,h),cl(),U=i.memoizedState,E||B!==U||Ls?(typeof Z=="function"&&(Hf(i,a,Z,o),U=i.memoizedState),(C=Ls||uy(i,a,C,o,B,U,_))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),f.props=o,f.state=U,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,bf(t,i),_=i.memoizedProps,Q=Wr(a,_),f.props=Q,Z=i.pendingProps,B=f.context,U=a.contextType,C=Pa,typeof U=="object"&&U!==null&&(C=tn(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Z||B!==C)&&cy(i,f,o,C),Ls=!1,B=i.memoizedState,f.state=B,hl(i,o,f,h),cl();var H=i.memoizedState;_!==Z||B!==H||Ls||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(Hf(i,a,E,o),H=i.memoizedState),(Q=Ls||uy(i,a,Q,o,B,H,C)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,hc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Zr(i,t.child,null,h),i.child=Zr(i,null,a,h)):nn(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ns(t,i,h),t}function Ay(t,i,a,o){return Gr(),i.flags|=256,nn(t,i,a,o),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:mg()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jn),t}function xy(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ye){if(h?zs(i):Bs(),(t=ht)?(t=M0(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=rg(t),a.return=i,i.child=a,en=i,ht=null)):t=null,t===null)throw Vs(i);return kd(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Bs(),h=i.mode,E=fc({mode:"hidden",children:E},h),o=Fr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=Xf(a),o.childLanes=$f(t,_,a),i.memoizedState=Kf,gl(null,o)):(zs(i),Zf(i,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(zs(i),i.flags&=-257,i=Jf(t,i,a)):i.memoizedState!==null?(Bs(),i.child=t.child,i.flags|=128,i=null):(Bs(),E=o.fallback,h=i.mode,o=fc({mode:"visible",children:o.children},h),E=Fr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Zr(i,t.child,null,a),o=i.child,o.memoizedState=Xf(a),o.childLanes=$f(t,_,a),i.memoizedState=Kf,i=gl(null,o));else if(zs(i),kd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var U=_.dgst;_=U,o=Error(r(419)),o.stack="",o.digest=_,sl({value:o,source:null,stack:null}),i=Jf(t,i,a)}else if(jt||qa(t,i,a,!1),_=(a&t.childLanes)!==0,jt||_){if(_=ut,_!==null&&(o=Dr(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Hr(t,o),wn(_,t,o),Yf;Dd(E)||Ec(),i=Jf(t,i,a)}else Dd(E)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ht=Zn(E.nextSibling),en=i,Ye=!0,Ms=null,Xn=!1,t!==null&&lg(i,t),i=Zf(i,o.children),i.flags|=4096);return i}return h?(Bs(),E=o.fallback,h=i.mode,C=t.child,U=C.sibling,o=$i(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=$i(U,E):(E=Fr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,gl(null,o),o=i.child,E=t.child.memoizedState,E===null?E=Xf(a):(h=E.cachePool,h!==null?(C=Mt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=mg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=$f(t,_,a),i.memoizedState=Kf,gl(t.child,o)):(zs(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Zf(t,i){return i=fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function fc(t,i){return t=kn(22,t,null,i),t.lanes=0,t}function Jf(t,i,a){return Zr(i,t.child,null,a),t=Zf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ry(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),df(t.return,i,a)}function Wf(t,i,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Iy(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=Rt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,re(Rt,_),nn(t,i,o,a),o=Ye?il:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,i);else if(t.tag===19)Ry(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(i,!0,a,null,f,o);break;case"together":Wf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ns(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(qa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ed(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function JE(t,i,a){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),js(i,Mt,t.memoizedState.cache),Gr();break;case 27:case 5:Bi(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:js(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(zs(i),t=ns(t,i,a),t!==null?t.sibling:null);zs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(qa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Iy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Rt,Rt.current),o)break;return null;case 22:return i.lanes=0,by(t,i,a,i.pendingProps);case 24:js(i,Mt,t.memoizedState.cache)}return ns(t,i,a)}function Cy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!ed(t,a)&&(i.flags&128)===0)return jt=!1,JE(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,Ye&&(i.flags&1048576)!==0&&og(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Xr(i.elementType),i.type=t,typeof t=="function")rf(t)?(o=Wr(t,o),i.tag=1,i=Sy(null,i,t,o,a)):(i.tag=0,i=Qf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ne){i.tag=11,i=yy(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=_y(null,i,t,o,a);break e}}throw i=st(t)||t,Error(r(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Wr(o,i.pendingProps),Sy(t,i,o,h,a);case 3:e:{if(Ne(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,bf(t,i),hl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,js(i,Mt,o),o!==f.cache&&mf(i,[Mt],a,!0),cl(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ay(t,i,o,a);break e}else if(o!==h){h=Yn(Error(r(424)),i),sl(h),i=Ay(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Zn(t.firstChild),en=i,Ye=!0,Ms=null,Xn=!0,a=bg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gr(),o===h){i=ns(t,i,a);break e}nn(t,i,o,a)}i=i.child}return i;case 26:return hc(t,i),t===null?(a=z0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ye||(a=i.type,t=i.pendingProps,o=Ic(Ae.current).createElement(a),o[Dt]=i,o[Kt]=t,sn(o,a,t),kt(o),i.stateNode=o):i.memoizedState=z0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Bi(i),t===null&&Ye&&(o=i.stateNode=L0(i.type,i.pendingProps,Ae.current),en=i,Xn=!0,h=ht,Xs(i.type)?(Od=h,ht=Zn(o.firstChild)):ht=h),nn(t,i,i.pendingProps.children,a),hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ye&&((h=o=ht)&&(o=IT(o,i.type,i.pendingProps,Xn),o!==null?(i.stateNode=o,en=i,ht=Zn(o.firstChild),Xn=!1,h=!0):h=!1),h||Vs(i)),Bi(i),h=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Id(h,f)?o=null:_!==null&&Id(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Rf(t,i,HE,null,null,a),Dl._currentValue=h),hc(t,i),nn(t,i,o,a),i.child;case 6:return t===null&&Ye&&((t=a=ht)&&(a=CT(a,i.pendingProps,Xn),a!==null?(i.stateNode=a,en=i,ht=null,t=!0):t=!1),t||Vs(i)),null;case 13:return xy(t,i,a);case 4:return Ne(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Zr(i,null,o,a):nn(t,i,o,a),i.child;case 11:return yy(t,i,i.type,i.pendingProps,a);case 7:return nn(t,i,i.pendingProps,a),i.child;case 8:return nn(t,i,i.pendingProps.children,a),i.child;case 12:return nn(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,js(i,i.type,o.value),nn(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Qr(i),h=tn(h),o=o(h),i.flags|=1,nn(t,i,o,a),i.child;case 14:return _y(t,i,i.type,i.pendingProps,a);case 15:return vy(t,i,i.type,i.pendingProps,a);case 19:return Iy(t,i,a);case 31:return ZE(t,i,a);case 22:return by(t,i,a,i.pendingProps);case 24:return Qr(i),o=tn(Mt),t===null?(h=yf(),h===null&&(h=ut,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},vf(i),js(i,Mt,h)):((t.lanes&a)!==0&&(bf(t,i),hl(i,null,null,a),cl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),js(i,Mt,o)):(o=f.cache,js(i,Mt,o),o!==h.cache&&mf(i,[Mt],a,!0))),nn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function is(t){t.flags|=4}function td(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(n0())t.flags|=8192;else throw $r=$u,_f}else t.flags&=-16777217}function Ny(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!G0(i))if(n0())t.flags|=8192;else throw $r=$u,_f}function dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Jt():536870912,t.lanes|=i,eo|=i)}function yl(t,i){if(!Ye)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ft(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function WE(t,i,a){var o=i.pendingProps;switch(uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(i),null;case 1:return ft(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Wi(Mt),et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(i)?is(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hf())),ft(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(is(i),f!==null?(ft(i),Ny(i,f)):(ft(i),td(i,h,null,o,a))):f?f!==t.memoizedState?(is(i),ft(i),Ny(i,f)):(ft(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&is(i),ft(i),td(i,h,t,o,a)),null;case 27:if(_s(i),a=Ae.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&is(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ft(i),null}t=le.current,Ba(i)?ug(i):(t=L0(h,o,a),i.stateNode=t,is(i))}return ft(i),null;case 5:if(_s(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&is(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ft(i),null}if(f=le.current,Ba(i))ug(i);else{var _=Ic(Ae.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Dt]=i,f[Kt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&is(i)}}return ft(i),td(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&is(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ae.current,Ba(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||x0(t.nodeValue,a)),t||Vs(i,!0)}else t=Ic(t).createTextNode(o),t[Dt]=i,i.stateNode=t}return ft(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ba(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Dt]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),t=!1}else a=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Mn(i),i):(Mn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ft(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ba(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Dt]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ft(i),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mn(i),i):(Mn(i),null)}return Mn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),ft(i),null);case 4:return et(),t===null&&wd(i.stateNode.containerInfo),ft(i),null;case 10:return Wi(i.type),ft(i),null;case 19:if(K(Rt),o=i.memoizedState,o===null)return ft(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)yl(o,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=ec(t),f!==null){for(i.flags|=128,yl(o,!1),t=f.updateQueue,i.updateQueue=t,dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)sg(a,t),a=a.sibling;return re(Rt,Rt.current&1|2),Ye&&Zi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&qt()>_c&&(i.flags|=128,h=!0,yl(o,!1),i.lanes=4194304)}else{if(!h)if(t=ec(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,dc(i,t),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ye)return ft(i),null}else 2*qt()-o.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,yl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qt(),t.sibling=null,a=Rt.current,re(Rt,h?a&1|2:a&1),Ye&&Zi(i,o.treeForkCount),t):(ft(i),null);case 22:case 23:return Mn(i),Sf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ft(i),i.subtreeFlags&6&&(i.flags|=8192)):ft(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&K(Kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wi(Mt),ft(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function eT(t,i){switch(uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wi(Mt),et(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _s(i),null;case 31:if(i.memoizedState!==null){if(Mn(i),i.alternate===null)throw Error(r(340));Gr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Mn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Gr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(Rt),null;case 4:return et(),null;case 10:return Wi(i.type),null;case 22:case 23:return Mn(i),Sf(),t!==null&&K(Kr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wi(Mt),null;case 25:return null;default:return null}}function Dy(t,i){switch(uf(i),i.tag){case 3:Wi(Mt),et();break;case 26:case 27:case 5:_s(i);break;case 4:et();break;case 31:i.memoizedState!==null&&Mn(i);break;case 13:Mn(i);break;case 19:K(Rt);break;case 10:Wi(i.type);break;case 22:case 23:Mn(i),Sf(),t!==null&&K(Kr);break;case 24:Wi(Mt)}}function _l(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){it(i,i.return,E)}}function qs(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a,U=E;try{U()}catch(Q){it(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){it(i,i.return,Q)}}function ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Tg(i,a)}catch(o){it(t,t.return,o)}}}function Oy(t,i,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){it(t,i,o)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){it(t,i,h)}}function Di(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function My(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function nd(t,i,a){try{var o=t.stateNode;TT(o,t.type,a,i),o[Kt]=i}catch(h){it(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(o!==4&&(o===27&&Xs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(sd(t,i,a),t=t.sibling;t!==null;)sd(t,i,a),t=t.sibling}function mc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Xs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,i,a),t=t.sibling;t!==null;)mc(t,i,a),t=t.sibling}function jy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);sn(i,o,a),i[Dt]=t,i[Kt]=a}catch(f){it(t,t.return,f)}}var ss=!1,Lt=!1,rd=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,$t=null;function tT(t,i){if(t=t.containerInfo,xd=Vc,t=Xp(t),Zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,U=0,Q=0,Z=t,B=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(E=_+h),Z!==f||o!==0&&Z.nodeType!==3||(C=_+o),Z.nodeType===3&&(_+=Z.nodeValue.length),(H=Z.firstChild)!==null;)B=Z,Z=H;for(;;){if(Z===t)break t;if(B===a&&++U===h&&(E=_),B===f&&++Q===o&&(C=_),(H=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rd={focusedElem:t,selectionRange:a},Vc=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var me=Wr(a.type,h);t=o.getSnapshotBeforeUpdate(me,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){it(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function Py(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:as(t,a),o&4&&_l(5,a);break;case 1:if(as(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){it(a,a.return,_)}else{var h=Wr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}o&64&&ky(a),o&512&&vl(a,a.return);break;case 3:if(as(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Tg(t,i)}catch(_){it(a,a.return,_)}}break;case 27:i===null&&o&4&&jy(a);case 26:case 5:as(t,a),i===null&&o&4&&My(a),o&512&&vl(a,a.return);break;case 12:as(t,a);break;case 31:as(t,a),o&4&&By(t,a);break;case 13:as(t,a),o&4&&qy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cT.bind(null,a),NT(t,a))));break;case 22:if(o=a.memoizedState!==null||ss,!o){i=i!==null&&i.memoizedState!==null||Lt,h=ss;var f=Lt;ss=o,(Lt=i)&&!f?os(t,a,(a.subtreeFlags&8772)!==0):as(t,a),ss=h,Lt=f}break;case 30:break;default:as(t,a)}}function Uy(t){var i=t.alternate;i!==null&&(t.alternate=null,Uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,vn=!1;function rs(t,i,a){for(a=a.child;a!==null;)zy(t,i,a),a=a.sibling}function zy(t,i,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(gn,a)}catch{}switch(a.tag){case 26:Lt||Di(a,i),rs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Di(a,i);var o=gt,h=vn;Xs(a.type)&&(gt=a.stateNode,vn=!1),rs(t,i,a),Il(a.stateNode),gt=o,vn=h;break;case 5:Lt||Di(a,i);case 6:if(o=gt,h=vn,gt=null,rs(t,i,a),gt=o,vn=h,gt!==null)if(vn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(f){it(a,i,f)}else try{gt.removeChild(a.stateNode)}catch(f){it(a,i,f)}break;case 18:gt!==null&&(vn?(t=gt,k0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):k0(gt,a.stateNode));break;case 4:o=gt,h=vn,gt=a.stateNode.containerInfo,vn=!0,rs(t,i,a),gt=o,vn=h;break;case 0:case 11:case 14:case 15:qs(2,a,i),Lt||qs(4,a,i),rs(t,i,a);break;case 1:Lt||(Di(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Oy(a,i,o)),rs(t,i,a);break;case 21:rs(t,i,a);break;case 22:Lt=(o=Lt)||a.memoizedState!==null,rs(t,i,a),Lt=o;break;default:rs(t,i,a)}}function By(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){it(i,i.return,a)}}}function qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){it(i,i.return,a)}}function nT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ly),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ly),i;default:throw Error(r(435,t.tag))}}function pc(t,i){var a=nT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=hT.bind(null,t,o);o.then(h,h)}})}function bn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){gt=E.stateNode,vn=!1;break e}break;case 5:gt=E.stateNode,vn=!1;break e;case 3:case 4:gt=E.stateNode.containerInfo,vn=!0;break e}E=E.return}if(gt===null)throw Error(r(160));zy(f,_,h),gt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Hy(i,t),i=i.sibling}var oi=null;function Hy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(i,t),En(t),o&4&&(qs(3,t,t.return),_l(3,t),qs(5,t,t.return));break;case 1:bn(i,t),En(t),o&512&&(Lt||a===null||Di(a,a.return)),o&64&&ss&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=oi;if(bn(i,t),En(t),o&512&&(Lt||a===null||Di(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,a),f[Dt]=t,kt(f),o=f;break e;case"link":var _=H0("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;case"meta":if(_=H0("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),sn(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Dt]=t,kt(f),o=f}t.stateNode=o}else F0(h,t.type,t.stateNode);else t.stateNode=q0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?F0(h,t.type,t.stateNode):q0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:bn(i,t),En(t),o&512&&(Lt||a===null||Di(a,a.return)),a!==null&&o&4&&nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bn(i,t),En(t),o&512&&(Lt||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(me){it(t,t.return,me)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(rd=!0);break;case 6:if(bn(i,t),En(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(me){it(t,t.return,me)}}break;case 3:if(Dc=null,h=oi,oi=Cc(i.containerInfo),bn(i,t),oi=h,En(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(i.containerInfo)}catch(me){it(t,t.return,me)}rd&&(rd=!1,Fy(t));break;case 4:o=oi,oi=Cc(t.stateNode.containerInfo),bn(i,t),En(t),oi=o;break;case 12:bn(i,t),En(t);break;case 31:bn(i,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:bn(i,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=qt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=ss,Q=Lt;if(ss=U||h,Lt=Q||C,bn(i,t),Lt=Q,ss=U,En(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ss||Lt||ea(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var Z=C.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(me){it(C,C.return,me)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(me){it(C,C.return,me)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?O0(H,!0):O0(C.stateNode,!1)}catch(me){it(C,C.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:bn(i,t),En(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:bn(i,t),En(t)}}function En(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Vy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=id(t);mc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var E=id(t);mc(t,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,U=id(t);sd(t,U,C);break;default:throw Error(r(161))}}catch(Q){it(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Fy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function as(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Py(t,i.alternate,i),i=i.sibling}function ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qs(4,i,i.return),ea(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Oy(i,i.return,a),ea(i);break;case 27:Il(i.stateNode);case 26:case 5:Di(i,i.return),ea(i);break;case 22:i.memoizedState===null&&ea(i);break;case 30:ea(i);break;default:ea(i)}t=t.sibling}}function os(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,a),_l(4,f);break;case 1:if(os(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){it(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Eg(C[h],E)}catch(U){it(o,o.return,U)}}a&&_&64&&ky(f),vl(f,f.return);break;case 27:jy(f);case 26:case 5:os(h,f,a),a&&o===null&&_&4&&My(f),vl(f,f.return);break;case 12:os(h,f,a);break;case 31:os(h,f,a),a&&_&4&&By(h,f);break;case 13:os(h,f,a),a&&_&4&&qy(h,f);break;case 22:f.memoizedState===null&&os(h,f,a),vl(f,f.return);break;case 30:break;default:os(h,f,a)}i=i.sibling}}function ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function li(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gy(t,i,a,o),i=i.sibling}function Gy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,o),h&2048&&_l(9,i);break;case 1:li(t,i,a,o);break;case 3:li(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){li(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(i,i.return,C)}}else li(t,i,a,o);break;case 31:li(t,i,a,o);break;case 13:li(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?li(t,i,a,o):bl(t,i):f._visibility&2?li(t,i,a,o):(f._visibility|=2,Za(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ad(_,i);break;case 24:li(t,i,a,o),h&2048&&od(i.alternate,i);break;default:li(t,i,a,o)}}function Za(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,E=a,C=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:Za(f,_,E,C,h),_l(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Za(f,_,E,C,h):bl(f,_):(Q._visibility|=2,Za(f,_,E,C,h)),h&&U&2048&&ad(_.alternate,_);break;case 24:Za(f,_,E,C,h),h&&U&2048&&od(_.alternate,_);break;default:Za(f,_,E,C,h)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:bl(a,o),h&2048&&ad(o.alternate,o);break;case 24:bl(a,o),h&2048&&od(o.alternate,o);break;default:bl(a,o)}i=i.sibling}}var El=8192;function Ja(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Yy(t,i,a),t=t.sibling}function Yy(t,i,a){switch(t.tag){case 26:Ja(t,i,a),t.flags&El&&t.memoizedState!==null&&qT(a,oi,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,i,a);break;case 3:case 4:var o=oi;oi=Cc(t.stateNode.containerInfo),Ja(t,i,a),oi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=El,El=16777216,Ja(t,i,a),El=o):Ja(t,i,a));break;default:Ja(t,i,a)}}function Qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];$t=o,Xy(o,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&qs(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):Tl(t);break;default:Tl(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];$t=o,Xy(o,t)}Qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qs(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function Xy(t,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:qs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:rl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,$t=o;else e:for(a=t;$t!==null;){o=$t;var h=o.sibling,f=o.return;if(Uy(o),o===a){$t=null;break e}if(h!==null){h.return=f,$t=h;break e}$t=f}}}var iT={getCacheForType:function(t){var i=tn(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return tn(Mt).controller.signal}},sT=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Pe=null,ze=0,nt=0,Vn=null,Hs=!1,Wa=!1,ld=!1,ls=0,St=0,Fs=0,ta=0,ud=0,jn=0,eo=0,wl=null,Tn=null,cd=!1,yc=0,$y=0,_c=1/0,vc=null,Gs=null,Ft=0,Ys=null,to=null,us=0,hd=0,fd=null,Zy=null,Sl=0,dd=null;function Ln(){return(Je&2)!==0&&ze!==0?ze&-ze:G.T!==null?vd():Ta()}function Jy(){if(jn===0)if((ze&536870912)===0||Ye){var t=pe;pe<<=1,(pe&3932160)===0&&(pe=262144),jn=t}else jn=536870912;return t=On.current,t!==null&&(t.flags|=32),jn}function wn(t,i,a){(t===ut&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(no(t,0),Qs(t,ze,jn,!1)),zn(t,a),((Je&2)===0||t!==ut)&&(t===ut&&((Je&2)===0&&(ta|=a),St===4&&Qs(t,ze,jn,!1)),ki(t))}function Wy(t,i,a){if((Je&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||De(t,i),h=o?oT(t,i):pd(t,i,!0),f=o;do{if(h===0){Wa&&!o&&Qs(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!rT(a)){h=pd(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;h=wl;var C=E.current.memoizedState.isDehydrated;if(C&&(no(E,_).flags|=256),_=pd(E,_,!1),_!==2){if(ld&&!C){E.errorRecoveryDisabledLanes|=f,ta|=f,h=4;break e}f=Tn,Tn=h,f!==null&&(Tn===null?Tn=f:Tn.push.apply(Tn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){no(t,0),Qs(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Qs(o,i,jn,!Hs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=yc+300-qt(),10<h)){if(Qs(o,i,jn,!Hs),Le(o,0,!0)!==0)break e;us=i,o.timeoutHandle=N0(e0.bind(null,o,a,Tn,vc,cd,i,jn,ta,eo,Hs,f,"Throttled",-0,0),h);break e}e0(o,a,Tn,vc,cd,i,jn,ta,eo,Hs,f,null,-0,0)}}break}while(!0);ki(t)}function e0(t,i,a,o,h,f,_,E,C,U,Q,Z,B,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Yy(i,f,Z);var me=(f&62914560)===f?yc-qt():(f&4194048)===f?$y-qt():0;if(me=HT(Z,me),me!==null){us=f,t.cancelPendingCommit=me(l0.bind(null,t,i,f,a,o,h,_,E,C,Q,Z,null,B,H)),Qs(t,f,_,!U);return}}l0(t,i,f,a,o,h,_,E,C)}function rT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qs(t,i,a,o){i&=~ud,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-_t(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Gi(t,a,i)}function bc(){return(Je&6)===0?(Al(0),!1):!0}function md(){if(Pe!==null){if(nt===0)var t=Pe.return;else t=Pe,Ji=Yr=null,Nf(t),Ya=null,ol=0,t=Pe;for(;t!==null;)Dy(t.alternate,t),t=t.return;Pe=null}}function no(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,AT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),us=0,md(),ut=t,Pe=a=$i(t.current,null),ze=i,nt=0,Vn=null,Hs=!1,Wa=De(t,i),ld=!1,eo=jn=ud=ta=Fs=St=0,Tn=wl=null,cd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-_t(o),f=1<<h;i|=t[h],o&=~f}return ls=i,Bu(),a}function t0(t,i){Oe=null,G.H=pl,i===Ga||i===Xu?(i=yg(),nt=3):i===_f?(i=yg(),nt=4):nt=i===Yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,Pe===null&&(St=1,uc(t,Yn(i,t.current)))}function n0(){var t=On.current;return t===null?!0:(ze&4194048)===ze?$n===null:(ze&62914560)===ze||(ze&536870912)!==0?t===$n:!1}function i0(){var t=G.H;return G.H=pl,t===null?pl:t}function s0(){var t=G.A;return G.A=iT,t}function Ec(){St=4,Hs||(ze&4194048)!==ze&&On.current!==null||(Wa=!0),(Fs&134217727)===0&&(ta&134217727)===0||ut===null||Qs(ut,ze,jn,!1)}function pd(t,i,a){var o=Je;Je|=2;var h=i0(),f=s0();(ut!==t||ze!==i)&&(vc=null,no(t,i)),i=!1;var _=St;e:do try{if(nt!==0&&Pe!==null){var E=Pe,C=Vn;switch(nt){case 8:md(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var U=nt;if(nt=0,Vn=null,io(t,E,C,U),a&&Wa){_=0;break e}break;default:U=nt,nt=0,Vn=null,io(t,E,C,U)}}aT(),_=St;break}catch(Q){t0(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Ji=Yr=null,Je=o,G.H=h,G.A=f,Pe===null&&(ut=null,ze=0,Bu()),_}function aT(){for(;Pe!==null;)r0(Pe)}function oT(t,i){var a=Je;Je|=2;var o=i0(),h=s0();ut!==t||ze!==i?(vc=null,_c=qt()+500,no(t,i)):Wa=De(t,i);e:do try{if(nt!==0&&Pe!==null){i=Pe;var f=Vn;t:switch(nt){case 1:nt=0,Vn=null,io(t,i,f,1);break;case 2:case 9:if(pg(f)){nt=0,Vn=null,a0(i);break}i=function(){nt!==2&&nt!==9||ut!==t||(nt=7),ki(t)},f.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:pg(f)?(nt=0,Vn=null,a0(i)):(nt=0,Vn=null,io(t,i,f,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var E=Pe;if(_?G0(_):E.stateNode.complete){nt=0,Vn=null;var C=E.sibling;if(C!==null)Pe=C;else{var U=E.return;U!==null?(Pe=U,Tc(U)):Pe=null}break t}}nt=0,Vn=null,io(t,i,f,5);break;case 6:nt=0,Vn=null,io(t,i,f,6);break;case 8:md(),St=6;break e;default:throw Error(r(462))}}lT();break}catch(Q){t0(t,Q)}while(!0);return Ji=Yr=null,G.H=o,G.A=h,Je=a,Pe!==null?0:(ut=null,ze=0,Bu(),St)}function lT(){for(;Pe!==null&&!_a();)r0(Pe)}function r0(t){var i=Cy(t.alternate,t,ls);t.memoizedProps=t.pendingProps,i===null?Tc(t):Pe=i}function a0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=wy(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=wy(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Nf(i);default:Dy(a,i),i=Pe=sg(i,ls),i=Cy(a,i,ls)}t.memoizedProps=t.pendingProps,i===null?Tc(t):Pe=i}function io(t,i,a,o){Ji=Yr=null,Nf(i),Ya=null,ol=0;var h=i.return;try{if($E(t,h,i,a,ze)){St=1,uc(t,Yn(a,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;St=1,uc(t,Yn(a,t.current)),Pe=null;return}i.flags&32768?(Ye||o===1?t=!0:Wa||(ze&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),o0(i,t)):Tc(i)}function Tc(t){var i=t;do{if((i.flags&32768)!==0){o0(i,Hs);return}t=i.return;var a=WE(i.alternate,i,ls);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);St===0&&(St=5)}function o0(t,i){do{var a=eT(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);St=6,Pe=null}function l0(t,i,a,o,h,f,_,E,C){t.cancelPendingCommit=null;do wc();while(Ft!==0);if((Je&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=nf,Fi(t,a,f,_,E,C),t===ut&&(Pe=ut=null,ze=0),to=i,Ys=t,us=a,hd=f,fd=h,Zy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fT(Rn,function(){return d0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ae.p,ae.p=2,_=Je,Je|=4;try{tT(t,i,a)}finally{Je=_,ae.p=h,G.T=o}}Ft=1,u0(),c0(),h0()}}function u0(){if(Ft===1){Ft=0;var t=Ys,i=to,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ae.p;ae.p=2;var h=Je;Je|=4;try{Hy(i,t);var f=Rd,_=Xp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Kp(E.ownerDocument.documentElement,E)){if(C!==null&&Zh(E)){var U=C.start,Q=C.end;if(Q===void 0&&(Q=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var H=B.getSelection(),me=E.textContent.length,Te=Math.min(C.start,me),lt=C.end===void 0?Te:Math.min(C.end,me);!H.extend&&Te>lt&&(_=lt,lt=Te,Te=_);var V=Qp(E,Te),k=Qp(E,lt);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var P=Z.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),Te>lt?(H.addRange(P),H.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),H.addRange(P))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Vc=!!xd,Rd=xd=null}finally{Je=h,ae.p=o,G.T=a}}t.current=i,Ft=2}}function c0(){if(Ft===2){Ft=0;var t=Ys,i=to,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ae.p;ae.p=2;var h=Je;Je|=4;try{Py(t,i.alternate,i)}finally{Je=h,ae.p=o,G.T=a}}Ft=3}}function h0(){if(Ft===4||Ft===3){Ft=0,va();var t=Ys,i=to,a=us,o=Zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,to=Ys=null,f0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),In(a),i=i.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(gn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=ae.p,ae.p=2,G.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{G.T=i,ae.p=h}}(us&3)!==0&&wc(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===dd?Sl++:(Sl=0,dd=t):Sl=0,Al(0)}}function f0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function wc(){return u0(),c0(),h0(),d0()}function d0(){if(Ft!==5)return!1;var t=Ys,i=hd;hd=0;var a=In(us),o=G.T,h=ae.p;try{ae.p=32>a?32:a,G.T=null,a=fd,fd=null;var f=Ys,_=us;if(Ft=0,to=Ys=null,us=0,(Je&6)!==0)throw Error(r(331));var E=Je;if(Je|=4,Ky(f.current),Gy(f,f.current,_,a),Je=E,Al(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(gn,f)}catch{}return!0}finally{ae.p=h,G.T=o,f0(t,i)}}function m0(t,i,a){i=Yn(a,i),i=Gf(t.stateNode,i,2),t=Us(t,i,2),t!==null&&(zn(t,2),ki(t))}function it(t,i,a){if(t.tag===3)m0(t,t,a);else for(;i!==null;){if(i.tag===3){m0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){t=Yn(a,t),a=py(2),o=Us(i,a,2),o!==null&&(gy(a,o,i,t),zn(o,2),ki(o));break}}i=i.return}}function gd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new sT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ld=!0,h.add(a),t=uT.bind(null,t,i,a),i.then(t,t))}function uT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ut===t&&(ze&a)===a&&(St===4||St===3&&(ze&62914560)===ze&&300>qt()-yc?(Je&2)===0&&no(t,0):ud|=a,eo===ze&&(eo=0)),ki(t)}function p0(t,i){i===0&&(i=Jt()),t=Hr(t,i),t!==null&&(zn(t,i),ki(t))}function cT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),p0(t,a)}function hT(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),p0(t,a)}function fT(t,i){return At(t,i)}var Sc=null,so=null,yd=!1,Ac=!1,_d=!1,Ks=0;function ki(t){t!==so&&t.next===null&&(so===null?Sc=so=t:so=so.next=t),Ac=!0,yd||(yd=!0,mT())}function Al(t,i){if(!_d&&Ac){_d=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,v0(o,f))}else f=ze,f=Le(o,o===ut?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||De(o,f)||(a=!0,v0(o,f));o=o.next}while(a);_d=!1}}function dT(){g0()}function g0(){Ac=yd=!1;var t=0;Ks!==0&&ST()&&(t=Ks);for(var i=qt(),a=null,o=Sc;o!==null;){var h=o.next,f=y0(o,i);f===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(so=a)):(a=o,(t!==0||(f&3)!==0)&&(Ac=!0)),o=h}Ft!==0&&Ft!==5||Al(t),Ks!==0&&(Ks=0)}function y0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=Tt(E,i)):C<=i&&(t.expiredLanes|=E),f&=~E}if(i=ut,a=ze,a=Le(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&pi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||De(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&pi(o),In(a)){case 2:case 8:a=bs;break;case 32:a=Rn;break;case 268435456:a=Hi;break;default:a=Rn}return o=_0.bind(null,t),a=At(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&pi(o),t.callbackPriority=2,t.callbackNode=null,2}function _0(t,i){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var o=ze;return o=Le(t,t===ut?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Wy(t,o,i),y0(t,qt()),t.callbackNode!=null&&t.callbackNode===a?_0.bind(null,t):null)}function v0(t,i){if(wc())return null;Wy(t,i,!0)}function mT(){xT(function(){(Je&6)!==0?At(Ir,dT):g0()})}function vd(){if(Ks===0){var t=Ha;t===0&&(t=te,te<<=1,(te&261888)===0&&(te=256)),Ks=t}return Ks}function b0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function E0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function pT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=b0((h[Kt]||null).action),_=o.submitter;_&&(i=(i=_[Kt]||null)?b0(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var E=new Ai("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var C=_?E0(h,_):new FormData(h);Uf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?E0(h,_):new FormData(h),Uf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var bd=0;bd<tf.length;bd++){var Ed=tf[bd],gT=Ed.toLowerCase(),yT=Ed[0].toUpperCase()+Ed.slice(1);ai(gT,"on"+yT)}ai(Jp,"onAnimationEnd"),ai(Wp,"onAnimationIteration"),ai(eg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(OE,"onTransitionRun"),ai(ME,"onTransitionStart"),ai(VE,"onTransitionCancel"),ai(tg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function T0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){zu(Q)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(Q){zu(Q)}h.currentTarget=null,f=C}}}}function Ue(t,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var o=t+"__bubble";a.has(o)||(w0(i,t,2,!1),a.add(o))}function Td(t,i,a){var o=0;i&&(o|=4),w0(a,t,o,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[xc]){t[xc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(_T.has(a)||Td(a,!1,t),Td(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,Td("selectionchange",!1,i))}}function w0(t,i,a,o){switch(J0(i)){case 2:var h=YT;break;case 8:h=QT;break;default:h=Pd}a=h.bind(null,i,a,t),h=void 0,!Vr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=_i(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue e}E=E.parentNode}}o=o.return}Cs(function(){var U=f,Q=qn(a),Z=[];e:{var B=ng.get(t);if(B!==void 0){var H=Ai,me=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":H=Lu;break;case"focusin":me="focus",H=Ur;break;case"focusout":me="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Jp:case Wp:case eg:H=Nu;break;case tg:H=w;break;case"scroll":case"scrollend":H=$o;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xi;break;case"toggle":case"beforetoggle":H=ke}var Te=(i&4)!==0,lt=!Te&&(t==="scroll"||t==="scrollend"),V=Te?B!==null?B+"Capture":null:B;Te=[];for(var k=U,P;k!==null;){var X=k;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||V===null||(X=ni(k,V),X!=null&&Te.push(Rl(k,X,P))),lt)break;k=k.return}0<Te.length&&(B=new H(B,me,null,a,Q),Z.push({event:B,listeners:Te}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Qo&&(me=a.relatedTarget||a.fromElement)&&(_i(me)||me[gi]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(me=a.relatedTarget||a.toElement,H=U,me=me?_i(me):null,me!==null&&(lt=c(me),Te=me.tag,me!==lt||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(H=null,me=U),H!==me)){if(Te=Zo,X="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Xi,X="onPointerLeave",V="onPointerEnter",k="pointer"),lt=H==null?B:Cn(H),P=me==null?B:Cn(me),B=new Te(X,k+"leave",H,a,Q),B.target=lt,B.relatedTarget=P,X=null,_i(Q)===U&&(Te=new Te(V,k+"enter",me,a,Q),Te.target=P,Te.relatedTarget=lt,X=Te),lt=X,H&&me)t:{for(Te=vT,V=H,k=me,P=0,X=V;X;X=Te(X))P++;X=0;for(var ve=k;ve;ve=Te(ve))X++;for(;0<P-X;)V=Te(V),P--;for(;0<X-P;)k=Te(k),X--;for(;P--;){if(V===k||k!==null&&V===k.alternate){Te=V;break t}V=Te(V),k=Te(k)}Te=null}else Te=null;H!==null&&S0(Z,B,H,Te,!1),me!==null&&lt!==null&&S0(Z,lt,me,Te,!0)}}e:{if(B=U?Cn(U):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Xe=Bp;else if(Up(B))if(qp)Xe=NE;else{Xe=IE;var ge=RE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&Ra(U.elementType)&&(Xe=Bp):Xe=CE;if(Xe&&(Xe=Xe(t,U))){zp(Z,Xe,a,Q);break e}ge&&ge(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Fo(B,"number",B.value)}switch(ge=U?Cn(U):window,t){case"focusin":(Up(ge)||ge.contentEditable==="true")&&(Va=ge,Jh=U,nl=null);break;case"focusout":nl=Jh=Va=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,$p(Z,a,Q);break;case"selectionchange":if(kE)break;case"keydown":case"keyup":$p(Z,a,Q)}var Me;if(Ze)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ma?zr(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Ii&&a.locale!=="ko"&&(Ma||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ma&&(Me=Xo()):(Si=Q,Ko="value"in Si?Si.value:Si.textContent,Ma=!0)),ge=Rc(U,Be),0<ge.length&&(Be=new Ri(Be,t,null,a,Q),Z.push({event:Be,listeners:ge}),Me?Be.data=Me:(Me=Oa(a),Me!==null&&(Be.data=Me)))),(Me=Fn?wE(t,a):SE(t,a))&&(Be=Rc(U,"onBeforeInput"),0<Be.length&&(ge=new Ri("onBeforeInput","beforeinput",null,a,Q),Z.push({event:ge,listeners:Be}),ge.data=Me)),pT(Z,t,U,a,Q)}T0(Z,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Rc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,a),h!=null&&o.unshift(Rl(t,h,f)),h=ni(t,i),h!=null&&o.push(Rl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function vT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S0(t,i,a,o,h){for(var f=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||U===null||(C=U,h?(U=ni(a,f),U!=null&&_.unshift(Rl(a,U,C))):h||(U=ni(a,f),U!=null&&_.push(Rl(a,U,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var bT=/\r\n?/g,ET=/\u0000|\uFFFD/g;function A0(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(ET,"")}function x0(t,i){return i=A0(i),A0(t)===i}function ot(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||_n(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&_n(t,""+o);break;case"className":Nn(t,"class",o);break;case"tabIndex":Nn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,o);break;case"style":Yo(t,o,f);break;case"data":if(i!=="object"){Nn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ot(t,i,"name",h.name,h,null),ot(t,i,"formEncType",h.formEncType,h,null),ot(t,i,"formMethod",h.formMethod,h,null),ot(t,i,"formTarget",h.formTarget,h,null)):(ot(t,i,"encType",h.encType,h,null),ot(t,i,"method",h.method,h,null),ot(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ti);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Aa(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Aa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,Aa(t,a,o))}}function Ad(t,i,a,o,h,f){switch(a){case"style":Yo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?_n(t,o):(typeof o=="number"||typeof o=="bigint")&&_n(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Aa(t,a,o)}}}function sn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ot(t,i,f,_,a,null)}}h&&ot(t,i,"srcSet",a.srcSet,a,null),o&&ot(t,i,"src",a.src,a,null);return;case"input":Ue("invalid",t);var E=f=_=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":_=Q;break;case"checked":C=Q;break;case"defaultChecked":U=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:ot(t,i,o,Q,a,null)}}Su(t,f,E,C,U,_,h,!1);return;case"select":Ue("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:ot(t,i,h,E,a,null)}i=f,a=_,t.multiple=!!o,i!=null?As(t,!!o,i,!1):a!=null&&As(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ot(t,i,_,E,a,null)}xs(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ot(t,i,C,o,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<xl.length;o++)Ue(xl[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ot(t,i,U,o,a,null)}return;default:if(Ra(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Ad(t,i,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ot(t,i,E,o,a,null))}function TT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,C=null,U=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Z;default:o.hasOwnProperty(H)||ot(t,i,H,null,o,Z)}}for(var B in o){var H=o[B];if(Z=a[B],o.hasOwnProperty(B)&&(H!=null||Z!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":Q=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Z&&ot(t,i,B,H,o,Z)}}xa(t,_,E,C,U,Q,f,h);return;case"select":H=_=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ot(t,i,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&ot(t,i,h,f,o,C)}i=E,a=_,o=H,B!=null?As(t,!!a,B,!1):!!o!=!!a&&(i!=null?As(t,!!a,i,!0):As(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,i,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ot(t,i,_,h,o,f)}Au(t,B,H);return;case"option":for(var me in a)if(B=a[me],a.hasOwnProperty(me)&&B!=null&&!o.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:ot(t,i,me,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ot(t,i,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)B=a[Te],a.hasOwnProperty(Te)&&B!=null&&!o.hasOwnProperty(Te)&&ot(t,i,Te,null,o,B);for(U in o)if(B=o[U],H=a[U],o.hasOwnProperty(U)&&B!==H&&(B!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:ot(t,i,U,B,o,H)}return;default:if(Ra(i)){for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!==void 0&&!o.hasOwnProperty(lt)&&Ad(t,i,lt,void 0,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Ad(t,i,Q,B,o,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&ot(t,i,V,null,o,B);for(Z in o)B=o[Z],H=a[Z],!o.hasOwnProperty(Z)||B===H||B==null&&H==null||ot(t,i,Z,B,o,H)}function R0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&R0(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>E)break;var Q=C.transferSize,Z=C.initiatorType;Q&&R0(Z)&&(C=C.responseEnd,_+=Q*(C<E?1:(E-U)/(C-U)))}if(--o,i+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Rd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function I0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Id(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Cd=null;function ST(){var t=window.event;return t&&t.type==="popstate"?t===Cd?!1:(Cd=t,!0):(Cd=null,!1)}var N0=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,D0=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof D0<"u"?function(t){return D0.resolve(null).then(t).catch(RT)}:N0;function RT(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function k0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),lo(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Il(t.ownerDocument.body);a=h}while(a);lo(i)}function O0(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IT(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function CT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function M0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Zn(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Od=null;function V0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function j0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function L0(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sa(t)}var Jn=new Map,P0=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=ae.d;ae.d={f:DT,r:kT,D:OT,C:MT,L:VT,m:jT,X:PT,S:LT,M:UT};function DT(){var t=cs.f(),i=bc();return t||i}function kT(t){var i=Bn(t);i!==null&&i.tag===5&&i.type==="form"?ty(i):cs.r(t)}var ro=typeof document>"u"?null:document;function U0(t,i,a){var o=ro;if(o&&typeof i=="string"&&i){var h=yn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P0.has(h)||(P0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),sn(i,"link",t),kt(i),o.head.appendChild(i)))}}function OT(t){cs.D(t),U0("dns-prefetch",t,null)}function MT(t,i){cs.C(t,i),U0("preconnect",t,i)}function VT(t,i,a){cs.L(t,i,a);var o=ro;if(o&&t&&i){var h='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yn(a.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var f=h;switch(i){case"style":f=ao(t);break;case"script":f=oo(t)}Jn.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Jn.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Cl(f))||i==="script"&&o.querySelector(Nl(f))||(i=o.createElement("link"),sn(i,"link",t),kt(i),o.head.appendChild(i)))}}function jT(t,i){cs.m(t,i);var a=ro;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=oo(t)}if(!Jn.has(f)&&(t=S({rel:"modulepreload",href:t},i),Jn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}o=a.createElement("link"),sn(o,"link",t),kt(o),a.head.appendChild(o)}}}function LT(t,i,a){cs.S(t,i,a);var o=ro;if(o&&t){var h=vi(o).hoistableStyles,f=ao(t);i=i||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Cl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Jn.get(f))&&Md(t,a);var C=_=o.createElement("link");kt(C),sn(C,"link",t),C._p=new Promise(function(U,Q){C.onload=U,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function PT(t,i){cs.X(t,i);var a=ro;if(a&&t){var o=vi(a).hoistableScripts,h=oo(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=S({src:t,async:!0},i),(i=Jn.get(h))&&Vd(t,i),f=a.createElement("script"),kt(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function UT(t,i){cs.M(t,i);var a=ro;if(a&&t){var o=vi(a).hoistableScripts,h=oo(t),f=o.get(h);f||(f=a.querySelector(Nl(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=Jn.get(h))&&Vd(t,i),f=a.createElement("script"),kt(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function z0(t,i,a,o){var h=(h=Ae.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=vi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var f=vi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Cl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jn.set(t,a),f||zT(h,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=vi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ao(t){return'href="'+yn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function B0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function zT(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),sn(i,"link",a),kt(i),t.head.appendChild(i))}function oo(t){return'[src="'+yn(t)+'"]'}function Nl(t){return"script[async]"+t}function q0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+yn(a.href)+'"]');if(o)return i.instance=o,kt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),kt(o),sn(o,"style",h),Nc(o,a.precedence,t),i.instance=o;case"stylesheet":h=ao(a.href);var f=t.querySelector(Cl(h));if(f)return i.state.loading|=4,i.instance=f,kt(f),f;o=B0(a),(h=Jn.get(h))&&Md(o,h),f=(t.ownerDocument||t).createElement("link"),kt(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),sn(f,"link",o),i.state.loading|=4,Nc(f,a.precedence,t),i.instance=f;case"script":return f=oo(a.src),(h=t.querySelector(Nl(f)))?(i.instance=h,kt(h),h):(o=a,(h=Jn.get(f))&&(o=S({},a),Vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),sn(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Nc(o,a.precedence,t));return i.instance}function Nc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function H0(t,i,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[yi]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function F0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function BT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function G0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function qT(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ao(o.href),f=i.querySelector(Cl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,kt(f);return}f=i.ownerDocument||i,o=B0(o),(h=Jn.get(h))&&Md(o,h),f=f.createElement("link"),kt(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),sn(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var jd=0;function HT(t,i){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&jd===0&&(jd=62500*wT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Mc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,i.forEach(FT,t),Oc=null,kc.call(t))}function FT(t,i){if(!(i.state.loading&4)){var a=Oc.get(t);if(a)var o=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=kc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function GT(t,i,a,o,h,f,_,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ln(0),this.hiddenUpdates=ln(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Y0(t,i,a,o,h,f,_,E,C,U,Q,Z){return t=new GT(t,i,a,_,C,U,Q,Z,E),i=1,f===!0&&(i|=24),f=kn(3,null,null,i),t.current=f,f.stateNode=t,i=pf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},vf(f),t}function Q0(t){return t?(t=Pa,t):Pa}function K0(t,i,a,o,h,f){h=Q0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Us(t,o,i),a!==null&&(wn(a,t,i),ul(a,t,i))}function X0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){X0(t,i),(t=t.alternate)&&X0(t,i)}function $0(t){if(t.tag===13||t.tag===31){var i=Hr(t,67108864);i!==null&&wn(i,t,67108864),Ld(t,67108864)}}function Z0(t){if(t.tag===13||t.tag===31){var i=Ln();i=Yi(i);var a=Hr(t,i);a!==null&&wn(a,t,i),Ld(t,i)}}var Vc=!0;function YT(t,i,a,o){var h=G.T;G.T=null;var f=ae.p;try{ae.p=2,Pd(t,i,a,o)}finally{ae.p=f,G.T=h}}function QT(t,i,a,o){var h=G.T;G.T=null;var f=ae.p;try{ae.p=8,Pd(t,i,a,o)}finally{ae.p=f,G.T=h}}function Pd(t,i,a,o){if(Vc){var h=Ud(o);if(h===null)Sd(t,i,o,jc,a),W0(t,o);else if(XT(h,t,i,a,o))o.stopPropagation();else if(W0(t,o),i&4&&-1<KT.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ce(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-_t(_);E.entanglements[1]|=C,_&=~C}ki(f),(Je&6)===0&&(_c=qt()+500,Al(0))}}break;case 31:case 13:E=Hr(f,2),E!==null&&wn(E,f,2),bc(),Ld(f,2)}if(f=Ud(o),f===null&&Sd(t,i,o,jc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(t,i,o,null,a)}}function Ud(t){return t=qn(t),zd(t)}var jc=null;function zd(t){if(jc=null,t=_i(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jc=t,null}function J0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case Ir:return 2;case bs:return 8;case Rn:case Cr:return 32;case Hi:return 268435456;default:return 32}default:return 32}}var Bd=!1,$s=null,Zs=null,Js=null,kl=new Map,Ol=new Map,Ws=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(t,i){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Bn(i),i!==null&&$0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function XT(t,i,a,o,h){switch(i){case"focusin":return $s=Ml($s,t,i,a,o,h),!0;case"dragenter":return Zs=Ml(Zs,t,i,a,o,h),!0;case"mouseover":return Js=Ml(Js,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return kl.set(f,Ml(kl.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,i,a,o,h)),!0}return!1}function e_(t){var i=_i(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Ht(t.priority,function(){Z0(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Ht(t.priority,function(){Z0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ud(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Qo=o,a.target.dispatchEvent(o),Qo=null}else return i=Bn(a),i!==null&&$0(i),t.blockedOn=a,!1;i.shift()}return!0}function t_(t,i,a){Lc(t)&&a.delete(i)}function $T(){Bd=!1,$s!==null&&Lc($s)&&($s=null),Zs!==null&&Lc(Zs)&&(Zs=null),Js!==null&&Lc(Js)&&(Js=null),kl.forEach(t_),Ol.forEach(t_)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$T)))}var Uc=null;function n_(t){Uc!==t&&(Uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(zd(o||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(i,3),i-=3,Uf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function lo(t){function i(C){return Pc(C,t)}$s!==null&&Pc($s,t),Zs!==null&&Pc(Zs,t),Js!==null&&Pc(Js,t),kl.forEach(i),Ol.forEach(i);for(var a=0;a<Ws.length;a++){var o=Ws[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&Ws.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Kt]||null;if(typeof f=="function")_||n_(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Kt]||null)E=_.formAction;else if(zd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),n_(a)}}}function i_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}zc.prototype.render=qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Ln();K0(a,o,t,i,null,null)},zc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;K0(t.current,2,null,t,null,null),bc(),i[gi]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ta();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ws.length&&i!==0&&i<Ws[a].priority;a++);Ws.splice(a,0,t),a===0&&e_(t)}};var s_=e.version;if(s_!=="19.2.0")throw Error(r(527,s_,"19.2.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var ZT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{gn=Bc.inject(ZT),yt=Bc}catch{}}return jl.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=hy,f=fy,_=dy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Y0(t,1,!1,null,null,a,o,null,h,f,_,i_),t[gi]=i.current,wd(t),new qd(i)},jl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=hy,_=fy,E=dy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Y0(t,1,!0,i,a??null,o,h,C,f,_,E,i_),i.context=Q0(null),a=i.current,o=Ln(),o=Yi(o),h=Ps(o),h.callback=null,Us(a,h,o),a=o,i.current.lanes=a,zn(i,a),ki(i),t[gi]=i.current,wd(t),new zc(i)},jl.version="19.2.0",jl}var m_;function ow(){if(m_)return Gd.exports;m_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=aw(),Gd.exports}var lw=ow();const uw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),p_=s=>{const e=cw(s);return e.charAt(0).toUpperCase()+e.slice(1)},Zv=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),hw=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var fw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dw=he.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>he.createElement("svg",{ref:y,...fw,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:Zv("lucide",l),...!c&&!hw(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,T])=>he.createElement(v,T)),...Array.isArray(c)?c:[c]]));const Ve=(s,e)=>{const n=he.forwardRef(({className:r,...l},c)=>he.createElement(dw,{ref:c,iconNode:e,className:Zv(`lucide-${uw(p_(s))}`,`lucide-${s}`,r),...l}));return n.displayName=p_(s),n};const mw=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],pw=Ve("arrow-down-a-z",mw);const gw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yw=Ve("arrow-left",gw);const _w=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Um=Ve("calendar",_w);const vw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bw=Ve("camera",vw);const Ew=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zm=Ve("check",Ew);const Tw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ww=Ve("chevron-right",Tw);const Sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Aw=Ve("circle-alert",Sw);const xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Rw=Ve("circle-plus",xw);const Iw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Cw=Ve("cloud-upload",Iw);const Nw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Dw=Ve("coffee",Nw);const kw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ow=Ve("download",kw);const Mw=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Jv=Ve("external-link",Mw);const Vw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jw=Ve("house",Vw);const Lw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bm=Ve("image",Lw);const Pw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Uw=Ve("info",Pw);const zw=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Sh=Ve("link",zw);const Bw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],qw=Ve("list",Bw);const Hw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fw=Ve("lock",Hw);const Gw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Yw=Ve("log-out",Gw);const Qw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kw=Ve("mail",Qw);const Xw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wv=Ve("map-pin",Xw);const $w=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Zw=Ve("map",$w);const Jw=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],Ww=Ve("move-vertical",Jw);const e2=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e1=Ve("pen-line",e2);const t2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qm=Ve("pencil",t2);const n2=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],hm=Ve("plane",n2);const i2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ah=Ve("plus",i2);const s2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],da=Ve("refresh-cw",s2);const r2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],a2=Ve("save",r2);const o2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l2=Ve("settings",o2);const u2=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],lu=Ve("shopping-bag",u2);const c2=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oa=Ve("square-check-big",c2);const h2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],f2=Ve("sun",h2);const d2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Hm=Ve("tag",d2);const m2=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],p2=Ve("tram-front",m2);const g2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uu=Ve("trash-2",g2);const y2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_2=Ve("triangle-alert",y2);const v2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],t1=Ve("upload",v2);const b2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],E2=Ve("user",b2);const T2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Er=Ve("x",T2);const w2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],n1=Ve("zoom-in",w2),S2=()=>{};var g_={};const i1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},A2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},s1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,v=y?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let x=(p&15)<<2|v>>6,z=v&63;y||(z=64,d||(x=64)),r.push(n[T],n[S],n[x],n[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(i1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):A2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const v=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||v==null||S==null)throw new x2;const x=c<<2|p>>4;if(r.push(x),v!==64){const z=p<<4&240|v>>2;if(r.push(z),S!==64){const F=v<<6&192|S;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class x2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R2=function(s){const e=i1(s);return s1.encodeByteArray(e,!0)},ah=function(s){return R2(s).replace(/\./g,"")},r1=function(s){try{return s1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const C2=()=>I2().__FIREBASE_DEFAULTS__,N2=()=>{if(typeof process>"u"||typeof g_>"u")return;const s=g_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},D2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&r1(s[1]);return e&&JSON.parse(e)},xh=()=>{try{return S2()||C2()||N2()||D2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},a1=s=>xh()?.emulatorHosts?.[s],k2=s=>{const e=a1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o1=()=>xh()?.config,l1=s=>xh()?.[`_${s}`];class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u1(s){return(await fetch(s,{credentials:"include"})).ok}function M2(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(n)),ah(JSON.stringify(d)),""].join(".")}const Gl={};function V2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?s.emulator.push(e):s.prod.push(e);return s}function j2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let y_=!1;function c1(s,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Gl[s]===e||Gl[s]||y_)return;Gl[s]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=V2().prod.length>0;function d(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,z){x.setAttribute("width","24"),x.setAttribute("id",z),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function v(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{y_=!0,d()},x}function T(x,z){x.setAttribute("id",z),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=j2(r),z=n("text"),F=document.getElementById(z)||document.createElement("span"),$=n("learnmore"),ee=document.getElementById($)||document.createElement("a"),se=n("preprendIcon"),oe=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Y=x.element;p(Y),T(ee,$);const ne=v();y(oe,se),Y.append(oe,F,ee,ne),document.body.appendChild(Y)}c?(F.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function P2(){const s=xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z2(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function B2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function H2(){return!P2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const Y2="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y2,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?Q2(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,r)}}function Q2(s,e){return s.replace(K2,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const K2=/\{\$([^}]+)}/g;function X2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function la(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(__(c)&&__(d)){if(!la(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function __(s){return s!==null&&typeof s=="object"}function hu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ul(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function $2(s,e){const n=new Z2(s,e);return n.subscribe.bind(n)}class Z2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Xd),l.error===void 0&&(l.error=Xd),l.complete===void 0&&(l.complete=Xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J2(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Xd(){}function Yt(s){return s&&s._delegate?s._delegate:s}class ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const na="[DEFAULT]";class W2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tS(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(s){return s===na?void 0:s}function tS(s){return s.instantiationMode==="EAGER"}class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const iS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},sS=qe.INFO,rS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},aS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=rS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const oS=(s,e)=>e.some(n=>s instanceof n);let v_,b_;function lS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,fm=new WeakMap,f1=new WeakMap,$d=new WeakMap,Gm=new WeakMap;function cS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(lr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,s)}).catch(()=>{}),Gm.set(e,s),e}function hS(s){if(fm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});fm.set(s,e)}let dm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||f1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function fS(s){dm=s(dm)}function dS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Zd(this),e,...n);return f1.set(r,e.sort?e.sort():[e]),lr(r)}:uS().includes(s)?function(...e){return s.apply(Zd(this),e),lr(h1.get(this))}:function(...e){return lr(s.apply(Zd(this),e))}}function mS(s){return typeof s=="function"?dS(s):(s instanceof IDBTransaction&&hS(s),oS(s,lS())?new Proxy(s,dm):s)}function lr(s){if(s instanceof IDBRequest)return cS(s);if($d.has(s))return $d.get(s);const e=mS(s);return e!==s&&($d.set(s,e),Gm.set(e,s)),e}const Zd=s=>Gm.get(s);function pS(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=lr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(lr(d.result),y.oldVersion,y.newVersion,lr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const gS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Jd=new Map;function E_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=yS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gS.includes(n)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[n](...p),l&&y.done]))[0]};return Jd.set(e,c),c}fS(s=>({...s,get:(e,n,r)=>E_(e,n)||s.get(e,n,r),has:(e,n)=>!!E_(e,n)||s.has(e,n)}));class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vS(s){return s.getComponent()?.type==="VERSION"}const mm="@firebase/app",T_="0.14.6";const ds=new Fm("@firebase/app"),bS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",wS="@firebase/app-check-compat",SS="@firebase/app-check",AS="@firebase/auth",xS="@firebase/auth-compat",RS="@firebase/database",IS="@firebase/data-connect",CS="@firebase/database-compat",NS="@firebase/functions",DS="@firebase/functions-compat",kS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",jS="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",US="@firebase/remote-config-compat",zS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",FS="@firebase/firestore-compat",GS="firebase",YS="12.6.0";const pm="[DEFAULT]",QS={[mm]:"fire-core",[bS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[SS]:"fire-app-check",[wS]:"fire-app-check-compat",[AS]:"fire-auth",[xS]:"fire-auth-compat",[RS]:"fire-rtdb",[IS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[NS]:"fire-fn",[DS]:"fire-fn-compat",[kS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[jS]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[US]:"fire-rc-compat",[zS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const Zl=new Map,KS=new Map,gm=new Map;function w_(s,e){try{s.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function bo(s){const e=s.name;if(gm.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,s);for(const n of Zl.values())w_(n,s);for(const n of KS.values())w_(n,s);return!0}function Ym(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ui(s){return s==null?!1:s.settings!==void 0}const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new cu("app","Firebase",XS);class $S{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const No=YS;function d1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:pm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ur.create("bad-app-name",{appName:String(l)});if(n||(n=o1()),!n)throw ur.create("no-options");const c=Zl.get(l);if(c){if(la(n,c.options)&&la(r,c.config))return c;throw ur.create("duplicate-app",{appName:l})}const d=new nS(l);for(const y of gm.values())d.addComponent(y);const p=new $S(n,r,d);return Zl.set(l,p),p}function Qm(s=pm){const e=Zl.get(s);if(!e&&s===pm&&o1())return d1();if(!e)throw ur.create("no-app",{appName:s});return e}function ZS(){return Array.from(Zl.values())}function cr(s,e,n){let r=QS[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(d.join(" "));return}bo(new ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const JS="firebase-heartbeat-database",WS=1,Jl="firebase-heartbeat-store";let Wd=null;function m1(){return Wd||(Wd=pS(JS,WS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Wd}async function eA(s){try{const n=(await m1()).transaction(Jl),r=await n.objectStore(Jl).get(p1(s));return await n.done,r}catch(e){if(e instanceof ys)ds.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e?.message});ds.warn(n.message)}}}async function S_(s,e){try{const r=(await m1()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,p1(s)),await r.done}catch(n){if(n instanceof ys)ds.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n?.message});ds.warn(r.message)}}}function p1(s){return`${s.name}!${s.options.appId}`}const tA=1024,nA=30;class iA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nA){const l=aA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A_(),{heartbeatsToSend:n,unsentEntries:r}=sA(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ds.warn(e),""}}}function A_(){return new Date().toISOString().substring(0,10)}function sA(s,e=tA){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),x_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),x_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function x_(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function aA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function oA(s){bo(new ua("platform-logger",e=>new _S(e),"PRIVATE")),bo(new ua("heartbeat",e=>new iA(e),"PRIVATE")),cr(mm,T_,s),cr(mm,T_,"esm2020"),cr("fire-js","")}oA("");var lA="firebase",uA="12.6.0";cr(lA,uA,"app");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,g1;(function(){var s;function e(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,D,j){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return A.prototype[D].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],D=N.g[2];let j=N.g[3],R;R=A+(j^I&(D^j))+M[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(D^A&(I^D))+M[1]+3905402710&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(I^j&(A^I))+M[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(A^D&(j^A))+M[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(j^I&(D^j))+M[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(D^A&(I^D))+M[5]+1200080426&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(I^j&(A^I))+M[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(A^D&(j^A))+M[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(j^I&(D^j))+M[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(D^A&(I^D))+M[9]+2336552879&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(I^j&(A^I))+M[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(A^D&(j^A))+M[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(j^I&(D^j))+M[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=j+(D^A&(I^D))+M[13]+4254626195&4294967295,j=A+(R<<12&4294967295|R>>>20),R=D+(I^j&(A^I))+M[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=I+(A^D&(j^A))+M[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=A+(D^j&(I^D))+M[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(A^I))+M[6]+3225465664&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(j^A))+M[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(D^j))+M[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(I^D))+M[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(A^I))+M[10]+38016083&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(j^A))+M[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(D^j))+M[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(I^D))+M[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(A^I))+M[14]+3275163606&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(j^A))+M[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(D^j))+M[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(D^j&(I^D))+M[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=j+(I^D&(A^I))+M[2]+4243563512&4294967295,j=A+(R<<9&4294967295|R>>>23),R=D+(A^I&(j^A))+M[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=I+(j^A&(D^j))+M[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=A+(I^D^j)+M[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^D)+M[8]+2272392833&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^I)+M[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^A)+M[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^j)+M[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^D)+M[4]+1272893353&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^I)+M[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^A)+M[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^j)+M[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^D)+M[0]+3936430074&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^I)+M[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^A)+M[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(I^D^j)+M[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=j+(A^I^D)+M[12]+3873151461&4294967295,j=A+(R<<11&4294967295|R>>>21),R=D+(j^A^I)+M[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=I+(D^j^A)+M[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=A+(D^(I|~j))+M[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~D))+M[7]+1126891415&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~I))+M[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~A))+M[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~j))+M[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~D))+M[3]+2399980690&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~I))+M[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~A))+M[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~j))+M[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~D))+M[15]+4264355552&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~I))+M[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~A))+M[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=A+(D^(I|~j))+M[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=j+(I^(A|~D))+M[11]+3174756917&4294967295,j=A+(R<<10&4294967295|R>>>22),R=D+(A^(j|~I))+M[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=I+(j^(D|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<A;){if(D==0)for(;j<=I;)l(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(M[D++]=N.charCodeAt(j++),D==this.blockSize){l(this,M),D=0;break}}else for(;j<A;)if(M[D++]=N[j++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[A++]=this.g[I]>>>M&255;return N};function c(N,A){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let M=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;M&&j==A||(I[D]=j,M=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return ee(v(-N));const A=[];let I=1;for(let M=0;N>=I;M++)A[M]=N/I|0,I*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return ee(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(A,8));let M=S;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const R=parseInt(N.substring(j,j+D),A);D<8?(D=v(Math.pow(A,D)),M=M.j(D).add(v(R))):(M=M.j(I),M=M.add(v(R)))}return M}var S=y(0),x=y(1),z=y(16777216);s=d.prototype,s.m=function(){if($(this))return-ee(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if($(this))return"-"+ee(this).toString(N);const A=v(Math.pow(N,6));var I=this;let M="";for(;;){const D=ne(I,A).g;I=se(I,D.j(A));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,F(I))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function $(N){return N.h==-1}s.l=function(N){return N=se(this,N),$(N)?-1:F(N)?0:1};function ee(N){const A=N.g.length,I=[];for(let M=0;M<A;M++)I[M]=~N.g[M];return new d(I,~N.h).add(x)}s.abs=function(){return $(this)?ee(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let D=0;D<=A;D++){let j=M+(this.i(D)&65535)+(N.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=R>>>16,j&=65535,R&=65535,I[D]=R<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function se(N,A){return N.add(ee(A))}s.j=function(N){if(F(this)||F(N))return S;if($(this))return $(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if($(N))return ee(this.j(ee(N)));if(this.l(z)<0&&N.l(z)<0)return v(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const j=this.i(M)>>>16,R=this.i(M)&65535,st=N.i(D)>>>16,bt=N.i(D)&65535;I[2*M+2*D]+=R*bt,oe(I,2*M+2*D),I[2*M+2*D+1]+=j*bt,oe(I,2*M+2*D+1),I[2*M+2*D+1]+=R*st,oe(I,2*M+2*D+1),I[2*M+2*D+2]+=j*st,oe(I,2*M+2*D+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function oe(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function Y(N,A){this.g=N,this.h=A}function ne(N,A){if(F(A))throw Error("division by zero");if(F(N))return new Y(S,S);if($(N))return A=ne(ee(N),A),new Y(ee(A.g),ee(A.h));if($(A))return A=ne(N,ee(A)),new Y(ee(A.g),A.h);if(N.g.length>30){if($(N)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,M=A;M.l(N)<=0;)I=Ce(I),M=Ce(M);var D=Ee(I,1),j=Ee(M,1);for(M=Ee(M,2),I=Ee(I,2);!F(M);){var R=j.add(M);R.l(N)<=0&&(D=D.add(I),j=R),M=Ee(M,1),I=Ee(I,1)}return A=se(N,D.j(A)),new Y(D,A)}for(D=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=v(I),R=j.j(A);$(R)||R.l(N)>0;)I-=M,j=v(I),R=j.j(A);F(j)&&(j=x),D=D.add(j),N=se(N,R)}return new Y(D,N)}s.B=function(N){return ne(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&N.i(M);return new d(I,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|N.i(M);return new d(I,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^N.i(M);return new d(I,this.h^N.h)};function Ce(N){const A=N.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(I,N.h)}function Ee(N,A){const I=A>>5;A%=32;const M=N.g.length-I,D=[];for(let j=0;j<M;j++)D[j]=A>0?N.i(j+I)>>>A|N.i(j+I+1)<<32-A:N.i(j+I);return new d(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,g1=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,hr=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var y1,zl,_1,$c,ym,v1,b1,E1;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)e:{var b=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in b))break e;b=b[L]}u=u[u.length-1],w=b[u],m=m(w),m!=w&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var b=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&b.push([w,m[w]]);return b}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=y,v.apply(null,arguments)}function T(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,L,q){for(var ie=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ie[ke-2]=arguments[ke];return m.prototype[L].apply(w,ie)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const b=Array(m);for(let w=0;w<m;w++)b[w]=u[w];return b}return[]}function F(u,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const q=L.length||0;u.length=b+q;for(let ie=0;ie<q;ie++)u[b+ie]=L[ie]}else u.push(L)}}class ${constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function se(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,b){const w=Y.get();w.set(m,b),this.h?this.h.next=w:this.g=w,this.h=w}}var Y=new $(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Ee=!1,N=new oe,A=()=>{const u=Promise.resolve(void 0);Ce=()=>{u.then(I)}};function I(){for(var u;u=se();){try{u.h.call(u.g)}catch(b){ee(b)}var m=Y;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ee=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function st(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(st,D),st.prototype.init=function(u,m){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ae(u,m,b,w,L){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!w,this.ha=L,this.key=++G,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,m,b){for(const w in u)m.call(b,u[w],w,u)}function Qe(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function O(u){const m={};for(const b in u)m[b]=u[b];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let b,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(b in w)u[b]=w[b];for(let q=0;q<K.length;q++)b=K[q],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,b,w,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ie=Ae(u,m,w,L);return ie>-1?(m=u[ie],b||(m.fa=!1)):(m=new ae(m,this.src,q,!!w,L),m.fa=b,u.push(m)),m};function _e(u,m){const b=m.type;if(b in u.g){var w=u.g[b],L=Array.prototype.indexOf.call(w,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(w,L,1),q&&(ye(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ae(u,m,b,w){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==w)return L}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ne={};function et(u,m,b,w,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)et(u,m[q],b,w,L);return null}return b=Rr(b),u&&u[bt]?u.J(m,b,p(w)?!!w.capture:!1,L):Bi(u,m,b,!1,w,L)}function Bi(u,m,b,w,L,q){if(!m)throw Error("Invalid event type");const ie=p(L)?!!L.capture:!!L;let ke=mi(u);if(ke||(u[je]=ke=new le(u)),b=ke.add(m,b,w,ie,q),b.proxy)return b;if(w=_s(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)j||(L=ie),L===void 0&&(L=!1),u.addEventListener(m.toString(),w,L);else if(u.attachEvent)u.attachEvent(Un(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function _s(){function u(b){return m.call(u.src,u.listener,b)}const m=Ar;return u}function Qt(u,m,b,w,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qt(u,m[q],b,w,L);else w=p(w)?!!w.capture:!!w,b=Rr(b),u&&u[bt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],b=Ae(m,b,w,L),b>-1&&(ye(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,b,w,L)),(b=u>-1?m[u]:null)&&vs(b))}function vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])_e(m.i,u);else{var b=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(b,w,u.capture):m.detachEvent?m.detachEvent(Un(b),w):m.addListener&&m.removeListener&&m.removeListener(w),(b=mi(m))?(_e(b,u),b.h==0&&(b.src=null,m[je]=null)):ye(u)}}}function Un(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function Ar(u,m){if(u.da)u=!0;else{m=new st(m,this);const b=u.listener,w=u.ha||u.src;u.fa&&vs(u),u=b.call(w,m)}return u}function mi(u){return u=u[je],u instanceof le?u:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rr(u){return typeof u=="function"?u:(u[xr]||(u[xr]=function(m){return u.handleEvent(m)}),u[xr])}function Et(){M.call(this),this.i=new le(this),this.M=this,this.G=null}S(Et,M),Et.prototype[bt]=!0,Et.prototype.removeEventListener=function(u,m,b,w){Qt(this,u,m,b,w)};function At(u,m){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(w,u),re(m,L)}L=!0;let q,ie;if(b)for(ie=b.length-1;ie>=0;ie--)q=m.g=b[ie],L=pi(q,w,!0,m)&&L;if(q=m.g=u,L=pi(q,w,!0,m)&&L,L=pi(q,w,!1,m)&&L,b)for(ie=0;ie<b.length;ie++)q=m.g=b[ie],L=pi(q,w,!1,m)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let w=0;w<b.length;w++)ye(b[w]);delete u.g[m],u.h--}}this.G=null},Et.prototype.J=function(u,m,b,w){return this.i.add(String(u),m,!1,b,w)},Et.prototype.K=function(u,m,b,w){return this.i.add(String(u),m,!0,b,w)};function pi(u,m,b,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ie=m[q];if(ie&&!ie.da&&ie.capture==b){const ke=ie.listener,xt=ie.ha||ie.src;ie.fa&&_e(u.i,ie),L=ke.call(xt,w)!==!1&&L}}return L&&!w.defaultPrevented}function _a(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function va(u){u.g=_a(()=>{u.g=null,u.i&&(u.i=!1,va(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qt extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:va(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){M.call(this),this.h=u,this.g={}}S(qi,M);var Ir=[];function bs(u){Ge(u.g,function(m,b){this.g.hasOwnProperty(b)&&vs(m)},u),u.g={}}qi.prototype.N=function(){qi.Z.N.call(this),bs(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=d.JSON.stringify,Cr=d.JSON.parse,Hi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Nr(){}function Es(){}var gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yt(){D.call(this,"d")}S(yt,D);function Nt(){D.call(this,"c")}S(Nt,D);var _t={},ba=null;function Ts(){return ba=ba||new Et}_t.Ia="serverreachability";function Ea(u){D.call(this,_t.Ia,u)}S(Ea,D);function te(u){const m=Ts();At(m,new Ea(m))}_t.STAT_EVENT="statevent";function pe(u,m){D.call(this,_t.STAT_EVENT,u),this.stat=m}S(pe,D);function ue(u){const m=Ts();At(m,new pe(m,u))}_t.Ja="timingevent";function ce(u,m){D.call(this,_t.Ja,u),this.size=m}S(ce,D);function Le(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function De(){this.g=!0}De.prototype.ua=function(){this.g=!1};function Tt(u,m,b,w,L,q){u.info(function(){if(u.g)if(q){var ie="",ke=q.split("&");for(let Ze=0;Ze<ke.length;Ze++){var xt=ke[Ze].split("=");if(xt.length>1){const pt=xt[0];xt=xt[1];const Fn=pt.split("_");ie=Fn.length>=2&&Fn[1]=="type"?ie+(pt+"="+xt+"&"):ie+(pt+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+b+`
`+ie})}function Jt(u,m,b,w,L,q,ie){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+b+`
`+q+" "+ie})}function ln(u,m,b,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fi(u,b)+(w?" "+w:"")})}function zn(u,m){u.info(function(){return"TIMEOUT: "+m})}De.prototype.info=function(){};function Fi(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var b=q[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Rn(q)}catch{return m}}var Gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ws={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dr;function Yi(){}S(Yi,Nr),Yi.prototype.g=function(){return new XMLHttpRequest},Dr=new Yi;function In(u){return encodeURIComponent(String(u))}function Ta(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function Ht(u,m,b,w){this.j=u,this.i=m,this.l=b,this.S=w||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Dt={},Kt={};function gi(u,m,b){u.M=1,u.A=kr(Ot(m)),u.u=b,u.R=!0,wa(u,null)}function wa(u,m){u.F=Date.now(),yi(u),u.B=Ot(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),Ra(b.i,"t",w),u.C=0,b=u.j.L,u.h=new ei,u.g=Vu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new qt(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ir[0]=L.toString()),L=Ir);for(let q=0;q<L.length;q++){const ie=et(b,L[q],w||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),te(),Tt(u.i,u.v,u.B,u.l,u.S,u.u)}Ht.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Ht.prototype.Y=function(u){try{if(u==this.g)e:{const ke=ii(this.g),xt=this.g.ya(),Ze=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||ke!=4||xt==7||(xt==8||Ze<=0?te(3):te(2)),_i(this);var m=this.g.ca();this.X=m;var b=Kh(this);if(this.o=m==200,Jt(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var q=w;break t}}q=null}if(u=q)ln(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,ue(12),Cn(this),Bn(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<b.length;)if(pt=Tu(this,b),pt==Kt){ke==4&&(this.m=4,ue(14),u=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Dt){this.m=4,ue(15),ln(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ln(this.i,this.l,pt,null),vi(this,pt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||b.length!=0||this.h.h||(this.m=1,ue(16),u=!1),this.o=this.o&&u,!u)ln(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Bn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Jo(ie),ie.P=!0,ue(11))}}else ln(this.i,this.l,b,null),vi(this,b);ke==4&&Cn(this),this.o&&!this.K&&(ke==4?Du(this.j,this):(this.o=!1,yi(this)))}else Ki(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Cn(this),Bn(this)}}}catch{}finally{}};function Kh(u){if(!Eu(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let b="";const w=m.length,L=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<w;q++)u.h.h=!0,b+=u.h.i.decode(m[q],{stream:!(L&&q==w-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function Eu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Tu(u,m){var b=u.C,w=m.indexOf(`
`,b);return w==-1?Kt:(b=Number(m.substring(b,w)),isNaN(b)?Dt:(w+=1,w+b>m.length?Kt:(m=m.slice(w,w+b),u.C=w+b,m)))}Ht.prototype.cancel=function(){this.K=!0,Cn(this)};function yi(u){u.T=Date.now()+u.H,Sa(u,u.H)}function Sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Le(v(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ht.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(zn(this.i,this.B),this.M!=2&&(te(),ue(17)),Cn(this),this.m=2,Bn(this)):Sa(this,this.T-u)};function Bn(u){u.j.I==0||u.K||Du(u.j,u)}function Cn(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ei(b.h,u))){if(!u.L&&Ei(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ka(b),Ds(b);else break e;Ur(b),ue(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Le(v(b.Va,b),6e3));bi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ri(b,11)}else if((u.L||b.g==u)&&ka(b),!R(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let Ze=L[m];const pt=Ze[0];if(!(pt<=b.K))if(b.K=pt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const Fn=Ze[3];Fn!=null&&(b.ka=Fn,b.j.info("VER="+b.ka));const Ii=Ze[4];Ii!=null&&(b.za=Ii,b.j.info("SVER="+b.za));const si=Ze[5];si!=null&&typeof si=="number"&&si>0&&(w=1.5*si,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const ri=u.g;if(ri){const zr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var q=w.h;q.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(zo(q,q.h),q.h=null))}if(w.G){const Oa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(w.wa=Oa,tt(w.J,w.G,Oa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ie=u;if(w.na=Mu(w,w.L?w.ba:null,w.W),ie.L){Bo(w.h,ie);var ke=ie,xt=w.O;xt&&(ke.H=xt),ke.D&&(_i(ke),yi(ke)),w.g=ie}else Cu(w);b.i.length>0&&xi(b)}else Ze[0]!="stop"&&Ze[0]!="close"||Ri(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ri(b,7):$o(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}te(4)}catch{}}var kt=class{constructor(u,m){this.g=u,this.map=m}};function Po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zo(u,m){u.g?u.g.add(m):u.h=m}function Bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Po.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return z(u.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let L,q=null;w>=0?(L=u[b].substring(0,w),q=u[b].substring(w+1)):L=u[b],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Nn?(this.l=u.l,Xt(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Ho(this,Ru(u.i)),this.m=u.m):u&&(m=String(u).match(wu))?(this.l=!1,Xt(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),Ss(this,m[4]),this.h=Ti(m[5]||"",!0),Ho(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Nn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Or(m,xa,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Or(m,xa,!0),"@"),u.push(In(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Or(b,b.charAt(0)=="/"?Fo:Su,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Or(b,Au)),u.join("")},Nn.prototype.resolve=function(u){const m=Ot(this);let b=!!u.j;b?Xt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var w=u.h;if(b)Ss(m,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ie=0;ie<L.length;){const ke=L[ie++];ke=="."?w&&ie==L.length&&q.push(""):ke==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&ie==L.length&&q.push("")):(q.push(ke),w=!0)}w=q.join("/")}else w=L}return b?m.h=w:b=u.i.toString()!=="",b?Ho(m,Ru(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ot(u){return new Nn(u)}function Xt(u,m,b){u.j=b?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ho(u,m,b){m instanceof xs?(u.i=m,Ia(u.i,u.l)):(b||(m=Or(m,As)),u.i=new xs(m,u.l))}function tt(u,m,b){u.i.set(m,b)}function kr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Or(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xa=/[#\/\?@]/g,Su=/[#\?:]/g,Fo=/[#\?]/g,As=/[#\?@]/g,Au=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Aa(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=xs.prototype,s.add=function(u,m){_n(this),this.i=null,u=Rs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function xu(u,m){_n(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Go(u,m){return _n(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(b,w){b.forEach(function(L){u.call(m,L,w,this)},this)},this)};function Yo(u,m){_n(u);let b=[];if(typeof m=="string")Go(u,m)&&(b=b.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return _n(this),this.i=null,u=Rs(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Yo(this,u),u.length>0?String(u[0]):m):m};function Ra(u,m,b){xu(u,m),b.length>0&&(u.i=null,u.g.set(Rs(u,m),z(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var b=m[w];const L=In(b);b=Yo(this,b);for(let q=0;q<b.length;q++){let ie=L;b[q]!==""&&(ie+="="+In(b[q])),u.push(ie)}}return this.i=u.join("&")};function Ru(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ia(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(b,w){const L=w.toLowerCase();w!=L&&(xu(this,w),Ra(this,L,b))},u)),u.j=m}function ti(u,m){const b=new De;if(d.Image){const w=new Image;w.onload=T(qn,b,"TestLoadImage: loaded",!0,m,w),w.onerror=T(qn,b,"TestLoadImage: error",!1,m,w),w.onabort=T(qn,b,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(qn,b,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Qo(u,m){const b=new De,w=new AbortController,L=setTimeout(()=>{w.abort(),qn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(q=>{clearTimeout(L),q.ok?qn(b,"TestPingServer: ok",!0,m):qn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),qn(b,"TestPingServer: error",!1,m)})}function qn(u,m,b,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(b)}catch{}}function Is(){this.g=new Hi}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(wi,Nr),wi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,m){Et.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Mr,Et),s=Mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ni(this),this.readyState==3&&Ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return Ge(u,function(b,w){m+=w,m+=":",m+=b,m+=`\r
`}),m}function Vr(u,m,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Hn(b),typeof u=="string"?b!=null&&In(b):tt(u,m,b))}function rt(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(rt,Et);var Si=/^https?$/i,Ko=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dr.g(),this.g.onreadystatechange=x(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){jr(this,q);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)b.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())b.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ko,m,void 0)>=0)||w||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of b)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){jr(this,q)}};function jr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xo(u),Qi(u)}function Xo(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,At(this,"complete"),At(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},s.Xa=function(){Lr(this)};function Lr(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(At(u,"readystatechange"),ii(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var w;if(w=q===0){let ie=String(u.D).match(wu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),w=!Si.test(ie?ie.toLowerCase():"")}b=w}if(b)At(u,"complete"),At(u,"success");else{u.o=6;try{var L=ii(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Xo(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||At(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Cr(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var b=Ta(u[w]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[L]||[];m[L]=q,q.push(b)}Qe(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new De,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,w){ue(0),this.W=u,this.H=m||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=Mu(this,null,this.W),xi(this)};function $o(u){if(Na(u),u.I==3){var m=u.V++,b=Ot(u.J);if(tt(b,"SID",u.M),tt(b,"RID",m),tt(b,"TYPE","terminate"),Pr(u,b),m=new Ht(u,u.j,m),m.M=2,m.A=kr(Ot(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}Ou(u)}function Ds(u){u.g&&(Jo(u),u.g.cancel(),u.g=null)}function Na(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!Uo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ce||A(),Ee||(Ce(),Ee=!0),N.add(m,u),u.D=0}}function Da(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Le(v(u.Ea,u,m),ku(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ht(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),re(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Iu(this,L,m),b=Ot(this.J),tt(b,"RID",u),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),Pr(this,b),q&&(this.R?m="headers="+In(Hn(q))+"&"+m:this.u&&Vr(b,this.u,q)),zo(this.h,L),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",m),tt(b,"SID","null"),L.U=!0,gi(L,b,null)):gi(L,b,m),this.I=2}}else this.I==3&&(u?Zo(this,u):this.i.length==0||Uo(this.h)||Zo(this))};function Zo(u,m){var b;m?b=m.l:b=u.V++;const w=Ot(u.J);tt(w,"SID",u.M),tt(w,"RID",b),tt(w,"AID",u.K),Pr(u,w),u.u&&u.o&&Vr(w,u.u,u.o),b=new Ht(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zo(u.h,b),gi(b,w,m)}function Pr(u,m){u.H&&Ge(u.H,function(b,w){tt(m,w,b)}),u.l&&Ge({},function(b,w){tt(m,w,b)})}function Iu(u,m,b){b=Math.min(u.i.length,b);const w=u.l?v(u.l.Ka,u.l,u):null;e:{var L=u.i;let ke=-1;for(;;){const xt=["count="+b];ke==-1?b>0?(ke=L[0].g,xt.push("ofs="+ke)):ke=0:xt.push("ofs="+ke);let Ze=!0;for(let pt=0;pt<b;pt++){var q=L[pt].g;const Fn=L[pt].map;if(q-=ke,q<0)ke=Math.max(0,L[pt].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var ie=Fn instanceof Map?Fn:Object.entries(Fn);for(const[Ii,si]of ie){let ri=si;p(si)&&(ri=Rn(si)),xt.push(q+Ii+"="+encodeURIComponent(ri))}}catch(Ii){throw xt.push(q+"type="+encodeURIComponent("_badmap")),Ii}}catch{w&&w(Fn)}}if(Ze){ie=xt.join("&");break e}}ie=void 0}return u=u.i.splice(0,b),m.G=u,ie}function Cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ce||A(),Ee||(Ce(),Ee=!0),N.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Le(v(u.Da,u),ku(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Le(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),Ds(this),Nu(this))};function Jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Nu(u){u.g=new Ht(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),Pr(u,m),u.u&&u.o&&Vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=kr(Ot(m)),b.u=null,b.R=!0,wa(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Ur(this),ue(19))};function ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Du(u,m){var b=null;if(u.g==m){ka(u),Jo(u),u.g=null;var w=2}else if(Ei(u.h,m))b=m.G,Bo(u.h,m),w=1;else return;if(u.I!=0){if(m.o)if(w==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;w=Ts(),At(w,new ce(w,b)),xi(u)}else Cu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&Da(u,m)||w==2&&Ur(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),L){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function ku(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),w=u.Ua;const L=!w;w=new Nn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xt(w,"https"),kr(w),L?ti(w.toString(),b):Qo(w.toString(),b)}else ue(2);u.I=0,u.l&&u.l.pa(m),Ou(u),Na(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Ou(u){if(u.I=0,u.ja=[],u.l){const m=qo(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ja,m),F(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function Mu(u,m,b){var w=b instanceof Nn?Ot(b):new Nn(b);if(w.g!="")m&&(w.g=m+"."+w.g),Ss(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Nn(null);w&&Xt(q,w),m&&(q.g=m),L&&Ss(q,L),b&&(q.h=b),w=q}return b=u.G,m=u.wa,b&&m&&tt(w,b,m),tt(w,"VER",u.ka),Pr(u,w),w}function Vu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new wi({ab:b})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}s=ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){Et.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}S(mn,Et),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){$o(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Rn(u),u=b);m.i.push(new kt(m.Ya++,u)),m.I==3&&xi(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,mn.Z.N.call(this)};function Lu(u){yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Lu,yt);function Pu(){Nt.call(this),this.status=1}S(Pu,Nt);function Xi(u){this.g=u}S(Xi,ju),Xi.prototype.ra=function(){At(this.g,"a")},Xi.prototype.qa=function(u){At(this.g,new Lu(u))},Xi.prototype.pa=function(u){At(this.g,new Pu)},Xi.prototype.oa=function(){At(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,E1=function(){return new ks},b1=function(){return Ts()},v1=_t,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,$c=Gi,ws.COMPLETE="complete",_1=ws,Es.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,zl=Es,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,y1=rt}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",C_="4.9.2";class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let Do="12.3.0";const ca=new Fm("@firebase/firestore");function uo(){return ca.logLevel}function de(s,...e){if(ca.logLevel<=qe.DEBUG){const n=e.map(Km);ca.debug(`Firestore (${Do}): ${s}`,...n)}}function ms(s,...e){if(ca.logLevel<=qe.ERROR){const n=e.map(Km);ca.error(`Firestore (${Do}): ${s}`,...n)}}function Eo(s,...e){if(ca.logLevel<=qe.WARN){const n=e.map(Km);ca.warn(`Firestore (${Do}): ${s}`,...n)}}function Km(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,T1(s,r,n)}function T1(s,e,n){let r=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ms(r),new Error(r)}function We(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||T1(e,l,r)}function Ie(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ra{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class w1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class hA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class fA{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ra,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ra)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new w1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class dA{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mA{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=gA(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function _m(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return em(l)===em(c)?He(l,c):em(l)?1:-1}return He(s.length,e.length)}const yA=55296,_A=57343;function em(s){const e=s.charCodeAt(0);return e>=yA&&e<=_A}function To(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const D_="__name__";class Oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Oi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const r=Oi.isNumericId(e),l=Oi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class ct extends Oi{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const vA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Oi{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return vA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new an([D_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}function S1(s,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function bA(s,e,n,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function k_(s){if(!be.isDocumentKey(s))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O_(s){if(be.isDocumentKey(s))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function A1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function fr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rh(s);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function zt(s,e){const n={typeString:s};return e&&(n.value=e),n}function fu(s,e){if(!A1(s))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new fe(J.INVALID_ARGUMENT,n);return!0}const M_=-62135596800,V_=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*V_);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M_)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:zt("string",mt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new mt(0,0))}static max(){return new xe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function EA(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new pr(l,be.empty(),e)}function TA(s){return new pr(s.readTime,s.key,Wl)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(xe.min(),be.empty(),Wl)}static max(){return new pr(xe.max(),be.empty(),Wl)}}function wA(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(s.documentKey,e.documentKey),n!==0?n:He(s.largestBatchId,e.largestBatchId))}const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ko(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==SA)throw s;de("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,r)=>{n(e)}))}static reject(e){return new W(((n,r)=>{r(e)}))}static waitFor(e){return new W(((n,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(y=>r(y)))})),d=!0,c===l&&n()}))}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next((l=>l?W.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new W(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next((T=>{d[v]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new W(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function xA(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const $m=-1;function Ch(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function RA(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const x1="";function IA(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=j_(e)),e=CA(s.get(n),e);return j_(e)}function CA(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case x1:n+="";break;default:n+=c}}return n}function j_(s){return s+x1+""}function L_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Tr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function R1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??rn.RED,this.left=l??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new rn(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return rn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Gt(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new I1("Invalid base64 string: "+c):c}})(e);return new on(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const NA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(We(!!s,39018),typeof s=="string"){let e=0;const n=NA.exec(s);if(We(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const C1="server_timestamp",N1="__type__",D1="__previous_value__",k1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[N1]?.stringValue===C1}function Nh(s){const e=s.mapValue.fields[D1];return Zm(e)?Nh(e):e}function eu(s){const e=gr(s.mapValue.fields[k1].timestampValue);return new mt(e.seconds,e.nanos)}class DA{constructor(e,n,r,l,c,d,p,y,v,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=T}}const lh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const O1="__type__",kA="__max__",Fc={mapValue:{}},M1="__vector__",uh="value";function _r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:MA(s)?9007199254740991:OA(s)?10:11:Se(28295,{value:s})}function zi(s,e){if(s===e)return!0;const n=_r(s);if(n!==_r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return eu(s).isEqual(eu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=gr(l.timestampValue),p=gr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return yr(l.bytesValue).isEqual(yr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),p=Ct(c.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return To(s.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(L_(d)!==L_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!zi(d[y],p[y])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function nu(s,e){return(s.values||[]).find((n=>zi(n,e)))!==void 0}function wo(s,e){if(s===e)return 0;const n=_r(s),r=_r(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ct(c.integerValue||c.doubleValue),y=Ct(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return U_(s.timestampValue,e.timestampValue);case 4:return U_(eu(s),eu(e));case 5:return _m(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=yr(c),y=yr(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const T=He(p[v],y[v]);if(T!==0)return T}return He(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=He(Ct(c.latitude),Ct(d.latitude));return p!==0?p:He(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return z_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[uh]?.arrayValue,T=y[uh]?.arrayValue,S=He(v?.values?.length||0,T?.values?.length||0);return S!==0?S:z_(v,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Fc.mapValue&&d===Fc.mapValue)return 0;if(c===Fc.mapValue)return 1;if(d===Fc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const x=_m(y[S],T[S]);if(x!==0)return x;const z=wo(p[y[S]],v[T[S]]);if(z!==0)return z}return He(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function U_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const n=gr(s),r=gr(e),l=He(n.seconds,r.seconds);return l!==0?l:He(n.nanos,r.nanos)}function z_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=wo(n[l],r[l]);if(c)return c}return He(n.length,r.length)}function So(s){return vm(s)}function vm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=gr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return yr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return be.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=vm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${vm(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Zc(s){switch(_r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Tr(r.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function B_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function bm(s){return!!s&&"integerValue"in s}function Jm(s){return!!s&&"arrayValue"in s}function q_(s){return!!s&&"nullValue"in s}function H_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function OA(s){return(s?.mapValue?.fields||{})[O1]?.stringValue===M1}function Yl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Tr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(s.arrayValue.values[n]);return e}return{...s}}function MA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===kA}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=an.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Yl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Tr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new An(Yl(this.value))}}function V1(s){const e=[];return Tr(s.fields,((n,r)=>{const l=new an([n]);if(Jc(r)){const c=V1(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Pn(e)}class fn{constructor(e,n,r,l,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,xe.min(),xe.min(),xe.min(),An.empty(),0)}static newFoundDocument(e,n,r,l){return new fn(e,1,n,xe.min(),r,l,0)}static newNoDocument(e,n){return new fn(e,2,n,xe.min(),xe.min(),An.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,xe.min(),xe.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,n){this.position=e,this.inclusive=n}}function F_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=be.comparator(be.fromName(d.referenceValue),n.key):r=wo(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function G_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!zi(s.position[n],e.position[n]))return!1;return!0}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function VA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class j1{}class Ut extends j1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LA(e,n,r):n==="array-contains"?new zA(e,r):n==="in"?new BA(e,r):n==="not-in"?new qA(e,r):n==="array-contains-any"?new HA(e,r):new Ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PA(e,r):new UA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&_r(this.value)===_r(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends j1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return L1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function L1(s){return s.op==="and"}function P1(s){return jA(s)&&L1(s)}function jA(s){for(const e of s.filters)if(e instanceof fi)return!1;return!0}function Em(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+So(s.value);if(P1(s))return s.filters.map((e=>Em(e))).join(",");{const e=s.filters.map((n=>Em(n))).join(",");return`${s.op}(${e})`}}function U1(s,e){return s instanceof Ut?(function(r,l){return l instanceof Ut&&r.op===l.op&&r.field.isEqual(l.field)&&zi(r.value,l.value)})(s,e):s instanceof fi?(function(r,l){return l instanceof fi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&U1(d,l.filters[p])),!0):!1})(s,e):void Se(19439)}function z1(s){return s instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(s):s instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(z1).join(" ,")+"}"})(s):"Filter"}class LA extends Ut{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class PA extends Ut{constructor(e,n){super(e,"in",n),this.keys=B1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class UA extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=B1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B1(s,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class zA extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&nu(n.arrayValue,this.value)}}class BA extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class qA extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class HA extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nu(this.value.arrayValue,r)))}}class FA{constructor(e,n=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Y_(s,e=null,n=[],r=[],l=null,c=null,d=null){return new FA(s,e,n,r,l,c,d)}function Wm(s){const e=Ie(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Em(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>So(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>So(r))).join(",")),e.Te=n}return e.Te}function ep(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!VA(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!U1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!G_(s.startAt,e.startAt)&&G_(s.endAt,e.endAt)}function Tm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Mo{constructor(e,n=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GA(s,e,n,r,l,c,d,p){return new Mo(s,e,n,r,l,c,d,p)}function tp(s){return new Mo(s)}function Q_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function q1(s){return s.collectionGroup!==null}function Ql(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Gt(an.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new iu(c,r))})),n.has(an.keyField().canonicalString())||e.Ie.push(new iu(an.keyField(),r))}return e.Ie}function Mi(s){const e=Ie(s);return e.Ee||(e.Ee=YA(e,Ql(s))),e.Ee}function YA(s,e){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new iu(l.field,c)}));const n=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function wm(s,e){const n=s.filters.concat([e]);return new Mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Sm(s,e,n){return new Mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Dh(s,e){return ep(Mi(s),Mi(e))&&s.limitType===e.limitType}function H1(s){return`${Wm(Mi(s))}|lt:${s.limitType}`}function co(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>z1(l))).join(", ")}]`),Ch(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>So(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>So(l))).join(",")),`Target(${r})`})(Mi(s))}; limitType=${s.limitType})`}function kh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Ql(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const v=F_(d,p,y);return d.inclusive?v<=0:v<0})(r.startAt,Ql(r),l)||r.endAt&&!(function(d,p,y){const v=F_(d,p,y);return d.inclusive?v>=0:v>0})(r.endAt,Ql(r),l))})(s,e)}function QA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function F1(s){return(e,n)=>{let r=!1;for(const l of Ql(s)){const c=KA(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function KA(s,e,n){const r=s.field.isKeyField()?be.comparator(e.key,n.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?wo(y,v):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}const XA=new vt(be.comparator);function ps(){return XA}const G1=new vt(be.comparator);function Bl(...s){let e=G1;for(const n of s)e=e.insert(n.key,n);return e}function Y1(s){let e=G1;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function sa(){return Kl()}function Q1(){return Kl()}function Kl(){return new ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const $A=new vt(be.comparator),ZA=new Gt(be.comparator);function Fe(...s){let e=ZA;for(const n of s)e=e.add(n);return e}const JA=new Gt(He);function WA(){return JA}function np(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function K1(s){return{integerValue:""+s}}function ex(s,e){return RA(e)?K1(e):np(s,e)}class Oh{constructor(){this._=void 0}}function tx(s,e,n){return s instanceof hh?(function(l,c){const d={fields:{[N1]:{stringValue:C1},[k1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zm(c)&&(c=Nh(c)),c&&(d.fields[D1]=c),{mapValue:d}})(n,e):s instanceof su?$1(s,e):s instanceof ru?Z1(s,e):(function(l,c){const d=X1(l,c),p=K_(d)+K_(l.Ae);return bm(d)&&bm(l.Ae)?K1(p):np(l.serializer,p)})(s,e)}function nx(s,e,n){return s instanceof su?$1(s,e):s instanceof ru?Z1(s,e):n}function X1(s,e){return s instanceof fh?(function(r){return bm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class hh extends Oh{}class su extends Oh{constructor(e){super(),this.elements=e}}function $1(s,e){const n=J1(e);for(const r of s.elements)n.some((l=>zi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class ru extends Oh{constructor(e){super(),this.elements=e}}function Z1(s,e){let n=J1(e);for(const r of s.elements)n=n.filter((l=>!zi(l,r)));return{arrayValue:{values:n}}}class fh extends Oh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K_(s){return Ct(s.integerValue||s.doubleValue)}function J1(s){return Jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ix(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof su&&l instanceof su||r instanceof ru&&l instanceof ru?To(r.elements,l.elements,zi):r instanceof fh&&l instanceof fh?zi(r.Ae,l.Ae):r instanceof hh&&l instanceof hh})(s.transform,e.transform)}class sx{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function W1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ip(s.key,hi.none()):new du(s.key,s.data,hi.none());{const n=s.data,r=An.empty();let l=new Gt(an.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new wr(s.key,r,new Pn(l.toArray()),hi.none())}}function rx(s,e,n){s instanceof du?(function(l,c,d){const p=l.value.clone(),y=$_(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof wr?(function(l,c,d){if(!Wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$_(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(eb(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Xl(s,e,n,r){return s instanceof du?(function(c,d,p,y){if(!Wc(c.precondition,d))return p;const v=c.value.clone(),T=Z_(c.fieldTransforms,y,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,n,r):s instanceof wr?(function(c,d,p,y){if(!Wc(c.precondition,d))return p;const v=Z_(c.fieldTransforms,y,d),T=d.data;return T.setAll(eb(c)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,d,p){return Wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function ax(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=X1(r.transform,l||null);c!=null&&(n===null&&(n=An.empty()),n.set(r.field,c))}return n||null}function X_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&To(r,l,((c,d)=>ix(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class du extends Mh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wr extends Mh{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function eb(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function $_(s,e,n){const r=new Map;We(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,nx(d,p,n[l]))}return r}function Z_(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,tx(c,d,e))}return r}class ip extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ox extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lx{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&rx(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const y=W1(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((n,r)=>X_(n,r)))&&To(this.baseMutations,e.baseMutations,((n,r)=>X_(n,r)))}}class sp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return $A})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new sp(e,n,r,l)}}class ux{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Ke;function hx(s){switch(s){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function tb(s){if(s===void 0)return ms("GRPC error has no .code"),J.UNKNOWN;switch(s){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:s})}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function fx(){return new TextEncoder}const dx=new hr([4294967295,4294967295],0);function J_(s){const e=fx().encode(s),n=new g1;return n.update(e),new Uint8Array(n.digest())}function W_(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([n,r],0),new hr([l,c],0)]}class rp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(hr.fromNumber(r)));return l.compare(dx)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J_(e),[r,l]=W_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new rp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=J_(e),[r,l]=W_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vh(xe.min(),l,new vt(He),ps(),Fe())}}class mu{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mu(r,n,Fe(),Fe(),Fe())}}class eh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class nb{constructor(e,n){this.targetId=e,this.Ce=n}}class ib{constructor(e,n,r=on.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Se(38017,{changeType:c})}})),new mu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.Je=Gc(),this.He=Gc(),this.Ye=new vt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Tm(c))if(r===0){const d=new be(c.path);this.et(n,d,fn.newNoDocument(d,xe.min()))}else We(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=yr(r).toUint8Array()}catch(y){if(y instanceof I1)return Eo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new rp(d,l,c)}catch(y){return Eo(y instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Tm(p.target)){const y=new be(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,fn.newNoDocument(y,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Fe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Vh(e,n,this.Ye,this.je,r);return this.je=ps(),this.Je=Gc(),this.He=Gc(),this.Ye=new vt(He),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ev,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new vt(be.comparator)}function tv(){return new vt(be.comparator)}const px={asc:"ASCENDING",desc:"DESCENDING"},gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yx={and:"AND",or:"OR"};class _x{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Am(s,e){return s.useProto3Json||Ch(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vx(s,e){return dh(s,e.toTimestamp())}function Vi(s){return We(!!s,49232),xe.fromTimestamp((function(n){const r=gr(n);return new mt(r.seconds,r.nanos)})(s))}function ap(s,e){return xm(s,e).canonicalString()}function xm(s,e){const n=(function(l){return new ct(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function rb(s){const e=ct.fromString(s);return We(cb(e),10190,{key:e.toString()}),e}function Rm(s,e){return ap(s.databaseId,e.path)}function tm(s,e){const n=rb(e);if(n.get(1)!==s.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new be(ob(n))}function ab(s,e){return ap(s.databaseId,e)}function bx(s){const e=rb(s);return e.length===4?ct.emptyPath():ob(e)}function Im(s){return new ct(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ob(s){return We(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,e,n){return{name:Rm(s,e),fields:n.value.mapValue.fields}}function Ex(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?(We(T===void 0||typeof T=="string",58123),on.fromBase64String(T||"")):(We(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),on.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const T=v.code===void 0?J.UNKNOWN:tb(v.code);return new fe(T,v.message||"")})(d);n=new ib(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=tm(s,r.document.name),c=Vi(r.document.updateTime),d=r.document.createTime?Vi(r.document.createTime):xe.min(),p=new An({mapValue:{fields:r.document.fields}}),y=fn.newFoundDocument(l,c,d,p),v=r.targetIds||[],T=r.removedTargetIds||[];n=new eh(v,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=tm(s,r.document),c=r.readTime?Vi(r.readTime):xe.min(),d=fn.newNoDocument(l,c),p=r.removedTargetIds||[];n=new eh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=tm(s,r.document),c=r.removedTargetIds||[];n=new eh([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new cx(l,c),p=r.targetId;n=new nb(p,d)}}return n}function Tx(s,e){let n;if(e instanceof du)n={update:nv(s,e.key,e.value)};else if(e instanceof ip)n={delete:Rm(s,e.key)};else if(e instanceof wr)n={update:nv(s,e.key,e.data),updateMask:Dx(e.fieldMask)};else{if(!(e instanceof ox))return Se(16599,{Vt:e.type});n={verify:Rm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ru)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof fh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:vx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function wx(s,e){return s&&s.length>0?(We(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(xe.min())&&(d=Vi(c)),new sx(d,l.transformResults||[])})(n,e)))):[]}function Sx(s,e){return{documents:[ab(s,e.path)]}}function Ax(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ab(s,l);const c=(function(v){if(v.length!==0)return ub(fi.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((T=>(function(x){return{field:ho(x.field),direction:Ix(x.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Am(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:l}}function xx(s){let e=bx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){We(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(S){const x=lb(S);return x instanceof fi&&P1(x)?x.getFilters():[x]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((x=>(function(F){return new iu(fo(F.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(x)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,Ch(x)?null:x})(n.limit));let y=null;n.startAt&&(y=(function(S){const x=!!S.before,z=S.values||[];return new ch(z,x)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const x=!S.before,z=S.values||[];return new ch(z,x)})(n.endAt)),GA(e,l,d,c,p,"F",y,v)}function Rx(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=fo(n.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fo(n.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fo(n.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ut.create(fo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((r=>lb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function Ix(s){return px[s]}function Cx(s){return gx[s]}function Nx(s){return yx[s]}function ho(s){return{fieldPath:s.canonicalString()}}function fo(s){return an.fromServerFormat(s.fieldPath)}function ub(s){return s instanceof Ut?(function(n){if(n.op==="=="){if(H_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(q_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(q_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:Cx(n.op),value:n.value}}})(s):s instanceof fi?(function(n){const r=n.getFilters().map((l=>ub(l)));return r.length===1?r[0]:{compositeFilter:{op:Nx(n.op),filters:r}}})(s):Se(54877,{filter:s})}function Dx(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(e,n,r,l,c=xe.min(),d=xe.min(),p=on.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kx{constructor(e){this.yt=e}}function Ox(s){const e=xx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Sm(e,e.limit,"L"):e}class Mx{constructor(){this.Cn=new Vx}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(pr.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class Vx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Gt(ct.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Gt(ct.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hb=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(hb,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const sv="LruGarbageCollector",jx=1048576;function rv([s,e],[n,r]){const l=He(s,n);return l===0?He(e,r):l}class Lx{constructor(e){this.Ir=e,this.buffer=new Gt(rv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Px{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?de(sv,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Vr(3e5)}))}}class Ux{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ih.ce);const r=new Lx(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(iv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,p,y,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),uo()<=qe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function zx(s,e){return new Ux(s,e)}class Bx{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Hx{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Xl(r.mutation,l,Pn.empty(),mt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Fe()){const l=sa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Bl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=sa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Fe())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let c=ps();const d=Kl(),p=(function(){return Kl()})();return n.forEach(((y,v)=>{const T=r.get(v.key);l.has(v.key)&&(T===void 0||T.mutation instanceof wr)?c=c.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),Xl(T.mutation,v,T.mutation.getFieldMask(),mt.now())):d.set(v.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,T)=>d.set(v,T))),n.forEach(((v,T)=>p.set(v,new qx(T,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Kl();let l=new vt(((d,p)=>d-p)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=n.get(y);if(v===null)return;let T=r.get(y)||Pn.empty();T=p.applyToLocalView(v,T),r.set(y,T);const S=(l.get(p.batchId)||Fe()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,T=y.value,S=Q1();T.forEach((x=>{if(!c.has(x)){const z=W1(n.get(x),r.get(x));z!==null&&S.set(x,z),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return W.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):W.resolve(sa());let p=Wl,y=c;return d.next((v=>W.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{y=y.insert(T,x)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Fe()))).next((T=>({batchId:p,changes:Y1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let l=Bl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,c).next((p=>W.forEach(p,(y=>{const v=(function(S,x){return new Mo(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,l).next((T=>{T.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((y,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,fn.newInvalidDocument(T)))}));let p=Bl();return d.forEach(((y,v)=>{const T=c.get(y);T!==void 0&&Xl(T.mutation,v,Pn.empty(),mt.now()),kh(n,v)&&(p=p.insert(y,v))})),p}))}}class Fx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:Ox(l.bundledQuery),readTime:Vi(l.readTime)}})(n)),W.resolve()}}class Gx{constructor(){this.overlays=new vt(be.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sa();return W.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),W.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const l=sa(),c=n.length+1,d=new be(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new vt(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let T=c.get(v.largestBatchId);T===null&&(T=sa(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=sa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=l)););return W.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ux(n,r));let c=this.qr.get(n);c===void 0&&(c=Fe(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class Yx{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class op{constructor(){this.Qr=new Gt(Zt.$r),this.Ur=new Gt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new ct([])),r=new Zt(n,e),l=new Zt(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new ct([])),r=new Zt(n,e),l=new Zt(n,e+1);let c=Fe();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class Qx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Zt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lx(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?$m:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),l=new Zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(He);return n.forEach((l=>{const c=new Zt(l,0),d=new Zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const d=new Zt(new be(c),0);let p=new Gt(He);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),W.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,(l=>{const c=new Zt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Zt(n,0),l=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Kx{constructor(e){this.ri=e,this.docs=(function(){return new vt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():fn.newInvalidDocument(l))})),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ps();const d=n.path,p=new be(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||wA(TA(T),r)<=0||(l.has(T.key)||kh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Se(9500)}ii(e,n){return W.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Xx(this)}getSize(e){return W.resolve(this.size)}}class Xx extends Bx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class $x{constructor(e){this.persistence=e,this.si=new ma((n=>Wm(n)),ep),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new op,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}class fb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new Yx,this.referenceDelegate=e(this),this.Pi=new $x(this),this.indexManager=new Mx,this.remoteDocumentCache=(function(l){return new Kx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kx(n),this.Ii=new Fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Qx(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const l=new Zx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Zx extends AA{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Ri=new op,this.Vi=null}static mi(e){return new lp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const l=be.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.pi=new ma((r=>IA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=zx(this,n)}static mi(e,n){return new mh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?W.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return W.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class up{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Fe(),l=Fe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new up(e,n.fromCache,r,l)}}class Jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H2()?8:xA(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Jx;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(uo()<=qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(uo()<=qe.DEBUG&&de("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(uo()<=qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):W.resolve())}ys(e,n){if(Q_(n))return W.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Sm(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Fe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.Ds(n,p);return this.Cs(n,v,d,y.readTime)?this.ys(e,Sm(n,null,"F")):this.vs(e,v,n,y)}))))})))))}ws(e,n,r,l){return Q_(n)||l.isEqual(xe.min())?W.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?W.resolve(null):(uo()<=qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),co(n)),this.vs(e,d,n,EA(l,Wl)).next((p=>p)))}))}Ds(e,n){let r=new Gt(F1(e));return n.forEach(((l,c)=>{kh(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return uo()<=qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",co(n)),this.ps.getDocumentsMatchingQuery(e,n,pr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const cp="LocalStore",eR=3e8;class tR{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new vt(He),this.xs=new ma((c=>Wm(c)),ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function nR(s,e,n,r){return new tR(s,e,n,r)}async function db(s,e){const n=Ie(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Fe();for(const v of l){d.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of c){p.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function iR(s,e){const n=Ie(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,T){const S=v.batch,x=S.keys();let z=W.resolve();return x.forEach((F=>{z=z.next((()=>T.getEntry(y,F))).next(($=>{const ee=v.docVersions.get(F);We(ee!==null,48541),$.version.compareTo(ee)<0&&(S.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),T.addEntry($)))}))})),z.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Fe();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function mb(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sR(s,e){const n=Ie(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const x=l.get(S);if(!x)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,S))));let z=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?z=z.withResumeToken(on.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),l=l.insert(S,z),(function($,ee,se){return $.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=eR?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(x,z,T)&&p.push(n.Pi.updateTargetData(c,z))}));let y=ps(),v=Fe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(rR(c,d,e.documentUpdates).next((T=>{y=T.ks,v=T.qs}))),!r.isEqual(xe.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((S=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return W.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(n.Ms=l,c)))}function rR(s,e,n){let r=Fe(),l=Fe();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ps();return n.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):de(cp,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function aR(s,e){const n=Ie(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oR(s,e){const n=Ie(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,W.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new or(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Cm(s,e,n){const r=Ie(s),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Oo(d))throw d;de(cp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function av(s,e,n){const r=Ie(s);let l=xe.min(),c=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,T){const S=Ie(y),x=S.xs.get(T);return x!==void 0?W.resolve(S.Ms.get(x)):S.Pi.getTargetData(v,T)})(r,d,Mi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:xe.min(),n?c:Fe()))).next((p=>(lR(r,QA(e),p),{documents:p,Qs:c})))))}function lR(s,e,n){let r=s.Os.get(e)||xe.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class ov{constructor(){this.activeTargetIds=WA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uR{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cR{Oo(e){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yc=null;function Nm(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}const nm="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=Nm(),p=this.zo(e,n.toUriEncodedString());de(nm,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),T=Co(v);return this.Jo(e,p,y,r,T).then((S=>(de(nm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Eo(nm,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=hR[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class dR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class mR extends fR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=Nm();return new Promise(((p,y)=>{const v=new y1;v.setWithCredentials(!0),v.listenOnce(_1.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case $c.NO_ERROR:const S=v.getResponseJson();de(cn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case $c.TIMEOUT:de(cn,`RPC '${e}' ${d} timed out`),y(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const x=v.getStatus();if(de(cn,`RPC '${e}' ${d} failed with status:`,x,"response text:",v.getResponseText()),x>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z?.error;if(F&&F.status&&F.message){const $=(function(se){const oe=se.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(oe)>=0?oe:J.UNKNOWN})(F.status);y(new fe($,F.message))}else y(new fe(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{de(cn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);de(cn,`RPC '${e}' ${d} sending request:`,l),v.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=Nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=E1(),p=b1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const T=c.join("");de(cn,`Creating RPC '${e}' stream ${l}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let x=!1,z=!1;const F=new dR({Yo:ee=>{z?de(cn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(x||(de(cn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),x=!0),de(cn,`RPC '${e}' stream ${l} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),$=(ee,se,oe)=>{ee.listen(se,(Y=>{try{oe(Y)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return $(S,zl.EventType.OPEN,(()=>{z||(de(cn,`RPC '${e}' stream ${l} transport opened.`),F.o_())})),$(S,zl.EventType.CLOSE,(()=>{z||(z=!0,de(cn,`RPC '${e}' stream ${l} transport closed`),F.a_(),this.E_(S))})),$(S,zl.EventType.ERROR,(ee=>{z||(z=!0,Eo(cn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),F.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),$(S,zl.EventType.MESSAGE,(ee=>{if(!z){const se=ee.data[0];We(!!se,16349);const oe=se,Y=oe?.error||oe[0]?.error;if(Y){de(cn,`RPC '${e}' stream ${l} received error:`,Y);const ne=Y.status;let Ce=(function(A){const I=Pt[A];if(I!==void 0)return tb(I)})(ne),Ee=Y.message;Ce===void 0&&(Ce=J.INTERNAL,Ee="Unknown error status: "+ne+" with message "+Y.message),z=!0,F.a_(new fe(Ce,Ee)),S.close()}else de(cn,`RPC '${e}' stream ${l} received:`,se),F.u_(se)}})),$(p,v1.STAT_EVENT,(ee=>{ee.stat===ym.PROXY?de(cn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===ym.NOPROXY&&de(cn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function im(){return typeof document<"u"?document:null}function jh(s){return new _x(s,!0)}class pb{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class gb{constructor(e,n,r,l,c,d,p,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pR extends gb{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ex(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Vi(d.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Im(this.serializer),n.addTarget=(function(c,d){let p;const y=d.target;if(p=Tm(y)?{documents:Sx(c,y)}:{query:Ax(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=sb(c,d.resumeToken);const v=Am(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=dh(c,d.snapshotVersion.toTimestamp());const v=Am(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=Rx(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Im(this.serializer),n.removeTarget=e,this.q_(n)}}class gR extends gb{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wx(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Tx(this.serializer,r)))};this.q_(n)}}class yR{}class _R extends yR{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,xm(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(J.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,xm(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class bR{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{pa(this)&&(de(ha,"Restarting streams for network reachability change."),await(async function(y){const v=Ie(y);v.Ea.add(4),await pu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Lh(v)})(this))}))})),this.Ra=new vR(r,l)}}async function Lh(s){if(pa(s))for(const e of s.da)await e(!0)}async function pu(s){for(const e of s.da)await e(!1)}function yb(s,e){const n=Ie(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mp(n)?dp(n):Vo(n).O_()&&fp(n,e))}function hp(s,e){const n=Ie(s),r=Vo(n);n.Ia.delete(e),r.O_()&&_b(n,e),n.Ia.size===0&&(r.O_()?r.L_():pa(n)&&n.Ra.set("Unknown"))}function fp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(s).Y_(e)}function _b(s,e){s.Va.Ue(e),Vo(s).Z_(e)}function dp(s){s.Va=new mx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Vo(s).start(),s.Ra.ua()}function mp(s){return pa(s)&&!Vo(s).x_()&&s.Ia.size>0}function pa(s){return Ie(s).Ea.size===0}function vb(s){s.Va=void 0}async function ER(s){s.Ra.set("Online")}async function TR(s){s.Ia.forEach(((e,n)=>{fp(s,e)}))}async function wR(s,e){vb(s),mp(s)?(s.Ra.ha(e),dp(s)):s.Ra.set("Unknown")}async function SR(s,e,n){if(s.Ra.set("Online"),e instanceof ib&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){de(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ph(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof nb?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const r=await mb(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(v);T&&c.Ia.set(v,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(on.EMPTY_BYTE_STRING,T.snapshotVersion)),_b(c,y);const S=new or(T.target,y,v,T.sequenceNumber);fp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){de(ha,"Failed to raise snapshot:",r),await ph(s,r)}}async function ph(s,e,n){if(!Oo(e))throw e;s.Ea.add(1),await pu(s),s.Ra.set("Offline"),n||(n=()=>mb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(ha,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Lh(s)}))}function bb(s,e){return e().catch((n=>ph(s,n,e)))}async function Ph(s){const e=Ie(s),n=vr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;AR(e);)try{const l=await aR(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,xR(e,l)}catch(l){await ph(e,l)}Eb(e)&&Tb(e)}function AR(s){return pa(s)&&s.Ta.length<10}function xR(s,e){s.Ta.push(e);const n=vr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function Eb(s){return pa(s)&&!vr(s).x_()&&s.Ta.length>0}function Tb(s){vr(s).start()}async function RR(s){vr(s).ra()}async function IR(s){const e=vr(s);for(const n of s.Ta)e.ea(n.mutations)}async function CR(s,e,n){const r=s.Ta.shift(),l=sp.from(r,e,n);await bb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ph(s)}async function NR(s,e){e&&vr(s).X_&&await(async function(r,l){if((function(d){return hx(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();vr(r).B_(),await bb(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ph(r)}})(s,e),Eb(s)&&Tb(s)}async function hv(s,e){const n=Ie(s);n.asyncQueue.verifyOperationInProgress(),de(ha,"RemoteStore received new credentials");const r=pa(n);n.Ea.add(3),await pu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lh(n)}async function DR(s,e){const n=Ie(s);e?(n.Ea.delete(2),await Lh(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Vo(s){return s.ma||(s.ma=(function(n,r,l){const c=Ie(n);return c.sa(),new pR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:ER.bind(null,s),t_:TR.bind(null,s),r_:wR.bind(null,s),H_:SR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),mp(s)?dp(s):s.Ra.set("Unknown")):(await s.ma.stop(),vb(s))}))),s.ma}function vr(s){return s.fa||(s.fa=(function(n,r,l){const c=Ie(n);return c.sa(),new gR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:RR.bind(null,s),r_:NR.bind(null,s),ta:IR.bind(null,s),na:CR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(de(ha,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class pp{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,p=new pp(e,n,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(s,e){if(ms("AsyncQueue",`${e}: ${s}`),Oo(s))return new fe(J.UNAVAILABLE,`${e}: ${s}`);throw s}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fv{constructor(){this.ga=new vt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xo{constructor(e,n,r,l,c,d,p,y,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new xo(e,n,po.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class kR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OR{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ie(n),c=l.queries;l.queries=dv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function dv(){return new ma((s=>H1(s)),Dh)}async function MR(s,e){const n=Ie(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new kR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=gp(d,`Initialization of query '${co(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&yp(n)}async function VR(s,e){const n=Ie(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jR(s,e){const n=Ie(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&yp(n)}function LR(s,e,n){const r=Ie(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function yp(s){s.Ca.forEach((e=>{e.next()}))}var Dm,mv;(mv=Dm||(Dm={})).Ma="default",mv.Cache="cache";class PR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dm.Cache}}class wb{constructor(e){this.key=e}}class Sb{constructor(e){this.key=e}}class UR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=F1(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new fv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const x=l.get(T),z=kh(this.query,S)?S:null,F=!!x&&this.mutatedKeys.has(x.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let ee=!1;x&&z?x.data.isEqual(z.data)?F!==$&&(r.track({type:3,doc:z}),ee=!0):this.su(x,z)||(r.track({type:2,doc:z}),ee=!0,(y&&this.eu(z,y)>0||v&&this.eu(z,v)<0)&&(p=!0)):!x&&z?(r.track({type:0,doc:z}),ee=!0):x&&!z&&(r.track({type:1,doc:x}),ee=!0,(y||v)&&(p=!0)),ee&&(z?(d=d.add(z),c=$?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(z,F){const $=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:ee})}};return $(z)-$(F)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new xo(this.query,e.tu,c,d,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Sb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new wb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _p="SyncEngine";class zR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BR{constructor(e){this.key=e,this.hu=!1}}class qR{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((p=>H1(p)),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(be.comparator),this.Au=new Map,this.Ru=new op,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HR(s,e,n=!0){const r=Nb(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Ab(r,e,n,!0),l}async function FR(s,e){const n=Nb(s);await Ab(n,e,!0,!1)}async function Ab(s,e,n,r){const l=await oR(s.localStore,Mi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await GR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&yb(s.remoteStore,l),p}async function GR(s,e,n,r,l){s.pu=(S,x,z)=>(async function($,ee,se,oe){let Y=ee.view.ru(se);Y.Cs&&(Y=await av($.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,Y))));const ne=oe&&oe.targetChanges.get(ee.targetId),Ce=oe&&oe.targetMismatches.get(ee.targetId)!=null,Ee=ee.view.applyChanges(Y,$.isPrimaryClient,ne,Ce);return gv($,ee.targetId,Ee.au),Ee.snapshot})(s,S,x,z);const c=await av(s.localStore,e,!0),d=new UR(e,c.Qs),p=d.ru(c.documents),y=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),v=d.applyChanges(p,s.isPrimaryClient,y);gv(s,n,v.au);const T=new zR(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),v.snapshot}async function YR(s,e,n){const r=Ie(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Dh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Cm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&hp(r.remoteStore,l.targetId),km(r,l.targetId)})).catch(ko)):(km(r,l.targetId),await Cm(r.localStore,l.targetId,!0))}async function QR(s,e){const n=Ie(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hp(n.remoteStore,r.targetId))}async function KR(s,e,n){const r=tI(s);try{const l=await(function(d,p){const y=Ie(d),v=mt.now(),T=p.reduce(((z,F)=>z.add(F.key)),Fe());let S,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let F=ps(),$=Fe();return y.Ns.getEntries(z,T).next((ee=>{F=ee,F.forEach(((se,oe)=>{oe.isValidDocument()||($=$.add(se))}))})).next((()=>y.localDocuments.getOverlayedDocuments(z,F))).next((ee=>{S=ee;const se=[];for(const oe of p){const Y=ax(oe,S.get(oe.key).overlayedDocument);Y!=null&&se.push(new wr(oe.key,Y,V1(Y.value.mapValue),hi.exists(!0)))}return y.mutationQueue.addMutationBatch(z,v,se,p)})).next((ee=>{x=ee;const se=ee.applyToLocalDocumentSet(S,$);return y.documentOverlayCache.saveOverlays(z,ee.batchId,se)}))})).then((()=>({batchId:x.batchId,changes:Y1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new vt(He)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(r,l.batchId,n),await gu(r,l.changes),await Ph(r.remoteStore)}catch(l){const c=gp(l,"Failed to persist write");n.reject(c)}}async function xb(s,e){const n=Ie(s);try{const r=await sR(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?We(d.hu,14607):l.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await gu(n,r,e)}catch(r){await ko(r)}}function pv(s,e,n){const r=Ie(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Ie(d);y.onlineState=p;let v=!1;y.queries.forEach(((T,S)=>{for(const x of S.Sa)x.va(p)&&(v=!0)})),v&&yp(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XR(s,e,n){const r=Ie(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new vt(be.comparator);d=d.insert(c,fn.newNoDocument(c,xe.min()));const p=Fe().add(c),y=new Vh(xe.min(),new Map,new vt(He),d,p);await xb(r,y),r.du=r.du.remove(c),r.Au.delete(e),vp(r)}else await Cm(r.localStore,e,!1).then((()=>km(r,e,n))).catch(ko)}async function $R(s,e){const n=Ie(s),r=e.batch.batchId;try{const l=await iR(n.localStore,e);Ib(n,r,null),Rb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gu(n,l)}catch(l){await ko(l)}}async function ZR(s,e,n){const r=Ie(s);try{const l=await(function(d,p){const y=Ie(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return y.mutationQueue.lookupMutationBatch(v,p).next((S=>(We(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>y.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);Ib(r,e,n),Rb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gu(r,l)}catch(l){await ko(l)}}function Rb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function Ib(s,e,n){const r=Ie(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function km(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Cb(s,r)}))}function Cb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(hp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),vp(s))}function gv(s,e,n){for(const r of n)r instanceof wb?(s.Ru.addReference(r.key,e),JR(s,r)):r instanceof Sb?(de(_p,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Cb(s,r.key)):Se(19791,{wu:r})}function JR(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(de(_p,"New document in limbo: "+n),s.Eu.add(r),vp(s))}function vp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new be(ct.fromString(e)),r=s.fu.next();s.Au.set(r,new BR(n)),s.du=s.du.insert(n,r),yb(s.remoteStore,new or(Mi(tp(n.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function gu(s,e,n){const r=Ie(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const T=v?!v.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(v){l.push(v);const T=up.As(y.targetId,v);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,v){const T=Ie(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(v,(x=>W.forEach(x.Es,(z=>T.persistence.referenceDelegate.addReference(S,x.targetId,z))).next((()=>W.forEach(x.ds,(z=>T.persistence.referenceDelegate.removeReference(S,x.targetId,z)))))))))}catch(S){if(!Oo(S))throw S;de(cp,"Failed to update sequence numbers: "+S)}for(const S of v){const x=S.targetId;if(!S.fromCache){const z=T.Ms.get(x),F=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(x,$)}}})(r.localStore,c))}async function WR(s,e){const n=Ie(s);if(!n.currentUser.isEqual(e)){de(_p,"User change. New user:",e.toKey());const r=await db(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new fe(J.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(n,r.Ls)}}function eI(s,e){const n=Ie(s),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Nb(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XR.bind(null,e),e.Pu.H_=jR.bind(null,e.eventManager),e.Pu.yu=LR.bind(null,e.eventManager),e}function tI(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZR.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nR(this.persistence,new Wx,e.initialUser,this.serializer)}Cu(e){return new fb(lp.mi,this.serializer)}Du(e){return new uR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class nI extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Px(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new fb((r=>mh.mi(r,n)),this.serializer)}}class Om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OR})()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),r=(function(c){return new mR(c)})(e.databaseInfo);return(function(c,d,p,y){return new _R(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,p){return new bR(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>pv(this.syncEngine,n,0)),(function(){return uv.v()?new uv:new cR})())}createSyncEngine(e,n){return(function(l,c,d,p,y,v,T){const S=new qR(l,c,d,p,y,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);de(ha,"RemoteStore shutting down."),r.Ea.add(5),await pu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Om.provider={build:()=>new Om};class iI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const br="FirestoreClient";class sI{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{de(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sm(s,e){s.asyncQueue.verifyOperationInProgress(),de(br,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await db(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function yv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await rI(s);de(br,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>hv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>hv(e.remoteStore,l))),s._onlineComponents=e}async function rI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(br,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await sm(s,new gh)}}else de(br,"Using default OfflineComponentProvider"),await sm(s,new nI(void 0));return s._offlineComponents}async function Db(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(br,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(de(br,"Using default OnlineComponentProvider"),await yv(s,new Om))),s._onlineComponents}function aI(s){return Db(s).then((e=>e.syncEngine))}async function _v(s){const e=await Db(s),n=e.eventManager;return n.onListen=HR.bind(null,e.syncEngine),n.onUnlisten=YR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QR.bind(null,e.syncEngine),n}function kb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const vv=new Map;const Ob="firestore.googleapis.com",bv=!0;class Ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=bv}else this.host=e.host,this.ssl=e.ssl??bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jx)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cA;switch(r.type){case"firstParty":return new mA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=vv.get(n);r&&(de("ComponentProvider","Removing Datastore"),vv.delete(n),r.terminate())})(this),Promise.resolve()}}function oI(s,e,n,r={}){s=fr(s,Uh);const l=Co(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(u1(`https://${p}`),c1("Firestore",!0)),c.host!==Ob&&c.host!==p&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!la(y,d)&&(s._setSettings(y),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=hn.MOCK_USER;else{v=M2(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new hn(S)}s._authCredentials=new hA(new w1(v,T))}}class ga{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(fu(n,Bt._jsonSchema))return new Bt(e,r||null,new be(ct.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:zt("string",Bt._jsonSchemaVersion),referencePath:zt("string")};class dr extends ga{constructor(e,n,r){super(e,n,tp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new be(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function tr(s,e,...n){if(s=Yt(s),S1("collection","path",e),s instanceof Uh){const r=ct.fromString(e,...n);return O_(r),new dr(s,null,r)}{if(!(s instanceof Bt||s instanceof dr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...n));return O_(r),new dr(s.firestore,null,r)}}function ia(s,e,...n){if(s=Yt(s),arguments.length===1&&(e=Xm.newId()),S1("doc","path",e),s instanceof Uh){const r=ct.fromString(e,...n);return k_(r),new Bt(s,null,new be(r))}{if(!(s instanceof Bt||s instanceof dr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...n));return k_(r),new Bt(s.firestore,s instanceof dr?s.converter:null,new be(r))}}const Tv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pb(this,"async_queue_retry"),this._c=()=>{const r=im();r&&de(Tv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;de(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",Sv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=pp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Av(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ro extends Uh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function lI(s,e){const n=typeof s=="object"?s:Qm(),r=typeof s=="string"?s:lh,l=Ym(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=k2("firestore");c&&oI(l,...c)}return l}function Mb(s){if(s._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uI(s),s._firestoreClient}function uI(s){const e=s._freezeSettings(),n=(function(l,c,d,p){return new DA(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new sI(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(on.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:zt("string",Wn._jsonSchemaVersion),bytes:zt("string")};class zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bp{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(fu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:zt("string",ji._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:zt("string",Li._jsonSchemaVersion),vectorValues:zt("object")};const cI=/^__.*__$/;class hI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class Vb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class Ep{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ep({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jb(this.Ac)&&cI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jh(e)}Cc(e,n,r,l=!1){return new Ep({Ac:e,methodName:n,Dc:r,path:an.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tp(s){const e=s._freezeSettings(),n=jh(s._databaseId);return new fI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function dI(s,e,n,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);wp("Data must be an object, but it was:",d,r);const p=Lb(r,d);let y,v;if(c.merge)y=new Pn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const x=Mm(e,S,n);if(!d.contains(x))throw new fe(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Ub(T,x)||T.push(x)}y=new Pn(T),v=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=d.fieldTransforms;return new hI(new An(p),y,v)}class Bh extends bp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function mI(s,e,n,r){const l=s.Cc(1,e,n);wp("Data must be an object, but it was:",l,r);const c=[],d=An.empty();Tr(r,((y,v)=>{const T=Sp(e,y,n);v=Yt(v);const S=l.yc(T);if(v instanceof Bh)c.push(T);else{const x=yu(v,S);x!=null&&(c.push(T),d.set(T,x))}}));const p=new Pn(c);return new Vb(d,p,l.fieldTransforms)}function pI(s,e,n,r,l,c){const d=s.Cc(1,e,n),p=[Mm(e,r,n)],y=[l];if(c.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Mm(e,c[x])),y.push(c[x+1]);const v=[],T=An.empty();for(let x=p.length-1;x>=0;--x)if(!Ub(v,p[x])){const z=p[x];let F=y[x];F=Yt(F);const $=d.yc(z);if(F instanceof Bh)v.push(z);else{const ee=yu(F,$);ee!=null&&(v.push(z),T.set(z,ee))}}const S=new Pn(v);return new Vb(T,S,d.fieldTransforms)}function gI(s,e,n,r=!1){return yu(n,s.Cc(r?4:3,e))}function yu(s,e){if(Pb(s=Yt(s)))return wp("Unsupported field value:",e,s),Lb(s,e);if(s instanceof bp)return(function(r,l){if(!jb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=yu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ex(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=mt.fromDate(r);return{timestampValue:dh(l.serializer,c)}}if(r instanceof mt){const c=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(l.serializer,c)}}if(r instanceof ji)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:sb(l.serializer,r._byteString)};if(r instanceof Bt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ap(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Li)return(function(d,p){return{mapValue:{fields:{[O1]:{stringValue:M1},[uh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return np(p.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Rh(r)}`)})(s,e)}function Lb(s,e){const n={};return R1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(s,((r,l)=>{const c=yu(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function Pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof ji||s instanceof Wn||s instanceof Bt||s instanceof bp||s instanceof Li)}function wp(s,e,n){if(!Pb(n)||!A1(n)){const r=Rh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Mm(s,e,n){if((e=Yt(e))instanceof zh)return e._internalPath;if(typeof e=="string")return Sp(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,n)}const yI=new RegExp("[~\\*/\\[\\]]");function Sp(s,e,n){if(e.search(yI)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new zh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function yh(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new fe(J.INVALID_ARGUMENT,p+s+y)}function Ub(s,e){return s.some((n=>n.isEqual(e)))}class zb{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ap("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _I extends zb{data(){return super.data()}}function Ap(s,e){return typeof e=="string"?Sp(s,e):e instanceof zh?e._internalPath:e._delegate._internalPath}function vI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Bb extends xp{}function rm(s,e,...n){let r=[];e instanceof xp&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((y=>y instanceof Ip)).length,p=c.filter((y=>y instanceof Rp)).length;if(d>1||d>0&&p>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Rp extends Bb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rp(e,n,r)}_apply(e){const n=this._parse(e);return qb(e._query,n),new ga(e.firestore,e.converter,wm(e._query,n))}_parse(e){const n=Tp(e.firestore);return(function(c,d,p,y,v,T,S){let x;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Rv(S,T);const F=[];for(const $ of S)F.push(xv(y,c,$));x={arrayValue:{values:F}}}else x=xv(y,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Rv(S,T),x=gI(p,d,S,T==="in"||T==="not-in");return Ut.create(v,T,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ip extends xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ip(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)qb(d,y),d=wm(d,y)})(e._query,n),new ga(e.firestore,e.converter,wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cp extends Bb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cp(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(c,d)})(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Mo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function am(s,e="asc"){const n=e,r=Ap("orderBy",s);return Cp._create(r,n)}function xv(s,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q1(e)&&n.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!be.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B_(s,new be(r))}if(n instanceof Bt)return B_(s,n._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(n)}.`)}function Rv(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bI{convertValue(e,n="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[uh].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new Li(n)}convertGeoPoint(e){return new ji(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=gr(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);We(cb(r),9688,{name:e});const l=new tu(r.get(1),r.get(3)),c=new be(r.popFirst(5));return l.isEqual(n)||ms(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function EI(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends zb{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ap("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:zt("string",aa._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class th extends aa{data(e={}){return super.data(e)}}class go{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Hl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Hl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Hl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:TI(p.type),doc:y,oldIndex:v,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:zt("string",go._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Hb extends bI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function Qc(s,e,n,...r){s=fr(s,Bt);const l=fr(s.firestore,Ro),c=Tp(l);let d;return d=typeof(e=Yt(e))=="string"||e instanceof zh?pI(c,"updateDoc",s._key,e,n,r):mI(c,"updateDoc",s._key,e),Np(l,[d.toMutation(s._key,hi.exists(!0))])}function Iv(s){return Np(fr(s.firestore,Ro),[new ip(s._key,hi.none())])}function Ll(s,e){const n=fr(s.firestore,Ro),r=ia(s),l=EI(s.converter,e);return Np(n,[dI(Tp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then((()=>r))}function om(s,...e){s=Yt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Av(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Av(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Bt)d=fr(s.firestore,Ro),p=tp(s._key.path),c={next:y=>{e[r]&&e[r](wI(d,s,y))},error:e[r+1],complete:e[r+2]};else{const y=fr(s,ga);d=fr(y.firestore,Ro),p=y._query;const v=new Hb(d);c={next:T=>{e[r]&&e[r](new go(d,v,y,T))},error:e[r+1],complete:e[r+2]},vI(s._query)}return(function(v,T,S,x){const z=new iI(x),F=new PR(T,z,S);return v.asyncQueue.enqueueAndForget((async()=>MR(await _v(v),F))),()=>{z.Nu(),v.asyncQueue.enqueueAndForget((async()=>VR(await _v(v),F)))}})(Mb(d),p,l,c)}function Np(s,e){return(function(r,l){const c=new ra;return r.asyncQueue.enqueueAndForget((async()=>KR(await aI(r),l,c))),c.promise})(Mb(s),e)}function wI(s,e,n){const r=n.docs.get(e._key),l=new Hb(s);return new aa(s,l,e._key,r,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Do=l})(No),bo(new ua("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Ro(new fA(r.getProvider("auth-internal")),new pA(d,r.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(v.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),cr(I_,C_,e),cr(I_,C_,"esm2020")})();function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SI=Fb,Gb=new cu("auth","Firebase",Fb());const _h=new Fm("@firebase/auth");function AI(s,...e){_h.logLevel<=qe.WARN&&_h.warn(`Auth (${No}): ${s}`,...e)}function nh(s,...e){_h.logLevel<=qe.ERROR&&_h.error(`Auth (${No}): ${s}`,...e)}function di(s,...e){throw Dp(s,...e)}function Pi(s,...e){return Dp(s,...e)}function Yb(s,e,n){const r={...SI(),[e]:n};return new cu("auth","Firebase",r).create(e,{appName:s.name})}function mr(s){return Yb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Gb.create(s,...e)}function we(s,e,...n){if(!s)throw Dp(e,...n)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw nh(e),new Error(e)}function gs(s,e){s||hs(e)}function Vm(){return typeof self<"u"&&self.location?.href||""}function xI(){return Cv()==="http:"||Cv()==="https:"}function Cv(){return typeof self<"u"&&self.location?.protocol||null}function RI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xI()||z2()||"connection"in navigator)?navigator.onLine:!0}function II(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=L2()||B2()}get(){return RI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kp(s,e){gs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Qb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DI=new _u(3e4,6e4);function ya(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Sr(s,e,n,r,l={}){return Kb(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=hu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:y,...c};return U2()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Co(s.emulatorConfig.host)&&(v.credentials="include"),Qb.fetch()(await Xb(s,s.config.apiHost,n,p),v)})}async function Kb(s,e,n){s._canInitEmulator=!1;const r={...CI,...e};try{const l=new OI(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Kc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Kc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Yb(s,T,v);di(s,T)}}catch(l){if(l instanceof ys)throw l;di(s,"network-request-failed",{message:String(l)})}}async function qh(s,e,n,r,l={}){const c=await Sr(s,e,n,r,l);return"mfaPendingCredential"in c&&di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Xb(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?kp(s.config,l):`${s.config.apiScheme}://${l}`;return NI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function kI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),DI.get())})}}function Kc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Pi(s,e,r);return l.customData._tokenResponse=n,l}function Nv(s){return s!==void 0&&s.enterprise!==void 0}class MI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(s,e){return Sr(s,"GET","/v2/recaptchaConfig",ya(s,e))}async function jI(s,e){return Sr(s,"POST","/v1/accounts:delete",e)}async function vh(s,e){return Sr(s,"POST","/v1/accounts:lookup",e)}function $l(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LI(s,e=!1){const n=Yt(s),r=await n.getIdToken(e),l=Op(r);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:$l(lm(l.auth_time)),issuedAtTime:$l(lm(l.iat)),expirationTime:$l(lm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(s){return Number(s)*1e3}function Op(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const l=r1(n);return l?JSON.parse(l):(nh("Failed to decode base64 JWT payload"),null)}catch(l){return nh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Dv(s){const e=Op(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function au(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&PI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function PI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class UI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(s){const e=s.auth,n=await s.getIdToken(),r=await au(s,vh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?$b(l.providerUserInfo):[],d=BI(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,v=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function zI(s){const e=Yt(s);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function $b(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qI(s,e){const n=await Kb(s,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Xb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&Co(s.emulatorConfig.host)&&(y.credentials="include"),Qb.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HI(s,e){return Sr(s,"POST","/v2/accounts:revokeToken",ya(s,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=Dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await qI(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new yo;return r&&(we(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return hs("not implemented")}}function nr(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new UI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LI(this,e)}reload(){return zI(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await au(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,v=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:z,providerData:F,stsTokenManager:$}=n;we(S&&$,e,"internal-error");const ee=yo.fromJSON(this.name,$);we(typeof S=="string",e,"internal-error"),nr(r,e.name),nr(l,e.name),we(typeof x=="boolean",e,"internal-error"),we(typeof z=="boolean",e,"internal-error"),nr(c,e.name),nr(d,e.name),nr(p,e.name),nr(y,e.name),nr(v,e.name),nr(T,e.name);const se=new ci({uid:S,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:z,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:ee,createdAt:v,lastLoginAt:T});return F&&Array.isArray(F)&&(se.providerData=F.map(oe=>({...oe}))),y&&(se._redirectEventId=y),se}static async _fromIdTokenResponse(e,n,r=!1){const l=new yo;l.updateFromServerResponse(n);const c=new ci({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await bh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$b(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new yo;p.updateFromIdToken(r);const y=new ci({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new jm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const kv=new Map;function fs(s){gs(s instanceof Function,"Expected a class definition");let e=kv.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,kv.set(s,e),e)}class Zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zb.type="NONE";const Ov=Zb;function ih(s,e,n){return`firebase:${s}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=ih(this.userKey,l.apiKey,c),this.fullPersistenceKey=ih("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(fs(Ov),e,r);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||fs(Ov);const d=ih(r,e.config.apiKey,e.name);let p=null;for(const v of n)try{const T=await v._get(d);if(T){let S;if(typeof T=="string"){const x=await vh(e,{idToken:T}).catch(()=>{});if(!x)break;S=await ci._fromGetAccountInfoResponse(e,x,T)}else S=ci._fromJSON(e,T);v!==c&&(p=S),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new _o(c,e,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new _o(c,e,r))}}function Mv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iE(e))return"Blackberry";if(sE(e))return"Webos";if(Wb(e))return"Safari";if((e.includes("chrome/")||eE(e))&&!e.includes("edge/"))return"Chrome";if(nE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function Jb(s=dn()){return/firefox\//i.test(s)}function Wb(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eE(s=dn()){return/crios\//i.test(s)}function tE(s=dn()){return/iemobile/i.test(s)}function nE(s=dn()){return/android/i.test(s)}function iE(s=dn()){return/blackberry/i.test(s)}function sE(s=dn()){return/webos/i.test(s)}function Mp(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function FI(s=dn()){return Mp(s)&&!!window.navigator?.standalone}function GI(){return q2()&&document.documentMode===10}function rE(s=dn()){return Mp(s)||nE(s)||sE(s)||iE(s)||/windows phone/i.test(s)||tE(s)}function aE(s,e=[]){let n;switch(s){case"Browser":n=Mv(dn());break;case"Worker":n=`${Mv(dn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}class YI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QI(s,e={}){return Sr(s,"GET","/v2/passwordPolicy",ya(s,e))}const KI=6;class XI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $I{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=II()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(mr(this));const n=e?Yt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),n=new XI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await HI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fs(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jo(s){return Yt(s)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$2(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(s){Hh=s}function oE(s){return Hh.loadJS(s)}function JI(){return Hh.recaptchaEnterpriseScript}function WI(){return Hh.gapiScript}function eC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new nC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iC="recaptcha-enterprise",lE="NO_RECAPTCHA";class sC{constructor(e){this.type=iC,this.auth=jo(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{VI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new MI(y);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;Nv(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(lE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&Nv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=JI();y.length!==0&&(y+=p),oE(y).then(()=>{l(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function jv(s,e,n,r=!1,l=!1){const c=new sC(s);let d;if(l)d=lE;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Lv(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await jv(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await jv(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function rC(s,e){const n=Ym(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(la(c,e??{}))return l;di(l,"already-initialized")}return n.initialize({options:e})}function aC(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function oC(s,e,n){const r=jo(s);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=uE(e),{host:d,port:p}=lC(e),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(la(v,r.config.emulator)&&la(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Co(d)?(u1(`${c}//${d}${y}`),c1("Auth",!0)):uC()}function uE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lC(s){const e=uE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Pv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Pv(d)}}}function Pv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function uC(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,n){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function cC(s,e){return Sr(s,"POST","/v1/accounts:signUp",e)}async function hC(s,e){return qh(s,"POST","/v1/accounts:signInWithPassword",ya(s,e))}async function fC(s,e){return qh(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}async function dC(s,e){return qh(s,"POST","/v1/accounts:signInWithEmailLink",ya(s,e))}class ou extends Vp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ou(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,n,"signInWithPassword",hC);case"emailLink":return fC(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,r,"signUpPassword",cC);case"emailLink":return dC(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vo(s,e){return qh(s,"POST","/v1/accounts:signInWithIdp",ya(s,e))}const mC="http://localhost";class fa extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new fa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function pC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(s){const e=Pl(Ul(s)).link,n=e?Pl(Ul(e)).deep_link_id:null,r=Pl(Ul(s)).deep_link_id;return(r?Pl(Ul(r)).link:null)||r||n||e||s}class jp{constructor(e){const n=Pl(Ul(e)),r=n.apiKey??null,l=n.oobCode??null,c=pC(n.mode??null);we(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gC(e);try{return new jp(n)}catch{return null}}}class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jp.parseLink(n);return we(r,"argument-error"),ou._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vu extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends vu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends vu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends vu{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await ci._fromIdTokenResponse(e,r,l),d=Uv(r);return new Io({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=Uv(r);return new Io({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function Uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Eh extends ys{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Eh(e,n,r,l)}}function hE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(s,c,e,r):c})}async function yC(s,e,n=!1){const r=await au(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Io._forOperation(s,"link",r)}async function _C(s,e,n=!1){const{auth:r}=s;if(ui(r.app))return Promise.reject(mr(r));const l="reauthenticate";try{const c=await au(s,hE(r,l,e,s),n);we(c.idToken,r,"internal-error");const d=Op(c.idToken);we(d,r,"internal-error");const{sub:p}=d;return we(s.uid===p,r,"user-mismatch"),Io._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(r,"user-mismatch"),c}}async function fE(s,e,n=!1){if(ui(s.app))return Promise.reject(mr(s));const r="signIn",l=await hE(s,r,e),c=await Io._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function vC(s,e){return fE(jo(s),e)}async function bC(s){const e=jo(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EC(s,e,n){return ui(s.app)?Promise.reject(mr(s)):vC(Yt(s),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bC(s),r})}function TC(s,e,n,r){return Yt(s).onIdTokenChanged(e,n,r)}function wC(s,e,n){return Yt(s).beforeAuthStateChanged(e,n)}function SC(s,e,n,r){return Yt(s).onAuthStateChanged(e,n,r)}function AC(s){return Yt(s).signOut()}const Th="__sak";class dE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xC=1e3,RC=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);GI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,RC):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mE.type="LOCAL";const IC=mE;class pE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pE.type="SESSION";const gE=pE;function CC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Fh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async v=>v(n.origin,c)),y=await CC(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];function Lp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class NC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=Lp("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function DC(s){Ui().location.href=s}function yE(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function kC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OC(){return navigator?.serviceWorker?.controller||null}function MC(){return yE()?self:null}const _E="firebaseLocalStorageDb",VC=1,wh="firebaseLocalStorage",vE="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(s,e){return s.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function jC(){const s=indexedDB.deleteDatabase(_E);return new bu(s).toPromise()}function Lm(){const s=indexedDB.open(_E,VC);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(wh,{keyPath:vE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await jC(),e(await Lm()))})})}async function zv(s,e,n){const r=Gh(s,!0).put({[vE]:e,value:n});return new bu(r).toPromise()}async function LC(s,e){const n=Gh(s,!1).get(e),r=await new bu(n).toPromise();return r===void 0?null:r.value}function Bv(s,e){const n=Gh(s,!0).delete(e);return new bu(n).toPromise()}const PC=800,UC=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await zv(e,Th,"1"),await Bv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Gh(l,!1).getAll();return new bu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const zC=bE;new _u(3e4,6e4);function BC(s,e){return e?fs(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Pp extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qC(s){return fE(s.auth,new Pp(s),s.bypassAuthState)}function HC(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),_C(n,new Pp(s),s.bypassAuthState)}async function FC(s){const{auth:e,user:n}=s;return we(n,e,"internal-error"),yC(n,new Pp(s),s.bypassAuthState)}class EE{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qC;case"linkViaPopup":case"linkViaRedirect":return FC;case"reauthViaPopup":case"reauthViaRedirect":return HC;default:di(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GC=new _u(2e3,1e4);class mo extends EE{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GC.get())};e()}}mo.currentPopupAction=null;const YC="pendingRedirect",sh=new Map;class QC extends EE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const r=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(s,e){const n=ZC(e),r=$C(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function XC(s,e){sh.set(s._key(),e)}function $C(s){return fs(s._redirectPersistence)}function ZC(s){return ih(YC,s.config.apiKey,s.name)}async function JC(s,e,n=!1){if(ui(s.app))return Promise.reject(mr(s));const r=jo(s),l=BC(r,e),d=await new QC(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const WC=600*1e3;class eN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!TE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function TE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}async function nN(s,e={}){return Sr(s,"GET","/v1/projects",e)}const iN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function rN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nN(s);for(const n of e)try{if(aN(n))return}catch{}di(s,"unauthorized-domain")}function aN(s){const e=Vm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!sN.test(n))return!1;if(iN.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const oN=new _u(3e4,6e4);function Hv(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function lN(s){return new Promise((e,n)=>{function r(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),n(Pi(s,"network-request-failed"))},timeout:oN.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const l=eC("iframefcb");return Ui()[l]=()=>{gapi.load?r():n(Pi(s,"network-request-failed"))},oE(`${WI()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw rh=null,e})}let rh=null;function uN(s){return rh=rh||lN(s),rh}const cN=new _u(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",dN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pN(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?kp(e,fN):`https://${s.config.authDomain}/${hN}`,r={apiKey:e.apiKey,appName:s.name,v:No},l=mN.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${hu(r).slice(1)}`}async function gN(s){const e=await uN(s),n=Ui().gapi;return we(n,s,"internal-error"),e.open({where:document.body,url:pN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dN,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Pi(s,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},cN.get());function y(){Ui().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const yN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,vN=600,bN="_blank",EN="http://localhost";class Fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(s,e,n,r=_N,l=vN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...yN,width:r.toString(),height:l.toString(),top:c,left:d},v=dn().toLowerCase();n&&(p=eE(v)?bN:n),Jb(v)&&(e=e||EN,y.scrollbars="yes");const T=Object.entries(y).reduce((x,[z,F])=>`${x}${z}=${F},`,"");if(FI(v)&&p!=="_self")return wN(e||"",p),new Fv(null);const S=window.open(e||"",p,T);we(S,s,"popup-blocked");try{S.focus()}catch{}return new Fv(S)}function wN(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const SN="__/auth/handler",AN="emulator/auth/handler",xN=encodeURIComponent("fac");async function Gv(s,e,n,r,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:No,eventId:l};if(e instanceof cE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",X2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof vu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),v=y?`#${xN}=${encodeURIComponent(y)}`:"";return`${RN(s)}?${hu(p).slice(1)}${v}`}function RN({config:s}){return s.emulator?kp(s,AN):`https://${s.authDomain}/${SN}`}const um="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=JC,this._overrideRedirectResult=XC}async _openPopup(e,n,r,l){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Gv(e,n,r,Vm(),l);return TN(e,c,Lp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await Gv(e,n,r,Vm(),l);return DC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(gs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gN(e),r=new eN(e);return n.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},l=>{const c=l?.[0]?.[um];c!==void 0&&n(!!c),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rE()||Wb()||Mp()}}const CN=IN;var Yv="@firebase/auth",Qv="1.11.1";class NN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kN(s){bo(new ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(s)},v=new $I(r,l,c,y);return aC(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new ua("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(r=>new NN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(Yv,Qv,DN(s)),cr(Yv,Qv,"esm2020")}const ON=300,MN=l1("authIdTokenMaxAge")||ON;let Kv=null;const VN=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MN)return;const l=n?.token;Kv!==l&&(Kv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function jN(s=Qm()){const e=Ym(s,"auth");if(e.isInitialized())return e.getImmediate();const n=rC(s,{popupRedirectResolver:CN,persistence:[zC,IC,gE]}),r=l1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=VN(c.toString());wC(n,d,()=>d(n.currentUser)),TC(n,p=>d(p))}}const l=a1("auth");return l&&oC(n,`http://${l}`),n}function LN(){return document.getElementsByTagName("head")?.[0]??document}ZI({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Pi("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",LN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kN("Browser");const Xv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Xc,Fl,dt;try{Xv.apiKey&&(ZS().length===0?Xc=d1(Xv):Xc=Qm(),Fl=jN(Xc),dt=lI(Xc))}catch(s){console.error("Firebase init error:",s)}const xn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",cm="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",PN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[]},Yh=s=>new Promise(e=>{const n=new FileReader;n.readAsDataURL(s),n.onload=r=>{const l=new Image;l.src=r.target.result,l.onload=()=>{const c=document.createElement("canvas"),d=800,p=d/l.width,y=l.width>d?d:l.width,v=l.width>d?l.height*p:l.height;c.width=y,c.height=v,c.getContext("2d").drawImage(l,0,0,y,v),e(c.toDataURL("image/jpeg",.7))}}}),UN=({image:s,onClose:e})=>s?g.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),g.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-[90vh] bg-transparent flex items-center justify-center",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-3 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40 text-white shadow-lg",children:g.jsx(Er,{size:24})}),g.jsx("img",{src:s,alt:"Full View",className:"object-contain w-full h-full rounded-2xl shadow-2xl",onError:n=>{n.target.style.display="none",alert(""),e()}})]})]}):null,$v=({message:s,type:e,onClose:n})=>{he.useEffect(()=>{const c=setTimeout(n,3e3);return()=>clearTimeout(c)},[n]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?g.jsx(Aw,{size:18}):g.jsx(zm,{size:18});return g.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[g.jsx("div",{className:"shrink-0",children:l}),g.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},zN=({title:s,message:e,onConfirm:n,onCancel:r})=>g.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:r}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-xs transform transition-all scale-100 text-center`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100/80 text-red-500 rounded-2xl flex items-center justify-center mb-4 shadow-inner border border-white/50",children:g.jsx(_2,{size:32})}),g.jsx("h3",{className:"text-xl font-[900] text-gray-800 mb-2 drop-shadow-sm",children:s}),g.jsx("p",{className:"text-sm text-gray-600 font-bold mb-6 leading-relaxed opacity-80",children:e}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-2xl font-bold text-gray-600 bg-white/40 hover:bg-white/60 transition-all border border-white/50 active:scale-95",children:""}),g.jsxs("button",{onClick:n,className:"flex-1 py-3 rounded-2xl font-bold text-white bg-gradient-to-r from-red-500 to-red-600 shadow-lg shadow-red-500/30 hover:shadow-red-500/50 active:scale-95 transition-all flex items-center justify-center gap-2",children:[g.jsx(uu,{size:16})," "]})]})]})]}),Qh=({title:s,subtitle:e,showBack:n,leftAction:r,rightAction:l,setActiveTab:c,bgImage:d,themeColor:p,coverOffsetY:y=50,coverScale:v=1})=>{const T=n&&!r?g.jsx("button",{onClick:()=>c&&c("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700 shadow-sm border border-white/20 backdrop-blur-sm",children:g.jsx(yw,{size:20})}):null;return g.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[g.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[d?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-full h-full overflow-hidden relative",children:g.jsx("img",{src:d,className:"w-full h-full object-cover opacity-100 transition-transform duration-700",style:{objectPosition:`center ${y}%`,transform:`scale(${v})`},alt:"",onError:S=>S.target.style.display="none"},d)}),g.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),g.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[r||T,g.jsxs("div",{className:"drop-shadow-sm",children:[g.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&g.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),g.jsx("div",{className:"scale-90 origin-right",children:l})]})]})},BN=({trip:s,onClose:e,onSave:n,onPreviewChange:r})=>{const[l,c]=he.useState({destination:s.destination||"",date:s.date||"",coverImage:s.coverImage||"",coverOffsetY:s.coverOffsetY!==void 0?s.coverOffsetY:50,coverScale:s.coverScale!==void 0?s.coverScale:1});he.useEffect(()=>{r&&r(l)},[l,r]);const[d,p]=he.useState(!1),y=he.useRef(null),v=he.useRef(null),T=he.useRef(!1),S=he.useRef(0),x=he.useRef(0),z=Y=>{const{name:ne,value:Ce}=Y.target;c(Ee=>({...Ee,[ne]:Ce}))},F=async Y=>{const ne=Y.target.files[0];if(ne){p(!0);try{const Ce=await Yh(ne);c(Ee=>({...Ee,coverImage:Ce,coverOffsetY:50,coverScale:1}))}catch(Ce){console.error("Image process error",Ce),alert("")}finally{p(!1)}}},$=()=>{n(s.id,l)},ee=Y=>{l.coverImage&&(T.current=!0,S.current=Y.clientY||Y.touches[0].clientY,x.current=l.coverOffsetY)},se=Y=>{if(!T.current)return;const ne=Y.clientY||Y.touches&&Y.touches[0].clientY;if(!ne)return;const Ce=S.current-ne,Ee=160,N=1.5*l.coverScale,A=Ce/Ee*100/N;let I=x.current+A;I=Math.max(0,Math.min(100,I)),c(M=>({...M,coverOffsetY:I}))},oe=()=>{T.current=!1};return he.useEffect(()=>(window.addEventListener("mouseup",oe),window.addEventListener("touchend",oe),()=>{window.removeEventListener("mouseup",oe),window.removeEventListener("touchend",oe)}),[]),g.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Er,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-4 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Wv,{size:18})}),g.jsx("input",{name:"destination",value:l.destination,onChange:z,className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Um,{size:18})}),g.jsx("input",{name:"date",value:l.date,onChange:z,placeholder:"YYYY/MM/DD",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsxs("button",{onClick:()=>y.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-md",children:[d?g.jsx(da,{className:"animate-spin",size:14}):g.jsx(t1,{size:14}),""]}),g.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:F})]}),g.jsxs("div",{className:"relative mb-3",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Sh,{size:14})}),g.jsx("input",{name:"coverImage",value:l.coverImage,onChange:z,placeholder:"...",className:"w-full bg-white/40 border border-white/50 rounded-xl py-2 pl-10 pr-4 text-gray-600 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]}),l.coverImage&&g.jsxs("div",{className:"mt-1",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1",children:[g.jsxs("div",{className:"text-[10px] text-gray-500 mb-1 ml-1 flex items-center gap-1",children:[g.jsx(Ww,{size:10})," "]}),g.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[g.jsx(n1,{size:10})," : ",l.coverScale,"x"]})]}),g.jsxs("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:ee,onMouseMove:se,onTouchStart:ee,onTouchMove:se,children:[g.jsx("img",{ref:v,src:l.coverImage,alt:"Preview",className:"w-full h-full object-cover pointer-events-none select-none origin-center",style:{objectPosition:`center ${l.coverOffsetY}%`,transform:`scale(${l.coverScale})`},onError:Y=>Y.target.style.opacity=.3},l.coverImage),g.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 pointer-events-none",children:g.jsx("div",{className:"bg-black/50 text-white text-[10px] px-2 py-1 rounded-full backdrop-blur-sm",children:""})})]}),g.jsxs("div",{className:"mt-3 flex items-center gap-3 px-1",children:[g.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"1x"}),g.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:l.coverScale,onChange:Y=>c(ne=>({...ne,coverScale:parseFloat(Y.target.value)})),className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"}),g.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"3x"})]})]})]}),g.jsxs("button",{onClick:$,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all mt-4",children:[g.jsx(a2,{size:18})," "]})]})]})]})},qN=({trips:s,activeTripId:e,onSelectTrip:n,onDeleteTrip:r,onExportTrip:l,onEditTrip:c,onOpenImport:d,onClose:p,userEmail:y,onLogout:v})=>g.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:p}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:p,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Er,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),g.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:y})]}),g.jsxs("button",{onClick:v,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[g.jsx(Yw,{size:12})," "]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&g.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(T=>g.jsxs("div",{onClick:()=>n(T.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===T.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[g.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${T.coverImage?"":`bg-gradient-to-br ${T.themeColor||"from-gray-300 to-gray-400"}`}`,children:T.coverImage?g.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${T.coverOffsetY||50}%`,transform:`scale(${T.coverScale||1})`},alt:""}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:g.jsx(Bm,{size:20})})}),g.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[g.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:T.destination||""}),g.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[g.jsx(Um,{size:12,className:"mr-1"}),T.date||"--/--"]})]}),g.jsxs("div",{className:"flex items-center gap-1 z-20",children:[g.jsx("button",{onClick:S=>{S.stopPropagation(),c(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:"",children:g.jsx(qm,{size:18})}),g.jsx("button",{onClick:S=>{S.stopPropagation(),l(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:g.jsx(Ow,{size:18})}),g.jsx("button",{onClick:S=>{S.stopPropagation(),r(T.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:g.jsx(uu,{size:18})})]})]},T.id))]}),g.jsx("div",{className:"mt-auto relative z-10",children:g.jsxs("button",{onClick:d,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[g.jsx(Rw,{size:20})," /"]})})]})]}),HN=({onClose:s,onImport:e,isLoading:n})=>{const[r,l]=he.useState("json"),[c,d]=he.useState(""),p=()=>{e(c,r)};return g.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Er,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[g.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),g.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),g.jsxs("div",{className:"space-y-4 relative z-10",children:[g.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?g.jsx("textarea",{value:c,onChange:y=>d(y.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):g.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),g.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),g.jsx("button",{onClick:p,disabled:!c.trim()||n,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!c.trim()||n?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:n?g.jsxs(g.Fragment,{children:[g.jsx(da,{className:"animate-spin",size:16})," ..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Cw,{size:16})," "]})})]})]})]})},FN=({flights:s,onClose:e})=>g.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Er,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?g.jsx("div",{className:"space-y-4",children:s.map((n,r)=>g.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${n.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[g.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:g.jsx(hm,{size:100,className:n.color==="indigo"?"text-indigo-600":"text-pink-600"})}),g.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[g.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${n.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:n.type}),g.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:n.code})]}),g.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:n.fromCity}),g.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:n.fromCode}),g.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:n.fromTime})]}),g.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[g.jsx("span",{className:"text-[10px] font-medium mb-1",children:n.duration}),g.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:g.jsx(hm,{size:14,className:`absolute ${n.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:n.toCity}),g.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:n.toCode}),g.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[n.toTime,n.nextDay&&g.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):g.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[g.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),g.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),GN=({onClose:s,onAdd:e})=>{const[n,r]=he.useState(""),[l,c]=he.useState(""),[d,p]=he.useState(""),[y,v]=he.useState(""),[T,S]=he.useState(""),[x,z]=he.useState(!1),F=he.useRef(null),$=async ne=>{const Ce=ne.target.files[0];if(Ce){z(!0);try{const Ee=await Yh(Ce);S(Ee)}catch(Ee){console.error("Image process error",Ee),alert("")}finally{z(!1)}}},ee=()=>{n.trim()&&e(n,l,d,y,T)},se="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",oe="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",Y=16;return g.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Er,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-3 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:se,children:" *"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-500",children:g.jsx(lu,{size:Y})}),g.jsx("input",{type:"text",value:n,onChange:ne=>r(ne.target.value),placeholder:"",className:oe,autoFocus:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:se,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:g.jsx(Hm,{size:Y})}),g.jsx("input",{type:"text",value:l,onChange:ne=>c(ne.target.value),placeholder:"",className:oe})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:se,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:g.jsx(Sh,{size:Y})}),g.jsx("input",{type:"url",value:y,onChange:ne=>v(ne.target.value),placeholder:" (e.g., PChome, Amazon)",className:oe})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:se,children:" ()"}),g.jsx("input",{type:"file",ref:F,className:"hidden",accept:"image/*",onChange:$}),g.jsx("div",{className:"relative",children:g.jsxs("button",{onClick:()=>F.current?.click(),disabled:x,className:"w-full py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[x?g.jsx(da,{className:"animate-spin",size:Y}):g.jsx(Bm,{size:Y}),T?" ()":""]})})]}),g.jsxs("div",{children:[g.jsx("label",{className:se,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-pink-400",children:g.jsx(e1,{size:Y})}),g.jsx("input",{type:"text",value:d,onChange:ne=>p(ne.target.value),placeholder:"",className:oe})]})]}),g.jsxs("button",{onClick:ee,disabled:!n.trim()||x,className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!n.trim()||x?"bg-gray-400/50 cursor-not-allowed":"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50"}`,children:[g.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},YN=({onClose:s,onAdd:e})=>{const[n,r]=he.useState(""),[l,c]=he.useState(""),[d,p]=he.useState(""),[y,v]=he.useState(""),[T,S]=he.useState(!1),x=he.useRef(null),z=async oe=>{const Y=oe.target.files[0];if(Y){S(!0);try{const ne=await Yh(Y);v(ne)}catch(ne){console.error("Image process error",ne),alert("")}finally{S(!1)}}},F=()=>{n.trim()&&e(n,l,d,y)},$="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",ee="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",se=16;return g.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsx("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),g.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Er,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-3 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:$,children:" *"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-500",children:g.jsx(oa,{size:se})}),g.jsx("input",{type:"text",value:n,onChange:oe=>r(oe.target.value),placeholder:"",className:ee,autoFocus:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:$,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-400",children:g.jsx(Sh,{size:se})}),g.jsx("input",{type:"url",value:d,onChange:oe=>p(oe.target.value),placeholder:" (e.g., )",className:ee})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:$,children:" ()"}),g.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/*",onChange:z}),g.jsx("div",{className:"relative",children:g.jsxs("button",{onClick:()=>x.current?.click(),disabled:T,className:"w-full py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[T?g.jsx(da,{className:"animate-spin",size:se}):g.jsx(Bm,{size:se}),y?" ()":""]})})]}),g.jsxs("div",{children:[g.jsx("label",{className:$,children:""}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(oe=>g.jsx("button",{onClick:()=>c(oe),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===oe?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:oe},oe))})]}),g.jsxs("div",{children:[g.jsx("label",{className:$,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-blue-400",children:g.jsx(Hm,{size:se})}),g.jsx("input",{type:"text",value:l,onChange:oe=>c(oe.target.value),placeholder:"",className:ee})]})]}),g.jsxs("button",{onClick:F,disabled:!n.trim()||T,className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!n.trim()||T?"bg-gray-400/50 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50"}`,children:[g.jsx(Ah,{size:20,strokeWidth:3}),""]})]})]})]})},QN=({editingState:s,onClose:e,onSave:n,onImageView:r})=>{const{type:l,data:c}=s,[d,p]=he.useState(c),[y,v]=he.useState(!1),T=he.useRef(null),S=l==="shopping",x=S?"pink":"blue",z=S?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",F=S?"text-pink-500":"text-blue-500",$="block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 ml-1",ee="w-full bg-white/40 border border-white/50 rounded-2xl py-2.5 pl-10 pr-3 text-sm text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-medium",se=16,oe=async ne=>{const Ce=ne.target.files[0];if(Ce){v(!0);try{const Ee=await Yh(Ce);p(N=>({...N,image:Ee}))}catch(Ee){console.error("Image process error",Ee),alert("")}finally{v(!1)}}},Y=()=>{n(d)};return g.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),g.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[g.jsxs("h2",{className:"text-xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:[" ",S?"":""]}),g.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:g.jsx(Er,{size:20,className:"text-gray-700"})})]}),g.jsxs("div",{className:"space-y-3 relative z-10",children:[g.jsxs("div",{children:[g.jsx("label",{className:$,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${F}`,children:S?g.jsx(lu,{size:se}):g.jsx(oa,{size:se})}),g.jsx("input",{type:"text",value:d.item,onChange:ne=>p({...d,item:ne.target.value}),className:ee.replace("focus:ring-pink",`focus:ring-${x}`),autoFocus:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:$,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${F}`,children:g.jsx(Hm,{size:se})}),g.jsx("input",{type:"text",value:d.category||"",onChange:ne=>p({...d,category:ne.target.value}),placeholder:"",className:ee.replace("focus:ring-pink",`focus:ring-${x}`)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:$,children:" ()"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${F}`,children:g.jsx(Sh,{size:se})}),g.jsx("input",{type:"url",value:d.link||"",onChange:ne=>p({...d,link:ne.target.value}),placeholder:"/",className:ee.replace("focus:ring-pink",`focus:ring-${x}`)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:$,children:" ()"}),g.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",onChange:oe}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>T.current?.click(),disabled:y,className:"flex-1 py-2.5 bg-white/60 text-gray-700 rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-white/80",children:[y?g.jsx(da,{className:"animate-spin",size:se}):g.jsx(t1,{size:se}),d.image?"":""]}),d.image&&g.jsxs("button",{onClick:()=>r(d.image),className:"w-1/3 py-2.5 bg-blue-500/60 text-white rounded-2xl text-sm font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-blue-600/70",title:"",children:[g.jsx(n1,{size:se})," "]}),d.image&&g.jsx("button",{onClick:()=>p(ne=>({...ne,image:""})),className:"w-1/5 py-2.5 bg-red-500/60 text-white rounded-2xl text-sm font-bold flex items-center justify-center active:scale-95 transition-transform shadow-inner border border-white/50 hover:bg-red-600/70",title:"",children:g.jsx(uu,{size:se})})]})]}),S&&g.jsxs("div",{children:[g.jsx("label",{className:$,children:""}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`absolute left-3 top-1/2 -translate-y-1/2 ${F}`,children:g.jsx(e1,{size:se})}),g.jsx("input",{type:"text",value:d.note||"",onChange:ne=>p({...d,note:ne.target.value}),placeholder:"",className:ee.replace("focus:ring-pink",`focus:ring-${x}`)})]})]}),g.jsxs("button",{onClick:Y,disabled:!d.item.trim()||y,className:`w-full py-3 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${!d.item.trim()||y?"bg-gray-400/50 cursor-not-allowed":`${z} shadow-${x}-500/30 hover:shadow-${x}-500/50`}`,children:[g.jsx(oa,{size:20,strokeWidth:3}),""]})]})]})]})},KN=({onLogin:s,isLoading:e})=>{const[n,r]=he.useState(""),[l,c]=he.useState(""),d=()=>{!n||!l||s(n,l)};return g.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),g.jsxs("div",{className:`relative ${xn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:g.jsx(E2,{size:40})}),g.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),g.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),g.jsxs("div",{className:"w-full space-y-4 mb-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Kw,{size:18})}),g.jsx("input",{type:"email",value:n,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:g.jsx(Fw,{size:18})}),g.jsx("input",{type:"password",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),g.jsx("button",{onClick:d,disabled:e||!n||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!n||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?g.jsx(da,{className:"animate-spin"}):""}),g.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:g.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[g.jsx(Uw,{size:10})," "]})})]})]})},XN=({trips:s,currentTrip:e,calculateDaysLeft:n,setActiveTab:r,setShowFlightModal:l,openEditModal:c,setShowTripListModal:d,onEditCurrentTrip:p,onScroll:y,previewTrip:v,shoppingItems:T,packingItems:S})=>{const x=v||e;return g.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:y,children:[g.jsx(Qh,{title:"",subtitle:"20251203 v1",showBack:!1,leftAction:g.jsx("button",{onClick:()=>d(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:g.jsx(qw,{size:24,strokeWidth:2.5})}),rightAction:e?g.jsx("button",{onClick:p,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:g.jsx(l2,{size:22,strokeWidth:2.5})}):null,setActiveTab:r,bgImage:x?.coverImage,themeColor:x?.themeColor,coverOffsetY:x?.coverOffsetY,coverScale:x?.coverScale}),g.jsxs("div",{className:"px-6 mt-4",children:[!x||!x.date||x.date==="----/--/--"?g.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[g.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),g.jsxs("p",{className:"text-sm text-gray-500",children:["",g.jsx("br",{}),"  "]})]}):g.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${xn} rounded-[2.5rem] p-1 mb-6 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${cm} relative`,children:[g.jsxs("div",{className:"relative h-96 rounded-[2rem] overflow-hidden shadow-inner",children:[x.coverImage&&g.jsx("div",{className:"w-full h-full overflow-hidden relative",children:g.jsx("img",{src:x.coverImage,alt:x.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${x.coverOffsetY||50}%`,transform:`scale(${x.coverScale||1})`},onError:z=>z.target.style.opacity=.3},x.coverImage)}),g.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${x.themeColor||"from-gray-400 to-gray-600"} ${x.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),g.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:g.jsx("div",{className:"flex justify-between items-end",children:g.jsxs("div",{children:[g.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),g.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:x.destination||""}),g.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[g.jsx(Um,{size:14,className:"mr-2"}),x.date||"--/--"]})]})})})]}),g.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),g.jsxs("div",{className:"flex items-baseline",children:[g.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:n(x.date)}),g.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),g.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:g.jsx(ww,{size:28})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[g.jsxs("div",{onClick:()=>r("shopping"),className:`${xn} ${cm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)] flex items-center gap-4 h-24`,children:[g.jsx("div",{className:"bg-pink-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-pink-500 shadow-inner border border-white/50 shrink-0",children:g.jsx(lu,{size:24})}),g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),g.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[T.filter(z=>!z.checked).length," "]})]})]}),g.jsxs("div",{onClick:()=>r("packing"),className:`${xn} ${cm} p-4 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)] flex items-center gap-4 h-24`,children:[g.jsx("div",{className:"bg-blue-500/10 w-12 h-12 rounded-2xl flex items-center justify-center text-blue-500 shadow-inner border border-white/50 shrink-0",children:g.jsx(oa,{size:24})}),g.jsxs("div",{className:"overflow-hidden",children:[g.jsx("h3",{className:"font-bold text-gray-800 text-base truncate",children:""}),g.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 font-bold opacity-70 truncate",children:[S.filter(z=>!z.checked).length," "]})]})]})]})]})]})},$N=({currentTrip:s,setActiveTab:e,setShowFlightModal:n,getCurrentActivityId:r,activityRefs:l,onScroll:c})=>{const d=s&&s.days&&s.days.length>0?r(s):null,p=y=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(y)}`,"_blank")};return g.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:c,children:[g.jsx(Qh,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:g.jsx("button",{onClick:()=>n(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0-0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:g.jsx(hm,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),g.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&g.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((y,v)=>g.jsxs("div",{className:"relative pl-4",children:[v!==s.days.length-1&&g.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),g.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[g.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[g.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),g.jsx("span",{className:"text-xl font-black leading-none",children:y.day})]}),g.jsx("div",{children:g.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:y.title})})]}),g.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:y.activities.map((T,S)=>{const x=d===T.id;return g.jsxs("div",{ref:z=>l.current[T.id]=z,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${x?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[g.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${x?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${T.type==="transport"?"bg-purple-400":T.type==="food"?"bg-orange-400":T.type==="shopping"?"bg-pink-400":T.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:x&&g.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:T.time}),x&&g.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),g.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[T.type==="sightseeing"&&g.jsx(bw,{size:14,className:"text-gray-500"}),T.type==="food"&&g.jsx(Dw,{size:14,className:"text-gray-500"}),T.type==="transport"&&g.jsx(p2,{size:14,className:"text-gray-500"}),T.type==="shopping"&&g.jsx(lu,{size:14,className:"text-gray-500"}),T.type==="relax"&&g.jsx(f2,{size:14,className:"text-gray-500"})]})]}),g.jsxs("div",{className:"flex justify-between items-end gap-2",children:[g.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:T.title}),g.jsx("button",{onClick:z=>{z.stopPropagation(),p(T.title)},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0","aria-label":" Google Maps ",children:g.jsx(Wv,{size:18,strokeWidth:2.5})})]})]},S)})})]},v))]})]})},ZN=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:n,toggleShoppingItem:r,requestDeleteShopping:l,openEditModal:c,onScroll:d,shoppingItems:p,setImageViewerImage:y})=>{const[v,T]=he.useState(""),[S,x]=he.useState(!1),z=p||[],F=["",...new Set(z.map(Y=>Y.category||"").filter(Y=>Y))],$=[...z].filter(Y=>v===""?!0:(Y.category||"")===v).sort((Y,ne)=>S?(Y.category||"").localeCompare(ne.category||"","zh-Hant"):Y.checked!==ne.checked?Y.checked?1:-1:0),ee=z.filter(Y=>Y.checked).length,se=z.length,oe=Y=>{try{if(!Y)return null;const ne=new URL(Y);return ne.protocol==="http:"||ne.protocol==="https:"?Y:null}catch{return null}};return g.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[g.jsx(Qh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),g.jsxs("div",{className:"px-6 mt-4",children:[g.jsxs("div",{className:`${xn} rounded-[2.5rem] p-6 mb-6`,children:[g.jsxs("div",{className:"flex justify-between items-end mb-4",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),g.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[se>0?Math.round(ee/se*100):0,"%"]})]}),g.jsx("button",{onClick:()=>n(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:g.jsx(Ah,{size:24,strokeWidth:3})})]}),g.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:g.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${se>0?ee/se*100:0}%`}})})]}),g.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 sticky top-0 z-10 py-2 -mx-1",children:[g.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1 mr-2 pb-1 mask-linear-fade pr-4",onTouchStart:Y=>Y.stopPropagation(),onTouchMove:Y=>Y.stopPropagation(),children:F.map(Y=>g.jsx("button",{onClick:()=>T(Y),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${v===Y?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:Y},Y))}),g.jsx("button",{onClick:()=>x(!S),className:`p-2 rounded-xl transition-all shrink-0 border ${S?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40 hover:bg-white/80"}`,title:S?"":"",children:g.jsx(pw,{size:18})})]}),g.jsx("div",{className:"space-y-4 pb-4",children:$.length===0?g.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""}):$.map(Y=>g.jsxs("div",{className:`group flex p-4 rounded-[2rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${Y.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[g.jsx("div",{onClick:()=>r(Y.id),className:"flex items-center cursor-pointer shrink-0",children:Y.image?g.jsxs("div",{className:"w-12 h-12 rounded-xl overflow-hidden mr-3 relative shadow-md border border-white/50 cursor-zoom-in",onClick:ne=>{ne.stopPropagation(),y(Y.image)},children:[g.jsx("img",{src:Y.image,alt:Y.item,className:`w-full h-full object-cover transition-all ${Y.checked?"opacity-50":"opacity-100"}`,onError:ne=>{ne.target.style.display="none",ne.target.parentElement.classList.add("bg-gray-200")}}),g.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${Y.checked?"opacity-100 bg-pink-500/60 text-white":"opacity-0 group-hover:opacity-100 bg-black/10"}`,children:g.jsx(zm,{size:20,strokeWidth:3})})]}):g.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${Y.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:g.jsx(oa,{size:18,strokeWidth:3})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[Y.link?g.jsxs("a",{href:oe(Y.link),target:"_blank",rel:"noopener noreferrer",onClick:ne=>ne.stopPropagation(),className:`font-bold text-base transition-all tracking-tight hover:underline flex items-center gap-1 ${Y.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:[Y.item," ",g.jsx(Jv,{size:14,className:"text-pink-500/80 shrink-0"})]}):g.jsx("span",{onClick:()=>r(Y.id),className:`font-bold text-base transition-all tracking-tight cursor-pointer ${Y.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:Y.item}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[Y.category&&g.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:Y.category}),Y.note&&g.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:Y.note})]})]}),g.jsxs("div",{className:"flex items-center gap-1 z-20 shrink-0",children:[g.jsx("button",{onClick:ne=>{ne.stopPropagation(),c("shopping",Y)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(qm,{size:18})}),g.jsx("button",{onClick:ne=>{ne.stopPropagation(),l(Y.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(uu,{size:18})})]})]},Y.id))})]})]})},JN=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:n,togglePackingItem:r,requestDeletePacking:l,openEditModal:c,onScroll:d,packingItems:p,setImageViewerImage:y})=>{const v=p||[],T=v.filter(F=>F.checked).length,S=v.length,x=[...v].sort((F,$)=>F.checked!==$.checked?F.checked?1:-1:0),z=F=>{try{if(!F)return null;const $=new URL(F);return $.protocol==="http:"||$.protocol==="https:"?F:null}catch{return null}};return g.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onScroll:d,children:[g.jsx(Qh,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),g.jsxs("div",{className:"px-6 mt-4",children:[g.jsxs("div",{className:`${xn} rounded-[2.5rem] p-6 mb-8`,children:[g.jsxs("div",{className:"flex justify-between items-end mb-4",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),g.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[S>0?Math.round(T/S*100):0,"%"]})]}),g.jsx("button",{onClick:()=>n(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:g.jsx(Ah,{size:24,strokeWidth:3})})]}),g.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:g.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${S>0?T/S*100:0}%`}})})]}),g.jsx("div",{className:"space-y-4",children:x.map(F=>g.jsxs("div",{className:`group flex p-4 rounded-[2rem] border transition-all duration-300 backdrop-blur-md shadow-sm ${F.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[g.jsx("div",{onClick:()=>r(F.id),className:"flex items-center cursor-pointer shrink-0",children:F.image?g.jsxs("div",{className:"w-12 h-12 rounded-xl overflow-hidden mr-3 relative shadow-md border border-white/50 cursor-zoom-in",onClick:$=>{$.stopPropagation(),y(F.image)},children:[g.jsx("img",{src:F.image,alt:F.item,className:`w-full h-full object-cover transition-all ${F.checked?"opacity-50":"opacity-100"}`,onError:$=>{$.target.style.display="none",$.target.parentElement.classList.add("bg-gray-200")}}),g.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${F.checked?"opacity-100 bg-blue-500/60 text-white":"opacity-0 group-hover:opacity-100 bg-black/10"}`,children:g.jsx(zm,{size:20,strokeWidth:3})})]}):g.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 shrink-0 ${F.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:g.jsx(oa,{size:18,strokeWidth:3})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[F.link?g.jsxs("a",{href:z(F.link),target:"_blank",rel:"noopener noreferrer",onClick:$=>$.stopPropagation(),className:`font-bold text-base transition-all tracking-tight hover:underline flex items-center gap-1 ${F.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:[F.item," ",g.jsx(Jv,{size:14,className:"text-blue-500/80 shrink-0"})]}):g.jsx("span",{onClick:()=>r(F.id),className:`font-bold text-base transition-all tracking-tight cursor-pointer ${F.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:F.item}),g.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:F.category})]}),g.jsxs("div",{className:"flex gap-1 z-20 shrink-0",children:[g.jsx("button",{onClick:$=>{$.stopPropagation(),c("packing",F)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(qm,{size:18})}),g.jsx("button",{onClick:$=>{$.stopPropagation(),l(F.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",title:"",children:g.jsx(uu,{size:18})})]})]},F.id))})]})]})},WN=({activeTab:s,setActiveTab:e,isVisible:n})=>g.jsx("div",{className:`fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none transition-all duration-500 ease-in-out ${n?"translate-y-0 opacity-100":"translate-y-[160%] opacity-0"}`,children:g.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[g.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(jw,{size:24,strokeWidth:s==="home"?3:2})}),g.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(Zw,{size:24,strokeWidth:s==="itinerary"?3:2})}),g.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(lu,{size:24,strokeWidth:s==="shopping"?3:2})}),g.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:g.jsx(oa,{size:24,strokeWidth:s==="packing"?3:2})})]})});function e4(){const[s,e]=he.useState("home"),[n,r]=he.useState(null),[l,c]=he.useState(!1),[d,p]=he.useState(!0),y=he.useRef(0),[v,T]=he.useState([]),[S,x]=he.useState(null),[z,F]=he.useState([]),[$,ee]=he.useState([]),[se,oe]=he.useState(!1),[Y,ne]=he.useState(!1),[Ce,Ee]=he.useState(!1),[N,A]=he.useState(!1),[I,M]=he.useState(!1),[D,j]=he.useState(!1),[R,st]=he.useState(null),[bt,G]=he.useState(!1),[ae,ye]=he.useState(null),[Ge,Qe]=he.useState(null),[O,K]=he.useState(null),[re,le]=he.useState({show:!1,type:null,id:null,name:""}),[_e,Ae]=he.useState({show:!1,message:"",type:"success"}),je=he.useRef({}),Ne=(te,pe="success")=>{Ae({show:!0,message:te,type:pe})},et=te=>{const pe=te.currentTarget.scrollTop,ue=pe-y.current;Math.abs(ue)>10&&(ue>0?p(!1):p(!0),y.current=pe)};he.useEffect(()=>{p(!0)},[s]),he.useEffect(()=>{if(!Fl)return;const te=SC(Fl,pe=>{r(pe),pe&&Ne(` ${pe.email}`),c(!0)});return()=>te()},[]);const Bi=async(te,pe)=>{oe(!0);try{await EC(Fl,te,pe)}catch(ue){console.error(ue);let ce="";ue.code==="auth/invalid-credential"&&(ce=""),ue.code==="auth/user-not-found"&&(ce=""),ue.code==="auth/wrong-password"&&(ce=""),Ne(ce,"error")}finally{oe(!1)}},_s=async()=>{window.confirm("")&&(await AC(Fl),T([]),x(null),Ne(""))};he.useEffect(()=>{if(!n||!dt)return;const te=tr(dt,"users",n.uid,"trips"),pe=rm(te,am("date")),ue=om(pe,ce=>{const Le=ce.docs.map(De=>({id:De.id,...De.data()}));T(Le),Le.length>0?x(De=>De&&Le.find(Tt=>Tt.id===De)?De:Le[0].id):x(null)},ce=>{console.error("Firestore Error:",ce),Ne("","error")});return()=>ue()},[n]),he.useEffect(()=>{if(!n||!dt||!S){F([]);return}const te=tr(dt,"users",n.uid,"trips",S,"shoppingItems"),pe=rm(te,am("createdAt","asc")),ue=om(pe,ce=>{const Le=ce.docs.map(De=>({id:De.id,...De.data()}));F(Le)},ce=>{console.error("Shopping list read error:",ce)});return()=>ue()},[n,S]),he.useEffect(()=>{if(!n||!dt||!S){ee([]);return}const te=tr(dt,"users",n.uid,"trips",S,"packingItems"),pe=rm(te,am("createdAt","asc")),ue=om(pe,ce=>{const Le=ce.docs.map(De=>({id:De.id,...De.data()}));ee(Le)},ce=>{console.error("Packing list read error:",ce)});return()=>ue()},[n,S]);const Qt=v.find(te=>te.id===S)||null,vs=async te=>{if(!(!dt||!n))try{await Iv(ia(dt,"users",n.uid,"trips",te)),Ne("")}catch(pe){console.error("Delete failed",pe),Ne("","error")}},Un=te=>{if(te)try{const pe={...te,shoppingList:z,packingList:$},{id:ue,...ce}=pe,Le=JSON.stringify(ce,null,2),De=new Blob([Le],{type:"application/json"}),Tt=URL.createObjectURL(De),Jt=document.createElement("a");Jt.href=Tt;const ln=(te.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");Jt.download=`${ln}_export.json`,document.body.appendChild(Jt),Jt.click(),document.body.removeChild(Jt),URL.revokeObjectURL(Tt),Ne("")}catch(pe){console.error("Export failed",pe),Ne("","error")}},Ar=async(te,pe)=>{if(!dt||!n)return;oe(!0);const ue=new Promise(ce=>setTimeout(()=>ce("timeout"),8e3));try{let ce=[];if(pe==="url"){const Tt=await fetch(te);if(!Tt.ok)throw new Error("Network error");const Jt=await Tt.json();ce=Array.isArray(Jt)?Jt:[Jt]}else{const Tt=JSON.parse(te);ce=Array.isArray(Tt)?Tt:[Tt]}const Le=tr(dt,"users",n.uid,"trips"),De=Promise.all(ce.map(async Tt=>{const{id:Jt,shoppingList:ln=[],packingList:zn=[],...Fi}=Tt,Gi={...PN,...Fi},ws=await Ll(Le,Gi),Dr=tr(ws,"shoppingItems");await Promise.all(ln.map(In=>{const{id:Ta,...Ht}=In;return Ll(Dr,{...Ht,link:Ht.link||"",image:Ht.image||"",createdAt:new Date().toISOString()})}));const Yi=tr(ws,"packingItems");await Promise.all(zn.map(In=>{const{id:Ta,...Ht}=In;return Ll(Yi,{...Ht,link:Ht.link||"",image:Ht.image||"",createdAt:new Date().toISOString()})}))}));await Promise.race([De,ue]),M(!1),j(!1),Ne(` ${ce.length} `)}catch(ce){console.error("Import failed",ce),Ne("","error")}finally{oe(!1)}},mi=te=>{ye(te),K(te),G(!0)},xr=async(te,pe)=>{if(!(!dt||!n))try{const ue=ia(dt,"users",n.uid,"trips",te);await Qc(ue,pe),G(!1),ye(null),K(null),Ne("")}catch(ue){console.error("Save failed",ue),Ne("","error")}},Rr=async(te,pe,ue,ce)=>{if(!(!dt||!n||!S||!te.trim()))try{const Le=tr(dt,"users",n.uid,"trips",S,"packingItems");await Ll(Le,{item:te,checked:!1,category:pe||"",link:ue||"",image:ce||"",createdAt:new Date().toISOString()}),A(!1),Ne("")}catch(Le){console.error("Add packing item failed",Le),Ne("","error")}},Et=async te=>{if(!(!dt||!n||!S))try{const pe=ia(dt,"users",n.uid,"trips",S,"packingItems",te),ue=$.find(ce=>ce.id===te);ue&&await Qc(pe,{checked:!ue.checked})}catch(pe){console.error("Toggle packing item failed",pe),Ne("","error")}},At=async(te,pe,ue,ce,Le)=>{if(!(!dt||!n||!S||!te.trim()))try{const De=tr(dt,"users",n.uid,"trips",S,"shoppingItems");await Ll(De,{item:te,category:pe||"",note:ue,link:ce||"",image:Le||"",checked:!1,createdAt:new Date().toISOString()}),Ee(!1),Ne("")}catch(De){console.error("Add shopping item failed",De),Ne("","error")}},pi=async te=>{if(!(!dt||!n||!S))try{const pe=ia(dt,"users",n.uid,"trips",S,"shoppingItems",te),ue=z.find(ce=>ce.id===te);ue&&await Qc(pe,{checked:!ue.checked})}catch(pe){console.error("Toggle shopping item failed",pe),Ne("","error")}},_a=(te,pe)=>{let ue="";te==="shopping"?ue=z.find(ce=>ce.id===pe)?.item||ue:te==="packing"&&(ue=$.find(ce=>ce.id===pe)?.item||ue),le({show:!0,type:te,id:pe,name:ue})},va=async()=>{const{type:te,id:pe}=re;if(!(!dt||!n||!S))try{let ue,ce;if(te==="shopping")ue="shoppingItems",ce="";else if(te==="packing")ue="packingItems",ce="";else return;const Le=ia(dt,"users",n.uid,"trips",S,ue,pe);await Iv(Le),Ne(ce)}catch(ue){console.error("Delete item failed",ue),Ne("","error")}finally{le({show:!1,type:null,id:null,name:""})}},qt=(te,pe)=>st({type:te,data:{...pe}}),qi=async te=>{if(!R||!dt||!n||!S)return;const{type:pe}=R,ue=pe==="shopping"?"shoppingItems":"packingItems";try{const ce=ia(dt,"users",n.uid,"trips",S,ue,te.id),{id:Le,createdAt:De,...Tt}=te;await Qc(ce,Tt),st(null),Ne("")}catch(ce){console.error("Save edit item failed",ce),Ne("","error")}},Ir=te=>{if(!te||te==="----/--/--")return 0;const pe=new Date,ce=new Date(te)-pe;return Math.ceil(ce/(1e3*60*60*24))>0?Math.ceil(ce/(1e3*60*60*24)):0},bs=te=>{if(!te||!te.days)return null;const pe=new Date;let ue=null,ce=1/0;return te.days.forEach(Le=>{const De=new Date(te.date);De.setDate(De.getDate()+(Le.day-1)),pe.toDateString()===De.toDateString()&&Le.activities.forEach(Tt=>{const[Jt,ln]=Tt.time.split(":"),zn=new Date(De);zn.setHours(Jt,ln,0,0);const Fi=pe-zn;Fi>=0&&Fi<ce&&(ce=Fi,ue=Tt.id)})}),ue};he.useEffect(()=>{if(s==="itinerary"&&Qt&&Qt.days){const te=bs(Qt);te&&je.current[te]&&setTimeout(()=>{je.current[te].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,Qt]);const Rn=he.useRef(null),Cr=he.useRef(null),[Hi,Nr]=he.useState(0),[Es,gn]=he.useState(!1),yt=["home","itinerary","shopping","packing"],Nt=yt.indexOf(s),_t=80,ba=te=>{Y||Ce||N||I||D||R||bt||re.show||(Rn.current=te.targetTouches[0].clientX,Cr.current=te.targetTouches[0].clientY,gn(!0))},Ts=te=>{if(!Es||Rn.current===null)return;const pe=te.targetTouches[0].clientX,ue=te.targetTouches[0].clientY,ce=pe-Rn.current,Le=ue-Cr.current;if(Math.abs(Le)>Math.abs(ce))return;let De=ce;Nt===0&&ce>0&&(De=ce*.3),Nt===yt.length-1&&ce<0&&(De=ce*.3),Nr(De)},Ea=()=>{Es&&(Math.abs(Hi)>_t&&(Hi>0&&Nt>0?e(yt[Nt-1]):Hi<0&&Nt<yt.length-1&&e(yt[Nt+1])),gn(!1),Nr(0),Rn.current=null,Cr.current=null)};return l?n?g.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[g.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),g.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),g.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),g.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),g.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:ba,onTouchMove:Ts,onTouchEnd:Ea,children:[_e.show&&g.jsx($v,{message:_e.message,type:_e.type,onClose:()=>Ae({..._e,show:!1})}),Y&&g.jsx(FN,{onClose:()=>ne(!1),flights:Qt?Qt.flights:[]}),Ce&&g.jsx(GN,{onClose:()=>Ee(!1),onAdd:At}),N&&g.jsx(YN,{onClose:()=>A(!1),onAdd:Rr}),I&&g.jsx(HN,{onClose:()=>M(!1),onImport:Ar,isLoading:se}),R&&g.jsx(QN,{editingState:R,onClose:()=>st(null),onSave:qi,onImageView:Qe}),bt&&ae&&g.jsx(BN,{trip:ae,onClose:()=>{G(!1),K(null)},onSave:xr,onPreviewChange:K}),D&&g.jsx(qN,{trips:v,activeTripId:S,onSelectTrip:te=>{x(te),j(!1),e("home")},onDeleteTrip:te=>{window.confirm("")&&vs(te)},onExportTrip:Un,onEditTrip:mi,onOpenImport:()=>M(!0),onClose:()=>j(!1),userEmail:n.email,onLogout:_s}),g.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${Nt*100}vw + ${Hi}px))`,transition:Es?"none":"transform 0.3s ease-out"},children:[g.jsx(XN,{trips:v,currentTrip:Qt,calculateDaysLeft:Ir,setActiveTab:e,setShowFlightModal:ne,shoppingItems:z,packingItems:$,openEditModal:qt,setShowTripListModal:j,onEditCurrentTrip:()=>mi(Qt),onScroll:et,previewTrip:O}),g.jsx($N,{currentTrip:Qt,setActiveTab:e,setShowFlightModal:ne,getCurrentActivityId:bs,activityRefs:je,onScroll:et}),g.jsx(ZN,{currentTrip:Qt,setActiveTab:e,setShowAddShoppingModal:Ee,toggleShoppingItem:pi,requestDeleteShopping:_a,openEditModal:qt,onScroll:et,shoppingItems:z,setImageViewerImage:Qe}),g.jsx(JN,{currentTrip:Qt,setActiveTab:e,setShowAddPackingModal:A,togglePackingItem:Et,requestDeletePacking:_a,openEditModal:qt,onScroll:et,packingItems:$,setImageViewerImage:Qe})]}),g.jsx(UN,{image:Ge,onClose:()=>Qe(null)}),re.show&&g.jsx(zN,{title:"",message:`${re.name}`,onConfirm:va,onCancel:()=>le({...re,show:!1})}),g.jsx(WN,{activeTab:s,setActiveTab:e,isVisible:d})]})]}):g.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[_e.show&&g.jsx($v,{message:_e.message,type:_e.type,onClose:()=>Ae({..._e,show:!1})}),g.jsx(KN,{onLogin:Bi,isLoading:se})]}):g.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[g.jsx(da,{className:"animate-spin text-gray-600 mb-4",size:32}),g.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}lw.createRoot(document.getElementById("root")).render(g.jsx(he.StrictMode,{children:g.jsx(e4,{})}));
