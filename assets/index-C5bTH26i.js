(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var jd={exports:{}},Al={};var q0;function NT(){if(q0)return Al;q0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=e,Al.jsx=i,Al.jsxs=i,Al}var H0;function DT(){return H0||(H0=1,jd.exports=NT()),jd.exports}var b=DT(),Ld={exports:{}},xe={};var F0;function OT(){if(F0)return xe;F0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function z(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,J={};function he(k,Q,ne){this.props=k,this.context=Q,this.refs=J,this.updater=ne||Z}he.prototype.isReactComponent={},he.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},he.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function oe(){}oe.prototype=he.prototype;function ue(k,Q,ne){this.props=k,this.context=Q,this.refs=J,this.updater=ne||Z}var De=ue.prototype=new oe;De.constructor=ue,ee(De,he.prototype),De.isPureReactComponent=!0;var Ge=Array.isArray;function Oe(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(k,Q,ne){var se=ne.ref;return{$$typeof:s,type:k,key:Q,ref:se!==void 0?se:null,props:ne}}function M(k,Q){return R(k.type,Q,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function j(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return Q[ne]})}var x=/\/+/g;function nt(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):Q.toString(36)}function yt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Oe,Oe):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function H(k,Q,ne,se,Ee){var Ae=typeof k;(Ae==="undefined"||Ae==="boolean")&&(k=null);var Ve=!1;if(k===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(k.$$typeof){case s:case e:Ve=!0;break;case T:return Ve=k._init,H(Ve(k._payload),Q,ne,se,Ee)}}if(Ve)return Ee=Ee(k),Ve=se===""?"."+nt(k,0):se,Ge(Ee)?(ne="",Ve!=null&&(ne=Ve.replace(x,"$&/")+"/"),H(Ee,Q,ne,"",function(ci){return ci})):Ee!=null&&(D(Ee)&&(Ee=M(Ee,ne+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(x,"$&/")+"/")+Ve)),Q.push(Ee)),1;Ve=0;var St=se===""?".":se+":";if(Ge(k))for(var ot=0;ot<k.length;ot++)se=k[ot],Ae=St+nt(se,ot),Ve+=H(se,Q,ne,Ae,Ee);else if(ot=z(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(se=k.next()).done;)se=se.value,Ae=St+nt(se,ot++),Ve+=H(se,Q,ne,Ae,Ee);else if(Ae==="object"){if(typeof k.then=="function")return H(yt(k),Q,ne,se,Ee);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function te(k,Q,ne){if(k==null)return k;var se=[],Ee=0;return H(k,se,"","",function(Ae){return Q.call(ne,Ae,Ee++)}),se}function fe(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var we=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Me={map:te,forEach:function(k,Q,ne){te(k,function(){Q.apply(this,arguments)},ne)},count:function(k){var Q=0;return te(k,function(){Q++}),Q},toArray:function(k){return te(k,function(Q){return Q})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xe.Activity=S,xe.Children=Me,xe.Component=he,xe.Fragment=i,xe.Profiler=l,xe.PureComponent=ue,xe.StrictMode=r,xe.Suspense=_,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},xe.cache=function(k){return function(){return k.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(k,Q,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var se=ee({},k.props),Ee=k.key;if(Q!=null)for(Ae in Q.key!==void 0&&(Ee=""+Q.key),Q)!A.call(Q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Q.ref===void 0||(se[Ae]=Q[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ne;else if(1<Ae){for(var Ve=Array(Ae),St=0;St<Ae;St++)Ve[St]=arguments[St+2];se.children=Ve}return R(k.type,Ee,se)},xe.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},xe.createElement=function(k,Q,ne){var se,Ee={},Ae=null;if(Q!=null)for(se in Q.key!==void 0&&(Ae=""+Q.key),Q)A.call(Q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Ee[se]=Q[se]);var Ve=arguments.length-2;if(Ve===1)Ee.children=ne;else if(1<Ve){for(var St=Array(Ve),ot=0;ot<Ve;ot++)St[ot]=arguments[ot+2];Ee.children=St}if(k&&k.defaultProps)for(se in Ve=k.defaultProps,Ve)Ee[se]===void 0&&(Ee[se]=Ve[se]);return R(k,Ae,Ee)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(k){return{$$typeof:g,render:k}},xe.isValidElement=D,xe.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:fe}},xe.memo=function(k,Q){return{$$typeof:p,type:k,compare:Q===void 0?null:Q}},xe.startTransition=function(k){var Q=I.T,ne={};I.T=ne;try{var se=k(),Ee=I.S;Ee!==null&&Ee(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Oe,we)}catch(Ae){we(Ae)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),I.T=Q}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(k){return I.H.use(k)},xe.useActionState=function(k,Q,ne){return I.H.useActionState(k,Q,ne)},xe.useCallback=function(k,Q){return I.H.useCallback(k,Q)},xe.useContext=function(k){return I.H.useContext(k)},xe.useDebugValue=function(){},xe.useDeferredValue=function(k,Q){return I.H.useDeferredValue(k,Q)},xe.useEffect=function(k,Q){return I.H.useEffect(k,Q)},xe.useEffectEvent=function(k){return I.H.useEffectEvent(k)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(k,Q,ne){return I.H.useImperativeHandle(k,Q,ne)},xe.useInsertionEffect=function(k,Q){return I.H.useInsertionEffect(k,Q)},xe.useLayoutEffect=function(k,Q){return I.H.useLayoutEffect(k,Q)},xe.useMemo=function(k,Q){return I.H.useMemo(k,Q)},xe.useOptimistic=function(k,Q){return I.H.useOptimistic(k,Q)},xe.useReducer=function(k,Q,ne){return I.H.useReducer(k,Q,ne)},xe.useRef=function(k){return I.H.useRef(k)},xe.useState=function(k){return I.H.useState(k)},xe.useSyncExternalStore=function(k,Q,ne){return I.H.useSyncExternalStore(k,Q,ne)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.0",xe}var G0;function Rm(){return G0||(G0=1,Ld.exports=OT()),Ld.exports}var _e=Rm(),Pd={exports:{}},xl={},Ud={exports:{}},zd={};var Y0;function kT(){return Y0||(Y0=1,(function(s){function e(H,te){var fe=H.length;H.push(te);e:for(;0<fe;){var we=fe-1>>>1,Me=H[we];if(0<l(Me,te))H[we]=te,H[fe]=Me,fe=we;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],fe=H.pop();if(fe!==te){H[0]=fe;e:for(var we=0,Me=H.length,k=Me>>>1;we<k;){var Q=2*(we+1)-1,ne=H[Q],se=Q+1,Ee=H[se];if(0>l(ne,fe))se<Me&&0>l(Ee,ne)?(H[we]=Ee,H[se]=fe,we=se):(H[we]=ne,H[Q]=fe,we=Q);else if(se<Me&&0>l(Ee,fe))H[we]=Ee,H[se]=fe,we=se;else break e}}return te}function l(H,te){var fe=H.sortIndex-te.sortIndex;return fe!==0?fe:H.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],p=[],T=1,S=null,N=3,z=!1,Z=!1,ee=!1,J=!1,he=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function De(H){for(var te=i(p);te!==null;){if(te.callback===null)r(p);else if(te.startTime<=H)r(p),te.sortIndex=te.expirationTime,e(_,te);else break;te=i(p)}}function Ge(H){if(ee=!1,De(H),!Z)if(i(_)!==null)Z=!0,Oe||(Oe=!0,j());else{var te=i(p);te!==null&&yt(Ge,te.startTime-H)}}var Oe=!1,I=-1,A=5,R=-1;function M(){return J?!0:!(s.unstable_now()-R<A)}function D(){if(J=!1,Oe){var H=s.unstable_now();R=H;var te=!0;try{e:{Z=!1,ee&&(ee=!1,oe(I),I=-1),z=!0;var fe=N;try{t:{for(De(H),S=i(_);S!==null&&!(S.expirationTime>H&&M());){var we=S.callback;if(typeof we=="function"){S.callback=null,N=S.priorityLevel;var Me=we(S.expirationTime<=H);if(H=s.unstable_now(),typeof Me=="function"){S.callback=Me,De(H),te=!0;break t}S===i(_)&&r(_),De(H)}else r(_);S=i(_)}if(S!==null)te=!0;else{var k=i(p);k!==null&&yt(Ge,k.startTime-H),te=!1}}break e}finally{S=null,N=fe,z=!1}te=void 0}}finally{te?j():Oe=!1}}}var j;if(typeof ue=="function")j=function(){ue(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,nt=x.port2;x.port1.onmessage=D,j=function(){nt.postMessage(null)}}else j=function(){he(D,0)};function yt(H,te){I=he(function(){H(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var te=3;break;default:te=N}var fe=N;N=te;try{return H()}finally{N=fe}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var fe=N;N=H;try{return te()}finally{N=fe}},s.unstable_scheduleCallback=function(H,te,fe){var we=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,H){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=fe+Me,H={id:T++,callback:te,priorityLevel:H,startTime:fe,expirationTime:Me,sortIndex:-1},fe>we?(H.sortIndex=fe,e(p,H),i(_)===null&&H===i(p)&&(ee?(oe(I),I=-1):ee=!0,yt(Ge,fe-we))):(H.sortIndex=Me,e(_,H),Z||z||(Z=!0,Oe||(Oe=!0,j()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var te=N;return function(){var fe=N;N=te;try{return H.apply(this,arguments)}finally{N=fe}}}})(zd)),zd}var Q0;function MT(){return Q0||(Q0=1,Ud.exports=kT()),Ud.exports}var Bd={exports:{}},sn={};var K0;function VT(){if(K0)return sn;K0=1;var s=Rm();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(_,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,T)},sn.flushSync=function(_){var p=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=p,r.p=T,r.d.f()}},sn.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(_,p))},sn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},sn.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,z=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:z}):T==="script"&&r.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:z,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(_)},sn.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);r.d.L(_,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(_,p){if(typeof _=="string")if(p){var T=g(p.as,p.crossOrigin);r.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(_)},sn.requestFormReset=function(_){r.d.r(_)},sn.unstable_batchedUpdates=function(_,p){return _(p)},sn.useFormState=function(_,p,T){return d.H.useFormState(_,p,T)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var X0;function jT(){if(X0)return Bd.exports;X0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=VT(),Bd.exports}var $0;function LT(){if($0)return xl;$0=1;var s=MT(),e=Rm(),i=jT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case he:return"Profiler";case J:return"StrictMode";case Ge:return"Suspense";case Oe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case ue:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case De:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var yt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],Me=-1;function k(t){return{current:t}}function Q(t){0>Me||(t.current=we[Me],we[Me]=null,Me--)}function ne(t,n){Me++,we[Me]=t.current,t.current=n}var se=k(null),Ee=k(null),Ae=k(null),Ve=k(null);function St(t,n){switch(ne(Ae,n),ne(Ee,t),ne(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?h0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=h0(n),t=f0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(se),ne(se,t)}function ot(){Q(se),Q(Ee),Q(Ae)}function ci(t){t.memoizedState!==null&&ne(Ve,t);var n=se.current,a=f0(n,t.type);n!==a&&(ne(Ee,t),ne(se,a))}function bs(t){Ee.current===t&&(Q(se),Q(Ee)),Ve.current===t&&(Q(Ve),El._currentValue=fe)}var hi,Es;function Dn(t){if(hi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);hi=n&&n[1]||"",Es=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+t+Es}var Ts=!1;function On(t,n){if(!t||Ts)return"";Ts=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(F){var B=F}Reflect.construct(t,[],K)}else{try{K.call()}catch(F){B=F}t.call(K.prototype)}}else{try{throw Error()}catch(F){B=F}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),U=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ts=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Dn(a):""}function Fi(t,n){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return t.child!==n&&n!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return On(t.type,!1);case 11:return On(t.type.render,!1);case 1:return On(t.type,!0);case 31:return Dn("Activity");default:return""}}function fi(t){try{var n="",a=null;do n+=Fi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,vt=s.unstable_scheduleCallback,Qn=s.unstable_cancelCallback,Gi=s.unstable_shouldYield,kn=s.unstable_requestPaint,Kt=s.unstable_now,Yi=s.unstable_getCurrentPriorityLevel,Tr=s.unstable_ImmediatePriority,wr=s.unstable_UserBlockingPriority,ie=s.unstable_NormalPriority,ge=s.unstable_LowPriority,pe=s.unstable_IdlePriority,Te=s.log,ut=s.unstable_setDisableYieldValue,Je=null,je=null;function bt(t){if(typeof Te=="function"&&ut(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Je,t)}catch{}}var ct=Math.clz32?Math.clz32:ou,Qi=Math.log,di=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(Qi(t)/di|0)|0}var mi=256,Sr=262144,It=4194304;function gi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=gi(o):(y&=E,y!==0?h=gi(y):a||(a=E&~t,a!==0&&(h=gi(a))))):(E=o&~f,E!==0?h=gi(E):y!==0?h=gi(y):a||(a=o&~t,a!==0&&(h=gi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function yi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-ct(a),K=1<<G;E[G]=0,C[G]=-1;var B=U[G];if(B!==null)for(U[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}a&=~K}o!==0&&xr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function xr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ct(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function xo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-ct(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ro(t,n){var a=n&-n;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:V0(t.type))}function Xn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var $n=Math.random().toString(36).slice(2),Nt="__reactFiber$"+$n,Ht="__reactProps$"+$n,_i="__reactContainer$"+$n,fa="__reactEvents$"+$n,Bh="__reactListeners$"+$n,cu="__reactHandles$"+$n,hu="__reactResources$"+$n,vi="__reactMarker$"+$n;function da(t){delete t[Nt],delete t[Ht],delete t[fa],delete t[Bh],delete t[cu]}function bi(t){var n=t[Nt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[_i]||a[Nt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=v0(t);t!==null;){if(a=t[Nt])return a;t=v0(t)}return n}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[Nt]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ei(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[vi]=!0}var Co=new Set,Io={};function Ti(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Io[t]=n,t=0;t<n.length;t++)Co.add(n[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function fu(t){return _t.call(Oo,t)?!0:_t.call(Do,t)?!1:No.test(t)?Oo[t]=!0:(Do[t]=!0,!1)}function ma(t,n,a){if(fu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function En(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ot(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ko(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=ko(t,n,""+t[n])}}function Cr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=ws(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function hn(t){return t.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Mo(t,y,Ft(n)):a!=null?Mo(t,y,Ft(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ft(E):t.removeAttribute("name")}function du(t,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}a=a!=null?""+Ft(a):"",n=n!=null?""+Ft(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),We(t)}function Mo(t,n,a){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,a){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ft(a):""}function As(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(yt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ft(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),We(t)}function fn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function jo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return xs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Lo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ai=null;function Nr(t){var n=Mn(t);if(n&&(t=n.stateNode)){var a=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ht]||null;if(!h)throw Error(r(90));ga(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Cr(o)}break e;case"textarea":mu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(t,!!a.multiple,n,!1)}}}var _a=!1;function Cs(t,n,a){if(_a)return t(n,a);_a=!0;try{var o=t(n);return o}finally{if(_a=!1,(Rs!==null||Ai!==null)&&(uc(),Rs&&(n=Rs,t=Ai,Ai=Rs=null,Nr(n),t)))for(n=0;n<t.length;n++)Nr(t[n])}}function Jn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ht]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(jn)try{var it={};Object.defineProperty(it,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{Dr=!1}var xi=null,Po=null,Or=null;function Uo(){if(Or)return Or;var t,n=Po,a=n.length,o,h="value"in xi?xi.value:xi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Or=h.slice(t,1<o?1-o:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function Wn(){return!1}function Xt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:Wn,this.isPropagationStopped=Wn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Xt($i),Is=S({},$i,{view:0,detail:0}),zo=Xt(Is),Ns,va,Ci,ba=S({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Ns=t.screenX-Ci.screenX,va=t.screenY-Ci.screenY):va=Ns=0,Ci=t),Ns)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Bo=Xt(ba),Mr=S({},ba,{dataTransfer:0}),yu=Xt(Mr),_u=S({},Is,{relatedTarget:0}),Vr=Xt(_u),qo=S({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Xt(qo),Ea=S({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=Xt(Ea),Eu=S({},$i,{data:0}),Ii=Xt(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Ds(){return Au}var un=S({},Is,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Xt(un),Ru=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Xt(Ru),u=S({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Xt(u),v=S({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Xt(v),L=S({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Xt(L),W=S({},$i,{newState:0,oldState:0}),Ce=Xt(W),At=[9,13,27,32],Xe=jn&&"CompositionEvent"in window,gt=null;jn&&"documentMode"in document&&(gt=document.documentMode);var Ln=jn&&"TextEvent"in window&&!gt,Ni=jn&&(!Xe||gt&&8<gt&&11>=gt),ei=" ",ti=!1;function jr(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function eE(t,n){switch(t){case"compositionend":return Ta(n);case"keypress":return n.which!==32?null:(ti=!0,ei);case"textInput":return t=n.data,t===ei&&ti?null:t;default:return null}}function tE(t,n){if(wa)return t==="compositionend"||!Xe&&jr(t,n)?(t=Uo(),Or=Po=xi=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var nE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nE[t.type]:n==="textarea"}function wg(t,n,a,o){Rs?Ai?Ai.push(o):Ai=[o]:Rs=o,n=pc(n,"onChange"),0<n.length&&(a=new Ri("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Ho=null,Fo=null;function iE(t){r0(t,0)}function Cu(t){var n=bn(t);if(Cr(n))return t}function Sg(t,n){if(t==="change")return n}var Ag=!1;if(jn){var qh;if(jn){var Hh="oninput"in document;if(!Hh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Hh=typeof xg.oninput=="function"}qh=Hh}else qh=!1;Ag=qh&&(!document.documentMode||9<document.documentMode)}function Rg(){Ho&&(Ho.detachEvent("onpropertychange",Cg),Fo=Ho=null)}function Cg(t){if(t.propertyName==="value"&&Cu(Fo)){var n=[];wg(n,Fo,t,Vn(t)),Cs(iE,n)}}function sE(t,n,a){t==="focusin"?(Rg(),Ho=n,Fo=a,Ho.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function rE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Fo)}function aE(t,n){if(t==="click")return Cu(n)}function oE(t,n){if(t==="input"||t==="change")return Cu(n)}function lE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Tn=typeof Object.is=="function"?Object.is:lE;function Go(t,n){if(Tn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!Tn(t[h],n[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,n){var a=Ig(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Si(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var uE=jn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Gh=null,Yo=null,Yh=!1;function kg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Sa==null||Sa!==Si(o)||(o=Sa,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Go(Yo,o)||(Yo=o,o=pc(Gh,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Sa)))}function Lr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Aa={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Qh={},Mg={};jn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Pr(t){if(Qh[t])return Qh[t];if(!Aa[t])return t;var n=Aa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Mg)return Qh[t]=n[a];return t}var Vg=Pr("animationend"),jg=Pr("animationiteration"),Lg=Pr("animationstart"),cE=Pr("transitionrun"),hE=Pr("transitionstart"),fE=Pr("transitioncancel"),Pg=Pr("transitionend"),Ug=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function ni(t,n){Ug.set(t,n),Ti(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],xa=0,Xh=0;function Nu(){for(var t=xa,n=Xh=xa=0;n<t;){var a=Pn[n];Pn[n++]=null;var o=Pn[n];Pn[n++]=null;var h=Pn[n];Pn[n++]=null;var f=Pn[n];if(Pn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&zg(a,h,f)}}function Du(t,n,a,o){Pn[xa++]=t,Pn[xa++]=n,Pn[xa++]=a,Pn[xa++]=o,Xh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function $h(t,n,a,o){return Du(t,n,a,o),Ou(t)}function Ur(t,n){return Du(t,null,null,n),Ou(t)}function zg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ct(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ou(t){if(50<ml)throw ml=0,ad=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ra={};function dE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,a,o){return new dE(t,n,a,o)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,n){var a=t.alternate;return a===null?(a=wn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Zh(t)&&(y=1);else if(typeof t=="string")y=_T(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=wn(31,a,n,h),t.elementType=R,t.lanes=f,t;case ee:return zr(a.children,h,f,n);case J:y=8,h|=24;break;case he:return t=wn(12,a,n,h|2),t.elementType=he,t.lanes=f,t;case Ge:return t=wn(13,a,n,h),t.elementType=Ge,t.lanes=f,t;case Oe:return t=wn(19,a,n,h),t.elementType=Oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:y=10;break e;case oe:y=9;break e;case De:y=11;break e;case I:y=14;break e;case A:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=wn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function zr(t,n,a,o){return t=wn(7,t,o,n),t.lanes=a,t}function Jh(t,n,a){return t=wn(6,t,null,n),t.lanes=a,t}function qg(t){var n=wn(18,null,null,0);return n.stateNode=t,n}function Wh(t,n,a){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hg=new WeakMap;function Un(t,n){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:fi(n)},Hg.set(t,n),n)}return{value:t,source:n,stack:fi(n)}}var Ca=[],Ia=0,Mu=null,Qo=0,zn=[],Bn=0,Os=null,Di=1,Oi="";function Wi(t,n){Ca[Ia++]=Qo,Ca[Ia++]=Mu,Mu=t,Qo=n}function Fg(t,n,a){zn[Bn++]=Di,zn[Bn++]=Oi,zn[Bn++]=Os,Os=t;var o=Di;t=Oi;var h=32-ct(o)-1;o&=~(1<<h),a+=1;var f=32-ct(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Di=1<<32-ct(n)+h|a<<h|o,Oi=f+t}else Di=1<<f|a<<h|o,Oi=t}function ef(t){t.return!==null&&(Wi(t,1),Fg(t,1,0))}function tf(t){for(;t===Mu;)Mu=Ca[--Ia],Ca[Ia]=null,Qo=Ca[--Ia],Ca[Ia]=null;for(;t===Os;)Os=zn[--Bn],zn[Bn]=null,Oi=zn[--Bn],zn[Bn]=null,Di=zn[--Bn],zn[Bn]=null}function Gg(t,n){zn[Bn++]=Di,zn[Bn++]=Oi,zn[Bn++]=Os,Di=n.id,Oi=n.overflow,Os=t}var $t=null,ht=null,Fe=!1,ks=null,qn=!1,nf=Error(r(519));function Ms(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Un(n,t)),nf}function Yg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Ht]=o,a){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<pl.length;a++)Pe(pl[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),As(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||u0(n.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Ms(t,!0)}function Qg(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:$t=$t.return}}function Na(t){if(t!==$t)return!1;if(!Fe)return Qg(t),Fe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ed(t.type,t.memoizedProps)),a=!a),a&&ht&&Ms(t),Qg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=_0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ht=_0(t)}else n===27?(n=ht,Ks(t.type)?(t=xd,xd=null,ht=t):ht=n):ht=$t?Fn(t.stateNode.nextSibling):null;return!0}function Br(){ht=$t=null,Fe=!1}function sf(){var t=ks;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),ks=null),t}function Ko(t){ks===null?ks=[t]:ks.push(t)}var rf=k(null),qr=null,es=null;function Vs(t,n,a){ne(rf,n._currentValue),n._currentValue=a}function ts(t){t._currentValue=rf.current,Q(rf)}function af(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),af(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Da(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;Tn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ve.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&of(n,t,a,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){qr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return Kg(qr,t)}function ju(t,n){return qr===null&&Hr(t),Kg(t,n)}function Kg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},es===null){if(t===null)throw Error(r(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return a}var mE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},gE=s.unstable_scheduleCallback,pE=s.unstable_NormalPriority,kt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new mE,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&gE(pE,function(){t.controller.abort()})}var $o=null,uf=0,Oa=0,ka=null;function yE(t,n){if($o===null){var a=$o=[];uf=0,Oa=fd(),ka={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(Xg,Xg),n}function Xg(){if(--uf===0&&$o!==null){ka!==null&&(ka.status="fulfilled");var t=$o;$o=null,Oa=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _E(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var $g=H.S;H.S=function(t,n){ky=Kt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yE(t,n),$g!==null&&$g(t,n)};var Fr=k(null);function cf(){var t=Fr.current;return t!==null?t:lt.pooledCache}function Lu(t,n){n===null?ne(Fr,Fr.current):ne(Fr,n.pool)}function Zg(){var t=cf();return t===null?null:{parent:kt._currentValue,pool:t}}var Ma=Error(r(460)),hf=Error(r(474)),Pu=Error(r(542)),Uu={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Zn,Zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,tp(t),t}throw Yr=n,Ma}}function Gr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,Ma):a}}var Yr=null;function ep(){if(Yr===null)throw Error(r(459));var t=Yr;return Yr=null,t}function tp(t){if(t===Ma||t===Pu)throw Error(r(483))}var Va=null,Zo=0;function zu(t){var n=Zo;return Zo+=1,Va===null&&(Va=[]),Wg(Va,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function np(t){function n(V,O){if(t){var P=V.deletions;P===null?(V.deletions=[O],V.flags|=16):P.push(O)}}function a(V,O){if(!t)return null;for(;O!==null;)n(V,O),O=O.sibling;return null}function o(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Ji(V,O),V.index=0,V.sibling=null,V}function f(V,O,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<O?(V.flags|=67108866,O):P):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,O,P,Y){return O===null||O.tag!==6?(O=Jh(P,V.mode,Y),O.return=V,O):(O=h(O,P),O.return=V,O)}function C(V,O,P,Y){var de=P.type;return de===ee?G(V,O,P.props.children,Y,P.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Gr(de)===O.type)?(O=h(O,P.props),Jo(O,P),O.return=V,O):(O=ku(P.type,P.key,P.props,null,V.mode,Y),Jo(O,P),O.return=V,O)}function U(V,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Wh(P,V.mode,Y),O.return=V,O):(O=h(O,P.children||[]),O.return=V,O)}function G(V,O,P,Y,de){return O===null||O.tag!==7?(O=zr(P,V.mode,Y,de),O.return=V,O):(O=h(O,P),O.return=V,O)}function K(V,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,V.mode,P),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return P=ku(O.type,O.key,O.props,null,V.mode,P),Jo(P,O),P.return=V,P;case Z:return O=Wh(O,V.mode,P),O.return=V,O;case A:return O=Gr(O),K(V,O,P)}if(yt(O)||j(O))return O=zr(O,V.mode,P,null),O.return=V,O;if(typeof O.then=="function")return K(V,zu(O),P);if(O.$$typeof===ue)return K(V,ju(V,O),P);Bu(V,O)}return null}function B(V,O,P,Y){var de=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:E(V,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===de?C(V,O,P,Y):null;case Z:return P.key===de?U(V,O,P,Y):null;case A:return P=Gr(P),B(V,O,P,Y)}if(yt(P)||j(P))return de!==null?null:G(V,O,P,Y,null);if(typeof P.then=="function")return B(V,O,zu(P),Y);if(P.$$typeof===ue)return B(V,O,ju(V,P),Y);Bu(V,P)}return null}function F(V,O,P,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(P)||null,E(O,V,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return V=V.get(Y.key===null?P:Y.key)||null,C(O,V,Y,de);case Z:return V=V.get(Y.key===null?P:Y.key)||null,U(O,V,Y,de);case A:return Y=Gr(Y),F(V,O,P,Y,de)}if(yt(Y)||j(Y))return V=V.get(P)||null,G(O,V,Y,de,null);if(typeof Y.then=="function")return F(V,O,P,zu(Y),de);if(Y.$$typeof===ue)return F(V,O,P,ju(O,Y),de);Bu(O,Y)}return null}function ae(V,O,P,Y){for(var de=null,Qe=null,le=O,Ne=O=0,ze=null;le!==null&&Ne<P.length;Ne++){le.index>Ne?(ze=le,le=null):ze=le.sibling;var Ke=B(V,le,P[Ne],Y);if(Ke===null){le===null&&(le=ze);break}t&&le&&Ke.alternate===null&&n(V,le),O=f(Ke,O,Ne),Qe===null?de=Ke:Qe.sibling=Ke,Qe=Ke,le=ze}if(Ne===P.length)return a(V,le),Fe&&Wi(V,Ne),de;if(le===null){for(;Ne<P.length;Ne++)le=K(V,P[Ne],Y),le!==null&&(O=f(le,O,Ne),Qe===null?de=le:Qe.sibling=le,Qe=le);return Fe&&Wi(V,Ne),de}for(le=o(le);Ne<P.length;Ne++)ze=F(le,V,Ne,P[Ne],Y),ze!==null&&(t&&ze.alternate!==null&&le.delete(ze.key===null?Ne:ze.key),O=f(ze,O,Ne),Qe===null?de=ze:Qe.sibling=ze,Qe=ze);return t&&le.forEach(function(Ws){return n(V,Ws)}),Fe&&Wi(V,Ne),de}function ye(V,O,P,Y){if(P==null)throw Error(r(151));for(var de=null,Qe=null,le=O,Ne=O=0,ze=null,Ke=P.next();le!==null&&!Ke.done;Ne++,Ke=P.next()){le.index>Ne?(ze=le,le=null):ze=le.sibling;var Ws=B(V,le,Ke.value,Y);if(Ws===null){le===null&&(le=ze);break}t&&le&&Ws.alternate===null&&n(V,le),O=f(Ws,O,Ne),Qe===null?de=Ws:Qe.sibling=Ws,Qe=Ws,le=ze}if(Ke.done)return a(V,le),Fe&&Wi(V,Ne),de;if(le===null){for(;!Ke.done;Ne++,Ke=P.next())Ke=K(V,Ke.value,Y),Ke!==null&&(O=f(Ke,O,Ne),Qe===null?de=Ke:Qe.sibling=Ke,Qe=Ke);return Fe&&Wi(V,Ne),de}for(le=o(le);!Ke.done;Ne++,Ke=P.next())Ke=F(le,V,Ne,Ke.value,Y),Ke!==null&&(t&&Ke.alternate!==null&&le.delete(Ke.key===null?Ne:Ke.key),O=f(Ke,O,Ne),Qe===null?de=Ke:Qe.sibling=Ke,Qe=Ke);return t&&le.forEach(function(IT){return n(V,IT)}),Fe&&Wi(V,Ne),de}function at(V,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===ee&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:e:{for(var de=P.key;O!==null;){if(O.key===de){if(de=P.type,de===ee){if(O.tag===7){a(V,O.sibling),Y=h(O,P.props.children),Y.return=V,V=Y;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Gr(de)===O.type){a(V,O.sibling),Y=h(O,P.props),Jo(Y,P),Y.return=V,V=Y;break e}a(V,O);break}else n(V,O);O=O.sibling}P.type===ee?(Y=zr(P.props.children,V.mode,Y,P.key),Y.return=V,V=Y):(Y=ku(P.type,P.key,P.props,null,V.mode,Y),Jo(Y,P),Y.return=V,V=Y)}return y(V);case Z:e:{for(de=P.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(V,O.sibling),Y=h(O,P.children||[]),Y.return=V,V=Y;break e}else{a(V,O);break}else n(V,O);O=O.sibling}Y=Wh(P,V.mode,Y),Y.return=V,V=Y}return y(V);case A:return P=Gr(P),at(V,O,P,Y)}if(yt(P))return ae(V,O,P,Y);if(j(P)){if(de=j(P),typeof de!="function")throw Error(r(150));return P=de.call(P),ye(V,O,P,Y)}if(typeof P.then=="function")return at(V,O,zu(P),Y);if(P.$$typeof===ue)return at(V,O,ju(V,P),Y);Bu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(V,O.sibling),Y=h(O,P),Y.return=V,V=Y):(a(V,O),Y=Jh(P,V.mode,Y),Y.return=V,V=Y),y(V)):a(V,O)}return function(V,O,P,Y){try{Zo=0;var de=at(V,O,P,Y);return Va=null,de}catch(le){if(le===Ma||le===Pu)throw le;var Qe=wn(29,le,null,V.mode);return Qe.lanes=Y,Qe.return=V,Qe}finally{}}}var Qr=np(!0),ip=np(!1),js=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ou(t),zg(t,null,a),n}return Du(t,o,n,a),Ou(t)}function Wo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,xo(t,a)}}function mf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function el(){if(gf){var t=ka;if(t!==null)throw t}}function tl(t,n,a,o){gf=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,U=C.next;C.next=null,y===null?f=U:y.next=U,y=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;y=0,G=U=C=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Ue&B)===B:(o&B)===B){B!==0&&B===Oa&&(gf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ae=t,ye=E;B=n;var at=a;switch(ye.tag){case 1:if(ae=ye.payload,typeof ae=="function"){K=ae.call(at,K,B);break e}K=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ye.payload,B=typeof ae=="function"?ae.call(at,K,B):ae,B==null)break e;K=S({},K,B);break e;case 2:js=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=F,C=K):G=G.next=F,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(C=K),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Hs|=y,t.lanes=y,t.memoizedState=K}}function sp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function rp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sp(a[t],n)}var ja=k(null),qu=k(0);function ap(t,n){t=cs,ne(qu,t),ne(ja,n),cs=t|n.baseLanes}function pf(){ne(qu,cs),ne(ja,ja.current)}function yf(){cs=qu.current,Q(ja),Q(qu)}var Sn=k(null),Hn=null;function Us(t){var n=t.alternate;ne(xt,xt.current&1),ne(Sn,t),Hn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Hn=t)}function _f(t){ne(xt,xt.current),ne(Sn,t),Hn===null&&(Hn=t)}function op(t){t.tag===22?(ne(xt,xt.current),ne(Sn,t),Hn===null&&(Hn=t)):zs()}function zs(){ne(xt,xt.current),ne(Sn,Sn.current)}function An(t){Q(Sn),Hn===t&&(Hn=null),Q(xt)}var xt=k(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||Ad(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Ie=null,st=null,Mt=null,Fu=!1,La=!1,Kr=!1,Gu=0,nl=0,Pa=null,vE=0;function Tt(){throw Error(r(321))}function vf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Tn(t[a],n[a]))return!1;return!0}function bf(t,n,a,o,h,f){return ns=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Fp:Vf,Kr=!1,f=a(o,h),Kr=!1,La&&(f=up(n,a,o,h)),lp(t),f}function lp(t){H.H=rl;var n=st!==null&&st.next!==null;if(ns=0,Mt=st=Ie=null,Fu=!1,nl=0,Pa=null,n)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&Vu(t)&&(Vt=!0))}function up(t,n,a,o){Ie=t;var h=0;do{if(La&&(Pa=null),nl=0,La=!1,25<=h)throw Error(r(301));if(h+=1,Mt=st=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Gp,f=n(a,o)}while(La);return f}function bE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Ie.flags|=1024),n}function Ef(){var t=Gu!==0;return Gu=0,t}function Tf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function wf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}ns=0,Mt=st=Ie=null,La=!1,nl=Gu=0,Pa=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Rt(){if(st===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var n=Mt===null?Ie.memoizedState:Mt.next;if(n!==null)Mt=n,st=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,Pa===null&&(Pa=[]),t=Wg(Pa,t,n),n=Ie,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Fp:Vf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ue)return Zt(t)}throw Error(r(438,String(t)))}function Sf(t){var n=null,a=Ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),Ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function is(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Rt();return Af(n,st,t)}function Af(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,U=n,G=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Ue&K)===K:(ns&K)===K){var B=U.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Oa&&(G=!0);else if((ns&B)===B){U=U.next,B===Oa&&(G=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=K,y=f):C=C.next=K,Ie.lanes|=B,Hs|=B;K=U.action,Kr&&a(f,K),f=U.hasEagerState?U.eagerState:a(f,K)}else B={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=B,y=f):C=C.next=B,Ie.lanes|=K,Hs|=K;U=U.next}while(U!==null&&U!==n);if(C===null?y=f:C.next=E,!Tn(f,t.memoizedState)&&(Vt=!0,G&&(a=ka,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function xf(t){var n=Rt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Tn(f,n.memoizedState)||(Vt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function cp(t,n,a){var o=Ie,h=Rt(),f=Fe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Tn((st||h).memoizedState,a);if(y&&(h.memoizedState=a,Vt=!0),h=h.queue,If(dp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Mt!==null&&Mt.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},fp.bind(null,o,h,a,n),null),lt===null)throw Error(r(349));f||(ns&127)!==0||hp(o,n,a)}return a}function hp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ie.updateQueue,n===null?(n=Yu(),Ie.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function fp(t,n,a,o){n.value=a,n.getSnapshot=o,mp(n)&&gp(t)}function dp(t,n,a){return a(function(){mp(n)&&gp(t)})}function mp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Tn(t,a)}catch{return!0}}function gp(t){var n=Ur(t,2);n!==null&&yn(n,t,2)}function Rf(t){var n=cn();if(typeof t=="function"){var a=t;if(t=a(),Kr){bt(!0);try{a()}finally{bt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function pp(t,n,a,o){return t.baseState=a,Af(t,st,typeof o=="function"?o:is)}function EE(t,n,a,o,h){if(Zu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,yp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function yp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(h,o),C=H.S;C!==null&&C(y,E),_p(t,n,E)}catch(U){Cf(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),H.T=f}}else try{f=a(h,o),_p(t,n,f)}catch(U){Cf(t,n,U)}}function _p(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vp(t,n,o)},function(o){return Cf(t,n,o)}):vp(t,n,a)}function vp(t,n,a){n.status="fulfilled",n.value=a,bp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,yp(t,a)))}function Cf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,bp(n),n=n.next;while(n!==o)}t.action=null}function bp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ep(t,n){return n}function Tp(t,n){if(Fe){var a=lt.formState;if(a!==null){e:{var o=Ie;if(Fe){if(ht){t:{for(var h=ht,f=qn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Fn(h.nextSibling),o=h.data==="F!";break e}}Ms(o)}o=!1}o&&(n=a[0])}}return a=cn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:n},a.queue=o,a=Bp.bind(null,Ie,o),o.dispatch=a,o=Rf(!1),f=Mf.bind(null,Ie,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=EE.bind(null,Ie,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function wp(t){var n=Rt();return Sp(n,st,t)}function Sp(t,n,a){if(n=Af(t,n,Ep)[0],t=Ku(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(y){throw y===Ma?Pu:y}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ie.flags|=2048,Ua(9,{destroy:void 0},TE.bind(null,h,a),null)),[o,f,t]}function TE(t,n){t.action=n}function Ap(t){var n=Rt(),a=st;if(a!==null)return Sp(n,a,t);Rt(),n=n.memoizedState,a=Rt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ua(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Yu(),Ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function xp(){return Rt().memoizedState}function Xu(t,n,a,o){var h=cn();Ie.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},a,o===void 0?null:o)}function $u(t,n,a,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;st!==null&&o!==null&&vf(o,st.memoizedState.deps)?h.memoizedState=Ua(n,f,a,o):(Ie.flags|=t,h.memoizedState=Ua(1|n,f,a,o))}function Rp(t,n){Xu(8390656,8,t,n)}function If(t,n){$u(2048,8,t,n)}function wE(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Yu(),Ie.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Cp(t){var n=Rt().memoizedState;return wE({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ip(t,n){return $u(4,2,t,n)}function Np(t,n){return $u(4,4,t,n)}function Dp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Op(t,n,a){a=a!=null?a.concat([t]):null,$u(4,4,Dp.bind(null,n,t),a)}function Nf(){}function kp(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Mp(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=t(),Kr){bt(!0);try{t()}finally{bt(!1)}}return a.memoizedState=[o,n],o}function Df(t,n,a){return a===void 0||(ns&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Vy(),Ie.lanes|=t,Hs|=t,a)}function Vp(t,n,a,o){return Tn(a,n)?a:ja.current!==null?(t=Df(t,a,o),Tn(t,n)||(Vt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=a):(t=Vy(),Ie.lanes|=t,Hs|=t,n)}function jp(t,n,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Mf(t,!1,n,a);try{var C=h(),U=H.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=_E(C,o);sl(t,n,G,Cn(t))}else sl(t,n,o,Cn(t))}catch(K){sl(t,n,{then:function(){},status:"rejected",reason:K},Cn())}finally{te.p=f,y!==null&&E.types!==null&&(y.types=E.types),H.T=y}}function SE(){}function Of(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Lp(t).queue;jp(t,h,n,fe,a===null?SE:function(){return Pp(t),a(o)})}function Lp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:fe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pp(t){var n=Lp(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},Cn())}function kf(){return Zt(El)}function Up(){return Rt().memoizedState}function zp(){return Rt().memoizedState}function AE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Cn();t=Ls(a);var o=Ps(n,t,a);o!==null&&(yn(o,n,a),Wo(o,n,a)),n={cache:lf()},t.payload=n;return}n=n.return}}function xE(t,n,a){var o=Cn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?qp(n,a):(a=$h(t,n,a,o),a!==null&&(yn(a,t,o),Hp(a,n,o)))}function Bp(t,n,a){var o=Cn();sl(t,n,a,o)}function sl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))qp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,y))return Du(t,n,h,0),lt===null&&Nu(),!1}catch{}finally{}if(a=$h(t,n,h,o),a!==null)return yn(a,t,o),Hp(a,n,o),!0}return!1}function Mf(t,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(r(479))}else n=$h(t,a,o,2),n!==null&&yn(n,t,2)}function Zu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function qp(t,n){La=Fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Hp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,xo(t,a)}}var rl={readContext:Zt,use:Qu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};rl.useEffectEvent=Tt;var Fp={readContext:Zt,use:Qu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Zt,useEffect:Rp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,Dp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var a=cn();n=n===void 0?null:n;var o=t();if(Kr){bt(!0);try{t()}finally{bt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=cn();if(a!==void 0){var h=a(n);if(Kr){bt(!0);try{a(n)}finally{bt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=xE.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,a=Bp.bind(null,Ie,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(t,n){var a=cn();return Df(a,t,n)},useTransition:function(){var t=Rf(!1);return t=jp.bind(null,Ie,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ie,h=cn();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),lt===null)throw Error(r(349));(Ue&127)!==0||hp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Rp(dp.bind(null,o,f,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},fp.bind(null,o,f,a,n),null),a},useId:function(){var t=cn(),n=lt.identifierPrefix;if(Fe){var a=Oi,o=Di;a=(o&~(1<<32-ct(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Gu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=vE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,Ie,!0,a),a.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return cn().memoizedState=AE.bind(null,Ie)},useEffectEvent:function(t){var n=cn(),a={impl:t};return n.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Vf={readContext:Zt,use:Qu,useCallback:kp,useContext:Zt,useEffect:If,useImperativeHandle:Op,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:Mp,useReducer:Ku,useRef:xp,useState:function(){return Ku(is)},useDebugValue:Nf,useDeferredValue:function(t,n){var a=Rt();return Vp(a,st.memoizedState,t,n)},useTransition:function(){var t=Ku(is)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:kf,useFormState:wp,useActionState:wp,useOptimistic:function(t,n){var a=Rt();return pp(a,st,t,n)},useMemoCache:Sf,useCacheRefresh:zp};Vf.useEffectEvent=Cp;var Gp={readContext:Zt,use:Qu,useCallback:kp,useContext:Zt,useEffect:If,useImperativeHandle:Op,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:Mp,useReducer:xf,useRef:xp,useState:function(){return xf(is)},useDebugValue:Nf,useDeferredValue:function(t,n){var a=Rt();return st===null?Df(a,t,n):Vp(a,st.memoizedState,t,n)},useTransition:function(){var t=xf(is)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:cp,useId:Up,useHostTransitionStatus:kf,useFormState:Ap,useActionState:Ap,useOptimistic:function(t,n){var a=Rt();return st!==null?pp(a,st,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:zp};Gp.useEffectEvent=Cp;function jf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Cn(),h=Ls(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(yn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Cn(),h=Ls(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(yn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Cn(),o=Ls(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(t,o,a),n!==null&&(yn(n,t,a),Wo(n,t,a))}};function Yp(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Go(a,o)||!Go(h,f):!0}function Qp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function Xr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Kp(t){Iu(t)}function Xp(t){console.error(t)}function $p(t){Iu(t)}function Ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Zp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,n)},a}function Jp(t){return t=Ls(t),t.tag=3,t}function Wp(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Zp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Zp(n,a,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function RE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Da(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?cc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(t,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(t,o,h)),!1}throw Error(r(435,a.tag))}return ud(t,o,h),cc(),!1}if(Fe)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(t=Error(r(422),{cause:o}),Ko(Un(t,a)))):(o!==nf&&(n=Error(r(423),{cause:o}),Ko(Un(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Un(o,a),h=Pf(t.stateNode,o,h),mf(t,h),wt!==4&&(wt=2)),!1;var f=Error(r(520),{cause:o});if(f=Un(f,a),dl===null?dl=[f]:dl.push(f),wt!==4&&(wt=2),n===null)return!0;o=Un(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,o,t),mf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jp(h),Wp(h,t,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var Uf=Error(r(461)),Vt=!1;function Jt(t,n,a,o){n.child=t===null?ip(n,null,a,o):Qr(n,t.child,a,o)}function ey(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Hr(n),o=bf(t,n,a,y,f,h),E=Ef(),t!==null&&!Vt?(Tf(t,n,h),ss(t,n,h)):(Fe&&E&&ef(n),n.flags|=1,Jt(t,n,o,h),n.child)}function ty(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ny(t,n,f,o,h)):(t=ku(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(y,o)&&t.ref===n.ref)return ss(t,n,h)}return n.flags|=1,t=Ji(f,o),t.ref=n.ref,t.return=n,n.child=t}function ny(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=o=f,Qf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,ss(t,n,h)}return zf(t,n,a,o,h)}function iy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return sy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?ap(n,f):pf(),op(n);else return o=n.lanes=536870912,sy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(n,f.cachePool),ap(n,f),zs(),n.memoizedState=null):(t!==null&&Lu(n,null),pf(),zs());return Jt(t,n,h,a),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sy(t,n,a,o,h){var f=cf();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Lu(n,null),pf(),op(n),t!==null&&Da(t,n,o,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ry(t,n,a){return Qr(n,t.child,null,a),t=Wu(n,n.pendingProps),t.flags|=2,An(n),n.memoizedState=null,t}function CE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=Wu(n,o),n.lanes=536870912,al(null,t);if(_f(n),(t=ht)?(t=y0(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,$t=n,ht=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return Wu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=ry(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Vt||Da(t,n,a,!1),h=(a&t.childLanes)!==0,Vt||h){if(o=lt,o!==null&&(y=Ro(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ur(t,y),yn(o,t,y),Uf;cc(),n=ry(t,n,a)}else t=f.treeContext,ht=Fn(y.nextSibling),$t=n,Fe=!0,ks=null,qn=!1,t!==null&&Gg(n,t),n=Wu(n,o),n.flags|=4096;return n}return t=Ji(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zf(t,n,a,o,h){return Hr(n),a=bf(t,n,a,o,void 0,h),o=Ef(),t!==null&&!Vt?(Tf(t,n,h),ss(t,n,h)):(Fe&&o&&ef(n),n.flags|=1,Jt(t,n,a,h),n.child)}function ay(t,n,a,o,h,f){return Hr(n),n.updateQueue=null,a=up(n,o,a,h),lp(t),o=Ef(),t!==null&&!Vt?(Tf(t,n,f),ss(t,n,f)):(Fe&&o&&ef(n),n.flags|=1,Jt(t,n,a,f),n.child)}function oy(t,n,a,o,h){if(Hr(n),n.stateNode===null){var f=Ra,y=a.contextType;typeof y=="object"&&y!==null&&(f=Zt(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Zt(y):Ra,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(jf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Lf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Xr(a,E);f.props=C;var U=f.context,G=a.contextType;y=Ra,typeof G=="object"&&G!==null&&(y=Zt(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==y)&&Qp(n,f,o,y),js=!1;var B=n.memoizedState;f.state=B,tl(n,o,f,h),el(),U=n.memoizedState,E||B!==U||js?(typeof K=="function"&&(jf(n,a,K,o),U=n.memoizedState),(C=js||Yp(n,a,C,o,B,U,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(t,n),y=n.memoizedProps,G=Xr(a,y),f.props=G,K=n.pendingProps,B=f.context,U=a.contextType,C=Ra,typeof U=="object"&&U!==null&&(C=Zt(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==C)&&Qp(n,f,o,C),js=!1,B=n.memoizedState,f.state=B,tl(n,o,f,h),el();var F=n.memoizedState;y!==K||B!==F||js||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(jf(n,a,E,o),F=n.memoizedState),(G=js||Yp(n,a,G,o,B,F,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Qr(n,t.child,null,h),n.child=Qr(n,null,a,h)):Jt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ss(t,n,h),t}function ly(t,n,a,o){return Br(),n.flags|=256,Jt(t,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:Zg()}}function Hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function uy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Us(n):zs(),(t=ht)?(t=y0(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=n,n.child=a,$t=n,ht=null)):t=null,t===null)throw Ms(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(zs(),h=n.mode,E=tc({mode:"hidden",children:E},h),o=zr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,y,a),n.memoizedState=Bf,al(null,o)):(Us(n),Ff(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Gf(t,n,a)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),E=zr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,t.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,y,a),n.memoizedState=Bf,n=al(null,o));else if(Us(n),Ad(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var U=y.dgst;y=U,o=Error(r(419)),o.stack="",o.digest=y,Ko({value:o,source:null,stack:null}),n=Gf(t,n,a)}else if(Vt||Da(t,n,a,!1),y=(a&t.childLanes)!==0,Vt||y){if(y=lt,y!==null&&(o=Ro(y,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ur(t,o),yn(y,t,o),Uf;Sd(E)||cc(),n=Gf(t,n,a)}else Sd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ht=Fn(E.nextSibling),$t=n,Fe=!0,ks=null,qn=!1,t!==null&&Gg(n,t),n=Ff(n,o.children),n.flags|=4096);return n}return h?(zs(),E=o.fallback,h=n.mode,C=t.child,U=C.sibling,o=Ji(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=Ji(U,E):(E=zr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=t.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(C=kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Zg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(t,y,a),n.memoizedState=Bf,al(t.child,o)):(Us(n),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ff(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=wn(22,t,null,n),t.lanes=0,t}function Gf(t,n,a){return Qr(n,t.child,null,a),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),af(t.return,n,a)}function Yf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function hy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=xt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ne(xt,y),Jt(t,n,o,a),o=Fe?Qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,n);else if(t.tag===19)cy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ss(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Da(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ji(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function IE(t,n,a){switch(n.tag){case 3:St(n,n.stateNode.containerInfo),Vs(n,kt,t.memoizedState.cache),Br();break;case 27:case 5:ci(n);break;case 4:St(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(n),n.flags|=128,null):(a&n.child.childLanes)!==0?uy(t,n,a):(Us(n),t=ss(t,n,a),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Da(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return hy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(xt,xt.current),o)break;return null;case 22:return n.lanes=0,iy(t,n,a,n.pendingProps);case 24:Vs(n,kt,t.memoizedState.cache)}return ss(t,n,a)}function fy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Qf(t,a)&&(n.flags&128)===0)return Vt=!1,IE(t,n,a);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(n.flags&1048576)!==0&&Fg(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Gr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(o=Xr(t,o),n.tag=1,n=oy(null,n,t,o,a)):(n.tag=0,n=zf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===De){n.tag=11,n=ey(null,n,t,o,a);break e}else if(h===I){n.tag=14,n=ty(null,n,t,o,a);break e}}throw n=nt(t)||t,Error(r(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Xr(o,n.pendingProps),oy(t,n,o,h,a);case 3:e:{if(St(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(t,n),tl(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Vs(n,kt,o),o!==f.cache&&of(n,[kt],a,!0),el(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ly(t,n,o,a);break e}else if(o!==h){h=Un(Error(r(424)),n),Ko(h),n=ly(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Fn(t.firstChild),$t=n,Fe=!0,ks=null,qn=!0,a=ip(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Br(),o===h){n=ss(t,n,a);break e}Jt(t,n,o,a)}n=n.child}return n;case 26:return ec(t,n),t===null?(a=w0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Fe||(a=n.type,t=n.pendingProps,o=yc(Ae.current).createElement(a),o[Nt]=n,o[Ht]=t,Wt(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=w0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ci(n),t===null&&Fe&&(o=n.stateNode=b0(n.type,n.pendingProps,Ae.current),$t=n,qn=!0,h=ht,Ks(n.type)?(xd=h,ht=Fn(o.firstChild)):ht=h),Jt(t,n,n.pendingProps.children,a),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=ht)&&(o=rT(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,$t=n,ht=Fn(o.firstChild),qn=!1,h=!0):h=!1),h||Ms(n)),ci(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Ed(h,f)?o=null:y!==null&&Ed(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,bE,null,null,a),El._currentValue=h),ec(t,n),Jt(t,n,o,a),n.child;case 6:return t===null&&Fe&&((t=a=ht)&&(a=aT(a,n.pendingProps,qn),a!==null?(n.stateNode=a,$t=n,ht=null,t=!0):t=!1),t||Ms(n)),null;case 13:return uy(t,n,a);case 4:return St(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Qr(n,null,o,a):Jt(t,n,o,a),n.child;case 11:return ey(t,n,n.type,n.pendingProps,a);case 7:return Jt(t,n,n.pendingProps,a),n.child;case 8:return Jt(t,n,n.pendingProps.children,a),n.child;case 12:return Jt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),Jt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Hr(n),h=Zt(h),o=o(h),n.flags|=1,Jt(t,n,o,a),n.child;case 14:return ty(t,n,n.type,n.pendingProps,a);case 15:return ny(t,n,n.type,n.pendingProps,a);case 19:return hy(t,n,a);case 31:return CE(t,n,a);case 22:return iy(t,n,a,n.pendingProps);case 24:return Hr(n),o=Zt(kt),t===null?(h=cf(),h===null&&(h=lt,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),Vs(n,kt,h)):((t.lanes&a)!==0&&(df(t,n),tl(n,null,null,a),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,kt,o)):(o=f.cache,Vs(n,kt,o),o!==h.cache&&of(n,[kt],a,!0))),Jt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function rs(t){t.flags|=4}function Kf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Yr=Uu,hf}else t.flags&=-16777217}function dy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!C0(n))if(Uy())t.flags|=8192;else throw Yr=Uu,hf}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,Ha|=n)}function ol(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function NE(t,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(kt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),ft(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(rs(n),f!==null?(ft(n),dy(n,f)):(ft(n),Kf(n,h,null,o,a))):f?f!==t.memoizedState?(rs(n),ft(n),dy(n,f)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&rs(n),ft(n),Kf(n,h,t,o,a)),null;case 27:if(bs(n),a=Ae.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}t=se.current,Na(n)?Yg(n):(t=b0(h,o,a),n.stateNode=t,rs(n))}return ft(n),null;case 5:if(bs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ft(n),null}if(f=se.current,Na(n))Yg(n);else{var y=yc(Ae.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Nt]=n,f[Ht]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Wt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&rs(n)}}return ft(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&rs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ae.current,Na(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=$t,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||u0(t.nodeValue,a)),t||Ms(n,!0)}else t=yc(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return ft(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Na(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Nt]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else a=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ft(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Nt]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),nc(n,n.updateQueue),ft(n),null);case 4:return ot(),t===null&&pd(n.stateNode.containerInfo),ft(n),null;case 10:return ts(n.type),ft(n),null;case 19:if(Q(xt),o=n.memoizedState,o===null)return ft(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bg(a,t),a=a.sibling;return ne(xt,xt.current&1|2),Fe&&Wi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Kt()>oc&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return ft(n),null}else 2*Kt()-o.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Kt(),t.sibling=null,a=xt.current,ne(xt,h?a&1|2:a&1),Fe&&Wi(n,o.treeForkCount),t):(ft(n),null);case 22:case 23:return An(n),yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),a=n.updateQueue,a!==null&&nc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Q(Fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ts(kt),ft(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function DE(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(kt),ot(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return bs(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(r(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(An(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(xt),null;case 4:return ot(),null;case 10:return ts(n.type),null;case 22:case 23:return An(n),yf(),t!==null&&Q(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(kt),null;case 25:return null;default:return null}}function my(t,n){switch(tf(n),n.tag){case 3:ts(kt),ot();break;case 26:case 27:case 5:bs(n);break;case 4:ot();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Q(xt);break;case 10:ts(n.type);break;case 22:case 23:An(n),yf(),t!==null&&Q(Fr);break;case 24:ts(kt)}}function ll(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){tt(n,n.return,E)}}function Bs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=a,U=E;try{U()}catch(G){tt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){tt(n,n.return,G)}}function gy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{rp(n,a)}catch(o){tt(t,t.return,o)}}}function py(t,n,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){tt(t,n,o)}}function ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){tt(t,n,h)}}function ki(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,n,h)}else a.current=null}function yy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Xf(t,n,a){try{var o=t.stateNode;WE(o,t.type,a,n),o[Ht]=n}catch(h){tt(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,a),t=t.sibling;t!==null;)Zf(t,n,a),t=t.sibling}function ic(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,n,a),t=t.sibling;t!==null;)ic(t,n,a),t=t.sibling}function vy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Wt(n,o,a),n[Nt]=t,n[Ht]=a}catch(f){tt(t,t.return,f)}}var as=!1,jt=!1,Jf=!1,by=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function OE(t,n){if(t=t.containerInfo,vd=Sc,t=Og(t),Fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,C=-1,U=0,G=0,K=t,B=null;t:for(;;){for(var F;K!==a||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(C=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(F=K.firstChild)!==null;)B=K,K=F;for(;;){if(K===t)break t;if(B===a&&++U===h&&(E=y),B===f&&++G===o&&(C=y),(F=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:t,selectionRange:a},Sc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ae=Xr(a.type,h);t=o.getSnapshotBeforeUpdate(ae,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){tt(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Ey(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ls(t,a),o&4&&ll(5,a);break;case 1:if(ls(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){tt(a,a.return,y)}else{var h=Xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){tt(a,a.return,y)}}o&64&&gy(a),o&512&&ul(a,a.return);break;case 3:if(ls(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{rp(t,n)}catch(y){tt(a,a.return,y)}}break;case 27:n===null&&o&4&&vy(a);case 26:case 5:ls(t,a),n===null&&o&4&&yy(a),o&512&&ul(a,a.return);break;case 12:ls(t,a);break;case 31:ls(t,a),o&4&&Sy(t,a);break;case 13:ls(t,a),o&4&&Ay(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=BE.bind(null,a),oT(t,a))));break;case 22:if(o=a.memoizedState!==null||as,!o){n=n!==null&&n.memoizedState!==null||jt,h=as;var f=jt;as=o,(jt=n)&&!f?us(t,a,(a.subtreeFlags&8772)!==0):ls(t,a),as=h,jt=f}break;case 30:break;default:ls(t,a)}}function Ty(t){var n=t.alternate;n!==null&&(t.alternate=null,Ty(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&da(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,dn=!1;function os(t,n,a){for(a=a.child;a!==null;)wy(t,n,a),a=a.sibling}function wy(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Je,a)}catch{}switch(a.tag){case 26:jt||ki(a,n),os(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||ki(a,n);var o=pt,h=dn;Ks(a.type)&&(pt=a.stateNode,dn=!1),os(t,n,a),_l(a.stateNode),pt=o,dn=h;break;case 5:jt||ki(a,n);case 6:if(o=pt,h=dn,pt=null,os(t,n,a),pt=o,dn=h,pt!==null)if(dn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(f){tt(a,n,f)}else try{pt.removeChild(a.stateNode)}catch(f){tt(a,n,f)}break;case 18:pt!==null&&(dn?(t=pt,g0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Za(t)):g0(pt,a.stateNode));break;case 4:o=pt,h=dn,pt=a.stateNode.containerInfo,dn=!0,os(t,n,a),pt=o,dn=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),jt||Bs(4,a,n),os(t,n,a);break;case 1:jt||(ki(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&py(a,n,o)),os(t,n,a);break;case 21:os(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,os(t,n,a),jt=o;break;default:os(t,n,a)}}function Sy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Za(t)}catch(a){tt(n,n.return,a)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Za(t)}catch(a){tt(n,n.return,a)}}function kE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new by),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new by),n;default:throw Error(r(435,t.tag))}}function sc(t,n){var a=kE(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=qE.bind(null,t,o);o.then(h,h)}})}function mn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ks(E.type)){pt=E.stateNode,dn=!1;break e}break;case 5:pt=E.stateNode,dn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,dn=!0;break e}E=E.return}if(pt===null)throw Error(r(160));wy(f,y,h),pt=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)xy(n,t),n=n.sibling}var ii=null;function xy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),gn(t),o&4&&(Bs(3,t,t.return),ll(3,t),Bs(5,t,t.return));break;case 1:mn(n,t),gn(t),o&512&&(jt||a===null||ki(a,a.return)),o&64&&as&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ii;if(mn(n,t),gn(t),o&512&&(jt||a===null||ki(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Wt(f,o,a),f[Nt]=t,Dt(f),o=f;break e;case"link":var y=x0("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Wt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=x0("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Wt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Nt]=t,Dt(f),o=f}t.stateNode=o}else R0(h,t.type,t.stateNode);else t.stateNode=A0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?R0(h,t.type,t.stateNode):A0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(n,t),gn(t),o&512&&(jt||a===null||ki(a,a.return)),a!==null&&o&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(n,t),gn(t),o&512&&(jt||a===null||ki(a,a.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(ae){tt(t,t.return,ae)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(mn(n,t),gn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ae){tt(t,t.return,ae)}}break;case 3:if(bc=null,h=ii,ii=_c(n.containerInfo),mn(n,t),ii=h,gn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(ae){tt(t,t.return,ae)}Jf&&(Jf=!1,Ry(t));break;case 4:o=ii,ii=_c(t.stateNode.containerInfo),mn(n,t),gn(t),ii=o;break;case 12:mn(n,t),gn(t);break;case 31:mn(n,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 13:mn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=Kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=as,G=jt;if(as=U||h,jt=G||C,mn(n,t),jt=G,as=U,gn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||as||jt||$r(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ae){tt(C,C.return,ae)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ae){tt(C,C.return,ae)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?p0(F,!0):p0(C.stateNode,!1)}catch(ae){tt(C,C.return,ae)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(t,a))));break;case 19:mn(n,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 30:break;case 21:break;default:mn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(_y(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(t);ic(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(fn(y,""),a.flags&=-33);var E=$f(t);ic(t,E,y);break;case 3:case 4:var C=a.stateNode.containerInfo,U=$f(t);Zf(t,U,C);break;default:throw Error(r(161))}}catch(G){tt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ry(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(t,n.alternate,n),n=n.sibling}function $r(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),$r(n);break;case 1:ki(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&py(n,n.return,a),$r(n);break;case 27:_l(n.stateNode);case 26:case 5:ki(n,n.return),$r(n);break;case 22:n.memoizedState===null&&$r(n);break;case 30:$r(n);break;default:$r(n)}t=t.sibling}}function us(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:us(h,f,a),ll(4,f);break;case 1:if(us(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){tt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)sp(C[h],E)}catch(U){tt(o,o.return,U)}}a&&y&64&&gy(f),ul(f,f.return);break;case 27:vy(f);case 26:case 5:us(h,f,a),a&&o===null&&y&4&&yy(f),ul(f,f.return);break;case 12:us(h,f,a);break;case 31:us(h,f,a),a&&y&4&&Sy(h,f);break;case 13:us(h,f,a),a&&y&4&&Ay(h,f);break;case 22:f.memoizedState===null&&us(h,f,a),ul(f,f.return);break;case 30:break;default:us(h,f,a)}n=n.sibling}}function Wf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function si(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cy(t,n,a,o),n=n.sibling}function Cy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,a,o),h&2048&&ll(9,n);break;case 1:si(t,n,a,o);break;case 3:si(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){si(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){tt(n,n.return,C)}}else si(t,n,a,o);break;case 31:si(t,n,a,o);break;case 13:si(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?si(t,n,a,o):cl(t,n):f._visibility&2?si(t,n,a,o):(f._visibility|=2,za(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(y,n);break;case 24:si(t,n,a,o),h&2048&&ed(n.alternate,n);break;default:si(t,n,a,o)}}function za(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,C=o,U=y.flags;switch(y.tag){case 0:case 11:case 15:za(f,y,E,C,h),ll(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?za(f,y,E,C,h):cl(f,y):(G._visibility|=2,za(f,y,E,C,h)),h&&U&2048&&Wf(y.alternate,y);break;case 24:za(f,y,E,C,h),h&&U&2048&&ed(y.alternate,y);break;default:za(f,y,E,C,h)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:cl(a,o),h&2048&&Wf(o.alternate,o);break;case 24:cl(a,o),h&2048&&ed(o.alternate,o);break;default:cl(a,o)}n=n.sibling}}var hl=8192;function Ba(t,n,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Iy(t,n,a),t=t.sibling}function Iy(t,n,a){switch(t.tag){case 26:Ba(t,n,a),t.flags&hl&&t.memoizedState!==null&&vT(a,ii,t.memoizedState,t.memoizedProps);break;case 5:Ba(t,n,a);break;case 3:case 4:var o=ii;ii=_c(t.stateNode.containerInfo),Ba(t,n,a),ii=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ba(t,n,a),hl=o):Ba(t,n,a));break;default:Ba(t,n,a)}}function Ny(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,Oy(o,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):fl(t);break;default:fl(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,Oy(o,t)}Ny(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function Oy(t,n){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Gt=o;else e:for(a=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(Ty(o),o===a){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var ME={getCacheForType:function(t){var n=Zt(kt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Zt(kt).controller.signal}},VE=typeof WeakMap=="function"?WeakMap:Map,$e=0,lt=null,Le=null,Ue=0,et=0,xn=null,qs=!1,qa=!1,td=!1,cs=0,wt=0,Hs=0,Zr=0,nd=0,Rn=0,Ha=0,dl=null,pn=null,id=!1,ac=0,ky=0,oc=1/0,lc=null,Fs=null,Ut=0,Gs=null,Fa=null,hs=0,sd=0,rd=null,My=null,ml=0,ad=null;function Cn(){return($e&2)!==0&&Ue!==0?Ue&-Ue:H.T!==null?fd():uu()}function Vy(){if(Rn===0)if((Ue&536870912)===0||Fe){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function yn(t,n,a){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Ys(t,Ue,Rn,!1)),Ar(t,a),(($e&2)===0||t!==lt)&&(t===lt&&(($e&2)===0&&(Zr|=a),wt===4&&Ys(t,Ue,Rn,!1)),Mi(t))}function jy(t,n,a){if(($e&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Kn(t,n),h=o?PE(t,n):ld(t,n,!0),f=o;do{if(h===0){qa&&!o&&Ys(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!jE(a)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=dl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ga(E,y).flags|=256),y=ld(E,y,!1),y!==2){if(td&&!C){E.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break e}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ga(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Rn,!qs);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ac+300-Kt(),10<h)){if(Ys(o,n,Rn,!qs),pi(o,0,!0)!==0)break e;hs=n,o.timeoutHandle=d0(Ly.bind(null,o,a,pn,lc,id,n,Rn,Zr,Ha,qs,f,"Throttled",-0,0),h);break e}Ly(o,a,pn,lc,id,n,Rn,Zr,Ha,qs,f,null,-0,0)}}break}while(!0);Mi(t)}function Ly(t,n,a,o,h,f,y,E,C,U,G,K,B,F){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Iy(n,f,K);var ae=(f&62914560)===f?ac-Kt():(f&4194048)===f?ky-Kt():0;if(ae=bT(K,ae),ae!==null){hs=f,t.cancelPendingCommit=ae(Gy.bind(null,t,n,f,a,o,h,y,E,C,G,K,null,B,F)),Ys(t,f,y,!U);return}}Gy(t,n,f,a,o,h,y,E,C)}function jE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,a,o){n&=~nd,n&=~Zr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ct(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&xr(t,a,n)}function uc(){return($e&6)===0?(gl(0),!1):!0}function od(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,es=qr=null,wf(t),Va=null,Zo=0,t=Le;for(;t!==null;)my(t.alternate,t),t=t.return;Le=null}}function Ga(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hs=0,od(),lt=t,Le=a=Ji(t.current,null),Ue=n,et=0,xn=null,qs=!1,qa=Kn(t,n),td=!1,Ha=Rn=nd=Zr=Hs=wt=0,pn=dl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ct(o),f=1<<h;n|=t[h],o&=~f}return cs=n,Nu(),a}function Py(t,n){Ie=null,H.H=rl,n===Ma||n===Pu?(n=ep(),et=3):n===hf?(n=ep(),et=4):et=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Le===null&&(wt=1,Ju(t,Un(n,t.current)))}function Uy(){var t=Sn.current;return t===null?!0:(Ue&4194048)===Ue?Hn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Hn:!1}function zy(){var t=H.H;return H.H=rl,t===null?rl:t}function By(){var t=H.A;return H.A=ME,t}function cc(){wt=4,qs||(Ue&4194048)!==Ue&&Sn.current!==null||(qa=!0),(Hs&134217727)===0&&(Zr&134217727)===0||lt===null||Ys(lt,Ue,Rn,!1)}function ld(t,n,a){var o=$e;$e|=2;var h=zy(),f=By();(lt!==t||Ue!==n)&&(lc=null,Ga(t,n)),n=!1;var y=wt;e:do try{if(et!==0&&Le!==null){var E=Le,C=xn;switch(et){case 8:od(),y=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var U=et;if(et=0,xn=null,Ya(t,E,C,U),a&&qa){y=0;break e}break;default:U=et,et=0,xn=null,Ya(t,E,C,U)}}LE(),y=wt;break}catch(G){Py(t,G)}while(!0);return n&&t.shellSuspendCounter++,es=qr=null,$e=o,H.H=h,H.A=f,Le===null&&(lt=null,Ue=0,Nu()),y}function LE(){for(;Le!==null;)qy(Le)}function PE(t,n){var a=$e;$e|=2;var o=zy(),h=By();lt!==t||Ue!==n?(lc=null,oc=Kt()+500,Ga(t,n)):qa=Kn(t,n);e:do try{if(et!==0&&Le!==null){n=Le;var f=xn;t:switch(et){case 1:et=0,xn=null,Ya(t,n,f,1);break;case 2:case 9:if(Jg(f)){et=0,xn=null,Hy(n);break}n=function(){et!==2&&et!==9||lt!==t||(et=7),Mi(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Jg(f)?(et=0,xn=null,Hy(n)):(et=0,xn=null,Ya(t,n,f,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var E=Le;if(y?C0(y):E.stateNode.complete){et=0,xn=null;var C=E.sibling;if(C!==null)Le=C;else{var U=E.return;U!==null?(Le=U,hc(U)):Le=null}break t}}et=0,xn=null,Ya(t,n,f,5);break;case 6:et=0,xn=null,Ya(t,n,f,6);break;case 8:od(),wt=6;break e;default:throw Error(r(462))}}UE();break}catch(G){Py(t,G)}while(!0);return es=qr=null,H.H=o,H.A=h,$e=a,Le!==null?0:(lt=null,Ue=0,Nu(),wt)}function UE(){for(;Le!==null&&!Gi();)qy(Le)}function qy(t){var n=fy(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?hc(t):Le=n}function Hy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ay(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=ay(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:wf(n);default:my(a,n),n=Le=Bg(n,cs),n=fy(a,n,cs)}t.memoizedProps=t.pendingProps,n===null?hc(t):Le=n}function Ya(t,n,a,o){es=qr=null,wf(n),Va=null,Zo=0;var h=n.return;try{if(RE(t,h,n,a,Ue)){wt=1,Ju(t,Un(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;wt=1,Ju(t,Un(a,t.current)),Le=null;return}n.flags&32768?(Fe||o===1?t=!0:qa||(Ue&536870912)!==0?t=!1:(qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Fy(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){Fy(n,qs);return}t=n.return;var a=NE(n.alternate,n,cs);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);wt===0&&(wt=5)}function Fy(t,n){do{var a=DE(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);wt=6,Le=null}function Gy(t,n,a,o,h,f,y,E,C){t.cancelPendingCommit=null;do fc();while(Ut!==0);if(($e&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xh,zh(t,a,f,y,E,C),t===lt&&(Le=lt=null,Ue=0),Fa=n,Gs=t,hs=a,sd=f,rd=h,My=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,HE(ie,function(){return $y(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=te.p,te.p=2,y=$e,$e|=4;try{OE(t,n,a)}finally{$e=y,te.p=h,H.T=o}}Ut=1,Yy(),Qy(),Ky()}}function Yy(){if(Ut===1){Ut=0;var t=Gs,n=Fa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=te.p;te.p=2;var h=$e;$e|=4;try{xy(n,t);var f=bd,y=Og(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(C!==null&&Fh(E)){var U=C.start,G=C.end;if(G===void 0&&(G=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var F=B.getSelection(),ae=E.textContent.length,ye=Math.min(C.start,ae),at=C.end===void 0?ye:Math.min(C.end,ae);!F.extend&&ye>at&&(y=at,at=ye,ye=y);var V=Ng(E,ye),O=Ng(E,at);if(V&&O&&(F.rangeCount!==1||F.anchorNode!==V.node||F.anchorOffset!==V.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=K.createRange();P.setStart(V.node,V.offset),F.removeAllRanges(),ye>at?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(K=[],F=E;F=F.parentNode;)F.nodeType===1&&K.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Sc=!!vd,bd=vd=null}finally{$e=h,te.p=o,H.T=a}}t.current=n,Ut=2}}function Qy(){if(Ut===2){Ut=0;var t=Gs,n=Fa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=te.p;te.p=2;var h=$e;$e|=4;try{Ey(t,n.alternate,n)}finally{$e=h,te.p=o,H.T=a}}Ut=3}}function Ky(){if(Ut===4||Ut===3){Ut=0,kn();var t=Gs,n=Fa,a=hs,o=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Fa=Gs=null,Xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Ki(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Je,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,te.p=h}}(hs&3)!==0&&fc(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ad?ml++:(ml=0,ad=t):ml=0,gl(0)}}function Xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function fc(){return Yy(),Qy(),Ky(),$y()}function $y(){if(Ut!==5)return!1;var t=Gs,n=sd;sd=0;var a=Ki(hs),o=H.T,h=te.p;try{te.p=32>a?32:a,H.T=null,a=rd,rd=null;var f=Gs,y=hs;if(Ut=0,Fa=Gs=null,hs=0,($e&6)!==0)throw Error(r(331));var E=$e;if($e|=4,Dy(f.current),Cy(f,f.current,y,a),$e=E,gl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Je,f)}catch{}return!0}finally{te.p=h,H.T=o,Xy(t,n)}}function Zy(t,n,a){n=Un(a,n),n=Pf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Ar(t,2),Mi(t))}function tt(t,n,a){if(t.tag===3)Zy(t,t,a);else for(;n!==null;){if(n.tag===3){Zy(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){t=Un(a,t),a=Jp(2),o=Ps(n,a,2),o!==null&&(Wp(a,o,n,t),Ar(o,2),Mi(o));break}}n=n.return}}function ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new VE;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),t=zE.bind(null,t,n,a),n.then(t,t))}function zE(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(Ue&a)===a&&(wt===4||wt===3&&(Ue&62914560)===Ue&&300>Kt()-ac?($e&2)===0&&Ga(t,0):nd|=a,Ha===Ue&&(Ha=0)),Mi(t)}function Jy(t,n){n===0&&(n=lu()),t=Ur(t,n),t!==null&&(Ar(t,n),Mi(t))}function BE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jy(t,a)}function qE(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Jy(t,a)}function HE(t,n){return vt(t,n)}var dc=null,Qa=null,cd=!1,mc=!1,hd=!1,Qs=0;function Mi(t){t!==Qa&&t.next===null&&(Qa===null?dc=Qa=t:Qa=Qa.next=t),mc=!0,cd||(cd=!0,GE())}function gl(t,n){if(!hd&&mc){hd=!0;do for(var a=!1,o=dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ct(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,n0(o,f))}else f=Ue,f=pi(o,o===lt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(a=!0,n0(o,f));o=o.next}while(a);hd=!1}}function FE(){Wy()}function Wy(){mc=cd=!1;var t=0;Qs!==0&&tT()&&(t=Qs);for(var n=Kt(),a=null,o=dc;o!==null;){var h=o.next,f=e0(o,n);f===0?(o.next=null,a===null?dc=h:a.next=h,h===null&&(Qa=a)):(a=o,(t!==0||(f&3)!==0)&&(mc=!0)),o=h}Ut!==0&&Ut!==5||gl(t),Qs!==0&&(Qs=0)}function e0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ct(f),E=1<<y,C=h[y];C===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Uh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=lt,a=Ue,a=pi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Qn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Qn(o),Ki(a)){case 2:case 8:a=wr;break;case 32:a=ie;break;case 268435456:a=pe;break;default:a=ie}return o=t0.bind(null,t),a=vt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Qn(o),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fc()&&t.callbackNode!==a)return null;var o=Ue;return o=pi(t,t===lt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,n),e0(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?t0.bind(null,t):null)}function n0(t,n){if(fc())return null;jy(t,n,!0)}function GE(){iT(function(){($e&6)!==0?vt(Tr,FE):Wy()})}function fd(){if(Qs===0){var t=Oa;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Qs=t}return Qs}function i0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function s0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function YE(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=i0((h[Ht]||null).action),y=o.submitter;y&&(n=(n=y[Ht]||null)?i0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ri("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var C=y?s0(h,y):new FormData(h);Of(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?s0(h,y):new FormData(h),Of(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var dd=0;dd<Kh.length;dd++){var md=Kh[dd],QE=md.toLowerCase(),KE=md[0].toUpperCase()+md.slice(1);ni(QE,"on"+KE)}ni(Vg,"onAnimationEnd"),ni(jg,"onAnimationIteration"),ni(Lg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(cE,"onTransitionRun"),ni(hE,"onTransitionStart"),ni(fE,"onTransitionCancel"),ni(Pg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function r0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=C}}}}function Pe(t,n){var a=n[fa];a===void 0&&(a=n[fa]=new Set);var o=t+"__bubble";a.has(o)||(a0(n,t,2,!1),a.add(o))}function gd(t,n,a){var o=0;n&&(o|=4),a0(a,t,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[gc]){t[gc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(XE.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,gd("selectionchange",!1,n))}}function a0(t,n,a,o){switch(V0(n)){case 2:var h=wT;break;case 8:h=ST;break;default:h=Dd}a=h.bind(null,n,a,t),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function yd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=bi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}E=E.parentNode}}o=o.return}Cs(function(){var U=f,G=Vn(a),K=[];e:{var B=Ug.get(t);if(B!==void 0){var F=Ri,ae=t;switch(t){case"keypress":if(kr(a)===0)break e;case"keydown":case"keyup":F=xu;break;case"focusin":ae="focus",F=Vr;break;case"focusout":ae="blur",F=Vr;break;case"beforeblur":case"afterblur":F=Vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Vg:case jg:case Lg:F=vu;break;case Pg:F=w;break;case"scroll":case"scrollend":F=zo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zi;break;case"toggle":case"beforetoggle":F=Ce}var ye=(n&4)!==0,at=!ye&&(t==="scroll"||t==="scrollend"),V=ye?B!==null?B+"Capture":null:B;ye=[];for(var O=U,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||V===null||(Y=Jn(O,V),Y!=null&&ye.push(yl(O,Y,P))),at)break;O=O.return}0<ye.length&&(B=new F(B,ae,null,a,G),K.push({event:B,listeners:ye}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Lo&&(ae=a.relatedTarget||a.fromElement)&&(bi(ae)||ae[_i]))break e;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ae=a.relatedTarget||a.toElement,F=U,ae=ae?bi(ae):null,ae!==null&&(at=c(ae),ye=ae.tag,ae!==at||ye!==5&&ye!==27&&ye!==6)&&(ae=null)):(F=null,ae=U),F!==ae)){if(ye=Bo,Y="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Zi,Y="onPointerLeave",V="onPointerEnter",O="pointer"),at=F==null?B:bn(F),P=ae==null?B:bn(ae),B=new ye(Y,O+"leave",F,a,G),B.target=at,B.relatedTarget=P,Y=null,bi(G)===U&&(ye=new ye(V,O+"enter",ae,a,G),ye.target=P,ye.relatedTarget=at,Y=ye),at=Y,F&&ae)t:{for(ye=$E,V=F,O=ae,P=0,Y=V;Y;Y=ye(Y))P++;Y=0;for(var de=O;de;de=ye(de))Y++;for(;0<P-Y;)V=ye(V),P--;for(;0<Y-P;)O=ye(O),Y--;for(;P--;){if(V===O||O!==null&&V===O.alternate){ye=V;break t}V=ye(V),O=ye(O)}ye=null}else ye=null;F!==null&&o0(K,B,F,ye,!1),ae!==null&&at!==null&&o0(K,at,ae,ye,!0)}}e:{if(B=U?bn(U):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Qe=Sg;else if(Tg(B))if(Ag)Qe=oE;else{Qe=rE;var le=sE}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&pa(U.elementType)&&(Qe=Sg):Qe=aE;if(Qe&&(Qe=Qe(t,U))){wg(K,Qe,a,G);break e}le&&le(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Mo(B,"number",B.value)}switch(le=U?bn(U):window,t){case"focusin":(Tg(le)||le.contentEditable==="true")&&(Sa=le,Gh=U,Yo=null);break;case"focusout":Yo=Gh=Sa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,kg(K,a,G);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":kg(K,a,G)}var Ne;if(Xe)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else wa?jr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Ni&&a.locale!=="ko"&&(wa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&wa&&(Ne=Uo()):(xi=G,Po="value"in xi?xi.value:xi.textContent,wa=!0)),le=pc(U,ze),0<le.length&&(ze=new Ii(ze,t,null,a,G),K.push({event:ze,listeners:le}),Ne?ze.data=Ne:(Ne=Ta(a),Ne!==null&&(ze.data=Ne)))),(Ne=Ln?eE(t,a):tE(t,a))&&(ze=pc(U,"onBeforeInput"),0<ze.length&&(le=new Ii("onBeforeInput","beforeinput",null,a,G),K.push({event:le,listeners:ze}),le.data=Ne)),YE(K,t,U,a,G)}r0(K,n)})}function yl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function pc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(t,a),h!=null&&o.unshift(yl(t,h,f)),h=Jn(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function $E(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o0(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||U===null||(C=U,h?(U=Jn(a,f),U!=null&&y.unshift(yl(a,U,C))):h||(U=Jn(a,f),U!=null&&y.push(yl(a,U,C)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var ZE=/\r\n?/g,JE=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(ZE,`
`).replace(JE,"")}function u0(t,n){return n=l0(n),l0(t)===n}function rt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(t,""+o);break;case"className":En(t,"class",o);break;case"tabIndex":En(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,o);break;case"style":jo(t,o,f);break;case"data":if(n!=="object"){En(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ya(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&rt(t,n,"name",h.name,h,null),rt(t,n,"formEncType",h.formEncType,h,null),rt(t,n,"formMethod",h.formMethod,h,null),rt(t,n,"formTarget",h.formTarget,h,null)):(rt(t,n,"encType",h.encType,h,null),rt(t,n,"method",h.method,h,null),rt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ya(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Zn);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ma(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,ma(t,a,o))}}function _d(t,n,a,o,h,f){switch(a){case"style":jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?fn(t,o):(typeof o=="number"||typeof o=="bigint")&&fn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ma(t,a,o)}}}function Wt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:rt(t,n,f,y,a,null)}}h&&rt(t,n,"srcSet",a.srcSet,a,null),o&&rt(t,n,"src",a.src,a,null);return;case"input":Pe("invalid",t);var E=f=y=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":C=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:rt(t,n,o,G,a,null)}}du(t,f,E,C,U,y,h,!1);return;case"select":Pe("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:rt(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!o,n!=null?Ss(t,!!o,n,!1):a!=null&&Ss(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:rt(t,n,y,E,a,null)}As(t,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:rt(t,n,C,o,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<pl.length;o++)Pe(pl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:rt(t,n,U,o,a,null)}return;default:if(pa(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&_d(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&rt(t,n,E,o,a,null))}function WE(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,U=null,G=null;for(F in a){var K=a[F];if(a.hasOwnProperty(F)&&K!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=K;default:o.hasOwnProperty(F)||rt(t,n,F,null,o,K)}}for(var B in o){var F=o[B];if(K=a[B],o.hasOwnProperty(B)&&(F!=null||K!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":G=F;break;case"value":y=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==K&&rt(t,n,B,F,o,K)}}ga(t,y,E,C,U,G,f,h);return;case"select":F=y=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||rt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&rt(t,n,h,f,o,C)}n=E,a=y,o=F,B!=null?Ss(t,!!a,B,!1):!!o!=!!a&&(n!=null?Ss(t,!!a,n,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:rt(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&rt(t,n,y,h,o,f)}mu(t,B,F);return;case"option":for(var ae in a)if(B=a[ae],a.hasOwnProperty(ae)&&B!=null&&!o.hasOwnProperty(ae))switch(ae){case"selected":t.selected=!1;break;default:rt(t,n,ae,null,o,B)}for(C in o)if(B=o[C],F=a[C],o.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:rt(t,n,C,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)B=a[ye],a.hasOwnProperty(ye)&&B!=null&&!o.hasOwnProperty(ye)&&rt(t,n,ye,null,o,B);for(U in o)if(B=o[U],F=a[U],o.hasOwnProperty(U)&&B!==F&&(B!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:rt(t,n,U,B,o,F)}return;default:if(pa(n)){for(var at in a)B=a[at],a.hasOwnProperty(at)&&B!==void 0&&!o.hasOwnProperty(at)&&_d(t,n,at,void 0,o,B);for(G in o)B=o[G],F=a[G],!o.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||_d(t,n,G,B,o,F);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!o.hasOwnProperty(V)&&rt(t,n,V,null,o,B);for(K in o)B=o[K],F=a[K],!o.hasOwnProperty(K)||B===F||B==null&&F==null||rt(t,n,K,B,o,F)}function c0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&c0(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>E)break;var G=C.transferSize,K=C.initiatorType;G&&c0(K)&&(C=C.responseEnd,y+=G*(C<E?1:(E-U)/(C-U)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,bd=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function h0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function tT(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(sT)}:d0;function sT(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function g0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[vi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);Za(n)}function p0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function aT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function y0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fn(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var xd=null;function _0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Fn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function v0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function b0(t,n,a){switch(n=yc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);da(t)}var Gn=new Map,E0=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=te.d;te.d={f:lT,r:uT,D:cT,C:hT,L:fT,m:dT,X:gT,S:mT,M:pT};function lT(){var t=fs.f(),n=uc();return t||n}function uT(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?Pp(n):fs.r(t)}var Ka=typeof document>"u"?null:document;function T0(t,n,a){var o=Ka;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),E0.has(h)||(E0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Wt(n,"link",t),Dt(n),o.head.appendChild(n)))}}function cT(t){fs.D(t),T0("dns-prefetch",t,null)}function hT(t,n){fs.C(t,n),T0("preconnect",t,n)}function fT(t,n,a){fs.L(t,n,a);var o=Ka;if(o&&t&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+hn(a.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var f=h;switch(n){case"style":f=Xa(t);break;case"script":f=$a(t)}Gn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Gn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),Wt(n,"link",t),Dt(n),o.head.appendChild(n)))}}function dT(t,n){fs.m(t,n);var a=Ka;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(t)}if(!Gn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Gn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(f)))return}o=a.createElement("link"),Wt(o,"link",t),Dt(o),a.head.appendChild(o)}}}function mT(t,n,a){fs.S(t,n,a);var o=Ka;if(o&&t){var h=Ei(o).hoistableStyles,f=Xa(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(vl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Gn.get(f))&&Rd(t,a);var C=y=o.createElement("link");Dt(C),Wt(C,"link",t),C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function gT(t,n){fs.X(t,n);var a=Ka;if(a&&t){var o=Ei(a).hoistableScripts,h=$a(t),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(t=S({src:t,async:!0},n),(n=Gn.get(h))&&Cd(t,n),f=a.createElement("script"),Dt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pT(t,n){fs.M(t,n);var a=Ka;if(a&&t){var o=Ei(a).hoistableScripts,h=$a(t),f=o.get(h);f||(f=a.querySelector(bl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Gn.get(h))&&Cd(t,n),f=a.createElement("script"),Dt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w0(t,n,a,o){var h=(h=Ae.current)?_c(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xa(a.href),a=Ei(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var f=Ei(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),f||yT(h,t,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(a),a=Ei(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Xa(t){return'href="'+hn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function S0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function yT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Wt(n,"link",a),Dt(n),t.head.appendChild(n))}function $a(t){return'[src="'+hn(t)+'"]'}function bl(t){return"script[async]"+t}function A0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),Wt(o,"style",h),vc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Xa(a.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=S0(a),(h=Gn.get(h))&&Rd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Wt(f,"link",o),n.state.loading|=4,vc(f,a.precedence,t),n.instance=f;case"script":return f=$a(a.src),(h=t.querySelector(bl(f)))?(n.instance=h,Dt(h),h):(o=a,(h=Gn.get(f))&&(o=S({},a),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Wt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,a.precedence,t));return n.instance}function vc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function x0(t,n,a){if(bc===null){var o=new Map,h=bc=new Map;h.set(a,o)}else h=bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[vi]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function R0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function _T(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=n.ownerDocument||n,o=S0(o),(h=Gn.get(h))&&Rd(o,h),f=f.createElement("link"),Dt(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Wt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ec.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Id=0;function bT(t,n){return t.stylesheets&&t.count===0&&wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*eT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&wc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function wc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(ET,t),Tc=null,Ec.call(t))}function ET(t,n){if(!(n.state.loading&4)){var a=Tc.get(t);if(a)var o=a.get(null);else{a=new Map,Tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var El={$$typeof:ue,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function TT(t,n,a,o,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function I0(t,n,a,o,h,f,y,E,C,U,G,K){return t=new TT(t,n,a,y,C,U,G,K,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),t}function N0(t){return t?(t=Ra,t):Ra}function D0(t,n,a,o,h,f){h=N0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ps(t,o,n),a!==null&&(yn(a,t,n),Wo(a,t,n))}function O0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Nd(t,n){O0(t,n),(t=t.alternate)&&O0(t,n)}function k0(t){if(t.tag===13||t.tag===31){var n=Ur(t,67108864);n!==null&&yn(n,t,67108864),Nd(t,67108864)}}function M0(t){if(t.tag===13||t.tag===31){var n=Cn();n=Rr(n);var a=Ur(t,n);a!==null&&yn(a,t,n),Nd(t,n)}}var Sc=!0;function wT(t,n,a,o){var h=H.T;H.T=null;var f=te.p;try{te.p=2,Dd(t,n,a,o)}finally{te.p=f,H.T=h}}function ST(t,n,a,o){var h=H.T;H.T=null;var f=te.p;try{te.p=8,Dd(t,n,a,o)}finally{te.p=f,H.T=h}}function Dd(t,n,a,o){if(Sc){var h=Od(o);if(h===null)yd(t,n,o,Ac,a),j0(t,o);else if(xT(h,t,n,a,o))o.stopPropagation();else if(j0(t,o),n&4&&-1<AT.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=gi(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-ct(y);E.entanglements[1]|=C,y&=~C}Mi(f),($e&6)===0&&(oc=Kt()+500,gl(0))}}break;case 31:case 13:E=Ur(f,2),E!==null&&yn(E,f,2),uc(),Nd(f,2)}if(f=Od(o),f===null&&yd(t,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(t,n,o,null,a)}}function Od(t){return t=Vn(t),kd(t)}var Ac=null;function kd(t){if(Ac=null,t=bi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function V0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case Tr:return 2;case wr:return 8;case ie:case ge:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Md=!1,Xs=null,$s=null,Zs=null,Tl=new Map,wl=new Map,Js=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(n.pointerId)}}function Sl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&k0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function xT(t,n,a,o,h){switch(n){case"focusin":return Xs=Sl(Xs,t,n,a,o,h),!0;case"dragenter":return $s=Sl($s,t,n,a,o,h),!0;case"mouseover":return Zs=Sl(Zs,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Sl(Tl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,wl.set(f,Sl(wl.get(f)||null,t,n,a,o,h)),!0}return!1}function L0(t){var n=bi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Xn(t.priority,function(){M0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Xn(t.priority,function(){M0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Od(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Lo=o,a.target.dispatchEvent(o),Lo=null}else return n=Mn(a),n!==null&&k0(n),t.blockedOn=a,!1;n.shift()}return!0}function P0(t,n,a){xc(t)&&a.delete(n)}function RT(){Md=!1,Xs!==null&&xc(Xs)&&(Xs=null),$s!==null&&xc($s)&&($s=null),Zs!==null&&xc(Zs)&&(Zs=null),Tl.forEach(P0),wl.forEach(P0)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,RT)))}var Cc=null;function U0(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(kd(o||a)===null)continue;break}var f=Mn(a);f!==null&&(t.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Za(t){function n(C){return Rc(C,t)}Xs!==null&&Rc(Xs,t),$s!==null&&Rc($s,t),Zs!==null&&Rc(Zs,t),Tl.forEach(n),wl.forEach(n);for(var a=0;a<Js.length;a++){var o=Js[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)L0(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ht]||null;if(typeof f=="function")y||U0(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ht]||null)E=y.formAction;else if(kd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),U0(a)}}}function z0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(t){this._internalRoot=t}Ic.prototype.render=Vd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Cn();D0(a,o,t,n,null,null)},Ic.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;D0(t.current,2,null,t,null,null),uc(),n[_i]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&L0(t)}};var B0=e.version;if(B0!=="19.2.0")throw Error(r(527,B0,"19.2.0"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var CT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Je=Nc.inject(CT),je=Nc}catch{}}return xl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Kp,f=Xp,y=$p;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=I0(t,1,!1,null,null,a,o,null,h,f,y,z0),t[_i]=n.current,pd(t),new Vd(n)},xl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Kp,y=Xp,E=$p,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=I0(t,1,!0,n,a??null,o,h,C,f,y,E,z0),n.context=N0(null),a=n.current,o=Cn(),o=Rr(o),h=Ls(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,Ar(n,a),Mi(n),t[_i]=n.current,pd(t),new Ic(n)},xl.version="19.2.0",xl}var Z0;function PT(){if(Z0)return Pd.exports;Z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=LT(),Pd.exports}var UT=PT();const zT=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BT=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),J0=s=>{const e=BT(s);return e.charAt(0).toUpperCase()+e.slice(1)},Ov=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),qT=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var HT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FT=_e.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>_e.createElement("svg",{ref:_,...HT,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Ov("lucide",l),...!c&&!qT(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,T])=>_e.createElement(p,T)),...Array.isArray(c)?c:[c]]));const ke=(s,e)=>{const i=_e.forwardRef(({className:r,...l},c)=>_e.createElement(FT,{ref:c,iconNode:e,className:Ov(`lucide-${zT(J0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=J0(s),i};const GT=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],YT=ke("arrow-down-a-z",GT);const QT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],KT=ke("arrow-left",QT);const XT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cm=ke("calendar",XT);const $T=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ZT=ke("camera",$T);const JT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],WT=ke("check",JT);const ew=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tw=ke("chevron-right",ew);const nw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],iw=ke("circle-alert",nw);const sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],rw=ke("circle-plus",sw);const aw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ow=ke("cloud-upload",aw);const lw=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],uw=ke("coffee",lw);const cw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hw=ke("download",cw);const fw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dw=ke("house",fw);const mw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gw=ke("image",mw);const pw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yw=ke("info",pw);const _w=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],vw=ke("link",_w);const bw=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ew=ke("list",bw);const Tw=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ww=ke("lock",Tw);const Sw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Aw=ke("log-out",Sw);const xw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rw=ke("mail",xw);const Cw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kv=ke("map-pin",Cw);const Iw=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Nw=ke("map",Iw);const Dw=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],Ow=ke("move-vertical",Dw);const kw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Mv=ke("pen-line",kw);const Mw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Im=ke("pencil",Mw);const Vw=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],tm=ke("plane",Vw);const jw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mh=ke("plus",jw);const Lw=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gh=ke("refresh-cw",Lw);const Pw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uw=ke("save",Pw);const zw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bw=ke("settings",zw);const qw=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],$l=ke("shopping-bag",qw);const Hw=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],na=ke("square-check-big",Hw);const Fw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Gw=ke("sun",Fw);const Yw=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Nm=ke("tag",Yw);const Qw=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],Kw=ke("tram-front",Qw);const Xw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dm=ke("trash-2",Xw);const $w=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zw=ke("upload",$w);const Jw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ww=ke("user",Jw);const eS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],la=ke("x",eS);const tS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],nS=ke("zoom-in",tS),iS=()=>{};var W0={};const Vv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},sS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,p=_?s[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|p>>6,z=p&63;_||(z=64,d||(N=64)),r.push(i[T],i[S],i[N],i[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Vv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):sS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const p=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||p==null||S==null)throw new rS;const N=c<<2|g>>4;if(r.push(N),p!==64){const z=g<<4&240|p>>2;if(r.push(z),S!==64){const Z=p<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(s){const e=Vv(s);return jv.encodeByteArray(e,!0)},Xc=function(s){return aS(s).replace(/\./g,"")},Lv=function(s){try{return jv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lS=()=>oS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof W0>"u")return;const s=W0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},cS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Lv(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return iS()||lS()||uS()||cS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Pv=s=>ph()?.emulatorHosts?.[s],hS=s=>{const e=Pv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Uv=()=>ph()?.config,zv=s=>ph()?.[`_${s}`];class fS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bv(s){return(await fetch(s,{credentials:"include"})).ok}function dS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Ml={};function mS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function gS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let e_=!1;function qv(s,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ml[s]===e||Ml[s]||e_)return;Ml[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=mS().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,z){N.setAttribute("width","24"),N.setAttribute("id",z),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{e_=!0,d()},N}function T(N,z){N.setAttribute("id",z),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=gS(r),z=i("text"),Z=document.getElementById(z)||document.createElement("span"),ee=i("learnmore"),J=document.getElementById(ee)||document.createElement("a"),he=i("preprendIcon"),oe=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ue=N.element;g(ue),T(J,ee);const De=p();_(oe,he),ue.append(oe,Z,J,De),document.body.appendChild(ue)}c?(Z.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function yS(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function TS(){return!yS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const AS="FirebaseError";class vs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=AS,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?xS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new vs(l,g,r)}}function xS(s,e){return s.replace(RS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const RS=/\{\$([^}]+)}/g;function CS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ia(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(t_(c)&&t_(d)){if(!ia(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function t_(s){return s!==null&&typeof s=="object"}function Jl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Cl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function IS(s,e){const i=new NS(s,e);return i.subscribe.bind(i)}class NS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");DS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function Qt(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jr="[DEFAULT]";class OS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new fS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MS(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(s){return s===Jr?void 0:s}function MS(s){return s.instantiationMode==="EAGER"}class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new OS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const jS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},LS=Be.INFO,PS={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},US=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=PS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=LS,this._logHandler=US,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const zS=(s,e)=>e.some(i=>s instanceof i);let n_,i_;function BS(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,nm=new WeakMap,Fv=new WeakMap,Hd=new WeakMap,km=new WeakMap;function HS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Hv.set(i,s)}).catch(()=>{}),km.set(e,s),e}function FS(s){if(nm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,e)}let im={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Fv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function GS(s){im=s(im)}function YS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Fd(this),e,...i);return Fv.set(r,e.sort?e.sort():[e]),ar(r)}:qS().includes(s)?function(...e){return s.apply(Fd(this),e),ar(Hv.get(this))}:function(...e){return ar(s.apply(Fd(this),e))}}function QS(s){return typeof s=="function"?YS(s):(s instanceof IDBTransaction&&FS(s),zS(s,BS())?new Proxy(s,im):s)}function ar(s){if(s instanceof IDBRequest)return HS(s);if(Hd.has(s))return Hd.get(s);const e=QS(s);return e!==s&&(Hd.set(s,e),km.set(e,s)),e}const Fd=s=>km.get(s);function KS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=ar(d);return r&&d.addEventListener("upgradeneeded",_=>{r(ar(d.result),_.oldVersion,_.newVersion,ar(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const XS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Gd=new Map;function s_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=$S.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||XS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let p=_.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&_.done]))[0]};return Gd.set(e,c),c}GS(s=>({...s,get:(e,i,r)=>s_(e,i)||s.get(e,i,r),has:(e,i)=>!!s_(e,i)||s.has(e,i)}));class ZS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function JS(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",r_="0.14.6";const gs=new Om("@firebase/app"),WS="@firebase/app-compat",e2="@firebase/analytics-compat",t2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",s2="@firebase/auth",r2="@firebase/auth-compat",a2="@firebase/database",o2="@firebase/data-connect",l2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",h2="@firebase/installations",f2="@firebase/installations-compat",d2="@firebase/messaging",m2="@firebase/messaging-compat",g2="@firebase/performance",p2="@firebase/performance-compat",y2="@firebase/remote-config",_2="@firebase/remote-config-compat",v2="@firebase/storage",b2="@firebase/storage-compat",E2="@firebase/firestore",T2="@firebase/ai",w2="@firebase/firestore-compat",S2="firebase",A2="12.6.0";const rm="[DEFAULT]",x2={[sm]:"fire-core",[WS]:"fire-core-compat",[t2]:"fire-analytics",[e2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[s2]:"fire-auth",[r2]:"fire-auth-compat",[a2]:"fire-rtdb",[o2]:"fire-data-connect",[l2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[h2]:"fire-iid",[f2]:"fire-iid-compat",[d2]:"fire-fcm",[m2]:"fire-fcm-compat",[g2]:"fire-perf",[p2]:"fire-perf-compat",[y2]:"fire-rc",[_2]:"fire-rc-compat",[v2]:"fire-gcs",[b2]:"fire-gcs-compat",[E2]:"fire-fst",[w2]:"fire-fst-compat",[T2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};const zl=new Map,R2=new Map,am=new Map;function a_(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function lo(s){const e=s.name;if(am.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,s);for(const i of zl.values())a_(i,s);for(const i of R2.values())a_(i,s);return!0}function Mm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ai(s){return s==null?!1:s.settings!==void 0}const C2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Zl("app","Firebase",C2);class I2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const vo=A2;function Gv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:rm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw or.create("bad-app-name",{appName:String(l)});if(i||(i=Uv()),!i)throw or.create("no-options");const c=zl.get(l);if(c){if(ia(i,c.options)&&ia(r,c.config))return c;throw or.create("duplicate-app",{appName:l})}const d=new VS(l);for(const _ of am.values())d.addComponent(_);const g=new I2(i,r,d);return zl.set(l,g),g}function Vm(s=rm){const e=zl.get(s);if(!e&&s===rm&&Uv())return Gv();if(!e)throw or.create("no-app",{appName:s});return e}function N2(){return Array.from(zl.values())}function lr(s,e,i){let r=x2[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}lo(new sa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const D2="firebase-heartbeat-database",O2=1,Bl="firebase-heartbeat-store";let Yd=null;function Yv(){return Yd||(Yd=KS(D2,O2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),Yd}async function k2(s){try{const i=(await Yv()).transaction(Bl),r=await i.objectStore(Bl).get(Qv(s));return await i.done,r}catch(e){if(e instanceof vs)gs.warn(e.message);else{const i=or.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function o_(s,e){try{const r=(await Yv()).transaction(Bl,"readwrite");await r.objectStore(Bl).put(e,Qv(s)),await r.done}catch(i){if(i instanceof vs)gs.warn(i.message);else{const r=or.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}const M2=1024,V2=30;class j2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new P2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=l_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>V2){const l=U2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l_(),{heartbeatsToSend:i,unsentEntries:r}=L2(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return gs.warn(e),""}}}function l_(){return new Date().toISOString().substring(0,10)}function L2(s,e=M2){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),u_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),u_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class P2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await k2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function u_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function U2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function z2(s){lo(new sa("platform-logger",e=>new ZS(e),"PRIVATE")),lo(new sa("heartbeat",e=>new j2(e),"PRIVATE")),lr(sm,r_,s),lr(sm,r_,"esm2020"),lr("fire-js","")}z2("");var B2="firebase",q2="12.6.0";lr(B2,q2,"app");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,Kv;(function(){var s;function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,D,j){for(var x=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)x[nt-2]=arguments[nt];return A.prototype[D].apply(M,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],D=I.g[2];let j=I.g[3],x;x=A+(j^R&(D^j))+M[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+M[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+M[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+M[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(j^R&(D^j))+M[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+M[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+M[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+M[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(j^R&(D^j))+M[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+M[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+M[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+M[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(j^R&(D^j))+M[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=j+(D^A&(R^D))+M[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=D+(R^j&(A^R))+M[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=R+(A^D&(j^A))+M[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=A+(D^j&(R^D))+M[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+M[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+M[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+M[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(R^D))+M[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+M[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+M[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+M[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(R^D))+M[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+M[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+M[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+M[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(D^j&(R^D))+M[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=j+(R^D&(A^R))+M[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=D+(A^R&(j^A))+M[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=R+(j^A&(D^j))+M[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=A+(R^D^j)+M[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+M[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+M[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+M[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(R^D^j)+M[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+M[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+M[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+M[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(R^D^j)+M[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+M[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+M[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+M[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(R^D^j)+M[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=j+(A^R^D)+M[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=D+(j^A^R)+M[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=R+(D^j^A)+M[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=A+(D^(R|~j))+M[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+M[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+M[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+M[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=A+(D^(R|~j))+M[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+M[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+M[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+M[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=A+(D^(R|~j))+M[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+M[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+M[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+M[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=A+(D^(R|~j))+M[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=j+(R^(A|~D))+M[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=D+(A^(j|~R))+M[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=R+(j^(D|~A))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,M=this.C;let D=this.h,j=0;for(;j<A;){if(D==0)for(;j<=R;)l(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<A;)if(M[D++]=I.charCodeAt(j++),D==this.blockSize){l(this,M),D=0;break}}else for(;j<A;)if(M[D++]=I[j++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[A++]=this.g[R]>>>M&255;return I};function c(I,A){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function d(I,A){this.h=A;const R=[];let M=!0;for(let D=I.length-1;D>=0;D--){const j=I[D]|0;M&&j==A||(R[D]=j,M=!1)}this.g=R}var g={};function _(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(p(-I));const A=[];let R=1;for(let M=0;I>=R;M++)A[M]=I/R|0,R*=4294967296;return new d(A,0)}function T(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return J(T(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let M=S;for(let j=0;j<I.length;j+=8){var D=Math.min(8,I.length-j);const x=parseInt(I.substring(j,j+D),A);D<8?(D=p(Math.pow(A,D)),M=M.j(D).add(p(x))):(M=M.j(R),M=M.add(p(x)))}return M}var S=_(0),N=_(1),z=_(16777216);s=d.prototype,s.m=function(){if(ee(this))return-J(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(ee(this))return"-"+J(this).toString(I);const A=p(Math.pow(I,6));var R=this;let M="";for(;;){const D=De(R,A).g;R=he(R,D.j(A));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,Z(R))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function ee(I){return I.h==-1}s.l=function(I){return I=he(this,I),ee(I)?-1:Z(I)?0:1};function J(I){const A=I.g.length,R=[];for(let M=0;M<A;M++)R[M]=~I.g[M];return new d(R,~I.h).add(N)}s.abs=function(){return ee(this)?J(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let D=0;D<=A;D++){let j=M+(this.i(D)&65535)+(I.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);M=x>>>16,j&=65535,x&=65535,R[D]=x<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function he(I,A){return I.add(J(A))}s.j=function(I){if(Z(this)||Z(I))return S;if(ee(this))return ee(I)?J(this).j(J(I)):J(J(this).j(I));if(ee(I))return J(this.j(J(I)));if(this.l(z)<0&&I.l(z)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<I.g.length;D++){const j=this.i(M)>>>16,x=this.i(M)&65535,nt=I.i(D)>>>16,yt=I.i(D)&65535;R[2*M+2*D]+=x*yt,oe(R,2*M+2*D),R[2*M+2*D+1]+=j*yt,oe(R,2*M+2*D+1),R[2*M+2*D+1]+=x*nt,oe(R,2*M+2*D+1),R[2*M+2*D+2]+=j*nt,oe(R,2*M+2*D+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new d(R,0)};function oe(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function ue(I,A){this.g=I,this.h=A}function De(I,A){if(Z(A))throw Error("division by zero");if(Z(I))return new ue(S,S);if(ee(I))return A=De(J(I),A),new ue(J(A.g),J(A.h));if(ee(A))return A=De(I,J(A)),new ue(J(A.g),A.h);if(I.g.length>30){if(ee(I)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var R=N,M=A;M.l(I)<=0;)R=Ge(R),M=Ge(M);var D=Oe(R,1),j=Oe(M,1);for(M=Oe(M,2),R=Oe(R,2);!Z(M);){var x=j.add(M);x.l(I)<=0&&(D=D.add(R),j=x),M=Oe(M,1),R=Oe(R,1)}return A=he(I,D.j(A)),new ue(D,A)}for(D=S;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=p(R),x=j.j(A);ee(x)||x.l(I)>0;)R-=M,j=p(R),x=j.j(A);Z(j)&&(j=N),D=D.add(j),I=he(I,x)}return new ue(D,I)}s.B=function(I){return De(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&I.i(M);return new d(R,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|I.i(M);return new d(R,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^I.i(M);return new d(R,this.h^I.h)};function Ge(I){const A=I.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(R,I.h)}function Oe(I,A){const R=A>>5;A%=32;const M=I.g.length-R,D=[];for(let j=0;j<M;j++)D[j]=A>0?I.i(j+R)>>>A|I.i(j+R+1)<<32-A:I.i(j+R);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Kv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,ur=d}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xv,Il,$v,Pc,om,Zv,Jv,Wv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in v))break e;v=v[L]}u=u[u.length-1],w=v[u],m=m(w),m!=w&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],w;for(w in m)Object.prototype.hasOwnProperty.call(m,w)&&v.push([w,m[w]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(w,L,q){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return m.prototype[L].apply(w,W)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const v=Array(m);for(let w=0;w<m;w++)v[w]=u[w];return v}return[]}function Z(u,m){for(let w=1;w<arguments.length;w++){const L=arguments[w];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let W=0;W<q;W++)u[v+W]=L[W]}else u.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function he(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const w=ue.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ue=new ee(()=>new De,u=>u.reset());class De{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Oe=!1,I=new oe,A=()=>{const u=Promise.resolve(void 0);Ge=()=>{u.then(R)}};function R(){for(var u;u=he();){try{u.h.call(u.g)}catch(v){J(v)}var m=ue;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(nt,D),nt.prototype.init=function(u,m){const v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(u,m,v,w,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=L,this.key=++H,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function we(u,m,v){for(const w in u)m.call(v,u[w],w,u)}function Me(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function k(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(v in w)u[v]=w[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,w,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=Ae(u,m,w,L);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new te(m,this.src,q,!!w,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var w=u.g[v],L=Array.prototype.indexOf.call(w,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(w,L,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ae(u,m,v,w){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==w)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),St={};function ot(u,m,v,w,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ot(u,m[q],v,w,L);return null}return v=fi(v),u&&u[yt]?u.J(m,v,g(w)?!!w.capture:!1,L):ci(u,m,v,!1,w,L)}function ci(u,m,v,w,L,q){if(!m)throw Error("Invalid event type");const W=g(L)?!!L.capture:!!L;let Ce=On(u);if(Ce||(u[Ve]=Ce=new se(u)),v=Ce.add(m,v,w,W,q),v.proxy)return v;if(w=bs(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)j||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),w,L);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bs(){function u(v){return m.call(u.src,u.listener,v)}const m=Ts;return u}function hi(u,m,v,w,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)hi(u,m[q],v,w,L);else w=g(w)?!!w.capture:!!w,v=fi(v),u&&u[yt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ae(m,v,w,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=On(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ae(m,v,w,L)),(v=u>-1?m[u]:null)&&Es(v))}function Es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[yt])Ee(m.i,u);else{var v=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(v,w,u.capture):m.detachEvent?m.detachEvent(Dn(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=On(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Ve]=null)):fe(u)}}}function Dn(u){return u in St?St[u]:St[u]="on"+u}function Ts(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,w=u.ha||u.src;u.fa&&Es(u),u=v.call(w,m)}return u}function On(u){return u=u[Ve],u instanceof se?u:null}var Fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function fi(u){return typeof u=="function"?u:(u[Fi]||(u[Fi]=function(m){return u.handleEvent(m)}),u[Fi])}function _t(){M.call(this),this.i=new se(this),this.M=this,this.G=null}S(_t,M),_t.prototype[yt]=!0,_t.prototype.removeEventListener=function(u,m,v,w){hi(this,u,m,v,w)};function vt(u,m){var v,w=u.G;if(w)for(v=[];w;w=w.G)v.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(w,u),ne(m,L)}L=!0;let q,W;if(v)for(W=v.length-1;W>=0;W--)q=m.g=v[W],L=Qn(q,w,!0,m)&&L;if(q=m.g=u,L=Qn(q,w,!0,m)&&L,L=Qn(q,w,!1,m)&&L,v)for(W=0;W<v.length;W++)q=m.g=v[W],L=Qn(q,w,!1,m)&&L}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let w=0;w<v.length;w++)fe(v[w]);delete u.g[m],u.h--}}this.G=null},_t.prototype.J=function(u,m,v,w){return this.i.add(String(u),m,!1,v,w)},_t.prototype.K=function(u,m,v,w){return this.i.add(String(u),m,!0,v,w)};function Qn(u,m,v,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==v){const Ce=W.listener,At=W.ha||W.src;W.fa&&Ee(u.i,W),L=Ce.call(At,w)!==!1&&L}}return L&&!w.defaultPrevented}function Gi(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function kn(u){u.g=Gi(()=>{u.g=null,u.i&&(u.i=!1,kn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Kt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){M.call(this),this.h=u,this.g={}}S(Yi,M);var Tr=[];function wr(u){we(u.g,function(m,v){this.g.hasOwnProperty(v)&&Es(m)},u),u.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),wr(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=d.JSON.stringify,ge=d.JSON.parse,pe=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Te(){}function ut(){}var Je={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}S(je,D);function bt(){D.call(this,"c")}S(bt,D);var ct={},Qi=null;function di(){return Qi=Qi||new _t}ct.Ia="serverreachability";function ou(u){D.call(this,ct.Ia,u)}S(ou,D);function mi(u){const m=di();vt(m,new ou(m))}ct.STAT_EVENT="statevent";function Sr(u,m){D.call(this,ct.STAT_EVENT,u),this.stat=m}S(Sr,D);function It(u){const m=di();vt(m,new Sr(m,u))}ct.Ja="timingevent";function gi(u,m){D.call(this,ct.Ja,u),this.size=m}S(gi,D);function pi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,w,L,q){u.info(function(){if(u.g)if(q){var W="",Ce=q.split("&");for(let Xe=0;Xe<Ce.length;Xe++){var At=Ce[Xe].split("=");if(At.length>1){const gt=At[0];At=At[1];const Ln=gt.split("_");W=Ln.length>=2&&Ln[1]=="type"?W+(gt+"="+At+"&"):W+(gt+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+m+`
`+v+`
`+W})}function lu(u,m,v,w,L,q,W){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+W})}function yi(u,m,v,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(w?" "+w:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<w.length;W++)w[W]=""}}}}return ie(q)}catch{return m}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Rr(){}S(Rr,Te),Rr.prototype.g=function(){return new XMLHttpRequest},Ro=new Rr;function Ki(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Xn(u,m,v,w){this.j=u,this.i=m,this.l=v,this.S=w||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Nt={},Ht={};function _i(u,m,v){u.M=1,u.A=Cr(Ot(m)),u.u=v,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),vi(u),u.B=Ot(u.A);var v=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),pa(v.i,"t",w),u.C=0,v=u.j.L,u.h=new $n,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Kt(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,w=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Tr[0]=L.toString()),L=Tr);for(let q=0;q<L.length;q++){const W=ot(v,L[q],w||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Wn(u)==3?m.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=Wn(this.g),At=this.g.ya(),Xe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ce!=4||At==7||(At==8||Xe<=0?mi(3):mi(2)),bi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var q=w;break t}}q=null}if(u=q)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,u);else{this.o=!1,this.m=3,It(12),bn(this),Mn(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=hu(this,v),gt==Ht){Ce==4&&(this.m=4,It(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Nt){this.m=4,It(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,gt,null),Ei(this,gt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(W),W.P=!0,It(11))}}else yi(this.i,this.l,v,null),Ei(this,v);Ce==4&&bn(this),this.o&&!this.K&&(Ce==4?bu(this.j,this):(this.o=!1,vi(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),bn(this),Mn(this)}}}catch{}finally{}};function Bh(u){if(!cu(u))return u.g.la();const m=Xt(u.g);if(m==="")return"";let v="";const w=m.length,L=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<w;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==w-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,w=m.indexOf(`
`,v);return w==-1?Ht:(v=Number(m.substring(v,w)),isNaN(v)?Nt:(w+=1,w+v>m.length?Ht:(m=m.slice(w,w+v),u.C=w+v,m)))}Xn.prototype.cancel=function(){this.K=!0,bn(this)};function vi(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(p(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(mi(),It(17)),bn(this),this.m=2,Mn(this)):da(this,this.T-u)};function Mn(u){u.j.I==0||u.K||bu(u.j,u)}function bn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ei(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var w=v.Ba.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ea(v),Ns(v);else break e;Vr(v),It(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(p(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((u.L||v.g==u)&&Ea(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Xe=L[m];const gt=Xe[0];if(!(gt<=v.K))if(v.K=gt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const Ln=Xe[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ni=Xe[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ei=Xe[5];ei!=null&&typeof ei=="number"&&ei>0&&(w=1.5*ei,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const ti=u.g;if(ti){const jr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var q=w.h;q.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(No(q,q.h),q.h=null))}if(w.G){const Ta=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(w.wa=Ta,We(w.J,w.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var W=u;if(w.na=wu(w,w.L?w.ba:null,w.W),W.L){Do(w.h,W);var Ce=W,At=w.O;At&&(Ce.H=At),Ce.D&&(bi(Ce),vi(Ce)),w.g=W}else _u(w);v.i.length>0&&Ci(v)}else Xe[0]!="stop"&&Xe[0]!="close"||Ii(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ii(v,7):zo(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}mi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function No(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return z(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const w=u[v].indexOf("=");let L,q=null;w>=0?(L=u[v].substring(0,w),q=u[v].substring(w+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,ko(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),ws(this,m[4]),this.h=Si(m[5]||"",!0),ko(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,ga,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,ga,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?Mo:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,mu)),u.join("")},En.prototype.resolve=function(u){const m=Ot(this);let v=!!u.j;v?Ft(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var w=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=m.h.lastIndexOf("/");L!=-1&&(w=m.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let W=0;W<L.length;){const Ce=L[W++];Ce=="."?w&&W==L.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),w&&W==L.length&&q.push("")):(q.push(Ce),w=!0)}w=q.join("/")}else w=L}return v?m.h=w:v=u.i.toString()!=="",v?ko(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ot(u){return new En(u)}function Ft(u,m,v){u.j=v?Si(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ko(u,m,v){m instanceof As?(u.i=m,ya(u.i,u.l)):(v||(m=Ir(m,Ss)),u.i=new As(m,u.l))}function We(u,m,v){u.i.set(m,v)}function Cr(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,du=/[#\?:]/g,Mo=/[#\?]/g,Ss=/[#\?@]/g,mu=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=As.prototype,s.add=function(u,m){fn(this),this.i=null,u=xs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){fn(u),m=xs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return fn(u),m=xs(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,w){v.forEach(function(L){u.call(m,L,w,this)},this)},this)};function jo(u,m){fn(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(xs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=xs(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function pa(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(xs(u,m),z(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let w=0;w<m.length;w++){var v=m[w];const L=Ki(v);v=jo(this,v);for(let q=0;q<v.length;q++){let W=L;v[q]!==""&&(W+="="+Ki(v[q])),u.push(W)}}return this.i=u.join("&")};function pu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function xs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,w){const L=w.toLowerCase();w!=L&&(gu(this,w),pa(this,L,v))},u)),u.j=m}function Zn(u,m){const v=new Kn;if(d.Image){const w=new Image;w.onload=T(Vn,v,"TestLoadImage: loaded",!0,m,w),w.onerror=T(Vn,v,"TestLoadImage: error",!1,m,w),w.onabort=T(Vn,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=T(Vn,v,"TestLoadImage: timeout",!1,m,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Lo(u,m){const v=new Kn,w=new AbortController,L=setTimeout(()=>{w.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(q=>{clearTimeout(L),q.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Vn(v,"TestPingServer: error",!1,m)})}function Vn(u,m,v,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(v)}catch{}}function Rs(){this.g=new pe}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ai,Te),Ai.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){_t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,_t),s=Nr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):Jn(this),this.readyState==3&&_a(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return we(u,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=jn(v),typeof u=="string"?v!=null&&Ki(v):We(u,m,v))}function it(u){_t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(it,_t);var xi=/^https?$/i,Po=["POST","PUT"];s=it.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Or(this,q);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)v.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const q of w.keys())v.set(q,w.get(q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||w||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of v)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Or(this,q)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Xi(u)}function Uo(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,vt(this,"complete"),vt(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),it.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(vt(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=q===0){let W=String(u.D).match(fu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),w=!xi.test(W?W.toLowerCase():"")}v=w}if(v)vt(u,"complete"),vt(u,"success");else{u.o=6;try{var L=Wn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Uo(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||vt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ge(m)}};function Xt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(x(u[w]))continue;var v=uu(u[w]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Me(m,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,w){It(0),this.W=u,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=wu(this,null,this.W),Ci(this)};function zo(u){if(va(u),u.I==3){var m=u.V++,v=Ot(u.J);if(We(v,"SID",u.M),We(v,"RID",m),We(v,"TYPE","terminate"),Mr(u,v),m=new Xn(u,u.j,m),m.M=2,m.A=Cr(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Tu(u)}function Ns(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function va(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!Io(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ge||A(),Oe||(Ge(),Oe=!0),I.add(m,u),u.D=0}}function ba(u,m){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(p(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Xn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=k(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,L,m),v=Ot(this.J),We(v,"RID",u),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),Mr(this,v),q&&(this.R?m="headers="+Ki(jn(q))+"&"+m:this.u&&Dr(v,this.u,q)),No(this.h,L),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",m),We(v,"SID","null"),L.U=!0,_i(L,v,null)):_i(L,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||Io(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const w=Ot(u.J);We(w,"SID",u.M),We(w,"RID",v),We(w,"AID",u.K),Mr(u,w),u.u&&u.o&&Dr(w,u.u,u.o),v=new Xn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),No(u.h,v),_i(v,w,m)}function Mr(u,m){u.H&&we(u.H,function(v,w){We(m,w,v)}),u.l&&we({},function(v,w){We(m,w,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const w=u.l?p(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ce=-1;for(;;){const At=["count="+v];Ce==-1?v>0?(Ce=L[0].g,At.push("ofs="+Ce)):Ce=0:At.push("ofs="+Ce);let Xe=!0;for(let gt=0;gt<v;gt++){var q=L[gt].g;const Ln=L[gt].map;if(q-=Ce,q<0)Ce=Math.max(0,L[gt].g-100),Xe=!1;else try{q="req"+q+"_"||"";try{var W=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ni,ei]of W){let ti=ei;g(ei)&&(ti=ie(ei)),At.push(q+Ni+"="+encodeURIComponent(ti))}}catch(Ni){throw At.push(q+"type="+encodeURIComponent("_badmap")),Ni}}catch{w&&w(Ln)}}if(Xe){W=At.join("&");break e}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ge||A(),Oe||(Ge(),Oe=!0),I.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(p(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(p(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ns(this),vu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Cr(Ot(m)),v.u=null,v.R=!0,fa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ns(this),Vr(this),It(19))};function Ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bu(u,m){var v=null;if(u.g==m){Ea(u),qo(u),u.g=null;var w=2}else if(wi(u.h,m))v=m.G,Do(u.h,m),w=1;else return;if(u.I!=0){if(m.o)if(w==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;w=di(),vt(w,new gi(w,v)),Ci(u)}else _u(u);else if(L=m.m,L==3||L==0&&m.X>0||!(w==1&&ba(u,m)||w==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),w=u.Ua;const L=!w;w=new En(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(w,"https"),Cr(w),L?Zn(w.toString(),v):Lo(w.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Tu(u),va(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Oo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var w=v instanceof En?Ot(v):new En(v);if(w.g!="")m&&(w.g=m+"."+w.g),ws(w,w.u);else{var L=d.location;w=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new En(null);w&&Ft(q,w),m&&(q.g=m),L&&ws(q,L),v&&(q.h=v),w=q}return v=u.G,m=u.wa,v&&m&&We(w,v,m),We(w,"VER",u.ka),Mr(u,w),w}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new it(new Ai({ab:v})):new it(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new un(u,m)};function un(u,m){_t.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}S(un,_t),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ie(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Ci(m)},un.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,un.Z.N.call(this)};function xu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,je);function Ru(){bt.call(this),this.status=1}S(Ru,bt);function Zi(u){this.g=u}S(Zi,Au),Zi.prototype.ra=function(){vt(this.g,"a")},Zi.prototype.qa=function(u){vt(this.g,new xu(u))},Zi.prototype.pa=function(u){vt(this.g,new Ru)},Zi.prototype.oa=function(){vt(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Wv=function(){return new Ds},Jv=function(){return di()},Zv=ct,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Pc=xr,xo.COMPLETE="complete",$v=xo,ut.EventType=Je,Je.OPEN="a",Je.CLOSE="b",Je.ERROR="c",Je.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Il=ut,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,Xv=it}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.9.2";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let bo="12.3.0";const ra=new Om("@firebase/firestore");function Ja(){return ra.logLevel}function re(s,...e){if(ra.logLevel<=Be.DEBUG){const i=e.map(jm);ra.debug(`Firestore (${bo}): ${s}`,...i)}}function ps(s,...e){if(ra.logLevel<=Be.ERROR){const i=e.map(jm);ra.error(`Firestore (${bo}): ${s}`,...i)}}function uo(s,...e){if(ra.logLevel<=Be.WARN){const i=e.map(jm);ra.warn(`Firestore (${bo}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,e1(s,r,i)}function e1(s,e,i){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function Ze(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||e1(e,l,r)}function Re(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class t1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class F2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class G2{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ze(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ea,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ea)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new t1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class Y2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Y2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ze(this.o===void 0,3512);const r=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ze(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new d_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=X2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function lm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Qd(l)===Qd(c)?qe(l,c):Qd(l)?1:-1}return qe(s.length,e.length)}const $2=55296,Z2=57343;function Qd(s){const e=s.charCodeAt(0);return e>=$2&&e<=Z2}function co(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const m_="__name__";class Vi{constructor(e,i,r){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&be(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Vi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return qe(e.length,i.length)}static compareSegments(e,i){const r=Vi.isNumericId(e),l=Vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Vi.extractNumericId(e).compare(Vi.extractNumericId(i)):lm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class dt extends Vi{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const J2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Vi{construct(e,i,r){return new tn(e,i,r)}static isValidIdentifier(e){return J2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m_}static keyField(){return new tn([m_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ce($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ce($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ce($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(i)}static emptyPath(){return new tn([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(dt.fromString(e))}static fromName(e){return new me(dt.fromString(e).popFirst(5))}static empty(){return new me(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new dt(e.slice()))}}function n1(s,e,i){if(!i)throw new ce($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function W2(s,e,i,r){if(e===!0&&r===!0)throw new ce($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function g_(s){if(!me.isDocumentKey(s))throw new ce($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function p_(s){if(me.isDocumentKey(s))throw new ce($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function i1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Pm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function cr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(s);throw new ce($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Pt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Wl(s,e){if(!i1(s))throw new ce($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ce($.INVALID_ARGUMENT,i);return!0}const y_=-62135596800,__=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*__);return new mt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<y_)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Pt("string",mt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new mt(0,0))}static max(){return new Se(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function eA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(r===1e9?new mt(i+1,0):new mt(i,r));return new dr(l,me.empty(),e)}function tA(s){return new dr(s.readTime,s.key,ql)}class dr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(Se.min(),me.empty(),ql)}static max(){return new dr(Se.max(),me.empty(),ql)}}function nA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=me.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==iA)throw s;re("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((T=>{d[p]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new X(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function rA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Um=-1;function _h(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function aA(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const s1="";function oA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=v_(e)),e=lA(s.get(i),e);return v_(e)}function lA(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case s1:i+="";break;default:i+=c}}return i}function v_(s){return s+s1+""}function b_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function r1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Et{constructor(e,i){this.comparator=e,this.root=i||en.EMPTY}insert(e,i){return new Et(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new en(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new en(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new In([])}unionWith(e){let i=new qt(tn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new In(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new a1("Invalid base64 string: "+c):c}})(e);return new nn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new nn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const uA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(Ze(!!s,39018),typeof s=="string"){let e=0;const i=uA.exec(s);if(Ze(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?nn.fromBase64String(s):nn.fromUint8Array(s)}const o1="server_timestamp",l1="__type__",u1="__previous_value__",c1="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[l1]?.stringValue===o1}function vh(s){const e=s.mapValue.fields[u1];return zm(e)?vh(e):e}function Hl(s){const e=mr(s.mapValue.fields[c1].timestampValue);return new mt(e.seconds,e.nanos)}class cA{constructor(e,i,r,l,c,d,g,_,p,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=T}}const Zc="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||Zc}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}const h1="__type__",hA="__max__",kc={mapValue:{}},f1="__vector__",Jc="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:dA(s)?9007199254740991:fA(s)?10:11:be(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=pr(s);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),g=mr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return gr(l.bytesValue).isEqual(gr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ct(l.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(l.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ct(l.integerValue)===Ct(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ct(l.doubleValue),g=Ct(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return co(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(b_(d)!==b_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!qi(d[_],g[_])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Gl(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function ho(s,e){if(s===e)return 0;const i=pr(s),r=pr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ct(c.integerValue||c.doubleValue),_=Ct(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return T_(s.timestampValue,e.timestampValue);case 4:return T_(Hl(s),Hl(e));case 5:return lm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=gr(c),_=gr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const T=qe(g[p],_[p]);if(T!==0)return T}return qe(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=qe(Ct(c.latitude),Ct(d.latitude));return g!==0?g:qe(Ct(c.longitude),Ct(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return w_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[Jc]?.arrayValue,T=_[Jc]?.arrayValue,S=qe(p?.values?.length||0,T?.values?.length||0);return S!==0?S:w_(p,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},T=Object.keys(p);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const N=lm(_[S],T[S]);if(N!==0)return N;const z=ho(g[_[S]],p[T[S]]);if(z!==0)return z}return qe(_.length,T.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function T_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=mr(s),r=mr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function w_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=ho(i[l],r[l]);if(c)return c}return qe(i.length,r.length)}function fo(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return gr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return me.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=um(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(s.mapValue):be(61005,{value:s})}function Uc(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return vr(r.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw be(13486,{value:s})}}function cm(s){return!!s&&"integerValue"in s}function Bm(s){return!!s&&"arrayValue"in s}function S_(s){return!!s&&"nullValue"in s}function A_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function fA(s){return(s?.mapValue?.fields||{})[h1]?.stringValue===f1}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Vl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Vl(s.arrayValue.values[i]);return e}return{...s}}function dA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hA}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(i)}setAll(e){let i=tn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Vl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){vr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new vn(Vl(this.value))}}function d1(s){const e=[];return vr(s.fields,((i,r)=>{const l=new tn([i]);if(zc(r)){const c=d1(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new In(e)}class on{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new on(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,i,r,l){return new on(e,1,i,Se.min(),r,l,0)}static newNoDocument(e,i){return new on(e,2,i,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,i){return new on(e,3,i,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function x_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=me.comparator(me.fromName(d.referenceValue),i.key):r=ho(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function R_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}class eh{constructor(e,i="asc"){this.field=e,this.dir=i}}function mA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class m1{}class zt extends m1{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new pA(e,i,r):i==="array-contains"?new vA(e,r):i==="in"?new bA(e,r):i==="not-in"?new EA(e,r):i==="array-contains-any"?new TA(e,r):new zt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new yA(e,r):new _A(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ho(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(ho(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends m1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Hi(e,i)}matches(e){return g1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g1(s){return s.op==="and"}function p1(s){return gA(s)&&g1(s)}function gA(s){for(const e of s.filters)if(e instanceof Hi)return!1;return!0}function hm(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+fo(s.value);if(p1(s))return s.filters.map((e=>hm(e))).join(",");{const e=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${e})`}}function y1(s,e){return s instanceof zt?(function(r,l){return l instanceof zt&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)})(s,e):s instanceof Hi?(function(r,l){return l instanceof Hi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&y1(d,l.filters[g])),!0):!1})(s,e):void be(19439)}function _1(s){return s instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${fo(i.value)}`})(s):s instanceof Hi?(function(i){return i.op.toString()+" {"+i.getFilters().map(_1).join(" ,")+"}"})(s):"Filter"}class pA extends zt{constructor(e,i,r){super(e,i,r),this.key=me.fromName(r.referenceValue)}matches(e){const i=me.comparator(e.key,this.key);return this.matchesComparison(i)}}class yA extends zt{constructor(e,i){super(e,"in",i),this.keys=v1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _A extends zt{constructor(e,i){super(e,"not-in",i),this.keys=v1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function v1(s,e){return(e.arrayValue?.values||[]).map((i=>me.fromName(i.referenceValue)))}class vA extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bm(i)&&Gl(i.arrayValue,this.value)}}class bA extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class EA extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Gl(this.value.arrayValue,i)}}class TA extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}class wA{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function C_(s,e=null,i=[],r=[],l=null,c=null,d=null){return new wA(s,e,i,r,l,c,d)}function qm(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>hm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>fo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>fo(r))).join(",")),e.Te=i}return e.Te}function Hm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!mA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!y1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!R_(s.startAt,e.startAt)&&R_(s.endAt,e.endAt)}function fm(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bh{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SA(s,e,i,r,l,c,d,g){return new bh(s,e,i,r,l,c,d,g)}function Fm(s){return new bh(s)}function I_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function AA(s){return s.collectionGroup!==null}function jl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qt(tn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,r))})),i.has(tn.keyField().canonicalString())||e.Ie.push(new eh(tn.keyField(),r))}return e.Ie}function ji(s){const e=Re(s);return e.Ee||(e.Ee=xA(e,jl(s))),e.Ee}function xA(s,e){if(s.limitType==="F")return C_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return C_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function dm(s,e,i){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Eh(s,e){return Hm(ji(s),ji(e))&&s.limitType===e.limitType}function b1(s){return`${qm(ji(s))}|lt:${s.limitType}`}function Wa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>_1(l))).join(", ")}]`),_h(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>fo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>fo(l))).join(",")),`Target(${r})`})(ji(s))}; limitType=${s.limitType})`}function Th(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of jl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const p=x_(d,g,_);return d.inclusive?p<=0:p<0})(r.startAt,jl(r),l)||r.endAt&&!(function(d,g,_){const p=x_(d,g,_);return d.inclusive?p>=0:p>0})(r.endAt,jl(r),l))})(s,e)}function RA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function E1(s){return(e,i)=>{let r=!1;for(const l of jl(s)){const c=CA(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function CA(s,e,i){const r=s.field.isKeyField()?me.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?ho(_,p):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return r1(this.inner)}size(){return this.innerSize}}const IA=new Et(me.comparator);function ys(){return IA}const T1=new Et(me.comparator);function Nl(...s){let e=T1;for(const i of s)e=e.insert(i.key,i);return e}function w1(s){let e=T1;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Wr(){return Ll()}function S1(){return Ll()}function Ll(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const NA=new Et(me.comparator),DA=new qt(me.comparator);function He(...s){let e=DA;for(const i of s)e=e.add(i);return e}const OA=new qt(qe);function kA(){return OA}function Gm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function A1(s){return{integerValue:""+s}}function MA(s,e){return aA(e)?A1(e):Gm(s,e)}class wh{constructor(){this._=void 0}}function VA(s,e,i){return s instanceof th?(function(l,c){const d={fields:{[l1]:{stringValue:o1},[c1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=vh(c)),c&&(d.fields[u1]=c),{mapValue:d}})(i,e):s instanceof Yl?R1(s,e):s instanceof Ql?C1(s,e):(function(l,c){const d=x1(l,c),g=N_(d)+N_(l.Ae);return cm(d)&&cm(l.Ae)?A1(g):Gm(l.serializer,g)})(s,e)}function jA(s,e,i){return s instanceof Yl?R1(s,e):s instanceof Ql?C1(s,e):i}function x1(s,e){return s instanceof nh?(function(r){return cm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class th extends wh{}class Yl extends wh{constructor(e){super(),this.elements=e}}function R1(s,e){const i=I1(e);for(const r of s.elements)i.some((l=>qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ql extends wh{constructor(e){super(),this.elements=e}}function C1(s,e){let i=I1(e);for(const r of s.elements)i=i.filter((l=>!qi(l,r)));return{arrayValue:{values:i}}}class nh extends wh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function N_(s){return Ct(s.integerValue||s.doubleValue)}function I1(s){return Bm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function LA(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Yl&&l instanceof Yl||r instanceof Ql&&l instanceof Ql?co(r.elements,l.elements,qi):r instanceof nh&&l instanceof nh?qi(r.Ae,l.Ae):r instanceof th&&l instanceof th})(s.transform,e.transform)}class PA{constructor(e,i){this.version=e,this.transformResults=i}}class li{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sh{}function N1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,li.none()):new eu(s.key,s.data,li.none());{const i=s.data,r=vn.empty();let l=new qt(tn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new br(s.key,r,new In(l.toArray()),li.none())}}function UA(s,e,i){s instanceof eu?(function(l,c,d){const g=l.value.clone(),_=O_(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=O_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(D1(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Pl(s,e,i,r){return s instanceof eu?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const p=c.value.clone(),T=k_(c.fieldTransforms,_,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,i,r):s instanceof br?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const p=k_(c.fieldTransforms,_,d),T=d.data;return T.setAll(D1(c)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function zA(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=x1(r.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(r.field,c))}return i||null}function D_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&co(r,l,((c,d)=>LA(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends Sh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends Sh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function D1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function O_(s,e,i){const r=new Map;Ze(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,jA(d,g,i[l]))}return r}function k_(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,VA(c,d,e))}return r}class Ym extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BA extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qA{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&UA(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Pl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Pl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=S1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=N1(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((i,r)=>D_(i,r)))&&co(this.baseMutations,e.baseMutations,((i,r)=>D_(i,r)))}}class Qm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return NA})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Qm(e,i,r,l)}}class HA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Ye;function GA(s){switch(s){case $.OK:return be(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function O1(s){if(s===void 0)return ps("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return be(39323,{code:s})}}(Ye=Lt||(Lt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function YA(){return new TextEncoder}const QA=new ur([4294967295,4294967295],0);function M_(s){const e=YA().encode(s),i=new Kv;return i.update(e),new Uint8Array(i.digest())}function V_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ur([i,r],0),new ur([l,c],0)]}class Km{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ur.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(ur.fromNumber(r)));return l.compare(QA)===1&&(l=new ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=M_(e),[r,l]=V_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=M_(e),[r,l]=V_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ah(Se.min(),l,new Et(qe),ys(),He())}}class tu{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new tu(r,i,He(),He(),He())}}class qc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class k1{constructor(e,i){this.targetId=e,this.Ce=i}}class M1{constructor(e,i,r=nn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class j_{constructor(){this.ve=0,this.Fe=L_(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:be(38017,{changeType:c})}})),new tu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=L_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=Mc(),this.He=Mc(),this.Ye=new Et(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(r===0){const d=new me(c.path);this.et(i,d,on.newNoDocument(d,Se.min()))}else Ze(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=gr(r).toUint8Array()}catch(_){if(_ instanceof a1)return uo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Km(d,l,c)}catch(_){return uo(_ instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&fm(g.target)){const _=new me(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,on.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=He();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ah(e,i,this.Ye,this.je,r);return this.je=ys(),this.Je=Mc(),this.He=Mc(),this.Ye=new Et(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new j_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new qt(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new qt(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||re("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new Et(me.comparator)}function L_(){return new Et(me.comparator)}const XA={asc:"ASCENDING",desc:"DESCENDING"},$A={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZA={and:"AND",or:"OR"};class JA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function ih(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function WA(s,e){return ih(s,e.toTimestamp())}function Li(s){return Ze(!!s,49232),Se.fromTimestamp((function(i){const r=mr(i);return new mt(r.seconds,r.nanos)})(s))}function Xm(s,e){return gm(s,e).canonicalString()}function gm(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function j1(s){const e=dt.fromString(s);return Ze(B1(e),10190,{key:e.toString()}),e}function pm(s,e){return Xm(s.databaseId,e.path)}function Kd(s,e){const i=j1(e);if(i.get(1)!==s.databaseId.projectId)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new me(P1(i))}function L1(s,e){return Xm(s.databaseId,e)}function ex(s){const e=j1(s);return e.length===4?dt.emptyPath():P1(e)}function ym(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function P1(s){return Ze(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function P_(s,e,i){return{name:pm(s,e),fields:i.value.mapValue.fields}}function tx(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(p,T){return p.useProto3Json?(Ze(T===void 0||typeof T=="string",58123),nn.fromBase64String(T||"")):(Ze(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),nn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?$.UNKNOWN:O1(p.code);return new ce(T,p.message||"")})(d);i=new M1(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Kd(s,r.document.name),c=Li(r.document.updateTime),d=r.document.createTime?Li(r.document.createTime):Se.min(),g=new vn({mapValue:{fields:r.document.fields}}),_=on.newFoundDocument(l,c,d,g),p=r.targetIds||[],T=r.removedTargetIds||[];i=new qc(p,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Kd(s,r.document),c=r.readTime?Li(r.readTime):Se.min(),d=on.newNoDocument(l,c),g=r.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Kd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new FA(l,c),g=r.targetId;i=new k1(g,d)}}return i}function nx(s,e){let i;if(e instanceof eu)i={update:P_(s,e.key,e.value)};else if(e instanceof Ym)i={delete:pm(s,e.key)};else if(e instanceof br)i={update:P_(s,e.key,e.data),updateMask:hx(e.fieldMask)};else{if(!(e instanceof BA))return be(16599,{Vt:e.type});i={verify:pm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw be(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:WA(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function ix(s,e){return s&&s.length>0?(Ze(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Li(l.updateTime):Li(c);return d.isEqual(Se.min())&&(d=Li(c)),new PA(d,l.transformResults||[])})(i,e)))):[]}function sx(s,e){return{documents:[L1(s,e.path)]}}function rx(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=L1(s,l);const c=(function(p){if(p.length!==0)return z1(Hi.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((T=>(function(N){return{field:eo(N.field),direction:lx(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=mm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:l}}function ax(s){let e=ex(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ze(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const N=U1(S);return N instanceof Hi&&p1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(Z){return new eh(to(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,_h(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,z=S.values||[];return new Wc(z,N)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const N=!S.before,z=S.values||[];return new Wc(z,N)})(i.endAt)),SA(e,l,d,c,g,"F",_,p)}function ox(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function U1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=to(i.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=to(i.unaryFilter.field);return zt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=to(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=to(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return zt.create(to(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Hi.create(i.compositeFilter.filters.map((r=>U1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function lx(s){return XA[s]}function ux(s){return $A[s]}function cx(s){return ZA[s]}function eo(s){return{fieldPath:s.canonicalString()}}function to(s){return tn.fromServerFormat(s.fieldPath)}function z1(s){return s instanceof zt?(function(i){if(i.op==="=="){if(A_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NAN"}};if(S_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(A_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NAN"}};if(S_(i.value))return{unaryFilter:{field:eo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(i.field),op:ux(i.op),value:i.value}}})(s):s instanceof Hi?(function(i){const r=i.getFilters().map((l=>z1(l)));return r.length===1?r[0]:{compositeFilter:{op:cx(i.op),filters:r}}})(s):be(54877,{filter:s})}function hx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function B1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class rr{constructor(e,i,r,l,c=Se.min(),d=Se.min(),g=nn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fx{constructor(e){this.yt=e}}function dx(s){const e=ax({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(e,e.limit,"L"):e}class mx{constructor(){this.Cn=new gx}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(dr.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class gx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new qt(dt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new qt(dt.comparator)).toArray()}}const U_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(q1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}const z_="LruGarbageCollector",px=1048576;function B_([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class yx{constructor(e){this.Ir=e,this.buffer=new qt(B_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();B_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _x{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(z_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?re(z_,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class vx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(yh.ce);const r=new yx(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(U_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,g,_,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(p=Date.now(),Ja()<=Be.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(p-_)+`ms
Total Duration: ${p-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function bx(s,e){return new vx(s,e)}class Ex{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class wx{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Pl(r.mutation,l,In.empty(),mt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=Wr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Nl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Wr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=ys();const d=Ll(),g=(function(){return Ll()})();return i.forEach(((_,p)=>{const T=r.get(p.key);l.has(p.key)&&(T===void 0||T.mutation instanceof br)?c=c.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Pl(T.mutation,p,T.mutation.getFieldMask(),mt.now())):d.set(p.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new Tx(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Ll();let l=new Et(((d,g)=>d-g)),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let T=r.get(_)||In.empty();T=g.applyToLocalView(p,T),r.set(_,T);const S=(l.get(g.batchId)||He()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,T=_.value,S=S1();T.forEach((N=>{if(!c.has(N)){const z=N1(i.get(N),r.get(N));z!==null&&S.set(N,z),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):AA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):X.resolve(Wr());let g=ql,_=c;return d.next((p=>X.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{_=_.insert(T,N)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,He()))).next((T=>({batchId:g,changes:w1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new me(i)).next((r=>{let l=Nl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const p=(function(S,N){return new bh(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,r,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,on.newInvalidDocument(T)))}));let g=Nl();return d.forEach(((_,p)=>{const T=c.get(_);T!==void 0&&Pl(T.mutation,p,In.empty(),mt.now()),Th(i,p)&&(g=g.insert(_,p))})),g}))}}class Sx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Li(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:dx(l.bundledQuery),readTime:Li(l.readTime)}})(i)),X.resolve()}}class Ax{constructor(){this.overlays=new Et(me.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Wr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const l=Wr(),c=i.length+1,d=new me(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new Et(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>r){let T=c.get(p.largestBatchId);T===null&&(T=Wr(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=Wr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=l)););return X.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new HA(i,r));let c=this.qr.get(i);c===void 0&&(c=He(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class xx{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class $m{constructor(){this.Qr=new qt(Yt.$r),this.Ur=new qt(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Yt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Yt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new me(new dt([])),r=new Yt(i,e),l=new Yt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new me(new dt([])),r=new Yt(i,e),l=new Yt(i,e+1);let c=He();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Yt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return me.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||me.comparator(e.key,i.key)}}class Rx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Yt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qA(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Yt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new qt(qe);return i.forEach((l=>{const c=new Yt(l,0),d=new Yt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;me.isDocumentKey(c)||(c=c.child(""));const d=new Yt(new me(c),0);let g=new qt(qe);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Ze(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Yt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Yt(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Cx{constructor(e){this.ri=e,this.docs=(function(){return new Et(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():on.newInvalidDocument(i))}getEntries(e,i){let r=ys();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=ys();const d=i.path,g=new me(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:T}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||nA(tA(T),r)<=0||(l.has(T.key)||Th(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,r,l){be(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Ix(this)}getSize(e){return X.resolve(this.size)}}class Ix extends Ex{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Nx{constructor(e){this.persistence=e,this.si=new ua((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new mo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class H1{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new xx,this.referenceDelegate=e(this),this.Pi=new Nx(this),this.indexManager=new mx,this.remoteDocumentCache=(function(l){return new Cx(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fx(i),this.Ii=new Sx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Ax,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Rx(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){re("MemoryPersistence","Starting transaction:",e);const l=new Dx(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Dx extends sA{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=me.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.pi=new ua((r=>oA(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=bx(this,i)}static mi(e,i){return new sh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,r,l)}}class Ox{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TS()?8:rA(ln())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ox;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Ja()<=Be.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ja()<=Be.DEBUG&&re("QueryEngine","Query:",Wa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ja()<=Be.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(i))):X.resolve())}ys(e,i){if(I_(i))return X.resolve(null);let r=ji(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),r=ji(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=He(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const p=this.Ds(i,g);return this.Cs(i,p,d,_.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,p,i,_)}))))})))))}ws(e,i,r,l){return I_(i)||l.isEqual(Se.min())?X.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Ja()<=Be.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Wa(i)),this.vs(e,d,i,eA(l,ql)).next((g=>g)))}))}Ds(e,i){let r=new qt(E1(e));return i.forEach(((l,c)=>{Th(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Ja()<=Be.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.ps.getDocumentsMatchingQuery(e,i,dr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",Mx=3e8;class Vx{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Et(qe),this.xs=new ua((c=>qm(c)),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function jx(s,e,i,r){return new Vx(s,e,i,r)}async function F1(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=He();for(const p of l){d.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}for(const p of c){g.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function Lx(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,T){const S=p.batch,N=S.keys();let z=X.resolve();return N.forEach((Z=>{z=z.next((()=>T.getEntry(_,Z))).next((ee=>{const J=p.docVersions.get(Z);Ze(J!==null,48541),ee.version.compareTo(J)<0&&(S.applyToRemoteDocument(ee,p),ee.isValidDocument()&&(ee.setReadTime(p.commitVersion),T.addEntry(ee)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=He();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function G1(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Px(s,e){const i=Re(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let z=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?z=z.withResumeToken(nn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),l=l.insert(S,z),(function(ee,J,he){return ee.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=Mx?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(N,z,T)&&g.push(i.Pi.updateTargetData(c,z))}));let _=ys(),p=He();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(Ux(c,d,e.documentUpdates).next((T=>{_=T.ks,p=T.qs}))),!r.isEqual(Se.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function Ux(s,e,i){let r=He(),l=He();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ys();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Se.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):re(Wm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function zx(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Bx(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new rr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function _m(s,e,i){const r=Re(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;re(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function q_(s,e,i){const r=Re(s);let l=Se.min(),c=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,T){const S=Re(_),N=S.xs.get(T);return N!==void 0?X.resolve(S.Ms.get(N)):S.Pi.getTargetData(p,T)})(r,d,ji(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:He()))).next((g=>(qx(r,RA(e),g),{documents:g,Qs:c})))))}function qx(s,e,i){let r=s.Os.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class H_{constructor(){this.activeTargetIds=kA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hx{constructor(){this.Mo=new H_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fx{Oo(e){}shutdown(){}}const F_="ConnectivityMonitor";class G_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(F_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function vm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Xd="RestConnection",Gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=vm(),g=this.zo(e,i.toUriEncodedString());re(Xd,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:p}=new URL(g),T=_o(p);return this.Jo(e,g,_,r,T).then((S=>(re(Xd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw uo(Xd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=Gx[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Qx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class Kx extends Yx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=vm();return new Promise(((g,_)=>{const p=new Xv;p.setWithCredentials(!0),p.listenOnce($v.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pc.NO_ERROR:const S=p.getResponseJson();re(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Pc.TIMEOUT:re(rn,`RPC '${e}' ${d} timed out`),_(new ce($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const N=p.getStatus();if(re(rn,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let z=p.getResponseJson();Array.isArray(z)&&(z=z[0]);const Z=z?.error;if(Z&&Z.status&&Z.message){const ee=(function(he){const oe=he.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(oe)>=0?oe:$.UNKNOWN})(Z.status);_(new ce(ee,Z.message))}else _(new ce($.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new ce($.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{re(rn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);re(rn,`RPC '${e}' ${d} sending request:`,l),p.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Wv(),g=Jv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const T=c.join("");re(rn,`Creating RPC '${e}' stream ${l}: ${T}`,_);const S=d.createWebChannel(T,_);this.I_(S);let N=!1,z=!1;const Z=new Qx({Yo:J=>{z?re(rn,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(N||(re(rn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),N=!0),re(rn,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),ee=(J,he,oe)=>{J.listen(he,(ue=>{try{oe(ue)}catch(De){setTimeout((()=>{throw De}),0)}}))};return ee(S,Il.EventType.OPEN,(()=>{z||(re(rn,`RPC '${e}' stream ${l} transport opened.`),Z.o_())})),ee(S,Il.EventType.CLOSE,(()=>{z||(z=!0,re(rn,`RPC '${e}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),ee(S,Il.EventType.ERROR,(J=>{z||(z=!0,uo(rn,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new ce($.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Il.EventType.MESSAGE,(J=>{if(!z){const he=J.data[0];Ze(!!he,16349);const oe=he,ue=oe?.error||oe[0]?.error;if(ue){re(rn,`RPC '${e}' stream ${l} received error:`,ue);const De=ue.status;let Ge=(function(A){const R=Lt[A];if(R!==void 0)return O1(R)})(De),Oe=ue.message;Ge===void 0&&(Ge=$.INTERNAL,Oe="Unknown error status: "+De+" with message "+ue.message),z=!0,Z.a_(new ce(Ge,Oe)),S.close()}else re(rn,`RPC '${e}' stream ${l} received:`,he),Z.u_(he)}})),ee(g,Zv.STAT_EVENT,(J=>{J.stat===om.PROXY?re(rn,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===om.NOPROXY&&re(rn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function $d(){return typeof document<"u"?document:null}function xh(s){return new JA(s,!0)}class Y1{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Y_="PersistentStream";class Q1{constructor(e,i,r,l,c,d,g,_){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ce($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(re(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xx extends Q1{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tx(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Li(d.readTime):Se.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=fm(_)?{documents:sx(c,_)}:{query:rx(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=V1(c,d.resumeToken);const p=mm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const p=mm(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=ox(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class $x extends Q1{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=ix(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>nx(this.serializer,r)))};this.q_(i)}}class Zx{}class Jx extends Zx{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,gm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce($.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,gm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):re("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class eR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ca(this)&&(re(aa,"Restarting streams for network reachability change."),await(async function(_){const p=Re(_);p.Ea.add(4),await nu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Rh(p)})(this))}))})),this.Ra=new Wx(r,l)}}async function Rh(s){if(ca(s))for(const e of s.da)await e(!0)}async function nu(s){for(const e of s.da)await e(!1)}function K1(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ig(i)?ng(i):wo(i).O_()&&tg(i,e))}function eg(s,e){const i=Re(s),r=wo(i);i.Ia.delete(e),r.O_()&&X1(i,e),i.Ia.size===0&&(r.O_()?r.L_():ca(i)&&i.Ra.set("Unknown"))}function tg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wo(s).Y_(e)}function X1(s,e){s.Va.Ue(e),wo(s).Z_(e)}function ng(s){s.Va=new KA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Ra.ua()}function ig(s){return ca(s)&&!wo(s).x_()&&s.Ia.size>0}function ca(s){return Re(s).Ea.size===0}function $1(s){s.Va=void 0}async function tR(s){s.Ra.set("Online")}async function nR(s){s.Ia.forEach(((e,i)=>{tg(s,e)}))}async function iR(s,e){$1(s),ig(s)?(s.Ra.ha(e),ng(s)):s.Ra.set("Unknown")}async function sR(s,e,i){if(s.Ra.set("Online"),e instanceof M1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){re(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(s,r)}else if(e instanceof qc?s.Va.Ze(e):e instanceof k1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Se.min()))try{const r=await G1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(nn.EMPTY_BYTE_STRING,T.snapshotVersion)),X1(c,_);const S=new rr(T.target,_,p,T.sequenceNumber);tg(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){re(aa,"Failed to raise snapshot:",r),await rh(s,r)}}async function rh(s,e,i){if(!To(e))throw e;s.Ea.add(1),await nu(s),s.Ra.set("Offline"),i||(i=()=>G1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(aa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function Z1(s,e){return e().catch((i=>rh(s,i,e)))}async function Ch(s){const e=Re(s),i=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;rR(e);)try{const l=await zx(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,aR(e,l)}catch(l){await rh(e,l)}J1(e)&&W1(e)}function rR(s){return ca(s)&&s.Ta.length<10}function aR(s,e){s.Ta.push(e);const i=yr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function J1(s){return ca(s)&&!yr(s).x_()&&s.Ta.length>0}function W1(s){yr(s).start()}async function oR(s){yr(s).ra()}async function lR(s){const e=yr(s);for(const i of s.Ta)e.ea(i.mutations)}async function uR(s,e,i){const r=s.Ta.shift(),l=Qm.from(r,e,i);await Z1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function cR(s,e){e&&yr(s).X_&&await(async function(r,l){if((function(d){return GA(d)&&d!==$.ABORTED})(l.code)){const c=r.Ta.shift();yr(r).B_(),await Z1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(r)}})(s,e),J1(s)&&W1(s)}async function Q_(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),re(aa,"RemoteStore received new credentials");const r=ca(i);i.Ea.add(3),await nu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function hR(s,e){const i=Re(s);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(i,r,l){const c=Re(i);return c.sa(),new Xx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:tR.bind(null,s),t_:nR.bind(null,s),r_:iR.bind(null,s),H_:sR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ig(s)?ng(s):s.Ra.set("Unknown")):(await s.ma.stop(),$1(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,r,l){const c=Re(i);return c.sa(),new $x(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:oR.bind(null,s),r_:cR.bind(null,s),ta:lR.bind(null,s),na:uR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(re(aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class sg{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new sg(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(s,e){if(ps("AsyncQueue",`${e}: ${s}`),To(s))return new ce($.UNAVAILABLE,`${e}: ${s}`);throw s}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||me.comparator(i.key,r.key):(i,r)=>me.comparator(i.key,r.key),this.keyedMap=Nl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class K_{constructor(){this.ga=new Et(me.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class go{constructor(e,i,r,l,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new go(e,i,io.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class fR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dR{constructor(){this.queries=X_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Re(i),c=l.queries;l.queries=X_(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new ce($.ABORTED,"Firestore shutting down"))}}function X_(){return new ua((s=>b1(s)),Eh)}async function mR(s,e){const i=Re(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new fR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=rg(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ag(i)}async function gR(s,e){const i=Re(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function pR(s,e){const i=Re(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&ag(i)}function yR(s,e,i){const r=Re(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function ag(s){s.Ca.forEach((e=>{e.next()}))}var bm,$_;($_=bm||(bm={})).Ma="default",$_.Cache="cache";class _R{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}class eb{constructor(e){this.key=e}}class tb{constructor(e){this.key=e}}class vR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=E1(e),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new K_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const N=l.get(T),z=Th(this.query,S)?S:null,Z=!!N&&this.mutatedKeys.has(N.key),ee=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let J=!1;N&&z?N.data.isEqual(z.data)?Z!==ee&&(r.track({type:3,doc:z}),J=!0):this.su(N,z)||(r.track({type:2,doc:z}),J=!0,(_&&this.eu(z,_)>0||p&&this.eu(z,p)<0)&&(g=!0)):!N&&z?(r.track({type:0,doc:z}),J=!0):N&&!z&&(r.track({type:1,doc:N}),J=!0,(_||p)&&(g=!0)),J&&(z?(d=d.add(z),c=ee?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(z,Z){const ee=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:J})}};return ee(z)-ee(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new go(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new tb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new eb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class bR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ER{constructor(e){this.key=e,this.hu=!1}}class TR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>b1(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new Et(me.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wR(s,e,i=!0){const r=ob(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nb(r,e,i,!0),l}async function SR(s,e){const i=ob(s);await nb(i,e,!0,!1)}async function nb(s,e,i,r){const l=await Bx(s.localStore,ji(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await AR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&K1(s.remoteStore,l),g}async function AR(s,e,i,r,l){s.pu=(S,N,z)=>(async function(ee,J,he,oe){let ue=J.view.ru(he);ue.Cs&&(ue=await q_(ee.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,ue))));const De=oe&&oe.targetChanges.get(J.targetId),Ge=oe&&oe.targetMismatches.get(J.targetId)!=null,Oe=J.view.applyChanges(ue,ee.isPrimaryClient,De,Ge);return J_(ee,J.targetId,Oe.au),Oe.snapshot})(s,S,N,z);const c=await q_(s.localStore,e,!0),d=new vR(e,c.Qs),g=d.ru(c.documents),_=tu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,_);J_(s,i,p.au);const T=new bR(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),p.snapshot}async function xR(s,e,i){const r=Re(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Eh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&eg(r.remoteStore,l.targetId),Em(r,l.targetId)})).catch(Eo)):(Em(r,l.targetId),await _m(r.localStore,l.targetId,!0))}async function RR(s,e){const i=Re(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),eg(i.remoteStore,r.targetId))}async function CR(s,e,i){const r=VR(s);try{const l=await(function(d,g){const _=Re(d),p=mt.now(),T=g.reduce(((z,Z)=>z.add(Z.key)),He());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Z=ys(),ee=He();return _.Ns.getEntries(z,T).next((J=>{Z=J,Z.forEach(((he,oe)=>{oe.isValidDocument()||(ee=ee.add(he))}))})).next((()=>_.localDocuments.getOverlayedDocuments(z,Z))).next((J=>{S=J;const he=[];for(const oe of g){const ue=zA(oe,S.get(oe.key).overlayedDocument);ue!=null&&he.push(new br(oe.key,ue,d1(ue.value.mapValue),li.exists(!0)))}return _.mutationQueue.addMutationBatch(z,p,he,g)})).next((J=>{N=J;const he=J.applyToLocalDocumentSet(S,ee);return _.documentOverlayCache.saveOverlays(z,J.batchId,he)}))})).then((()=>({batchId:N.batchId,changes:w1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new Et(qe)),p=p.insert(g,_),d.Vu[d.currentUser.toKey()]=p})(r,l.batchId,i),await iu(r,l.changes),await Ch(r.remoteStore)}catch(l){const c=rg(l,"Failed to persist write");i.reject(c)}}async function ib(s,e){const i=Re(s);try{const r=await Px(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ze(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ze(d.hu,14607):l.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await iu(i,r,e)}catch(r){await Eo(r)}}function Z_(s,e,i){const r=Re(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Re(d);_.onlineState=g;let p=!1;_.queries.forEach(((T,S)=>{for(const N of S.Sa)N.va(g)&&(p=!0)})),p&&ag(_)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IR(s,e,i){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new Et(me.comparator);d=d.insert(c,on.newNoDocument(c,Se.min()));const g=He().add(c),_=new Ah(Se.min(),new Map,new Et(qe),d,g);await ib(r,_),r.du=r.du.remove(c),r.Au.delete(e),lg(r)}else await _m(r.localStore,e,!1).then((()=>Em(r,e,i))).catch(Eo)}async function NR(s,e){const i=Re(s),r=e.batch.batchId;try{const l=await Lx(i.localStore,e);rb(i,r,null),sb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await iu(i,l)}catch(l){await Eo(l)}}async function DR(s,e,i){const r=Re(s);try{const l=await(function(d,g){const _=Re(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return _.mutationQueue.lookupMutationBatch(p,g).next((S=>(Ze(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(p,S)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>_.localDocuments.getDocuments(p,T)))}))})(r.localStore,e);rb(r,e,i),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await iu(r,l)}catch(l){await Eo(l)}}function sb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function rb(s,e,i){const r=Re(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Em(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||ab(s,r)}))}function ab(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(eg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),lg(s))}function J_(s,e,i){for(const r of i)r instanceof eb?(s.Ru.addReference(r.key,e),OR(s,r)):r instanceof tb?(re(og,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||ab(s,r.key)):be(19791,{wu:r})}function OR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(re(og,"New document in limbo: "+i),s.Eu.add(r),lg(s))}function lg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new me(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new ER(i)),s.du=s.du.insert(i,r),K1(s.remoteStore,new rr(ji(Fm(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function iu(s,e,i){const r=Re(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,i).then((p=>{if((p||i)&&r.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(p){l.push(p);const T=Jm.As(_.targetId,p);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,p){const T=Re(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(p,(N=>X.forEach(N.Es,(z=>T.persistence.referenceDelegate.addReference(S,N.targetId,z))).next((()=>X.forEach(N.ds,(z=>T.persistence.referenceDelegate.removeReference(S,N.targetId,z)))))))))}catch(S){if(!To(S))throw S;re(Wm,"Failed to update sequence numbers: "+S)}for(const S of p){const N=S.targetId;if(!S.fromCache){const z=T.Ms.get(N),Z=z.snapshotVersion,ee=z.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(N,ee)}}})(r.localStore,c))}async function kR(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){re(og,"User change. New user:",e.toKey());const r=await F1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ce($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(i,r.Ls)}}function MR(s,e){const i=Re(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function ob(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IR.bind(null,e),e.Pu.H_=pR.bind(null,e.eventManager),e.Pu.yu=yR.bind(null,e.eventManager),e}function VR(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DR.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return jx(this.persistence,new kx,e.initialUser,this.serializer)}Cu(e){return new H1(Zm.mi,this.serializer)}Du(e){return new Hx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class jR extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ze(this.persistence.referenceDelegate instanceof sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _x(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new H1((r=>sh.mi(r,i)),this.serializer)}}class Tm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kR.bind(null,this.syncEngine),await hR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dR})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),r=(function(c){return new Kx(c)})(e.databaseInfo);return(function(c,d,g,_){return new Jx(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new eR(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Z_(this.syncEngine,i,0)),(function(){return G_.v()?new G_:new Fx})())}createSyncEngine(e,i){return(function(l,c,d,g,_,p,T){const S=new TR(l,c,d,g,_,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Re(i);re(aa,"RemoteStore shutting down."),r.Ea.add(5),await nu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class LR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _r="FirestoreClient";class PR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{re(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(re(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=rg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),re(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await F1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function W_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await UR(s);re(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Q_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Q_(e.remoteStore,l))),s._onlineComponents=e}async function UR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(_r,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;uo("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new ah)}}else re(_r,"Using default OfflineComponentProvider"),await Zd(s,new jR(void 0));return s._offlineComponents}async function lb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(_r,"Using user provided OnlineComponentProvider"),await W_(s,s._uninitializedComponentsProvider._online)):(re(_r,"Using default OnlineComponentProvider"),await W_(s,new Tm))),s._onlineComponents}function zR(s){return lb(s).then((e=>e.syncEngine))}async function ev(s){const e=await lb(s),i=e.eventManager;return i.onListen=wR.bind(null,e.syncEngine),i.onUnlisten=xR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=SR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=RR.bind(null,e.syncEngine),i}function ub(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const tv=new Map;const cb="firestore.googleapis.com",nv=!0;class iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cb,this.ssl=nv}else this.host=e.host,this.ssl=e.ssl??nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<px)throw new ce($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ub(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new H2;switch(r.type){case"firstParty":return new Q2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=tv.get(i);r&&(re("ComponentProvider","Removing Datastore"),tv.delete(i),r.terminate())})(this),Promise.resolve()}}function BR(s,e,i,r={}){s=cr(s,Ih);const l=_o(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Bv(`https://${g}`),qv("Firestore",!0)),c.host!==cb&&c.host!==g&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!ia(_,d)&&(s._setSettings(_),r.mockUserToken)){let p,T;if(typeof r.mockUserToken=="string")p=r.mockUserToken,T=an.MOCK_USER;else{p=dS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ce($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(S)}s._authCredentials=new F2(new t1(p,T))}}class Nh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Bt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Wl(i,Bt._jsonSchema))return new Bt(e,r||null,new me(dt.fromString(i.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Pt("string",Bt._jsonSchemaVersion),referencePath:Pt("string")};class hr extends Nh{constructor(e,i,r){super(e,i,Fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new me(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function sv(s,e,...i){if(s=Qt(s),n1("collection","path",e),s instanceof Ih){const r=dt.fromString(e,...i);return p_(r),new hr(s,null,r)}{if(!(s instanceof Bt||s instanceof hr))throw new ce($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return p_(r),new hr(s.firestore,null,r)}}function Hc(s,e,...i){if(s=Qt(s),arguments.length===1&&(e=Lm.newId()),n1("doc","path",e),s instanceof Ih){const r=dt.fromString(e,...i);return g_(r),new Bt(s,null,new me(r))}{if(!(s instanceof Bt||s instanceof hr))throw new ce($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return g_(r),new Bt(s.firestore,s instanceof hr?s.converter:null,new me(r))}}const rv="AsyncQueue";class av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const r=$d();r&&re(rv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;re(rv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",ov(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=sg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function ov(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function lv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class po extends Ih{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new av,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function qR(s,e){const i=typeof s=="object"?s:Vm(),r=typeof s=="string"?s:Zc,l=Mm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=hS("firestore");c&&BR(l,...c)}return l}function hb(s){if(s._terminated)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||HR(s),s._firestoreClient}function HR(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new cA(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ub(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new PR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(nn.fromBase64String(e))}catch(i){throw new ce($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Pt("string",Yn._jsonSchemaVersion),bytes:Pt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._methodName=e}}class Pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Pt("string",Pi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new ce($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Pt("string",Ui._jsonSchemaVersion),vectorValues:Pt("object")};const FR=/^__.*__$/;class GR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class fb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function db(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:s})}}class cg{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(db(this.Ac)&&FR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YR{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||xh(e)}Cc(e,i,r,l=!1){return new cg({Ac:e,methodName:i,Dc:r,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mb(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new YR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function QR(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);hg("Data must be an object, but it was:",d,r);const g=gb(r,d);let _,p;if(c.merge)_=new In(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const N=wm(e,S,i);if(!d.contains(N))throw new ce($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);yb(T,N)||T.push(N)}_=new In(T),p=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,p=d.fieldTransforms;return new GR(new vn(g),_,p)}class Oh extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function KR(s,e,i,r){const l=s.Cc(1,e,i);hg("Data must be an object, but it was:",l,r);const c=[],d=vn.empty();vr(r,((_,p)=>{const T=fg(e,_,i);p=Qt(p);const S=l.yc(T);if(p instanceof Oh)c.push(T);else{const N=kh(p,S);N!=null&&(c.push(T),d.set(T,N))}}));const g=new In(c);return new fb(d,g,l.fieldTransforms)}function XR(s,e,i,r,l,c){const d=s.Cc(1,e,i),g=[wm(e,r,i)],_=[l];if(c.length%2!=0)throw new ce($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(wm(e,c[N])),_.push(c[N+1]);const p=[],T=vn.empty();for(let N=g.length-1;N>=0;--N)if(!yb(p,g[N])){const z=g[N];let Z=_[N];Z=Qt(Z);const ee=d.yc(z);if(Z instanceof Oh)p.push(z);else{const J=kh(Z,ee);J!=null&&(p.push(z),T.set(z,J))}}const S=new In(p);return new fb(T,S,d.fieldTransforms)}function kh(s,e){if(pb(s=Qt(s)))return hg("Unsupported field value:",e,s),gb(s,e);if(s instanceof ug)return(function(r,l){if(!db(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=kh(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MA(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=mt.fromDate(r);return{timestampValue:ih(l.serializer,c)}}if(r instanceof mt){const c=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:V1(l.serializer,r._byteString)};if(r instanceof Bt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ui)return(function(d,g){return{mapValue:{fields:{[h1]:{stringValue:f1},[Jc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Gm(g.serializer,p)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Pm(r)}`)})(s,e)}function gb(s,e){const i={};return r1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,((r,l)=>{const c=kh(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof mt||s instanceof Pi||s instanceof Yn||s instanceof Bt||s instanceof ug||s instanceof Ui)}function hg(s,e,i){if(!pb(i)||!i1(i)){const r=Pm(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function wm(s,e,i){if((e=Qt(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return fg(s,e);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const $R=new RegExp("[~\\*/\\[\\]]");function fg(s,e,i){if(e.search($R)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ce($.INVALID_ARGUMENT,g+s+_)}function yb(s,e){return s.some((i=>i.isEqual(e)))}class _b{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(vb("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZR extends _b{data(){return super.data()}}function vb(s,e){return typeof e=="string"?fg(s,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function JR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WR{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return vr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new Pi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);Ze(B1(r),9688,{name:e});const l=new Fl(r.get(1),r.get(3)),c=new me(r.popFirst(5));return l.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function eC(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends _b{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(vb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Pt("string",ta._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Fc extends ta{data(e={}){return super.data(e)}}class so{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Fc(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Fc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ol(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:tC(g.type),doc:_,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Pt("string",so._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class bb extends WR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,i)}}function uv(s,e,i,...r){s=cr(s,Bt);const l=cr(s.firestore,po),c=mb(l);let d;return d=typeof(e=Qt(e))=="string"||e instanceof Dh?XR(c,"updateDoc",s._key,e,i,r):KR(c,"updateDoc",s._key,e),dg(l,[d.toMutation(s._key,li.exists(!0))])}function nC(s){return dg(cr(s.firestore,po),[new Ym(s._key,li.none())])}function iC(s,e){const i=cr(s.firestore,po),r=Hc(s),l=eC(s.converter,e);return dg(i,[QR(mb(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,li.exists(!1))]).then((()=>r))}function sC(s,...e){s=Qt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||lv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lv(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Bt)d=cr(s.firestore,po),g=Fm(s._key.path),c={next:_=>{e[r]&&e[r](rC(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=cr(s,Nh);d=cr(_.firestore,po),g=_._query;const p=new bb(d);c={next:T=>{e[r]&&e[r](new so(d,p,_,T))},error:e[r+1],complete:e[r+2]},JR(s._query)}return(function(p,T,S,N){const z=new LR(N),Z=new _R(T,z,S);return p.asyncQueue.enqueueAndForget((async()=>mR(await ev(p),Z))),()=>{z.Nu(),p.asyncQueue.enqueueAndForget((async()=>gR(await ev(p),Z)))}})(hb(d),g,l,c)}function dg(s,e){return(function(r,l){const c=new ea;return r.asyncQueue.enqueueAndForget((async()=>CR(await zR(r),l,c))),c.promise})(hb(s),e)}function rC(s,e,i){const r=i.docs.get(e._key),l=new bb(s);return new ta(s,l,e._key,r,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){bo=l})(vo),lo(new sa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new po(new G2(r.getProvider("auth-internal")),new K2(d,r.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(p.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),lr(h_,f_,e),lr(h_,f_,"esm2020")})();function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=Eb,Tb=new Zl("auth","Firebase",Eb());const lh=new Om("@firebase/auth");function oC(s,...e){lh.logLevel<=Be.WARN&&lh.warn(`Auth (${vo}): ${s}`,...e)}function Gc(s,...e){lh.logLevel<=Be.ERROR&&lh.error(`Auth (${vo}): ${s}`,...e)}function ui(s,...e){throw mg(s,...e)}function zi(s,...e){return mg(s,...e)}function wb(s,e,i){const r={...aC(),[e]:i};return new Zl("auth","Firebase",r).create(e,{appName:s.name})}function fr(s){return wb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Tb.create(s,...e)}function ve(s,e,...i){if(!s)throw mg(e,...i)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function _s(s,e){s||ds(e)}function Sm(){return typeof self<"u"&&self.location?.href||""}function lC(){return cv()==="http:"||cv()==="https:"}function cv(){return typeof self<"u"&&self.location?.protocol||null}function uC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||vS()||"connection"in navigator)?navigator.onLine:!0}function cC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=pS()||bS()}get(){return uC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(s,e){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Sb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dC=new su(3e4,6e4);function ha(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Er(s,e,i,r,l={}){return Ab(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Jl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:_,...c};return _S()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(p.credentials="include"),Sb.fetch()(await xb(s,s.config.apiHost,i,g),p)})}async function Ab(s,e,i){s._canInitEmulator=!1;const r={...hC,...e};try{const l=new gC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw jc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw wb(s,T,p);ui(s,T)}}catch(l){if(l instanceof vs)throw l;ui(s,"network-request-failed",{message:String(l)})}}async function Mh(s,e,i,r,l={}){const c=await Er(s,e,i,r,l);return"mfaPendingCredential"in c&&ui(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function xb(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?gg(s.config,l):`${s.config.apiScheme}://${l}`;return fC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function mC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),dC.get())})}}function jc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=zi(s,e,r);return l.customData._tokenResponse=i,l}function hv(s){return s!==void 0&&s.enterprise!==void 0}class pC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return mC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yC(s,e){return Er(s,"GET","/v2/recaptchaConfig",ha(s,e))}async function _C(s,e){return Er(s,"POST","/v1/accounts:delete",e)}async function uh(s,e){return Er(s,"POST","/v1/accounts:lookup",e)}function Ul(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vC(s,e=!1){const i=Qt(s),r=await i.getIdToken(e),l=pg(r);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ul(Jd(l.auth_time)),issuedAtTime:Ul(Jd(l.iat)),expirationTime:Ul(Jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jd(s){return Number(s)*1e3}function pg(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Lv(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function fv(s){const e=pg(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Kl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof vs&&bC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function bC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class EC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(s){const e=s.auth,i=await s.getIdToken(),r=await Kl(s,uh(e,{idToken:i}));ve(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Rb(l.providerUserInfo):[],d=wC(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,p=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function TC(s){const e=Qt(s);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Rb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function SC(s,e){const i=await Ab(s,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await xb(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),Sb.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function AC(s,e){return Er(s,"POST","/v2/accounts:revokeToken",ha(s,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=fv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await SC(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ro;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ds("not implemented")}}function er(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new EC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return vC(this,e)}reload(){return TC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await Kl(this,_C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:z,providerData:Z,stsTokenManager:ee}=i;ve(S&&ee,e,"internal-error");const J=ro.fromJSON(this.name,ee);ve(typeof S=="string",e,"internal-error"),er(r,e.name),er(l,e.name),ve(typeof N=="boolean",e,"internal-error"),ve(typeof z=="boolean",e,"internal-error"),er(c,e.name),er(d,e.name),er(g,e.name),er(_,e.name),er(p,e.name),er(T,e.name);const he=new oi({uid:S,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:z,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:p,lastLoginAt:T});return Z&&Array.isArray(Z)&&(he.providerData=Z.map(oe=>({...oe}))),_&&(he._redirectEventId=_),he}static async _fromIdTokenResponse(e,i,r=!1){const l=new ro;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ch(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Rb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ro;g.updateFromIdToken(r);const _=new oi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const dv=new Map;function ms(s){_s(s instanceof Function,"Expected a class definition");let e=dv.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dv.set(s,e),e)}class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Cb.type="NONE";const mv=Cb;function Yc(s,e,i){return`firebase:${s}:${e}:${i}`}class ao{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Yc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uh(this.auth,{idToken:e}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ao(ms(mv),e,r);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||ms(mv);const d=Yc(r,e.config.apiKey,e.name);let g=null;for(const p of i)try{const T=await p._get(d);if(T){let S;if(typeof T=="string"){const N=await uh(e,{idToken:T}).catch(()=>{});if(!N)break;S=await oi._fromGetAccountInfoResponse(e,N,T)}else S=oi._fromJSON(e,T);p!==c&&(g=S),c=p;break}}catch{}const _=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ao(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new ao(c,e,r))}}function gv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mb(e))return"Blackberry";if(Vb(e))return"Webos";if(Nb(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(kb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Ib(s=ln()){return/firefox\//i.test(s)}function Nb(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(s=ln()){return/crios\//i.test(s)}function Ob(s=ln()){return/iemobile/i.test(s)}function kb(s=ln()){return/android/i.test(s)}function Mb(s=ln()){return/blackberry/i.test(s)}function Vb(s=ln()){return/webos/i.test(s)}function yg(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function xC(s=ln()){return yg(s)&&!!window.navigator?.standalone}function RC(){return ES()&&document.documentMode===10}function jb(s=ln()){return yg(s)||kb(s)||Vb(s)||Mb(s)||/windows phone/i.test(s)||Ob(s)}function Lb(s,e=[]){let i;switch(s){case"Browser":i=gv(ln());break;case"Worker":i=`${gv(ln())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${r}`}class CC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function IC(s,e={}){return Er(s,"GET","/v2/passwordPolicy",ha(s,e))}const NC=6;class DC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??NC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class OC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new CC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uh(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(fr(this));const i=e?Qt(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IC(this),i=new DC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await AC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function So(s){return Qt(s)}class pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=IS(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kC(s){Vh=s}function Pb(s){return Vh.loadJS(s)}function MC(){return Vh.recaptchaEnterpriseScript}function VC(){return Vh.gapiScript}function jC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class LC{constructor(){this.enterprise=new PC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class PC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const UC="recaptcha-enterprise",Ub="NO_RECAPTCHA";class zC{constructor(e){this.type=UC,this.auth=So(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{yC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new pC(_);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,d(p.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;hv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(p=>{d(p)}).catch(()=>{d(Ub)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(g=>{if(!i&&hv(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=MC();_.length!==0&&(_+=g),Pb(_).then(()=>{l(g,c,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function yv(s,e,i,r=!1,l=!1){const c=new zC(s);let d;if(l)d=Ub;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function _v(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await yv(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await yv(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function BC(s,e){const i=Mm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ia(c,e??{}))return l;ui(l,"already-initialized")}return i.initialize({options:e})}function qC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function HC(s,e,i){const r=So(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=zb(e),{host:d,port:g}=FC(e),_=g===null?"":`:${g}`,p={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(ia(p,r.config.emulator)&&ia(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,_o(d)?(Bv(`${c}//${d}${_}`),qv("Auth",!0)):GC()}function zb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function FC(s){const e=zb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:vv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:vv(d)}}}function vv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function GC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class _g{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function YC(s,e){return Er(s,"POST","/v1/accounts:signUp",e)}async function QC(s,e){return Mh(s,"POST","/v1/accounts:signInWithPassword",ha(s,e))}async function KC(s,e){return Mh(s,"POST","/v1/accounts:signInWithEmailLink",ha(s,e))}async function XC(s,e){return Mh(s,"POST","/v1/accounts:signInWithEmailLink",ha(s,e))}class Xl extends _g{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Xl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Xl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,i,"signInWithPassword",QC);case"emailLink":return KC(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,r,"signUpPassword",YC);case"emailLink":return XC(e,{idToken:i,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oo(s,e){return Mh(s,"POST","/v1/accounts:signInWithIdp",ha(s,e))}const $C="http://localhost";class oa extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new oa(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return oo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,oo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,oo(e,i)}buildRequest(){const e={requestUri:$C,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Jl(i)}return e}}function ZC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JC(s){const e=Rl(Cl(s)).link,i=e?Rl(Cl(e)).deep_link_id:null,r=Rl(Cl(s)).deep_link_id;return(r?Rl(Cl(r)).link:null)||r||i||e||s}class vg{constructor(e){const i=Rl(Cl(e)),r=i.apiKey??null,l=i.oobCode??null,c=ZC(i.mode??null);ve(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=JC(e);try{return new vg(i)}catch{return null}}}class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,i){return Xl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=vg.parseLink(i);return ve(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Bb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ru extends Bb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends ru{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends ru{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends ru{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await oi._fromIdTokenResponse(e,r,l),d=bv(r);return new yo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=bv(r);return new yo({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class hh extends vs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new hh(e,i,r,l)}}function qb(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,c,e,r):c})}async function WC(s,e,i=!1){const r=await Kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return yo._forOperation(s,"link",r)}async function eI(s,e,i=!1){const{auth:r}=s;if(ai(r.app))return Promise.reject(fr(r));const l="reauthenticate";try{const c=await Kl(s,qb(r,l,e,s),i);ve(c.idToken,r,"internal-error");const d=pg(c.idToken);ve(d,r,"internal-error");const{sub:g}=d;return ve(s.uid===g,r,"user-mismatch"),yo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ui(r,"user-mismatch"),c}}async function Hb(s,e,i=!1){if(ai(s.app))return Promise.reject(fr(s));const r="signIn",l=await qb(s,r,e),c=await yo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function tI(s,e){return Hb(So(s),e)}async function nI(s){const e=So(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function iI(s,e,i){return ai(s.app)?Promise.reject(fr(s)):tI(Qt(s),Ao.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nI(s),r})}function sI(s,e,i,r){return Qt(s).onIdTokenChanged(e,i,r)}function rI(s,e,i){return Qt(s).beforeAuthStateChanged(e,i)}function aI(s,e,i,r){return Qt(s).onAuthStateChanged(e,i,r)}function oI(s){return Qt(s).signOut()}const fh="__sak";class Fb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lI=1e3,uI=10;class Gb extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);RC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,uI):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gb.type="LOCAL";const cI=Gb;class Yb extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Yb.type="SESSION";const Qb=Yb;function hI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,c)),_=await hI(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];function bg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class fI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const p=bg("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function dI(s){Bi().location.href=s}function Kb(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function mI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gI(){return navigator?.serviceWorker?.controller||null}function pI(){return Kb()?self:null}const Xb="firebaseLocalStorageDb",yI=1,dh="firebaseLocalStorage",$b="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Lh(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function _I(){const s=indexedDB.deleteDatabase(Xb);return new au(s).toPromise()}function xm(){const s=indexedDB.open(Xb,yI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:$b})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await _I(),e(await xm()))})})}async function Ev(s,e,i){const r=Lh(s,!0).put({[$b]:e,value:i});return new au(r).toPromise()}async function vI(s,e){const i=Lh(s,!1).get(e),r=await new au(i).toPromise();return r===void 0?null:r.value}function Tv(s,e){const i=Lh(s,!0).delete(e);return new au(i).toPromise()}const bI=800,EI=3;class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>EI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(pI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mI(),!this.activeServiceWorker)return;this.sender=new fI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await Ev(e,fh,"1"),await Tv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ev(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>vI(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Lh(l,!1).getAll();return new au(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zb.type="LOCAL";const TI=Zb;new su(3e4,6e4);function wI(s,e){return e?ms(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Eg extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function SI(s){return Hb(s.auth,new Eg(s),s.bypassAuthState)}function AI(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),eI(i,new Eg(s),s.bypassAuthState)}async function xI(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),WC(i,new Eg(s),s.bypassAuthState)}class Jb{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SI;case"linkViaPopup":case"linkViaRedirect":return xI;case"reauthViaPopup":case"reauthViaRedirect":return AI;default:ui(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RI=new su(2e3,1e4);class no extends Jb{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RI.get())};e()}}no.currentPopupAction=null;const CI="pendingRedirect",Qc=new Map;class II extends Jb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await NI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(s,e){const i=kI(e),r=OI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function DI(s,e){Qc.set(s._key(),e)}function OI(s){return ms(s._redirectPersistence)}function kI(s){return Yc(CI,s.config.apiKey,s.name)}async function MI(s,e,i=!1){if(ai(s.app))return Promise.reject(fr(s));const r=So(s),l=wI(r,e),d=await new II(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const VI=600*1e3;class jI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Wb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VI&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}function wv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Wb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function LI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wb(s);default:return!1}}async function PI(s,e={}){return Er(s,"GET","/v1/projects",e)}const UI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zI=/^https?/;async function BI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await PI(s);for(const i of e)try{if(qI(i))return}catch{}ui(s,"unauthorized-domain")}function qI(s){const e=Sm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!zI.test(i))return!1;if(UI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const HI=new su(3e4,6e4);function Sv(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function FI(s){return new Promise((e,i)=>{function r(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),i(zi(s,"network-request-failed"))},timeout:HI.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)r();else{const l=jC("iframefcb");return Bi()[l]=()=>{gapi.load?r():i(zi(s,"network-request-failed"))},Pb(`${VC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function GI(s){return Kc=Kc||FI(s),Kc}const YI=new su(5e3,15e3),QI="__/auth/iframe",KI="emulator/auth/iframe",XI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZI(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?gg(e,KI):`https://${s.config.authDomain}/${QI}`,r={apiKey:e.apiKey,appName:s.name,v:vo},l=$I.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Jl(r).slice(1)}`}async function JI(s){const e=await GI(s),i=Bi().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:ZI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),g=Bi().setTimeout(()=>{c(d)},YI.get());function _(){Bi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const WI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eN=500,tN=600,nN="_blank",iN="http://localhost";class Av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sN(s,e,i,r=eN,l=tN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...WI,width:r.toString(),height:l.toString(),top:c,left:d},p=ln().toLowerCase();i&&(g=Db(p)?nN:i),Ib(p)&&(e=e||iN,_.scrollbars="yes");const T=Object.entries(_).reduce((N,[z,Z])=>`${N}${z}=${Z},`,"");if(xC(p)&&g!=="_self")return rN(e||"",g),new Av(null);const S=window.open(e||"",g,T);ve(S,s,"popup-blocked");try{S.focus()}catch{}return new Av(S)}function rN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const aN="__/auth/handler",oN="emulator/auth/handler",lN=encodeURIComponent("fac");async function xv(s,e,i,r,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:vo,eventId:l};if(e instanceof Bb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",CS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof ru){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),p=_?`#${lN}=${encodeURIComponent(_)}`:"";return`${uN(s)}?${Jl(g).slice(1)}${p}`}function uN({config:s}){return s.emulator?gg(s,oN):`https://${s.authDomain}/${aN}`}const Wd="webStorageSupport";class cN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qb,this._completeRedirectFn=MI,this._overrideRedirectResult=DI}async _openPopup(e,i,r,l){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await xv(e,i,r,Sm(),l);return sN(e,c,bg())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await xv(e,i,r,Sm(),l);return dI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await JI(e),r=new jI(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},l=>{const c=l?.[0]?.[Wd];c!==void 0&&i(!!c),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=BI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return jb()||Nb()||yg()}}const hN=cN;var Rv="@firebase/auth",Cv="1.11.1";class fN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mN(s){lo(new sa("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(s)},p=new OC(r,l,c,_);return qC(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),lo(new sa("auth-internal",e=>{const i=So(e.getProvider("auth").getImmediate());return(r=>new fN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(Rv,Cv,dN(s)),lr(Rv,Cv,"esm2020")}const gN=300,pN=zv("authIdTokenMaxAge")||gN;let Iv=null;const yN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>pN)return;const l=i?.token;Iv!==l&&(Iv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function _N(s=Vm()){const e=Mm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=BC(s,{popupRedirectResolver:hN,persistence:[TI,cI,Qb]}),r=zv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=yN(c.toString());rI(i,d,()=>d(i.currentUser)),sI(i,g=>d(g))}}const l=Pv("auth");return l&&HC(i,`http://${l}`),i}function vN(){return document.getElementsByTagName("head")?.[0]??document}kC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",vN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mN("Browser");const Nv={apiKey:"AIzaSyD-1nxGONhQgGc-F05-BgIj6HEGSfLazsc",authDomain:"mytravelapp-3264f.firebaseapp.com",projectId:"mytravelapp-3264f",storageBucket:"mytravelapp-3264f.firebasestorage.app",messagingSenderId:"345155187926",appId:"1:345155187926:web:b7a85c803994e361868577",measurementId:"G-BW02YF1F1S"};let Lc,kl,ri;try{Nv.apiKey&&(N2().length===0?Lc=Gv(Nv):Lc=Vm(),kl=_N(Lc),ri=qR(Lc))}catch(s){console.error("Firebase init error:",s)}const Nn="bg-white/40 backdrop-blur-3xl border border-white/60 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] bg-gradient-to-br from-white/40 to-white/10 relative overflow-hidden",em="after:content-[''] after:absolute after:top-0 after:-left-full after:w-full after:h-full after:bg-gradient-to-r after:from-transparent after:via-white/40 after:to-transparent after:transform after:skew-x-12 after:transition-all after:duration-1000 group-hover:after:left-full",bN={destination:"",date:"----/--/--",endDate:"----/--/--",coverImage:"",coverOffsetY:50,coverScale:1,themeColor:"from-blue-400 to-indigo-600",flights:[],days:[],packingList:[],shoppingList:[]},Dv=({message:s,type:e,onClose:i})=>{_e.useEffect(()=>{const c=setTimeout(i,3e3);return()=>clearTimeout(c)},[i]);const r=e==="error"?"bg-red-500/95":"bg-gray-800/90",l=e==="error"?b.jsx(iw,{size:18}):b.jsx(WT,{size:18});return b.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[200] flex items-center gap-3 px-6 py-4 rounded-2xl text-white shadow-2xl backdrop-blur-md animate-fade-in-down ${r} min-w-[300px] justify-center`,children:[b.jsx("div",{className:"shrink-0",children:l}),b.jsx("span",{className:"font-bold text-sm leading-snug",children:s})]})},Ph=({title:s,subtitle:e,showBack:i,leftAction:r,rightAction:l,setActiveTab:c,bgImage:d,themeColor:g,coverOffsetY:_=50,coverScale:p=1})=>{const T=i&&!r?b.jsx("button",{onClick:()=>c&&c("home"),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 transition-all active:scale-90 text-gray-700 shadow-sm border border-white/20 backdrop-blur-sm",children:b.jsx(KT,{size:20})}):null;return b.jsxs("div",{className:"sticky top-0 z-40 pt-8 pb-3 px-5 transition-all duration-500 overflow-hidden group",children:[b.jsxs("div",{className:"absolute inset-0 z-[-1] overflow-hidden",children:[d?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-full h-full overflow-hidden relative",children:b.jsx("img",{src:d,className:"w-full h-full object-cover opacity-100 transition-transform duration-700",style:{objectPosition:`center ${_}%`,transform:`scale(${p})`},alt:"",onError:S=>S.target.style.display="none"})}),b.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-md"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-white/90"})]}):b.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g||"from-gray-100 to-gray-200"} opacity-30 backdrop-blur-md`}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/50 shadow-sm"})]}),b.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[r||T,b.jsxs("div",{className:"drop-shadow-sm",children:[b.jsx("h1",{className:"text-xl font-[900] tracking-tight text-gray-800 leading-tight",children:s}),e&&b.jsx("p",{className:"text-gray-600 font-bold text-xs mt-0.5 tracking-wide opacity-80 truncate max-w-[200px]",children:e})]})]}),b.jsx("div",{className:"scale-90 origin-right",children:l})]})]})},EN=s=>new Promise(e=>{const i=new FileReader;i.readAsDataURL(s),i.onload=r=>{const l=new Image;l.src=r.target.result,l.onload=()=>{const c=document.createElement("canvas"),d=800,g=d/l.width,_=l.width>d?d:l.width,p=l.width>d?l.height*g:l.height;c.width=_,c.height=p,c.getContext("2d").drawImage(l,0,0,_,p),e(c.toDataURL("image/jpeg",.7))}}}),TN=({trip:s,onClose:e,onSave:i})=>{const[r,l]=_e.useState({destination:s.destination||"",date:s.date||"",coverImage:s.coverImage||"",coverOffsetY:s.coverOffsetY!==void 0?s.coverOffsetY:50,coverScale:s.coverScale!==void 0?s.coverScale:1}),[c,d]=_e.useState(!1),g=_e.useRef(null),_=_e.useRef(null),p=_e.useRef(!1),T=_e.useRef(0),S=_e.useRef(0),N=oe=>{const{name:ue,value:De}=oe.target;l(Ge=>({...Ge,[ue]:De}))},z=async oe=>{const ue=oe.target.files[0];if(ue){d(!0);try{const De=await EN(ue);l(Ge=>({...Ge,coverImage:De,coverOffsetY:50,coverScale:1}))}catch(De){console.error("Image process error",De),alert("")}finally{d(!1)}}},Z=()=>{i(s.id,r)},ee=oe=>{r.coverImage&&(p.current=!0,T.current=oe.clientY||oe.touches[0].clientY,S.current=r.coverOffsetY)},J=oe=>{if(!p.current)return;const ue=oe.clientY||oe.touches&&oe.touches[0].clientY;if(!ue)return;const De=T.current-ue,Ge=160,Oe=1.5*r.coverScale,I=De/Ge*100/Oe;let A=S.current+I;A=Math.max(0,Math.min(100,A)),l(R=>({...R,coverOffsetY:A}))},he=()=>{p.current=!1};return _e.useEffect(()=>(window.addEventListener("mouseup",he),window.addEventListener("touchend",he),()=>{window.removeEventListener("mouseup",he),window.removeEventListener("touchend",he)}),[]),b.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100 max-h-[90vh] overflow-y-auto scrollbar-hide`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(la,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(kv,{size:18})}),b.jsx("input",{name:"destination",value:r.destination,onChange:N,className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Cm,{size:18})}),b.jsx("input",{name:"date",value:r.date,onChange:N,placeholder:"YYYY/MM/DD",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 font-bold focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"flex gap-2 mb-2",children:[b.jsxs("button",{onClick:()=>g.current?.click(),className:"flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform shadow-md",children:[c?b.jsx(gh,{className:"animate-spin",size:14}):b.jsx(Zw,{size:14}),""]}),b.jsx("input",{type:"file",ref:g,className:"hidden",accept:"image/*",onChange:z})]}),b.jsxs("div",{className:"relative mb-3",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(vw,{size:14})}),b.jsx("input",{name:"coverImage",value:r.coverImage,onChange:N,placeholder:"...",className:"w-full bg-white/40 border border-white/50 rounded-xl py-2 pl-10 pr-4 text-gray-600 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400/50 shadow-inner"})]}),r.coverImage&&b.jsxs("div",{className:"mt-1",children:[b.jsxs("div",{className:"flex justify-between items-center mb-1 ml-1",children:[b.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[b.jsx(Ow,{size:10})," "]}),b.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[b.jsx(nS,{size:10})," : ",r.coverScale,"x"]})]}),b.jsxs("div",{className:"w-full h-48 rounded-2xl overflow-hidden border-2 border-blue-400/50 shadow-lg relative bg-gray-200 cursor-move",onMouseDown:ee,onMouseMove:J,onTouchStart:ee,onTouchMove:J,children:[b.jsx("img",{ref:_,src:r.coverImage,alt:"Preview",className:"w-full h-full object-cover pointer-events-none select-none origin-center",style:{objectPosition:`center ${r.coverOffsetY}%`,transform:`scale(${r.coverScale})`},onError:oe=>oe.target.style.opacity=.3}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 pointer-events-none",children:b.jsx("div",{className:"bg-black/50 text-white text-[10px] px-2 py-1 rounded-full backdrop-blur-sm",children:""})})]}),b.jsxs("div",{className:"mt-3 flex items-center gap-3 px-1",children:[b.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"1x"}),b.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:r.coverScale,onChange:oe=>l(ue=>({...ue,coverScale:parseFloat(oe.target.value)})),className:"w-full h-1.5 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-500"}),b.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"3x"})]})]})]}),b.jsxs("button",{onClick:Z,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all mt-4",children:[b.jsx(Uw,{size:18})," "]})]})]})]})},wN=({trips:s,activeTripId:e,onSelectTrip:i,onDeleteTrip:r,onExportTrip:l,onEditTrip:c,onOpenImport:d,onClose:g,userEmail:_,onLogout:p})=>b.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:g}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-6 w-full max-w-sm max-h-[85vh] flex flex-col transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:g,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(la,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"mb-4 p-3 bg-white/40 rounded-2xl border border-white/50 flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"overflow-hidden",children:[b.jsx("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""}),b.jsx("div",{className:"text-sm font-bold text-gray-800 truncate max-w-[180px]",children:_})]}),b.jsxs("button",{onClick:p,className:"px-3 py-1.5 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors flex items-center gap-1 shrink-0",children:[b.jsx(Aw,{size:12})," "]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide relative z-10 mb-4",children:[s.length===0&&b.jsx("div",{className:"text-center py-10 text-gray-500 text-sm",children:""}),s.map(T=>b.jsxs("div",{onClick:()=>i(T.id),className:`group p-2 rounded-[2rem] border cursor-pointer relative overflow-hidden transition-all duration-300 flex items-center gap-3 ${e===T.id?"bg-white/80 border-blue-400 ring-2 ring-blue-400/30 shadow-lg":"bg-white/40 border-white/40 hover:bg-white/60"}`,children:[b.jsx("div",{className:`w-14 h-14 rounded-2xl overflow-hidden shrink-0 relative shadow-sm ml-1 ${T.coverImage?"":`bg-gradient-to-br ${T.themeColor||"from-gray-300 to-gray-400"}`}`,children:T.coverImage?b.jsx("img",{src:T.coverImage,className:"w-full h-full object-cover",style:{objectPosition:`center ${T.coverOffsetY||50}%`,transform:`scale(${T.coverScale||1})`},alt:""}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50",children:b.jsx(gw,{size:20})})}),b.jsxs("div",{className:"overflow-hidden mr-2 flex-1 py-2",children:[b.jsx("h3",{className:"font-bold text-gray-800 text-lg leading-tight truncate",children:T.destination||""}),b.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1 font-medium",children:[b.jsx(Cm,{size:12,className:"mr-1"}),T.date||"--/--"]})]}),b.jsxs("div",{className:"flex items-center gap-1 z-20",children:[b.jsx("button",{onClick:S=>{S.stopPropagation(),c(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:"",children:b.jsx(Im,{size:18})}),b.jsx("button",{onClick:S=>{S.stopPropagation(),l(T)},className:"p-3 text-gray-400 hover:text-blue-500 hover:bg-blue-100/50 rounded-full transition-all",title:" JSON",children:b.jsx(hw,{size:18})}),b.jsx("button",{onClick:S=>{S.stopPropagation(),r(T.id)},className:"p-3 text-gray-400 hover:text-red-500 hover:bg-red-100/50 rounded-full transition-all mr-1",children:b.jsx(Dm,{size:18})})]})]},T.id))]}),b.jsx("div",{className:"mt-auto relative z-10",children:b.jsxs("button",{onClick:d,className:"w-full py-3.5 rounded-2xl font-bold text-white shadow-lg flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50 active:scale-95 transition-all",children:[b.jsx(rw,{size:20})," /"]})})]})]}),SN=({onClose:s,onImport:e,isLoading:i})=>{const[r,l]=_e.useState("json"),[c,d]=_e.useState(""),g=()=>{e(c,r)};return b.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-6 w-full max-w-sm flex flex-col transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(la,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"flex bg-white/30 p-1 rounded-xl mb-4 relative z-10",children:[b.jsx("button",{onClick:()=>l("json"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="json"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:" JSON"}),b.jsx("button",{onClick:()=>l("url"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${r==="url"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:bg-white/20"}`,children:""})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{className:"p-4 rounded-2xl bg-white/40 border border-white/50 shadow-inner",children:[r==="json"?b.jsx("textarea",{value:c,onChange:_=>d(_.target.value),placeholder:" AI  JSON ...",className:"w-full h-32 bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm resize-none"}):b.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),placeholder:"https://...",className:"w-full bg-white/80 border border-blue-200/50 rounded-xl py-3 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm"}),b.jsx("p",{className:"text-[10px] text-gray-500 mt-2 ml-1",children:""})]}),b.jsx("button",{onClick:g,disabled:!c.trim()||i,className:`w-full py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${!c.trim()||i?"bg-gray-400/50 cursor-not-allowed text-white/50":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 active:scale-95"}`,children:i?b.jsxs(b.Fragment,{children:[b.jsx(gh,{className:"animate-spin",size:16})," ..."]}):b.jsxs(b.Fragment,{children:[b.jsx(ow,{size:16})," "]})})]})]})]})},AN=({flights:s,onClose:e})=>b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(la,{size:20,className:"text-gray-700"})})]}),s&&s.length>0?b.jsx("div",{className:"space-y-4",children:s.map((i,r)=>b.jsxs("div",{className:`p-5 rounded-[1.5rem] border border-white/40 relative overflow-hidden backdrop-blur-md shadow-inner ${i.color==="indigo"?"bg-gradient-to-r from-purple-500/10 to-indigo-500/10":"bg-gradient-to-r from-orange-500/10 to-pink-500/10"}`,children:[b.jsx("div",{className:"absolute -top-10 -right-10 p-3 opacity-20 rotate-12",children:b.jsx(tm,{size:100,className:i.color==="indigo"?"text-indigo-600":"text-pink-600"})}),b.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[b.jsx("span",{className:`backdrop-blur-md text-white text-[10px] font-bold px-3 py-1 rounded-full shadow-lg border border-white/20 ${i.color==="indigo"?"bg-indigo-500/80":"bg-pink-500/80"}`,children:i.type}),b.jsx("span",{className:"font-bold text-gray-800 tracking-wide text-sm drop-shadow-sm",children:i.code})]}),b.jsxs("div",{className:"flex justify-between items-end relative z-10 text-gray-800",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.fromCity}),b.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.fromCode}),b.jsx("p",{className:"text-sm font-bold mt-1 opacity-80",children:i.fromTime})]}),b.jsxs("div",{className:"flex flex-col items-center px-2 flex-1 pb-1 opacity-70",children:[b.jsx("span",{className:"text-[10px] font-medium mb-1",children:i.duration}),b.jsx("div",{className:"w-full h-0.5 bg-gray-400/50 relative flex items-center justify-center rounded-full",children:b.jsx(tm,{size:14,className:`absolute ${i.color==="indigo"?"text-indigo-600 rotate-90":"text-pink-600 -rotate-90"}`,fill:"currentColor"})})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:i.toCity}),b.jsx("p",{className:"text-3xl font-black leading-none drop-shadow-sm",children:i.toCode}),b.jsxs("p",{className:"text-sm font-bold mt-1 opacity-80",children:[i.toTime,i.nextDay&&b.jsx("span",{className:"text-[10px] align-top ml-0.5",children:"+1"})]})]})]})]},r))}):b.jsxs("div",{className:"p-6 bg-white/40 rounded-2xl text-center border border-white/40 shadow-inner",children:[b.jsx("p",{className:"text-gray-600 font-bold mb-2",children:""}),b.jsx("p",{className:"text-xs text-gray-500",children:""})]})]})]}),xN=({onClose:s,onAdd:e})=>{const[i,r]=_e.useState(""),[l,c]=_e.useState(""),[d,g]=_e.useState(""),_=()=>{i.trim()&&e(i,l,d)};return b.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(la,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",children:b.jsx($l,{size:18})}),b.jsx("input",{type:"text",value:i,onChange:p=>r(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:b.jsx(Nm,{size:18})}),b.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:" ()"}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-400",children:b.jsx(Mv,{size:18})}),b.jsx("input",{type:"text",value:d,onChange:p=>g(p.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("button",{onClick:_,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-pink-500 to-rose-600 shadow-pink-500/30 hover:shadow-pink-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(mh,{size:20,strokeWidth:3}),""]})]})]})]})},RN=({onClose:s,onAdd:e})=>{const[i,r]=_e.useState(""),[l,c]=_e.useState(""),d=()=>{i.trim()&&e(i,l)};return b.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:s}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:s,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(la,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500",children:b.jsx(na,{size:18})}),b.jsx("input",{type:"text",value:i,onChange:g=>r(g.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold",autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsx("div",{className:"flex gap-2 flex-wrap",children:["","","","",""].map(g=>b.jsx("button",{onClick:()=>c(g),className:`px-3 py-1.5 rounded-xl text-xs font-bold border transition-all ${l===g?"bg-blue-500 text-white border-blue-500 shadow-md scale-105":"bg-white/30 text-gray-600 border-white/40 hover:bg-white/50"}`,children:g},g))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-400",children:b.jsx(Nm,{size:18})}),b.jsx("input",{type:"text",value:l,onChange:g=>c(g.target.value),placeholder:"",className:"w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner"})]})]}),b.jsxs("button",{onClick:d,disabled:!i.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${i.trim()?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-blue-500/30 hover:shadow-blue-500/50":"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(mh,{size:20,strokeWidth:3}),""]})]})]})]})},CN=({editingState:s,onClose:e,onSave:i})=>{const{type:r,data:l}=s,[c,d]=_e.useState(l),g=r==="shopping",_=g?"pink":"blue",p=g?"bg-gradient-to-r from-pink-500 to-rose-600":"bg-gradient-to-r from-blue-500 to-indigo-600",T=g?"text-pink-500":"text-blue-500",S=()=>{i(c)};return b.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-6 animate-fade-in",children:[b.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-md",onClick:e}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-6 w-full max-w-sm transform transition-all scale-100`,children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white to-transparent opacity-80"}),b.jsxs("div",{className:"flex justify-between items-center mb-6 relative z-10",children:[b.jsx("h2",{className:"text-2xl font-[800] text-gray-800 tracking-tight drop-shadow-sm",children:""}),b.jsx("button",{onClick:e,className:"p-2 bg-white/30 rounded-full hover:bg-white/50 transition active:scale-90 border border-white/40",children:b.jsx(la,{size:20,className:"text-gray-700"})})]}),b.jsxs("div",{className:"space-y-4 relative z-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:g?b.jsx($l,{size:18}):b.jsx(na,{size:18})}),b.jsx("input",{type:"text",value:c.item,onChange:N=>d({...c,item:N.target.value}),className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner font-bold`,autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:b.jsx(Nm,{size:18})}),b.jsx("input",{type:"text",value:c.category||"",onChange:N=>d({...c,category:N.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),g&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:""}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 ${T}`,children:b.jsx(Mv,{size:18})}),b.jsx("input",{type:"text",value:c.note||"",onChange:N=>d({...c,note:N.target.value}),placeholder:"",className:`w-full bg-white/40 border border-white/50 rounded-2xl py-3 pl-11 pr-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-${_}-400/50 focus:bg-white/60 backdrop-blur-sm transition-all shadow-inner`})]})]}),b.jsxs("button",{onClick:S,disabled:!c.item.trim(),className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all active:scale-95 mt-4 flex items-center justify-center gap-2 ${c.item.trim()?`${p} shadow-${_}-500/30 hover:shadow-${_}-500/50`:"bg-gray-400/50 cursor-not-allowed"}`,children:[b.jsx(na,{size:20,strokeWidth:3}),""]})]})]})]})},IN=({onLogin:s,isLoading:e})=>{const[i,r]=_e.useState(""),[l,c]=_e.useState(""),d=()=>{!i||!l||s(i,l)};return b.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center p-6 bg-[#E0E5EC]",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsxs("div",{className:`relative ${Nn} rounded-[2.5rem] p-8 w-full max-w-sm flex flex-col items-center shadow-2xl`,children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-3xl flex items-center justify-center text-white shadow-lg mb-6 transform rotate-3",children:b.jsx(Ww,{size:40})}),b.jsx("h1",{className:"text-3xl font-[900] text-gray-800 mb-2 tracking-tight",children:""}),b.jsx("p",{className:"text-gray-500 text-sm mb-8 font-medium",children:""}),b.jsxs("div",{className:"w-full space-y-4 mb-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(Rw,{size:18})}),b.jsx("input",{type:"email",value:i,onChange:g=>r(g.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:b.jsx(ww,{size:18})}),b.jsx("input",{type:"password",value:l,onChange:g=>c(g.target.value),placeholder:"",className:"w-full bg-white/60 border border-white/50 rounded-2xl py-3.5 pl-11 pr-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500/30 font-bold"})]})]}),b.jsx("button",{onClick:d,disabled:e||!i||!l,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 ${!i||!l?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:shadow-blue-500/40"}`,children:e?b.jsx(gh,{className:"animate-spin"}):""}),b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 w-full text-center",children:b.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center justify-center gap-1",children:[b.jsx(yw,{size:10})," "]})})]})]})},NN=({trips:s,currentTrip:e,calculateDaysLeft:i,setActiveTab:r,setShowFlightModal:l,toggleShoppingItem:c,deleteShoppingItem:d,togglePackingItem:g,deletePackingItem:_,openEditModal:p,setShowTripListModal:T,onEditCurrentTrip:S})=>b.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[b.jsx(Ph,{title:"",subtitle:"Ready for next trip?",showBack:!1,leftAction:b.jsx("button",{onClick:()=>T(!0),className:"p-2 -ml-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:b.jsx(Ew,{size:24,strokeWidth:2.5})}),rightAction:e?b.jsx("button",{onClick:S,className:"p-2 -mr-2 rounded-full bg-white/20 hover:bg-white/40 border border-white/20 transition-all active:scale-90 backdrop-blur-md text-gray-700",children:b.jsx(Bw,{size:22,strokeWidth:2.5})}):null,setActiveTab:r,bgImage:e?.coverImage,themeColor:e?.themeColor,coverOffsetY:e?.coverOffsetY,coverScale:e?.coverScale}),b.jsxs("div",{className:"px-6 mt-6",children:[!e||!e.date||e.date==="----/--/--"?b.jsxs("div",{className:"p-8 rounded-[2.5rem] text-center border border-white/40 bg-white/20 backdrop-blur-md shadow-lg",children:[b.jsx("p",{className:"text-gray-600 font-bold text-lg mb-2",children:" "}),b.jsxs("p",{className:"text-sm text-gray-500",children:["",b.jsx("br",{}),"  "]})]}):b.jsxs("div",{onClick:()=>r("itinerary"),className:`group ${Nn} rounded-[2.5rem] p-1 mb-8 cursor-pointer hover:scale-[1.02] transition-all duration-500 ${em} relative`,children:[b.jsxs("div",{className:"relative h-64 rounded-[2rem] overflow-hidden shadow-inner",children:[e.coverImage&&b.jsx("div",{className:"w-full h-full overflow-hidden relative",children:b.jsx("img",{src:e.coverImage,alt:e.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",style:{objectPosition:`center ${e.coverOffsetY||50}%`,transform:`scale(${e.coverScale||1})`},onError:N=>N.target.style.display="none"})}),b.jsx("div",{className:`absolute inset-0 z-0 bg-gradient-to-br ${e.themeColor||"from-gray-400 to-gray-600"} ${e.coverImage?"opacity-40 mix-blend-multiply":"opacity-90"}`}),e.coverImage&&b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 z-0"}),b.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-b from-transparent via-white/20 to-transparent rotate-45 animate-pulse z-0 pointer-events-none"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white bg-gradient-to-t from-black/50 via-black/20 to-transparent backdrop-blur-[2px] z-10",children:b.jsx("div",{className:"flex justify-between items-end",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-100/80 text-xs font-black tracking-[0.2em] uppercase mb-2 shadow-black drop-shadow-md",children:"Current Trip"}),b.jsx("h3",{className:"text-4xl font-black leading-none tracking-tight drop-shadow-lg",children:e.destination||""}),b.jsxs("div",{className:"flex items-center text-sm font-bold mt-4 bg-white/20 backdrop-blur-md w-fit px-4 py-1.5 rounded-full border border-white/30 shadow-lg",children:[b.jsx(Cm,{size:14,className:"mr-2"}),e.date||"--/--"]})]})})})]}),b.jsxs("div",{className:"p-6 flex justify-between items-center relative z-10",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-gray-500 text-xs font-black uppercase tracking-wider opacity-70",children:"Countdown"}),b.jsxs("div",{className:"flex items-baseline",children:[b.jsx("span",{className:"text-5xl font-[900] text-gray-800 tracking-tighter drop-shadow-sm",children:i(e.date)}),b.jsx("span",{className:"text-gray-500 font-bold ml-1",children:"days"})]})]}),b.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-900/90 text-white flex items-center justify-center shadow-2xl group-hover:rotate-45 transition-transform duration-500 border border-white/20 backdrop-blur-md",children:b.jsx(tw,{size:28})})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[b.jsxs("div",{onClick:()=>r("shopping"),className:`${Nn} ${em} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(236,72,153,0.3)]`,children:[b.jsx("div",{className:"bg-pink-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-pink-500 shadow-inner border border-white/50",children:b.jsx($l,{size:28})}),b.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),b.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[e&&e.shoppingList?e.shoppingList.filter(N=>!N.checked).length:0," "]})]}),b.jsxs("div",{onClick:()=>r("packing"),className:`${Nn} ${em} p-6 rounded-[2rem] cursor-pointer active:scale-95 transition-all hover:shadow-[0_20px_40px_-12px_rgba(59,130,246,0.3)]`,children:[b.jsx("div",{className:"bg-blue-500/10 w-14 h-14 rounded-2xl flex items-center justify-center mb-4 text-blue-500 shadow-inner border border-white/50",children:b.jsx(na,{size:28})}),b.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:""}),b.jsxs("p",{className:"text-sm text-gray-500 mt-1 font-bold opacity-70",children:[e&&e.packingList?e.packingList.filter(N=>!N.checked).length:0," "]})]})]})]})]}),DN=({currentTrip:s,setActiveTab:e,setShowFlightModal:i,getCurrentActivityId:r,activityRefs:l})=>{const c=s&&s.days&&s.days.length>0?r(s):null,d=g=>{window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(g)}`,"_blank")};return b.jsxs("div",{className:"pb-32 animate-fade-in w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[b.jsx(Ph,{title:"",subtitle:s?s.destination:"",showBack:!0,rightAction:b.jsx("button",{onClick:()=>i(!0),className:"bg-white/30 backdrop-blur-xl p-3 rounded-full shadow-[0_4px_16px_0_rgba(0,0,0,0.1)] border border-white/50 active:scale-90 transition-all hover:bg-white/50",children:b.jsx(tm,{size:20,className:"text-blue-700",fill:"currentColor",fillOpacity:.2})}),setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4 space-y-10",children:[(!s||!s.days||s.days.length===0)&&b.jsx("div",{className:"text-center py-20 text-gray-400",children:""}),s&&s.days&&s.days.map((g,_)=>b.jsxs("div",{className:"relative pl-4",children:[_!==s.days.length-1&&b.jsx("div",{className:"absolute left-[27px] top-12 bottom-[-40px] w-[3px] bg-gradient-to-b from-white/80 via-white/40 to-transparent rounded-full z-0"}),b.jsxs("div",{className:"flex items-center mb-6 sticky top-20 z-20 py-3 pl-2 -ml-2 bg-inherit backdrop-blur-sm rounded-r-2xl w-fit pr-6",children:[b.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-xl text-white w-14 h-14 rounded-2xl flex flex-col items-center justify-center shadow-lg mr-4 shrink-0 border border-white/20",children:[b.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:"DAY"}),b.jsx("span",{className:"text-xl font-black leading-none",children:g.day})]}),b.jsx("div",{children:b.jsx("h3",{className:"font-[900] text-gray-800 text-xl tracking-tight drop-shadow-sm",children:g.title})})]}),b.jsx("div",{className:"space-y-4 pl-4 z-10 relative",children:g.activities.map((p,T)=>{const S=c===p.id;return b.jsxs("div",{ref:N=>l.current[p.id]=N,className:`group relative p-5 rounded-[2rem] transition-all duration-300 border backdrop-blur-md shadow-sm ${S?"bg-white/60 border-blue-200/50 ring-4 ring-blue-400/10 scale-[1.03] shadow-xl":"bg-white/30 border-white/40 hover:bg-white/50"}`,children:[b.jsx("div",{className:`absolute -left-[39px] top-6 w-4 h-4 rounded-full border-[3px] border-white/80 shadow-md z-20 transition-all duration-500 ${S?"scale-150 ring-4 ring-blue-500/30":"scale-100"} ${p.type==="transport"?"bg-purple-400":p.type==="food"?"bg-orange-400":p.type==="shopping"?"bg-pink-400":p.type==="relax"?"bg-green-400":"bg-blue-400"}`,children:S&&b.jsx("span",{className:"absolute inset-0 rounded-full bg-inherit animate-ping opacity-75"})}),b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide shadow-sm border bg-white/60 text-gray-600 border-white/40",children:p.time}),S&&b.jsx("span",{className:"flex items-center gap-1 text-[10px] font-black bg-rose-500 text-white px-2 py-0.5 rounded-full animate-pulse shadow-lg shadow-rose-500/30",children:"NOW"})]}),b.jsxs("div",{className:"p-1.5 bg-white/40 rounded-full backdrop-blur-sm border border-white/30",children:[p.type==="sightseeing"&&b.jsx(ZT,{size:14,className:"text-gray-500"}),p.type==="food"&&b.jsx(uw,{size:14,className:"text-gray-500"}),p.type==="transport"&&b.jsx(Kw,{size:14,className:"text-gray-500"}),p.type==="shopping"&&b.jsx($l,{size:14,className:"text-gray-500"}),p.type==="relax"&&b.jsx(Gw,{size:14,className:"text-gray-500"})]})]}),b.jsxs("div",{className:"flex justify-between items-end gap-2",children:[b.jsx("h4",{className:"font-bold text-gray-800 text-lg leading-snug tracking-tight flex-1",children:p.title}),b.jsx("button",{onClick:N=>{N.stopPropagation(),d(p.title)},className:"p-2.5 text-blue-600 bg-blue-50/80 hover:bg-blue-100 rounded-full transition-all active:scale-90 shadow-sm border border-blue-100 shrink-0","aria-label":" Google Maps ",children:b.jsx(kv,{size:18,strokeWidth:2.5})})]})]},T)})})]},_))]})]})},ON=({currentTrip:s,setActiveTab:e,setShowAddShoppingModal:i,toggleShoppingItem:r,deleteShoppingItem:l,openEditModal:c})=>{const[d,g]=_e.useState(""),[_,p]=_e.useState(!1),T=s?.shoppingList||[],S=["",...new Set(T.map(z=>z.category||"").filter(z=>z))],N=[...T].filter(z=>d===""?!0:(z.category||"")===d).sort((z,Z)=>_?(z.category||"").localeCompare(Z.category||"","zh-Hant"):0);return b.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[b.jsx(Ph,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[b.jsxs("div",{className:`${Nn} rounded-[2.5rem] p-6 mb-6`,children:[b.jsxs("div",{className:"flex justify-between items-end mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-pink-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),b.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[s&&s.shoppingList?Math.round(s.shoppingList.filter(z=>z.checked).length/(s.shoppingList.length||1)*100):0,"%"]})]}),b.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-pink-500 to-rose-600 text-white p-4 rounded-2xl shadow-lg shadow-pink-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-pink-500/50",children:b.jsx(mh,{size:24,strokeWidth:3})})]}),b.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:b.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-rose-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(236,72,153,0.5)]",style:{width:`${s&&s.shoppingList?s.shoppingList.filter(z=>z.checked).length/(s.shoppingList.length||1)*100:0}%`}})})]}),b.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 sticky top-0 z-10 py-2 -mx-1",children:[b.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1 mr-2 pb-1 mask-linear-fade pr-4",children:S.map(z=>b.jsx("button",{onClick:()=>g(z),className:`px-3 py-1.5 rounded-xl text-xs font-bold whitespace-nowrap transition-all border ${d===z?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/60 text-gray-600 border-white/40 hover:bg-white/80"}`,children:z},z))}),b.jsx("button",{onClick:()=>p(!_),className:`p-2 rounded-xl transition-all shrink-0 border ${_?"bg-pink-100 text-pink-600 border-pink-200":"bg-white/60 text-gray-500 border-white/40 hover:bg-white/80"}`,title:_?"":"",children:b.jsx(YT,{size:18})})]}),b.jsx("div",{className:"space-y-4 pb-4",children:N.length===0?b.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:""}):N.map(z=>b.jsxs("div",{onClick:()=>r(z.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${z.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[b.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${z.checked?"bg-pink-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-pink-100 group-hover:text-pink-400"}`,children:b.jsx(na,{size:18,strokeWidth:3})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${z.checked?"text-gray-500 line-through decoration-2 decoration-pink-300":"text-gray-800"}`,children:z.item}),b.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[z.category&&b.jsx("span",{className:"text-[10px] font-bold text-pink-600 bg-pink-100/80 px-2 py-0.5 rounded-md border border-pink-200/50",children:z.category}),z.note&&b.jsx("span",{className:"text-xs font-medium text-gray-500 bg-white/40 px-2 py-0.5 rounded-md",children:z.note})]})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:Z=>{Z.stopPropagation(),c("shopping",z)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Im,{size:18})}),b.jsx("button",{onClick:Z=>{Z.stopPropagation(),l(z.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Dm,{size:18})})]})]},z.id))})]})]})},kN=({currentTrip:s,setActiveTab:e,setShowAddPackingModal:i,togglePackingItem:r,deletePackingItem:l,openEditModal:c})=>b.jsxs("div",{className:"pb-32 animate-fade-in min-h-screen w-screen shrink-0 h-full overflow-y-auto overflow-x-hidden scrollbar-hide",children:[b.jsx(Ph,{title:"",subtitle:s?s.destination:"",showBack:!0,setActiveTab:e,bgImage:s?.coverImage,themeColor:s?.themeColor,coverOffsetY:s?.coverOffsetY,coverScale:s?.coverScale}),b.jsxs("div",{className:"px-6 mt-4",children:[b.jsxs("div",{className:`${Nn} rounded-[2.5rem] p-6 mb-8`,children:[b.jsxs("div",{className:"flex justify-between items-end mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-blue-500 font-black tracking-wider text-xs uppercase drop-shadow-sm",children:"Progress"}),b.jsxs("div",{className:"text-4xl font-[900] text-gray-800 drop-shadow-sm",children:[Math.round(s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0),"%"]})]}),b.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-blue-500/30 transition-all active:scale-90 border border-white/20 hover:shadow-blue-500/50",children:b.jsx(mh,{size:24,strokeWidth:3})})]}),b.jsx("div",{className:"w-full bg-black/5 rounded-full h-4 overflow-hidden shadow-inner border border-white/20 backdrop-blur-sm",children:b.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-600 h-4 rounded-full transition-all duration-700 ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${s&&s.packingList&&s.packingList.length>0?s.packingList.filter(d=>d.checked).length/s.packingList.length*100:0}%`}})})]}),b.jsx("div",{className:"space-y-4",children:s&&s.packingList&&s.packingList.map(d=>b.jsxs("div",{onClick:()=>r(d.id),className:`group flex items-center p-4 rounded-[2rem] border transition-all duration-300 active:scale-[0.98] cursor-pointer backdrop-blur-md shadow-sm ${d.checked?"bg-gray-50/30 border-transparent opacity-50 grayscale":"bg-white/40 border-white/50 hover:bg-white/60 hover:shadow-lg"}`,children:[b.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center mr-4 transition-all duration-300 shadow-sm border border-white/40 ${d.checked?"bg-blue-500 text-white scale-100":"bg-white/50 text-transparent scale-90 group-hover:scale-100 group-hover:bg-blue-100 group-hover:text-blue-400"}`,children:b.jsx(na,{size:18,strokeWidth:3})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:`font-bold text-lg transition-all tracking-tight ${d.checked?"text-gray-500 line-through decoration-2 decoration-blue-300":"text-gray-800"}`,children:d.item}),b.jsx("span",{className:"block text-xs font-medium text-gray-500 mt-1 bg-white/40 w-fit px-2 py-0.5 rounded-md",children:d.category})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:g=>{g.stopPropagation(),c("packing",d)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-blue-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Im,{size:18})}),b.jsx("button",{onClick:g=>{g.stopPropagation(),l(d.id)},className:"w-10 h-10 flex items-center justify-center rounded-full text-gray-400 hover:text-red-500 hover:bg-white/50 transition-all active:scale-90",children:b.jsx(Dm,{size:18})})]})]},d.id))})]})]}),MN=({activeTab:s,setActiveTab:e})=>b.jsx("div",{className:"fixed bottom-8 left-0 right-0 z-50 flex justify-center pb-safe pointer-events-none",children:b.jsxs("div",{className:"bg-white/20 backdrop-blur-xl border border-white/30 rounded-[2.5rem] px-2 py-2 shadow-[0_8px_32px_0_rgba(0,0,0,0.2)] flex items-center gap-2 pointer-events-auto transition-transform hover:scale-105 ring-1 ring-white/40",children:[b.jsx("button",{onClick:()=>e("home"),className:`p-4 rounded-full transition-all duration-300 ${s==="home"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(dw,{size:24,strokeWidth:s==="home"?3:2})}),b.jsx("button",{onClick:()=>e("itinerary"),className:`p-4 rounded-full transition-all duration-300 ${s==="itinerary"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(Nw,{size:24,strokeWidth:s==="itinerary"?3:2})}),b.jsx("button",{onClick:()=>e("shopping"),className:`p-4 rounded-full transition-all duration-300 ${s==="shopping"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx($l,{size:24,strokeWidth:s==="shopping"?3:2})}),b.jsx("button",{onClick:()=>e("packing"),className:`p-4 rounded-full transition-all duration-300 ${s==="packing"?"bg-white text-blue-600 shadow-lg scale-110":"text-white hover:bg-white/10"}`,children:b.jsx(na,{size:24,strokeWidth:s==="packing"?3:2})})]})});function VN(){const[s,e]=_e.useState("home"),[i,r]=_e.useState(null),[l,c]=_e.useState(!1),[d]=_e.useState("travel-companion-v1"),[g,_]=_e.useState([]),[p,T]=_e.useState(null),[S,N]=_e.useState(!1),[z,Z]=_e.useState(!1),[ee,J]=_e.useState(!1),[he,oe]=_e.useState(!1),[ue,De]=_e.useState(!1),[Ge,Oe]=_e.useState(!1),[I,A]=_e.useState(null),[R,M]=_e.useState(!1),[D,j]=_e.useState(null),[x,nt]=_e.useState({show:!1,message:"",type:"success"}),yt=_e.useRef({}),H=(ie,ge="success")=>{nt({show:!0,message:ie,type:ge})};_e.useEffect(()=>{if(!kl)return;const ie=aI(kl,ge=>{r(ge),ge&&H(` ${ge.email}`),c(!0)});return()=>ie()},[]);const te=async(ie,ge)=>{N(!0);try{await iI(kl,ie,ge)}catch(pe){console.error(pe);let Te="";pe.code==="auth/invalid-credential"&&(Te=""),pe.code==="auth/user-not-found"&&(Te=""),pe.code==="auth/wrong-password"&&(Te=""),H(Te,"error")}finally{N(!1)}},fe=async()=>{confirm("")&&(await oI(kl),_([]),T(null),H(""))};_e.useEffect(()=>{if(!i||!ri)return;const ie=sv(ri,"users",i.uid,"trips"),ge=sC(ie,pe=>{const Te=pe.docs.map(ut=>({id:ut.id,...ut.data()}));Te.sort((ut,Je)=>{const je=new Date(ut.date).getTime()||0,bt=new Date(Je.date).getTime()||0;return je-bt}),_(Te),Te.length>0?T(ut=>ut&&Te.find(Je=>Je.id===ut)?ut:Te[0].id):T(null)},pe=>{console.error("Firestore Error:",pe),H("","error")});return()=>ge()},[i]);const we=g.find(ie=>ie.id===p)||null,Me=async ie=>{if(!ri||!i||!p)return;const ge=Hc(ri,"users",i.uid,"trips",p),pe=ie(we);try{await uv(ge,pe)}catch(Te){console.error("Save failed",Te),H("","error")}},k=async ie=>{if(!(!ri||!i))try{await nC(Hc(ri,"users",i.uid,"trips",ie)),H("")}catch(ge){console.error("Delete failed",ge),H("","error")}},Q=ie=>{if(ie)try{const{id:ge,...pe}=ie,Te=JSON.stringify(pe,null,2),ut=new Blob([Te],{type:"application/json"}),Je=URL.createObjectURL(ut),je=document.createElement("a");je.href=Je;const bt=(ie.destination||"trip").replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_");je.download=`${bt}_export.json`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(Je),H("")}catch(ge){console.error("Export failed",ge),H("","error")}},ne=async(ie,ge)=>{if(!ri||!i)return;N(!0);const pe=new Promise(Te=>setTimeout(()=>Te("timeout"),8e3));try{let Te=[];if(ge==="url"){const je=await fetch(ie);if(!je.ok)throw new Error("Network error");const bt=await je.json();Te=Array.isArray(bt)?bt:[bt]}else{const je=JSON.parse(ie);Te=Array.isArray(je)?je:[je]}const ut=sv(ri,"users",i.uid,"trips"),Je=Promise.all(Te.map(async je=>{const{id:bt,...ct}=je,Qi={...bN,...ct};await iC(ut,Qi)}));await Promise.race([Je,pe]),De(!1),Oe(!1),H(` ${Te.length} `)}catch(Te){console.error("Import failed",Te),H("","error")}finally{N(!1)}},se=ie=>{j(ie),M(!0)},Ee=async(ie,ge)=>{if(!(!ri||!i))try{const pe=Hc(ri,"users",i.uid,"trips",ie);await uv(pe,ge),M(!1),j(null),H("")}catch(pe){console.error("Save failed",pe),H("","error")}},Ae=ie=>Me(ge=>({...ge,packingList:(ge.packingList||[]).map(pe=>pe.id===ie?{...pe,checked:!pe.checked}:pe)})),Ve=ie=>Me(ge=>({...ge,packingList:(ge.packingList||[]).filter(pe=>pe.id!==ie)})),St=(ie,ge)=>{ie.trim()&&(Me(pe=>({...pe,packingList:[...pe.packingList||[],{id:Date.now(),item:ie,checked:!1,category:ge||""}]})),oe(!1),H(""))},ot=ie=>Me(ge=>({...ge,shoppingList:(ge.shoppingList||[]).map(pe=>pe.id===ie?{...pe,checked:!pe.checked}:pe)})),ci=ie=>Me(ge=>({...ge,shoppingList:(ge.shoppingList||[]).filter(pe=>pe.id!==ie)})),bs=(ie,ge,pe)=>{ie.trim()&&(Me(Te=>({...Te,shoppingList:[...Te.shoppingList||[],{id:Date.now(),item:ie,category:ge||"",note:pe,checked:!1}]})),J(!1),H(""))},hi=(ie,ge)=>A({type:ie,data:{...ge}}),Es=ie=>{if(!I)return;const{type:ge}=I,pe=ge==="shopping"?"shoppingList":"packingList";Me(Te=>({...Te,[pe]:(Te[pe]||[]).map(ut=>ut.id===ie.id?ie:ut)})),A(null),H("")},Dn=ie=>{if(!ie||ie==="----/--/--")return 0;const ge=new Date,Te=new Date(ie)-ge;return Math.ceil(Te/(1e3*60*60*24))>0?Math.ceil(Te/(1e3*60*60*24)):0},Ts=ie=>{if(!ie||!ie.days)return null;const ge=new Date;let pe=null,Te=1/0;return ie.days.forEach(ut=>{const Je=new Date(ie.date);Je.setDate(Je.getDate()+(ut.day-1)),ge.toDateString()===Je.toDateString()&&ut.activities.forEach(je=>{const[bt,ct]=je.time.split(":"),Qi=new Date(Je);Qi.setHours(bt,ct,0,0);const di=ge-Qi;di>=0&&di<Te&&(Te=di,pe=je.id)})}),pe};_e.useEffect(()=>{if(s==="itinerary"&&we&&we.days){const ie=Ts(we);ie&&yt.current[ie]&&setTimeout(()=>{yt.current[ie].scrollIntoView({behavior:"smooth",block:"center"})},300)}},[s,we]);const On=_e.useRef(null),Fi=_e.useRef(null),[fi,_t]=_e.useState(0),[vt,Qn]=_e.useState(!1),Gi=["home","itinerary","shopping","packing"],kn=Gi.indexOf(s),Kt=80,Yi=ie=>{z||ee||he||ue||Ge||I||R||(On.current=ie.targetTouches[0].clientX,Fi.current=ie.targetTouches[0].clientY,Qn(!0))},Tr=ie=>{if(!vt||On.current===null)return;const ge=ie.targetTouches[0].clientX,pe=ie.targetTouches[0].clientY,Te=ge-On.current,ut=pe-Fi.current;if(Math.abs(ut)>Math.abs(Te))return;let Je=Te;kn===0&&Te>0&&(Je=Te*.3),kn===Gi.length-1&&Te<0&&(Je=Te*.3),_t(Je)},wr=()=>{vt&&(Math.abs(fi)>Kt&&(fi>0&&kn>0?e(Gi[kn-1]):fi<0&&kn<Gi.length-1&&e(Gi[kn+1])),Qn(!1),_t(0),On.current=null,Fi.current=null)};return l?i?b.jsxs("div",{className:"h-[100dvh] w-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden flex flex-col fixed inset-0",children:[b.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute top-[20%] right-[-20%] w-[60vw] h-[60vw] bg-purple-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] left-[20%] w-[80vw] h-[80vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-4000 mix-blend-multiply"}),b.jsx("div",{className:"absolute inset-0 bg-white/20 backdrop-blur-[1px]"})]}),b.jsx("style",{children:"body { -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; } .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); } .mask-linear-fade { mask-image: linear-gradient(to bottom, black 0%, transparent 100%); } @keyframes blob { 0% { transform: translate(0px, 0px) scale(1); } 33% { transform: translate(30px, -50px) scale(1.1); } 66% { transform: translate(-20px, 20px) scale(0.9); } 100% { transform: translate(0px, 0px) scale(1); } } .animate-blob { animation: blob 10s infinite; } .animate-fade-in-down { animation: fadeInDown 0.5s ease-out; } @keyframes fadeInDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } } .animation-delay-2000 { animation-delay: 2s; } .animation-delay-4000 { animation-delay: 4s; } .scrollbar-hide::-webkit-scrollbar { display: none; } .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }"}),b.jsxs("div",{className:"relative z-10 flex-1 w-full overflow-hidden",onTouchStart:Yi,onTouchMove:Tr,onTouchEnd:wr,children:[x.show&&b.jsx(Dv,{message:x.message,type:x.type,onClose:()=>nt({...x,show:!1})}),z&&b.jsx(AN,{onClose:()=>Z(!1),flights:we?we.flights:[]}),ee&&b.jsx(xN,{onClose:()=>J(!1),onAdd:bs}),he&&b.jsx(RN,{onClose:()=>oe(!1),onAdd:St}),ue&&b.jsx(SN,{onClose:()=>De(!1),onImport:ne,isLoading:S}),I&&b.jsx(CN,{editingState:I,onClose:()=>A(null),onSave:Es}),R&&D&&b.jsx(TN,{trip:D,onClose:()=>M(!1),onSave:Ee}),Ge&&b.jsx(wN,{trips:g,activeTripId:p,onSelectTrip:ie=>{T(ie),Oe(!1),e("home")},onDeleteTrip:ie=>{confirm("")&&k(ie)},onExportTrip:Q,onEditTrip:se,onOpenImport:()=>De(!0),onClose:()=>Oe(!1),userEmail:i.email,onLogout:fe}),b.jsxs("div",{className:"flex w-[400vw] h-full",style:{transform:`translateX(calc(-${kn*100}vw + ${fi}px))`,transition:vt?"none":"transform 0.3s ease-out"},children:[b.jsx(NN,{trips:g,currentTrip:we,calculateDaysLeft:Dn,setActiveTab:e,setShowFlightModal:Z,toggleShoppingItem:ot,deleteShoppingItem:ci,togglePackingItem:Ae,deletePackingItem:Ve,openEditModal:hi,setShowTripListModal:Oe,onEditCurrentTrip:()=>se(we)}),b.jsx(DN,{currentTrip:we,setActiveTab:e,setShowFlightModal:Z,getCurrentActivityId:Ts,activityRefs:yt}),b.jsx(ON,{currentTrip:we,setActiveTab:e,setShowAddShoppingModal:J,toggleShoppingItem:ot,deleteShoppingItem:ci,openEditModal:hi}),b.jsx(kN,{currentTrip:we,setActiveTab:e,setShowAddPackingModal:oe,togglePackingItem:Ae,deletePackingItem:Ve,openEditModal:hi})]}),b.jsx(MN,{activeTab:s,setActiveTab:e})]})]}):b.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] relative overflow-hidden",children:[x.show&&b.jsx(Dv,{message:x.message,type:x.type,onClose:()=>nt({...x,show:!1})}),b.jsx(IN,{onLogin:te,isLoading:S})]}):b.jsxs("div",{className:"min-h-screen font-sans text-gray-900 select-none bg-[#E0E5EC] flex items-center justify-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[70vw] h-[70vw] bg-blue-300/40 rounded-full blur-[100px] animate-blob mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[70vw] h-[70vw] bg-pink-300/40 rounded-full blur-[100px] animate-blob animation-delay-2000 mix-blend-multiply"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[b.jsx(gh,{className:"animate-spin text-gray-600 mb-4",size:32}),b.jsx("p",{className:"text-gray-500 text-sm font-bold",children:"..."})]})]})}UT.createRoot(document.getElementById("root")).render(b.jsx(_e.StrictMode,{children:b.jsx(VN,{})}));
